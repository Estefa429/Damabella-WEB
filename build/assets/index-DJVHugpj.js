(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qv={exports:{}},ch={},Uv={exports:{}},Sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lj;function N8(){if(Lj)return Sr;Lj=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function y(re){return re===null||typeof re!="object"?null:(re=h&&re[h]||re["@@iterator"],typeof re=="function"?re:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,x={};function w(re,T,J){this.props=re,this.context=T,this.refs=x,this.updater=J||g}w.prototype.isReactComponent={},w.prototype.setState=function(re,T){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,T,"setState")},w.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function S(){}S.prototype=w.prototype;function C(re,T,J){this.props=re,this.context=T,this.refs=x,this.updater=J||g}var P=C.prototype=new S;P.constructor=C,j(P,w.prototype),P.isPureReactComponent=!0;var R=Array.isArray,L=Object.prototype.hasOwnProperty,q={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function B(re,T,J){var Y,H={},me=null,pe=null;if(T!=null)for(Y in T.ref!==void 0&&(pe=T.ref),T.key!==void 0&&(me=""+T.key),T)L.call(T,Y)&&!_.hasOwnProperty(Y)&&(H[Y]=T[Y]);var be=arguments.length-2;if(be===1)H.children=J;else if(1<be){for(var ge=Array(be),Te=0;Te<be;Te++)ge[Te]=arguments[Te+2];H.children=ge}if(re&&re.defaultProps)for(Y in be=re.defaultProps,be)H[Y]===void 0&&(H[Y]=be[Y]);return{$$typeof:e,type:re,key:me,ref:pe,props:H,_owner:q.current}}function V(re,T){return{$$typeof:e,type:re.type,key:T,ref:re.ref,props:re.props,_owner:re._owner}}function K(re){return typeof re=="object"&&re!==null&&re.$$typeof===e}function E(re){var T={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(J){return T[J]})}var $=/\/+/g;function D(re,T){return typeof re=="object"&&re!==null&&re.key!=null?E(""+re.key):T.toString(36)}function I(re,T,J,Y,H){var me=typeof re;(me==="undefined"||me==="boolean")&&(re=null);var pe=!1;if(re===null)pe=!0;else switch(me){case"string":case"number":pe=!0;break;case"object":switch(re.$$typeof){case e:case t:pe=!0}}if(pe)return pe=re,H=H(pe),re=Y===""?"."+D(pe,0):Y,R(H)?(J="",re!=null&&(J=re.replace($,"$&/")+"/"),I(H,T,J,"",function(Te){return Te})):H!=null&&(K(H)&&(H=V(H,J+(!H.key||pe&&pe.key===H.key?"":(""+H.key).replace($,"$&/")+"/")+re)),T.push(H)),1;if(pe=0,Y=Y===""?".":Y+":",R(re))for(var be=0;be<re.length;be++){me=re[be];var ge=Y+D(me,be);pe+=I(me,T,J,ge,H)}else if(ge=y(re),typeof ge=="function")for(re=ge.call(re),be=0;!(me=re.next()).done;)me=me.value,ge=Y+D(me,be++),pe+=I(me,T,J,ge,H);else if(me==="object")throw T=String(re),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return pe}function z(re,T,J){if(re==null)return re;var Y=[],H=0;return I(re,Y,"","",function(me){return T.call(J,me,H++)}),Y}function W(re){if(re._status===-1){var T=re._result;T=T(),T.then(function(J){(re._status===0||re._status===-1)&&(re._status=1,re._result=J)},function(J){(re._status===0||re._status===-1)&&(re._status=2,re._result=J)}),re._status===-1&&(re._status=0,re._result=T)}if(re._status===1)return re._result.default;throw re._result}var ee={current:null},G={transition:null},ie={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:G,ReactCurrentOwner:q};function te(){throw Error("act(...) is not supported in production builds of React.")}return Sr.Children={map:z,forEach:function(re,T,J){z(re,function(){T.apply(this,arguments)},J)},count:function(re){var T=0;return z(re,function(){T++}),T},toArray:function(re){return z(re,function(T){return T})||[]},only:function(re){if(!K(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},Sr.Component=w,Sr.Fragment=r,Sr.Profiler=a,Sr.PureComponent=C,Sr.StrictMode=n,Sr.Suspense=d,Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Sr.act=te,Sr.cloneElement=function(re,T,J){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var Y=j({},re.props),H=re.key,me=re.ref,pe=re._owner;if(T!=null){if(T.ref!==void 0&&(me=T.ref,pe=q.current),T.key!==void 0&&(H=""+T.key),re.type&&re.type.defaultProps)var be=re.type.defaultProps;for(ge in T)L.call(T,ge)&&!_.hasOwnProperty(ge)&&(Y[ge]=T[ge]===void 0&&be!==void 0?be[ge]:T[ge])}var ge=arguments.length-2;if(ge===1)Y.children=J;else if(1<ge){be=Array(ge);for(var Te=0;Te<ge;Te++)be[Te]=arguments[Te+2];Y.children=be}return{$$typeof:e,type:re.type,key:H,ref:me,props:Y,_owner:pe}},Sr.createContext=function(re){return re={$$typeof:s,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:i,_context:re},re.Consumer=re},Sr.createElement=B,Sr.createFactory=function(re){var T=B.bind(null,re);return T.type=re,T},Sr.createRef=function(){return{current:null}},Sr.forwardRef=function(re){return{$$typeof:c,render:re}},Sr.isValidElement=K,Sr.lazy=function(re){return{$$typeof:p,_payload:{_status:-1,_result:re},_init:W}},Sr.memo=function(re,T){return{$$typeof:f,type:re,compare:T===void 0?null:T}},Sr.startTransition=function(re){var T=G.transition;G.transition={};try{re()}finally{G.transition=T}},Sr.unstable_act=te,Sr.useCallback=function(re,T){return ee.current.useCallback(re,T)},Sr.useContext=function(re){return ee.current.useContext(re)},Sr.useDebugValue=function(){},Sr.useDeferredValue=function(re){return ee.current.useDeferredValue(re)},Sr.useEffect=function(re,T){return ee.current.useEffect(re,T)},Sr.useId=function(){return ee.current.useId()},Sr.useImperativeHandle=function(re,T,J){return ee.current.useImperativeHandle(re,T,J)},Sr.useInsertionEffect=function(re,T){return ee.current.useInsertionEffect(re,T)},Sr.useLayoutEffect=function(re,T){return ee.current.useLayoutEffect(re,T)},Sr.useMemo=function(re,T){return ee.current.useMemo(re,T)},Sr.useReducer=function(re,T,J){return ee.current.useReducer(re,T,J)},Sr.useRef=function(re){return ee.current.useRef(re)},Sr.useState=function(re){return ee.current.useState(re)},Sr.useSyncExternalStore=function(re,T,J){return ee.current.useSyncExternalStore(re,T,J)},Sr.useTransition=function(){return ee.current.useTransition()},Sr.version="18.3.1",Sr}var Tj;function f5(){return Tj||(Tj=1,Uv.exports=N8()),Uv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dj;function j8(){if(Dj)return ch;Dj=1;var e=f5(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,f){var p,h={},y=null,g=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(g=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(h[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:t,type:c,key:y,ref:g,props:h,_owner:a.current}}return ch.Fragment=r,ch.jsx=s,ch.jsxs=s,ch}var Mj;function S8(){return Mj||(Mj=1,qv.exports=j8()),qv.exports}var o=S8(),xm={},Vv={exports:{}},xo={},Wv={exports:{}},Hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function C8(){return Rj||(Rj=1,(function(e){function t(G,ie){var te=G.length;G.push(ie);e:for(;0<te;){var re=te-1>>>1,T=G[re];if(0<a(T,ie))G[re]=ie,G[te]=T,te=re;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ie=G[0],te=G.pop();if(te!==ie){G[0]=te;e:for(var re=0,T=G.length,J=T>>>1;re<J;){var Y=2*(re+1)-1,H=G[Y],me=Y+1,pe=G[me];if(0>a(H,te))me<T&&0>a(pe,H)?(G[re]=pe,G[me]=te,re=me):(G[re]=H,G[Y]=te,re=Y);else if(me<T&&0>a(pe,te))G[re]=pe,G[me]=te,re=me;else break e}}return ie}function a(G,ie){var te=G.sortIndex-ie.sortIndex;return te!==0?te:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],p=1,h=null,y=3,g=!1,j=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(G){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=G)n(f),ie.sortIndex=ie.expirationTime,t(d,ie);else break;ie=r(f)}}function R(G){if(x=!1,P(G),!j)if(r(d)!==null)j=!0,W(L);else{var ie=r(f);ie!==null&&ee(R,ie.startTime-G)}}function L(G,ie){j=!1,x&&(x=!1,S(B),B=-1),g=!0;var te=y;try{for(P(ie),h=r(d);h!==null&&(!(h.expirationTime>ie)||G&&!E());){var re=h.callback;if(typeof re=="function"){h.callback=null,y=h.priorityLevel;var T=re(h.expirationTime<=ie);ie=e.unstable_now(),typeof T=="function"?h.callback=T:h===r(d)&&n(d),P(ie)}else n(d);h=r(d)}if(h!==null)var J=!0;else{var Y=r(f);Y!==null&&ee(R,Y.startTime-ie),J=!1}return J}finally{h=null,y=te,g=!1}}var q=!1,_=null,B=-1,V=5,K=-1;function E(){return!(e.unstable_now()-K<V)}function $(){if(_!==null){var G=e.unstable_now();K=G;var ie=!0;try{ie=_(!0,G)}finally{ie?D():(q=!1,_=null)}}else q=!1}var D;if(typeof C=="function")D=function(){C($)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=$,D=function(){z.postMessage(null)}}else D=function(){w($,0)};function W(G){_=G,q||(q=!0,D())}function ee(G,ie){B=w(function(){G(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){j||g||(j=!0,W(L))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var te=y;y=ie;try{return G()}finally{y=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=y;y=G;try{return ie()}finally{y=te}},e.unstable_scheduleCallback=function(G,ie,te){var re=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?re+te:re):te=re,G){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=te+T,G={id:p++,callback:ie,priorityLevel:G,startTime:te,expirationTime:T,sortIndex:-1},te>re?(G.sortIndex=te,t(f,G),r(d)===null&&G===r(f)&&(x?(S(B),B=-1):x=!0,ee(R,te-re))):(G.sortIndex=T,t(d,G),j||g||(j=!0,W(L))),G},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(G){var ie=y;return function(){var te=y;y=ie;try{return G.apply(this,arguments)}finally{y=te}}}})(Hv)),Hv}var $j;function A8(){return $j||($j=1,Wv.exports=C8()),Wv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fj;function P8(){if(Fj)return xo;Fj=1;var e=f5(),t=A8();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(a[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function y(l){return d.call(h,l)?!0:d.call(p,l)?!1:f.test(l)?h[l]=!0:(p[l]=!0,!1)}function g(l,u,m,b){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function j(l,u,m,b){if(u===null||typeof u>"u"||g(l,u,m,b))return!0;if(b)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(l,u,m,b,O,F,ae){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=O,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=F,this.removeEmptyString=ae}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){w[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];w[u]=new x(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){w[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){w[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){w[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){w[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){w[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){w[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){w[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(S,C);w[u]=new x(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(S,C);w[u]=new x(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(S,C);w[u]=new x(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){w[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),w.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){w[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function P(l,u,m,b){var O=w.hasOwnProperty(u)?w[u]:null;(O!==null?O.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(j(u,m,O,b)&&(m=null),b||O===null?y(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):O.mustUseProperty?l[O.propertyName]=m===null?O.type===3?!1:"":m:(u=O.attributeName,b=O.attributeNamespace,m===null?l.removeAttribute(u):(O=O.type,m=O===3||O===4&&m===!0?"":""+m,b?l.setAttributeNS(b,u,m):l.setAttribute(u,m))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),q=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),E=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),G=Symbol.iterator;function ie(l){return l===null||typeof l!="object"?null:(l=G&&l[G]||l["@@iterator"],typeof l=="function"?l:null)}var te=Object.assign,re;function T(l){if(re===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);re=u&&u[1]||""}return`
`+re+l}var J=!1;function Y(l,u){if(!l||J)return"";J=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ke){var b=Ke}Reflect.construct(l,[],u)}else{try{u.call()}catch(Ke){b=Ke}l.call(u.prototype)}else{try{throw Error()}catch(Ke){b=Ke}l()}}catch(Ke){if(Ke&&b&&typeof Ke.stack=="string"){for(var O=Ke.stack.split(`
`),F=b.stack.split(`
`),ae=O.length-1,Se=F.length-1;1<=ae&&0<=Se&&O[ae]!==F[Se];)Se--;for(;1<=ae&&0<=Se;ae--,Se--)if(O[ae]!==F[Se]){if(ae!==1||Se!==1)do if(ae--,Se--,0>Se||O[ae]!==F[Se]){var ke=`
`+O[ae].replace(" at new "," at ");return l.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",l.displayName)),ke}while(1<=ae&&0<=Se);break}}}finally{J=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?T(l):""}function H(l){switch(l.tag){case 5:return T(l.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return l=Y(l.type,!1),l;case 11:return l=Y(l.type.render,!1),l;case 1:return l=Y(l.type,!0),l;default:return""}}function me(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case _:return"Fragment";case q:return"Portal";case V:return"Profiler";case B:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case E:return(l.displayName||"Context")+".Consumer";case K:return(l._context.displayName||"Context")+".Provider";case $:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case z:return u=l.displayName||null,u!==null?u:me(l.type)||"Memo";case W:u=l._payload,l=l._init;try{return me(l(u))}catch{}}return null}function pe(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(u);case 8:return u===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function be(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ge(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Te(l){var u=ge(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var O=m.get,F=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return O.call(this)},set:function(ae){b=""+ae,F.call(this,ae)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function(ae){b=""+ae},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function ze(l){l._valueTracker||(l._valueTracker=Te(l))}function ue(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),b="";return l&&(b=ge(l)?l.checked?"true":"false":l.value),l=b,l!==m?(u.setValue(l),!0):!1}function Fe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function De(l,u){var m=u.checked;return te({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Ne(l,u){var m=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;m=be(u.value!=null?u.value:m),l._wrapperState={initialChecked:b,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function se(l,u){u=u.checked,u!=null&&P(l,"checked",u,!1)}function ct(l,u){se(l,u);var m=be(u.value),b=u.type;if(m!=null)b==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Ce(l,u.type,m):u.hasOwnProperty("defaultValue")&&Ce(l,u.type,be(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Q(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function Ce(l,u,m){(u!=="number"||Fe(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var he=Array.isArray;function je(l,u,m,b){if(l=l.options,u){u={};for(var O=0;O<m.length;O++)u["$"+m[O]]=!0;for(m=0;m<l.length;m++)O=u.hasOwnProperty("$"+l[m].value),l[m].selected!==O&&(l[m].selected=O),O&&b&&(l[m].defaultSelected=!0)}else{for(m=""+be(m),u=null,O=0;O<l.length;O++){if(l[O].value===m){l[O].selected=!0,b&&(l[O].defaultSelected=!0);return}u!==null||l[O].disabled||(u=l[O])}u!==null&&(u.selected=!0)}}function _e(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function we(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(he(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:be(m)}}function le(l,u){var m=be(u.value),b=be(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),b!=null&&(l.defaultValue=""+b)}function $e(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function at(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?at(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ct,Nt=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,b,O){MSApp.execUnsafeLocalFunction(function(){return l(u,m,b,O)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Ct=Ct||document.createElement("div"),Ct.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Ct.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function At(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Or=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(l){Or.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),pt[u]=pt[l]})});function Yt(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||pt.hasOwnProperty(l)&&pt[l]?(""+u).trim():u+"px"}function Lr(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var b=m.indexOf("--")===0,O=Yt(m,u[m],b);m==="float"&&(m="cssFloat"),b?l.setProperty(m,O):l[m]=O}}var nr=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jr(l,u){if(u){if(nr[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function rn(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pr=null;function Ae(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var He=null,Ye=null,it=null;function vt(l){if(l=nc(l)){if(typeof He!="function")throw Error(r(280));var u=l.stateNode;u&&(u=su(u),He(l.stateNode,l.type,u))}}function xt(l){Ye?it?it.push(l):it=[l]:Ye=l}function bt(){if(Ye){var l=Ye,u=it;if(it=Ye=null,vt(l),u)for(l=0;l<u.length;l++)vt(u[l])}}function wr(l,u){return l(u)}function ar(){}var Xt=!1;function vr(l,u,m){if(Xt)return l(u,m);Xt=!0;try{return wr(l,u,m)}finally{Xt=!1,(Ye!==null||it!==null)&&(ar(),bt())}}function Et(l,u){var m=l.stateNode;if(m===null)return null;var b=su(m);if(b===null)return null;m=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var Vr=!1;if(c)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Vr=!1}function Ht(l,u,m,b,O,F,ae,Se,ke){var Ke=Array.prototype.slice.call(arguments,3);try{u.apply(m,Ke)}catch(ht){this.onError(ht)}}var Dt=!1,de=null,Je=!1,ut=null,Rt={onError:function(l){Dt=!0,de=l}};function ye(l,u,m,b,O,F,ae,Se,ke){Dt=!1,de=null,Ht.apply(Rt,arguments)}function Ge(l,u,m,b,O,F,ae,Se,ke){if(ye.apply(this,arguments),Dt){if(Dt){var Ke=de;Dt=!1,de=null}else throw Error(r(198));Je||(Je=!0,ut=Ke)}}function Ze(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function st(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Ot(l){if(Ze(l)!==l)throw Error(r(188))}function kt(l){var u=l.alternate;if(!u){if(u=Ze(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,b=u;;){var O=m.return;if(O===null)break;var F=O.alternate;if(F===null){if(b=O.return,b!==null){m=b;continue}break}if(O.child===F.child){for(F=O.child;F;){if(F===m)return Ot(O),l;if(F===b)return Ot(O),u;F=F.sibling}throw Error(r(188))}if(m.return!==b.return)m=O,b=F;else{for(var ae=!1,Se=O.child;Se;){if(Se===m){ae=!0,m=O,b=F;break}if(Se===b){ae=!0,b=O,m=F;break}Se=Se.sibling}if(!ae){for(Se=F.child;Se;){if(Se===m){ae=!0,m=F,b=O;break}if(Se===b){ae=!0,b=F,m=O;break}Se=Se.sibling}if(!ae)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function gt(l){return l=kt(l),l!==null?$t(l):null}function $t(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=$t(l);if(u!==null)return u;l=l.sibling}return null}var dr=t.unstable_scheduleCallback,Rr=t.unstable_cancelCallback,xn=t.unstable_shouldYield,Gn=t.unstable_requestPaint,Cr=t.unstable_now,Ho=t.unstable_getCurrentPriorityLevel,yr=t.unstable_ImmediatePriority,bn=t.unstable_UserBlockingPriority,Co=t.unstable_NormalPriority,Ts=t.unstable_LowPriority,Xu=t.unstable_IdlePriority,Ds=null,oo=null;function El(l){if(oo&&typeof oo.onCommitFiberRoot=="function")try{oo.onCommitFiberRoot(Ds,l,void 0,(l.current.flags&128)===128)}catch{}}var Wa=Math.clz32?Math.clz32:Qu,Cn=Math.log,Zu=Math.LN2;function Qu(l){return l>>>=0,l===0?32:31-(Cn(l)/Zu|0)|0}var Ms=64,es=4194304;function Rs(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Aa(l,u){var m=l.pendingLanes;if(m===0)return 0;var b=0,O=l.suspendedLanes,F=l.pingedLanes,ae=m&268435455;if(ae!==0){var Se=ae&~O;Se!==0?b=Rs(Se):(F&=ae,F!==0&&(b=Rs(F)))}else ae=m&~O,ae!==0?b=Rs(ae):F!==0&&(b=Rs(F));if(b===0)return 0;if(u!==0&&u!==b&&(u&O)===0&&(O=b&-b,F=u&-u,O>=F||O===16&&(F&4194240)!==0))return u;if((b&4)!==0&&(b|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)m=31-Wa(u),O=1<<m,b|=l[m],u&=~O;return b}function Ol(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pa(l,u){for(var m=l.suspendedLanes,b=l.pingedLanes,O=l.expirationTimes,F=l.pendingLanes;0<F;){var ae=31-Wa(F),Se=1<<ae,ke=O[ae];ke===-1?((Se&m)===0||(Se&b)!==0)&&(O[ae]=Ol(Se,u)):ke<=u&&(l.expiredLanes|=Se),F&=~Se}}function $s(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function qc(){var l=Ms;return Ms<<=1,(Ms&4194240)===0&&(Ms=64),l}function Uc(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function ts(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Wa(u),l[u]=m}function Uf(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<m;){var O=31-Wa(m),F=1<<O;u[O]=0,b[O]=-1,l[O]=-1,m&=~F}}function kl(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var b=31-Wa(m),O=1<<b;O&u|l[b]&u&&(l[b]|=u),m&=~O}}var Tr=0;function Il(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var ed,Vc,td,Go,Fs,rs=!1,zs=[],fn=null,Ko=null,Ao=null,rr=new Map,Bs=new Map,Jo=[],Yo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(l,u){switch(l){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":Ko=null;break;case"mouseover":case"mouseout":Ao=null;break;case"pointerover":case"pointerout":rr.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(u.pointerId)}}function ns(l,u,m,b,O,F){return l===null||l.nativeEvent!==F?(l={blockedOn:u,domEventName:m,eventSystemFlags:b,nativeEvent:F,targetContainers:[O]},u!==null&&(u=nc(u),u!==null&&Vc(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,O!==null&&u.indexOf(O)===-1&&u.push(O),l)}function Ll(l,u,m,b,O){switch(u){case"focusin":return fn=ns(fn,l,u,m,b,O),!0;case"dragenter":return Ko=ns(Ko,l,u,m,b,O),!0;case"mouseover":return Ao=ns(Ao,l,u,m,b,O),!0;case"pointerover":var F=O.pointerId;return rr.set(F,ns(rr.get(F)||null,l,u,m,b,O)),!0;case"gotpointercapture":return F=O.pointerId,Bs.set(F,ns(Bs.get(F)||null,l,u,m,b,O)),!0}return!1}function Tl(l){var u=ps(l.target);if(u!==null){var m=Ze(u);if(m!==null){if(u=m.tag,u===13){if(u=st(m),u!==null){l.blockedOn=u,Fs(l.priority,function(){td(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Dl(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=Rl(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var b=new m.constructor(m.type,m);pr=b,m.target.dispatchEvent(b),pr=null}else return u=nc(m),u!==null&&Vc(u),l.blockedOn=m,!1;u.shift()}return!0}function rd(l,u,m){Dl(l)&&m.delete(u)}function Vf(){rs=!1,fn!==null&&Dl(fn)&&(fn=null),Ko!==null&&Dl(Ko)&&(Ko=null),Ao!==null&&Dl(Ao)&&(Ao=null),rr.forEach(rd),Bs.forEach(rd)}function xi(l,u){l.blockedOn===u&&(l.blockedOn=null,rs||(rs=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Vf)))}function Po(l){function u(O){return xi(O,l)}if(0<zs.length){xi(zs[0],l);for(var m=1;m<zs.length;m++){var b=zs[m];b.blockedOn===l&&(b.blockedOn=null)}}for(fn!==null&&xi(fn,l),Ko!==null&&xi(Ko,l),Ao!==null&&xi(Ao,l),rr.forEach(u),Bs.forEach(u),m=0;m<Jo.length;m++)b=Jo[m],b.blockedOn===l&&(b.blockedOn=null);for(;0<Jo.length&&(m=Jo[0],m.blockedOn===null);)Tl(m),m.blockedOn===null&&Jo.shift()}var Ha=R.ReactCurrentBatchConfig,Ml=!0;function qs(l,u,m,b){var O=Tr,F=Ha.transition;Ha.transition=null;try{Tr=1,as(l,u,m,b)}finally{Tr=O,Ha.transition=F}}function Hc(l,u,m,b){var O=Tr,F=Ha.transition;Ha.transition=null;try{Tr=4,as(l,u,m,b)}finally{Tr=O,Ha.transition=F}}function as(l,u,m,b){if(Ml){var O=Rl(l,u,m,b);if(O===null)au(l,u,b,Us,m),Wc(l,b);else if(Ll(O,l,u,m,b))b.stopPropagation();else if(Wc(l,b),u&4&&-1<Yo.indexOf(l)){for(;O!==null;){var F=nc(O);if(F!==null&&ed(F),F=Rl(l,u,m,b),F===null&&au(l,u,b,Us,m),F===O)break;O=F}O!==null&&b.stopPropagation()}else au(l,u,b,null,m)}}var Us=null;function Rl(l,u,m,b){if(Us=null,l=Ae(b),l=ps(l),l!==null)if(u=Ze(l),u===null)l=null;else if(m=u.tag,m===13){if(l=st(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Us=l,null}function Gc(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ho()){case yr:return 1;case bn:return 4;case Co:case Ts:return 16;case Xu:return 536870912;default:return 16}default:return 16}}var _o=null,io=null,so=null;function nd(){if(so)return so;var l,u=io,m=u.length,b,O="value"in _o?_o.value:_o.textContent,F=O.length;for(l=0;l<m&&u[l]===O[l];l++);var ae=m-l;for(b=1;b<=ae&&u[m-b]===O[F-b];b++);return so=O.slice(l,1<b?1-b:void 0)}function Eo(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function _a(){return!0}function $l(){return!1}function Dn(l){function u(m,b,O,F,ae){this._reactName=m,this._targetInst=O,this.type=b,this.nativeEvent=F,this.target=ae,this.currentTarget=null;for(var Se in l)l.hasOwnProperty(Se)&&(m=l[Se],this[Se]=m?m(F):F[Se]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?_a:$l,this.isPropagationStopped=$l,this}return te(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),u}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Dn(os),Vs=te({},os,{view:0,detail:0}),Kc=Dn(Vs),Ws,Fl,Xo,ss=te({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:It,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Xo&&(Xo&&l.type==="mousemove"?(Ws=l.screenX-Xo.screenX,Fl=l.screenY-Xo.screenY):Fl=Ws=0,Xo=l),Ws)},movementY:function(l){return"movementY"in l?l.movementY:Fl}}),zl=Dn(ss),ad=te({},ss,{dataTransfer:0}),Wf=Dn(ad),Bl=te({},Vs,{relatedTarget:0}),bi=Dn(Bl),Jc=te({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=Dn(Jc),Yc=te({},os,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),A=Dn(Yc),Z=te({},os,{data:0}),xe=Dn(Z),Ee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Be={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dt(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Qe[l])?!!u[l]:!1}function It(){return dt}var Kt=te({},Vs,{key:function(l){if(l.key){var u=Ee[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Eo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Be[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:It,charCode:function(l){return l.type==="keypress"?Eo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Eo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),hr=Dn(Kt),fr=te({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=Dn(fr),hn=te({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:It}),wn=Dn(hn),_n=te({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),aa=Dn(_n),Un=te({},ss,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Oo=Dn(Un),Ga=[9,13,27,32],lo=c&&"CompositionEvent"in window,cs=null;c&&"documentMode"in document&&(cs=document.documentMode);var Xc=c&&"TextEvent"in window&&!cs,ql=c&&(!lo||cs&&8<cs&&11>=cs),Hs=" ",Ul=!1;function Vl(l,u){switch(l){case"keyup":return Ga.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gs(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Nn=!1;function Wl(l,u){switch(l){case"compositionend":return Gs(u);case"keypress":return u.which!==32?null:(Ul=!0,Hs);case"textInput":return l=u.data,l===Hs&&Ul?null:l;default:return null}}function Hl(l,u){if(Nn)return l==="compositionend"||!lo&&Vl(l,u)?(l=nd(),so=io=_o=null,Nn=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ql&&u.locale!=="ko"?null:u.data;default:return null}}var Gl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kl(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Gl[l.type]:u==="textarea"}function va(l,u,m,b){xt(b),u=ld(u,"onChange"),0<u.length&&(m=new is("onChange","change",null,m,b),l.push({event:m,listeners:u}))}var Ks=null,wi=null;function od(l){ru(l,0)}function ya(l){var u=nl(l);if(ue(u))return l}function Jl(l,u){if(l==="change")return u}var Zc=!1;if(c){var Yl;if(c){var Zo="oninput"in document;if(!Zo){var us=document.createElement("div");us.setAttribute("oninput","return;"),Zo=typeof us.oninput=="function"}Yl=Zo}else Yl=!1;Zc=Yl&&(!document.documentMode||9<document.documentMode)}function xa(){Ks&&(Ks.detachEvent("onpropertychange",oa),wi=Ks=null)}function oa(l){if(l.propertyName==="value"&&ya(wi)){var u=[];va(u,wi,l,Ae(l)),vr(od,u)}}function ds(l,u,m){l==="focusin"?(xa(),Ks=u,wi=m,Ks.attachEvent("onpropertychange",oa)):l==="focusout"&&xa()}function Ni(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ya(wi)}function ji(l,u){if(l==="click")return ya(u)}function Xl(l,u){if(l==="input"||l==="change")return ya(u)}function Si(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Dr=typeof Object.is=="function"?Object.is:Si;function Ci(l,u){if(Dr(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),b=Object.keys(u);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var O=m[b];if(!d.call(u,O)||!Dr(l[O],u[O]))return!1}return!0}function ia(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ka(l,u){var m=ia(l);l=0;for(var b;m;){if(m.nodeType===3){if(b=l+m.textContent.length,l<=u&&b>=u)return{node:m,offset:u-l};l=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ia(m)}}function Js(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Js(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Qc(){for(var l=window,u=Fe();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=Fe(l.document)}return u}function Ys(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function Xs(l){var u=Qc(),m=l.focusedElem,b=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&Js(m.ownerDocument.documentElement,m)){if(b!==null&&Ys(m)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var O=m.textContent.length,F=Math.min(b.start,O);b=b.end===void 0?F:Math.min(b.end,O),!l.extend&&F>b&&(O=b,b=F,F=O),O=Ka(m,F);var ae=Ka(m,b);O&&ae&&(l.rangeCount!==1||l.anchorNode!==O.node||l.anchorOffset!==O.offset||l.focusNode!==ae.node||l.focusOffset!==ae.offset)&&(u=u.createRange(),u.setStart(O.node,O.offset),l.removeAllRanges(),F>b?(l.addRange(u),l.extend(ae.node,ae.offset)):(u.setEnd(ae.node,ae.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Zs=c&&"documentMode"in document&&11>=document.documentMode,Ja=null,Ai=null,Qo=null,Pi=!1;function _i(l,u,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Pi||Ja==null||Ja!==Fe(b)||(b=Ja,"selectionStart"in b&&Ys(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Qo&&Ci(Qo,b)||(Qo=b,b=ld(Ai,"onSelect"),0<b.length&&(u=new is("onSelect","select",null,u,m),l.push({event:u,listeners:b}),u.target=Ja)))}function fs(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var Kn={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},Ea={},Zr={};c&&(Zr=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Wr(l){if(Ea[l])return Ea[l];if(!Kn[l])return l;var u=Kn[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in Zr)return Ea[l]=u[m];return l}var jn=Wr("animationend"),En=Wr("animationiteration"),ei=Wr("animationstart"),Zl=Wr("transitionend"),Qs=new Map,eu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(l,u){Qs.set(l,u),i(u,[l])}for(var Ql=0;Ql<eu.length;Ql++){var ba=eu[Ql],co=ba.toLowerCase(),id=ba[0].toUpperCase()+ba.slice(1);ti(co,"on"+id)}ti(jn,"onAnimationEnd"),ti(En,"onAnimationIteration"),ti(ei,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Zl,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$p=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function tu(l,u,m){var b=l.type||"unknown-event";l.currentTarget=m,Ge(b,u,void 0,l),l.currentTarget=null}function ru(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var b=l[m],O=b.event;b=b.listeners;e:{var F=void 0;if(u)for(var ae=b.length-1;0<=ae;ae--){var Se=b[ae],ke=Se.instance,Ke=Se.currentTarget;if(Se=Se.listener,ke!==F&&O.isPropagationStopped())break e;tu(O,Se,Ke),F=ke}else for(ae=0;ae<b.length;ae++){if(Se=b[ae],ke=Se.instance,Ke=Se.currentTarget,Se=Se.listener,ke!==F&&O.isPropagationStopped())break e;tu(O,Se,Ke),F=ke}}}if(Je)throw l=ut,Je=!1,ut=null,l}function Qr(l,u){var m=u[ka];m===void 0&&(m=u[ka]=new Set);var b=l+"__bubble";m.has(b)||(nu(u,l,2,!1),m.add(b))}function sd(l,u,m){var b=0;u&&(b|=4),nu(m,l,b,u)}var ec="_reactListening"+Math.random().toString(36).slice(2);function el(l){if(!l[ec]){l[ec]=!0,n.forEach(function(m){m!=="selectionchange"&&($p.has(m)||sd(m,!1,l),sd(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[ec]||(u[ec]=!0,sd("selectionchange",!1,u))}}function nu(l,u,m,b){switch(Gc(u)){case 1:var O=qs;break;case 4:O=Hc;break;default:O=as}m=O.bind(null,u,m,l),O=void 0,!Vr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(O=!0),b?O!==void 0?l.addEventListener(u,m,{capture:!0,passive:O}):l.addEventListener(u,m,!0):O!==void 0?l.addEventListener(u,m,{passive:O}):l.addEventListener(u,m,!1)}function au(l,u,m,b,O){var F=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var ae=b.tag;if(ae===3||ae===4){var Se=b.stateNode.containerInfo;if(Se===O||Se.nodeType===8&&Se.parentNode===O)break;if(ae===4)for(ae=b.return;ae!==null;){var ke=ae.tag;if((ke===3||ke===4)&&(ke=ae.stateNode.containerInfo,ke===O||ke.nodeType===8&&ke.parentNode===O))return;ae=ae.return}for(;Se!==null;){if(ae=ps(Se),ae===null)return;if(ke=ae.tag,ke===5||ke===6){b=F=ae;continue e}Se=Se.parentNode}}b=b.return}vr(function(){var Ke=F,ht=Ae(m),yt=[];e:{var ft=Qs.get(l);if(ft!==void 0){var Tt=is,Bt=l;switch(l){case"keypress":if(Eo(m)===0)break e;case"keydown":case"keyup":Tt=hr;break;case"focusin":Bt="focus",Tt=bi;break;case"focusout":Bt="blur",Tt=bi;break;case"beforeblur":case"afterblur":Tt=bi;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=wn;break;case jn:case En:case ei:Tt=ls;break;case Zl:Tt=aa;break;case"scroll":Tt=Kc;break;case"wheel":Tt=Oo;break;case"copy":case"cut":case"paste":Tt=A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Ar}var Wt=(u&4)!==0,Fn=!Wt&&l==="scroll",Ve=Wt?ft!==null?ft+"Capture":null:ft;Wt=[];for(var Me=Ke,We;Me!==null;){We=Me;var jt=We.stateNode;if(We.tag===5&&jt!==null&&(We=jt,Ve!==null&&(jt=Et(Me,Ve),jt!=null&&Wt.push(ou(Me,jt,We)))),Fn)break;Me=Me.return}0<Wt.length&&(ft=new Tt(ft,Bt,null,m,ht),yt.push({event:ft,listeners:Wt}))}}if((u&7)===0){e:{if(ft=l==="mouseover"||l==="pointerover",Tt=l==="mouseout"||l==="pointerout",ft&&m!==pr&&(Bt=m.relatedTarget||m.fromElement)&&(ps(Bt)||Bt[sa]))break e;if((Tt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,Tt?(Bt=m.relatedTarget||m.toElement,Tt=Ke,Bt=Bt?ps(Bt):null,Bt!==null&&(Fn=Ze(Bt),Bt!==Fn||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(Tt=null,Bt=Ke),Tt!==Bt)){if(Wt=zl,jt="onMouseLeave",Ve="onMouseEnter",Me="mouse",(l==="pointerout"||l==="pointerover")&&(Wt=Ar,jt="onPointerLeave",Ve="onPointerEnter",Me="pointer"),Fn=Tt==null?ft:nl(Tt),We=Bt==null?ft:nl(Bt),ft=new Wt(jt,Me+"leave",Tt,m,ht),ft.target=Fn,ft.relatedTarget=We,jt=null,ps(ht)===Ke&&(Wt=new Wt(Ve,Me+"enter",Bt,m,ht),Wt.target=We,Wt.relatedTarget=Fn,jt=Wt),Fn=jt,Tt&&Bt)t:{for(Wt=Tt,Ve=Bt,Me=0,We=Wt;We;We=tl(We))Me++;for(We=0,jt=Ve;jt;jt=tl(jt))We++;for(;0<Me-We;)Wt=tl(Wt),Me--;for(;0<We-Me;)Ve=tl(Ve),We--;for(;Me--;){if(Wt===Ve||Ve!==null&&Wt===Ve.alternate)break t;Wt=tl(Wt),Ve=tl(Ve)}Wt=null}else Wt=null;Tt!==null&&Fp(yt,ft,Tt,Wt,!1),Bt!==null&&Fn!==null&&Fp(yt,Fn,Bt,Wt,!0)}}e:{if(ft=Ke?nl(Ke):window,Tt=ft.nodeName&&ft.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&ft.type==="file")var Gt=Jl;else if(Kl(ft))if(Zc)Gt=Xl;else{Gt=Ni;var Zt=ds}else(Tt=ft.nodeName)&&Tt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Gt=ji);if(Gt&&(Gt=Gt(l,Ke))){va(yt,Gt,m,ht);break e}Zt&&Zt(l,ft,Ke),l==="focusout"&&(Zt=ft._wrapperState)&&Zt.controlled&&ft.type==="number"&&Ce(ft,"number",ft.value)}switch(Zt=Ke?nl(Ke):window,l){case"focusin":(Kl(Zt)||Zt.contentEditable==="true")&&(Ja=Zt,Ai=Ke,Qo=null);break;case"focusout":Qo=Ai=Ja=null;break;case"mousedown":Pi=!0;break;case"contextmenu":case"mouseup":case"dragend":Pi=!1,_i(yt,m,ht);break;case"selectionchange":if(Zs)break;case"keydown":case"keyup":_i(yt,m,ht)}var Qt;if(lo)e:{switch(l){case"compositionstart":var cr="onCompositionStart";break e;case"compositionend":cr="onCompositionEnd";break e;case"compositionupdate":cr="onCompositionUpdate";break e}cr=void 0}else Nn?Vl(l,m)&&(cr="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(cr="onCompositionStart");cr&&(ql&&m.locale!=="ko"&&(Nn||cr!=="onCompositionStart"?cr==="onCompositionEnd"&&Nn&&(Qt=nd()):(_o=ht,io="value"in _o?_o.value:_o.textContent,Nn=!0)),Zt=ld(Ke,cr),0<Zt.length&&(cr=new xe(cr,l,null,m,ht),yt.push({event:cr,listeners:Zt}),Qt?cr.data=Qt:(Qt=Gs(m),Qt!==null&&(cr.data=Qt)))),(Qt=Xc?Wl(l,m):Hl(l,m))&&(Ke=ld(Ke,"onBeforeInput"),0<Ke.length&&(ht=new xe("onBeforeInput","beforeinput",null,m,ht),yt.push({event:ht,listeners:Ke}),ht.data=Qt))}ru(yt,u)})}function ou(l,u,m){return{instance:l,listener:u,currentTarget:m}}function ld(l,u){for(var m=u+"Capture",b=[];l!==null;){var O=l,F=O.stateNode;O.tag===5&&F!==null&&(O=F,F=Et(l,m),F!=null&&b.unshift(ou(l,F,O)),F=Et(l,u),F!=null&&b.push(ou(l,F,O))),l=l.return}return b}function tl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Fp(l,u,m,b,O){for(var F=u._reactName,ae=[];m!==null&&m!==b;){var Se=m,ke=Se.alternate,Ke=Se.stateNode;if(ke!==null&&ke===b)break;Se.tag===5&&Ke!==null&&(Se=Ke,O?(ke=Et(m,F),ke!=null&&ae.unshift(ou(m,ke,Se))):O||(ke=Et(m,F),ke!=null&&ae.push(ou(m,ke,Se)))),m=m.return}ae.length!==0&&l.push({event:u,listeners:ae})}var rv=/\r\n?/g,nv=/\u0000|\uFFFD/g;function zp(l){return(typeof l=="string"?l:""+l).replace(rv,`
`).replace(nv,"")}function cd(l,u,m){if(u=zp(u),zp(l)!==u&&m)throw Error(r(425))}function tc(){}var iu=null,rl=null;function Hf(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(l){return qp.resolve(null).then(l).catch(ov)}:Gf;function ov(l){setTimeout(function(){throw l})}function Kf(l,u){var m=u,b=0;do{var O=m.nextSibling;if(l.removeChild(m),O&&O.nodeType===8)if(m=O.data,m==="/$"){if(b===0){l.removeChild(O),Po(u);return}b--}else m!=="$"&&m!=="$?"&&m!=="$!"||b++;m=O}while(m);Po(u)}function wa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function uo(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),ri="__reactFiber$"+Oa,rc="__reactProps$"+Oa,sa="__reactContainer$"+Oa,ka="__reactEvents$"+Oa,iv="__reactListeners$"+Oa,sv="__reactHandles$"+Oa;function ps(l){var u=l[ri];if(u)return u;for(var m=l.parentNode;m;){if(u=m[sa]||m[ri]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=uo(l);l!==null;){if(m=l[ri])return m;l=uo(l)}return u}l=m,m=l.parentNode}return null}function nc(l){return l=l[ri]||l[sa],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function nl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function su(l){return l[rc]||null}var Jf=[],Ei=-1;function ko(l){return{current:l}}function Hr(l){0>Ei||(l.current=Jf[Ei],Jf[Ei]=null,Ei--)}function Kr(l,u){Ei++,Jf[Ei]=l.current,l.current=u}var ms={},Jn=ko(ms),Ia=ko(!1),al=ms;function ac(l,u){var m=l.type.contextTypes;if(!m)return ms;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var O={},F;for(F in m)O[F]=u[F];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=O),O}function La(l){return l=l.childContextTypes,l!=null}function ud(){Hr(Ia),Hr(Jn)}function Up(l,u,m){if(Jn.current!==ms)throw Error(r(168));Kr(Jn,u),Kr(Ia,m)}function Yf(l,u,m){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return m;b=b.getChildContext();for(var O in b)if(!(O in u))throw Error(r(108,pe(l)||"Unknown",O));return te({},m,b)}function ol(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ms,al=Jn.current,Kr(Jn,l),Kr(Ia,Ia.current),!0}function Vp(l,u,m){var b=l.stateNode;if(!b)throw Error(r(169));m?(l=Yf(l,u,al),b.__reactInternalMemoizedMergedChildContext=l,Hr(Ia),Hr(Jn),Kr(Jn,l)):Hr(Ia),Kr(Ia,m)}var Oi=null,lu=!1,v=!1;function N(l){Oi===null?Oi=[l]:Oi.push(l)}function k(l){lu=!0,N(l)}function U(){if(!v&&Oi!==null){v=!0;var l=0,u=Tr;try{var m=Oi;for(Tr=1;l<m.length;l++){var b=m[l];do b=b(!0);while(b!==null)}Oi=null,lu=!1}catch(O){throw Oi!==null&&(Oi=Oi.slice(l+1)),dr(yr,U),O}finally{Tr=u,v=!1}}return null}var X=[],ne=0,oe=null,ce=0,fe=[],ve=0,Oe=null,qe=1,Ue="";function Re(l,u){X[ne++]=ce,X[ne++]=oe,oe=l,ce=u}function ot(l,u,m){fe[ve++]=qe,fe[ve++]=Ue,fe[ve++]=Oe,Oe=l;var b=qe;l=Ue;var O=32-Wa(b)-1;b&=~(1<<O),m+=1;var F=32-Wa(u)+O;if(30<F){var ae=O-O%5;F=(b&(1<<ae)-1).toString(32),b>>=ae,O-=ae,qe=1<<32-Wa(u)+O|m<<O|b,Ue=F+l}else qe=1<<F|m<<O|b,Ue=l}function Xe(l){l.return!==null&&(Re(l,1),ot(l,1,0))}function Ie(l){for(;l===oe;)oe=X[--ne],X[ne]=null,ce=X[--ne],X[ne]=null;for(;l===Oe;)Oe=fe[--ve],fe[ve]=null,Ue=fe[--ve],fe[ve]=null,qe=fe[--ve],fe[ve]=null}var Le=null,tt=null,et=!1,rt=null;function Lt(l,u){var m=li(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function Pt(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Le=l,tt=wa(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Le=l,tt=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=Oe!==null?{id:qe,overflow:Ue}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=li(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,Le=l,tt=null,!0):!1;default:return!1}}function Jt(l){return(l.mode&1)!==0&&(l.flags&128)===0}function _t(l){if(et){var u=tt;if(u){var m=u;if(!Pt(l,u)){if(Jt(l))throw Error(r(418));u=wa(m.nextSibling);var b=Le;u&&Pt(l,u)?Lt(b,m):(l.flags=l.flags&-4097|2,et=!1,Le=l)}}else{if(Jt(l))throw Error(r(418));l.flags=l.flags&-4097|2,et=!1,Le=l}}}function kr(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Le=l}function Ir(l){if(l!==Le)return!1;if(!et)return kr(l),et=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Hf(l.type,l.memoizedProps)),u&&(u=tt)){if(Jt(l))throw _r(),Error(r(418));for(;u;)Lt(l,u),u=wa(u.nextSibling)}if(kr(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){tt=wa(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}tt=null}}else tt=Le?wa(l.stateNode.nextSibling):null;return!0}function _r(){for(var l=tt;l;)l=wa(l.nextSibling)}function xr(){tt=Le=null,et=!1}function Gr(l){rt===null?rt=[l]:rt.push(l)}var Jr=R.ReactCurrentBatchConfig;function lr(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var b=m.stateNode}if(!b)throw Error(r(147,l));var O=b,F=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===F?u.ref:(u=function(ae){var Se=O.refs;ae===null?delete Se[F]:Se[F]=ae},u._stringRef=F,u)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function pn(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Na(l){var u=l._init;return u(l._payload)}function An(l){function u(Ve,Me){if(l){var We=Ve.deletions;We===null?(Ve.deletions=[Me],Ve.flags|=16):We.push(Me)}}function m(Ve,Me){if(!l)return null;for(;Me!==null;)u(Ve,Me),Me=Me.sibling;return null}function b(Ve,Me){for(Ve=new Map;Me!==null;)Me.key!==null?Ve.set(Me.key,Me):Ve.set(Me.index,Me),Me=Me.sibling;return Ve}function O(Ve,Me){return Ve=gc(Ve,Me),Ve.index=0,Ve.sibling=null,Ve}function F(Ve,Me,We){return Ve.index=We,l?(We=Ve.alternate,We!==null?(We=We.index,We<Me?(Ve.flags|=2,Me):We):(Ve.flags|=2,Me)):(Ve.flags|=1048576,Me)}function ae(Ve){return l&&Ve.alternate===null&&(Ve.flags|=2),Ve}function Se(Ve,Me,We,jt){return Me===null||Me.tag!==6?(Me=Mv(We,Ve.mode,jt),Me.return=Ve,Me):(Me=O(Me,We),Me.return=Ve,Me)}function ke(Ve,Me,We,jt){var Gt=We.type;return Gt===_?ht(Ve,Me,We.props.children,jt,We.key):Me!==null&&(Me.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===W&&Na(Gt)===Me.type)?(jt=O(Me,We.props),jt.ref=lr(Ve,Me,We),jt.return=Ve,jt):(jt=um(We.type,We.key,We.props,null,Ve.mode,jt),jt.ref=lr(Ve,Me,We),jt.return=Ve,jt)}function Ke(Ve,Me,We,jt){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==We.containerInfo||Me.stateNode.implementation!==We.implementation?(Me=Rv(We,Ve.mode,jt),Me.return=Ve,Me):(Me=O(Me,We.children||[]),Me.return=Ve,Me)}function ht(Ve,Me,We,jt,Gt){return Me===null||Me.tag!==7?(Me=gu(We,Ve.mode,jt,Gt),Me.return=Ve,Me):(Me=O(Me,We),Me.return=Ve,Me)}function yt(Ve,Me,We){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Me=Mv(""+Me,Ve.mode,We),Me.return=Ve,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case L:return We=um(Me.type,Me.key,Me.props,null,Ve.mode,We),We.ref=lr(Ve,null,Me),We.return=Ve,We;case q:return Me=Rv(Me,Ve.mode,We),Me.return=Ve,Me;case W:var jt=Me._init;return yt(Ve,jt(Me._payload),We)}if(he(Me)||ie(Me))return Me=gu(Me,Ve.mode,We,null),Me.return=Ve,Me;pn(Ve,Me)}return null}function ft(Ve,Me,We,jt){var Gt=Me!==null?Me.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Gt!==null?null:Se(Ve,Me,""+We,jt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case L:return We.key===Gt?ke(Ve,Me,We,jt):null;case q:return We.key===Gt?Ke(Ve,Me,We,jt):null;case W:return Gt=We._init,ft(Ve,Me,Gt(We._payload),jt)}if(he(We)||ie(We))return Gt!==null?null:ht(Ve,Me,We,jt,null);pn(Ve,We)}return null}function Tt(Ve,Me,We,jt,Gt){if(typeof jt=="string"&&jt!==""||typeof jt=="number")return Ve=Ve.get(We)||null,Se(Me,Ve,""+jt,Gt);if(typeof jt=="object"&&jt!==null){switch(jt.$$typeof){case L:return Ve=Ve.get(jt.key===null?We:jt.key)||null,ke(Me,Ve,jt,Gt);case q:return Ve=Ve.get(jt.key===null?We:jt.key)||null,Ke(Me,Ve,jt,Gt);case W:var Zt=jt._init;return Tt(Ve,Me,We,Zt(jt._payload),Gt)}if(he(jt)||ie(jt))return Ve=Ve.get(We)||null,ht(Me,Ve,jt,Gt,null);pn(Me,jt)}return null}function Bt(Ve,Me,We,jt){for(var Gt=null,Zt=null,Qt=Me,cr=Me=0,da=null;Qt!==null&&cr<We.length;cr++){Qt.index>cr?(da=Qt,Qt=null):da=Qt.sibling;var zr=ft(Ve,Qt,We[cr],jt);if(zr===null){Qt===null&&(Qt=da);break}l&&Qt&&zr.alternate===null&&u(Ve,Qt),Me=F(zr,Me,cr),Zt===null?Gt=zr:Zt.sibling=zr,Zt=zr,Qt=da}if(cr===We.length)return m(Ve,Qt),et&&Re(Ve,cr),Gt;if(Qt===null){for(;cr<We.length;cr++)Qt=yt(Ve,We[cr],jt),Qt!==null&&(Me=F(Qt,Me,cr),Zt===null?Gt=Qt:Zt.sibling=Qt,Zt=Qt);return et&&Re(Ve,cr),Gt}for(Qt=b(Ve,Qt);cr<We.length;cr++)da=Tt(Qt,Ve,cr,We[cr],jt),da!==null&&(l&&da.alternate!==null&&Qt.delete(da.key===null?cr:da.key),Me=F(da,Me,cr),Zt===null?Gt=da:Zt.sibling=da,Zt=da);return l&&Qt.forEach(function(vc){return u(Ve,vc)}),et&&Re(Ve,cr),Gt}function Wt(Ve,Me,We,jt){var Gt=ie(We);if(typeof Gt!="function")throw Error(r(150));if(We=Gt.call(We),We==null)throw Error(r(151));for(var Zt=Gt=null,Qt=Me,cr=Me=0,da=null,zr=We.next();Qt!==null&&!zr.done;cr++,zr=We.next()){Qt.index>cr?(da=Qt,Qt=null):da=Qt.sibling;var vc=ft(Ve,Qt,zr.value,jt);if(vc===null){Qt===null&&(Qt=da);break}l&&Qt&&vc.alternate===null&&u(Ve,Qt),Me=F(vc,Me,cr),Zt===null?Gt=vc:Zt.sibling=vc,Zt=vc,Qt=da}if(zr.done)return m(Ve,Qt),et&&Re(Ve,cr),Gt;if(Qt===null){for(;!zr.done;cr++,zr=We.next())zr=yt(Ve,zr.value,jt),zr!==null&&(Me=F(zr,Me,cr),Zt===null?Gt=zr:Zt.sibling=zr,Zt=zr);return et&&Re(Ve,cr),Gt}for(Qt=b(Ve,Qt);!zr.done;cr++,zr=We.next())zr=Tt(Qt,Ve,cr,zr.value,jt),zr!==null&&(l&&zr.alternate!==null&&Qt.delete(zr.key===null?cr:zr.key),Me=F(zr,Me,cr),Zt===null?Gt=zr:Zt.sibling=zr,Zt=zr);return l&&Qt.forEach(function(w8){return u(Ve,w8)}),et&&Re(Ve,cr),Gt}function Fn(Ve,Me,We,jt){if(typeof We=="object"&&We!==null&&We.type===_&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case L:e:{for(var Gt=We.key,Zt=Me;Zt!==null;){if(Zt.key===Gt){if(Gt=We.type,Gt===_){if(Zt.tag===7){m(Ve,Zt.sibling),Me=O(Zt,We.props.children),Me.return=Ve,Ve=Me;break e}}else if(Zt.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===W&&Na(Gt)===Zt.type){m(Ve,Zt.sibling),Me=O(Zt,We.props),Me.ref=lr(Ve,Zt,We),Me.return=Ve,Ve=Me;break e}m(Ve,Zt);break}else u(Ve,Zt);Zt=Zt.sibling}We.type===_?(Me=gu(We.props.children,Ve.mode,jt,We.key),Me.return=Ve,Ve=Me):(jt=um(We.type,We.key,We.props,null,Ve.mode,jt),jt.ref=lr(Ve,Me,We),jt.return=Ve,Ve=jt)}return ae(Ve);case q:e:{for(Zt=We.key;Me!==null;){if(Me.key===Zt)if(Me.tag===4&&Me.stateNode.containerInfo===We.containerInfo&&Me.stateNode.implementation===We.implementation){m(Ve,Me.sibling),Me=O(Me,We.children||[]),Me.return=Ve,Ve=Me;break e}else{m(Ve,Me);break}else u(Ve,Me);Me=Me.sibling}Me=Rv(We,Ve.mode,jt),Me.return=Ve,Ve=Me}return ae(Ve);case W:return Zt=We._init,Fn(Ve,Me,Zt(We._payload),jt)}if(he(We))return Bt(Ve,Me,We,jt);if(ie(We))return Wt(Ve,Me,We,jt);pn(Ve,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Me!==null&&Me.tag===6?(m(Ve,Me.sibling),Me=O(Me,We),Me.return=Ve,Ve=Me):(m(Ve,Me),Me=Mv(We,Ve.mode,jt),Me.return=Ve,Ve=Me),ae(Ve)):m(Ve,Me)}return Fn}var Mn=An(!0),$r=An(!1),la=ko(null),ca=null,mn=null,Rn=null;function Yn(){Rn=mn=ca=null}function Ta(l){var u=la.current;Hr(la),l._currentValue=u}function fo(l,u,m){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===m)break;l=l.return}}function gn(l,u){ca=l,Rn=mn=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(go=!0),l.firstContext=null)}function On(l){var u=l._currentValue;if(Rn!==l)if(l={context:l,memoizedValue:u,next:null},mn===null){if(ca===null)throw Error(r(308));mn=l,ca.dependencies={lanes:0,firstContext:l}}else mn=mn.next=l;return u}var Ya=null;function gs(l){Ya===null?Ya=[l]:Ya.push(l)}function ki(l,u,m,b){var O=u.interleaved;return O===null?(m.next=m,gs(u)):(m.next=O.next,O.next=m),u.interleaved=m,Fr(l,b)}function Fr(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var ni=!1;function dd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ho(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function po(l,u,m){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Mr&2)!==0){var O=b.pending;return O===null?u.next=u:(u.next=O.next,O.next=u),b.pending=u,Fr(l,m)}return O=b.interleaved,O===null?(u.next=u,gs(b)):(u.next=O.next,O.next=u),b.interleaved=u,Fr(l,m)}function il(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,m|=b,u.lanes=m,kl(l,m)}}function mo(l,u){var m=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var O=null,F=null;if(m=m.firstBaseUpdate,m!==null){do{var ae={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};F===null?O=F=ae:F=F.next=ae,m=m.next}while(m!==null);F===null?O=F=u:F=F.next=u}else O=F=u;m={baseState:b.baseState,firstBaseUpdate:O,lastBaseUpdate:F,shared:b.shared,effects:b.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Ii(l,u,m,b){var O=l.updateQueue;ni=!1;var F=O.firstBaseUpdate,ae=O.lastBaseUpdate,Se=O.shared.pending;if(Se!==null){O.shared.pending=null;var ke=Se,Ke=ke.next;ke.next=null,ae===null?F=Ke:ae.next=Ke,ae=ke;var ht=l.alternate;ht!==null&&(ht=ht.updateQueue,Se=ht.lastBaseUpdate,Se!==ae&&(Se===null?ht.firstBaseUpdate=Ke:Se.next=Ke,ht.lastBaseUpdate=ke))}if(F!==null){var yt=O.baseState;ae=0,ht=Ke=ke=null,Se=F;do{var ft=Se.lane,Tt=Se.eventTime;if((b&ft)===ft){ht!==null&&(ht=ht.next={eventTime:Tt,lane:0,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null});e:{var Bt=l,Wt=Se;switch(ft=u,Tt=m,Wt.tag){case 1:if(Bt=Wt.payload,typeof Bt=="function"){yt=Bt.call(Tt,yt,ft);break e}yt=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Wt.payload,ft=typeof Bt=="function"?Bt.call(Tt,yt,ft):Bt,ft==null)break e;yt=te({},yt,ft);break e;case 2:ni=!0}}Se.callback!==null&&Se.lane!==0&&(l.flags|=64,ft=O.effects,ft===null?O.effects=[Se]:ft.push(Se))}else Tt={eventTime:Tt,lane:ft,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},ht===null?(Ke=ht=Tt,ke=yt):ht=ht.next=Tt,ae|=ft;if(Se=Se.next,Se===null){if(Se=O.shared.pending,Se===null)break;ft=Se,Se=ft.next,ft.next=null,O.lastBaseUpdate=ft,O.shared.pending=null}}while(!0);if(ht===null&&(ke=yt),O.baseState=ke,O.firstBaseUpdate=Ke,O.lastBaseUpdate=ht,u=O.shared.interleaved,u!==null){O=u;do ae|=O.lane,O=O.next;while(O!==u)}else F===null&&(O.shared.lanes=0);fu|=ae,l.lanes=ae,l.memoizedState=yt}}function sl(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],O=b.callback;if(O!==null){if(b.callback=null,b=m,typeof O!="function")throw Error(r(191,O));O.call(b)}}}var oc={},Xa=ko(oc),ic=ko(oc),vs=ko(oc);function Li(l){if(l===oc)throw Error(r(174));return l}function sc(l,u){switch(Kr(vs,u),Kr(ic,l),Kr(Xa,oc),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:lt(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=lt(u,l)}Hr(Xa),Kr(Xa,u)}function ai(){Hr(Xa),Hr(ic),Hr(vs)}function Wp(l){Li(vs.current);var u=Li(Xa.current),m=lt(u,l.type);u!==m&&(Kr(ic,l),Kr(Xa,m))}function Zf(l){ic.current===l&&(Hr(Xa),Hr(ic))}var an=ko(0);function Io(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Qf=[];function eh(){for(var l=0;l<Qf.length;l++)Qf[l]._workInProgressVersionPrimary=null;Qf.length=0}var fd=R.ReactCurrentDispatcher,hd=R.ReactCurrentBatchConfig,oi=0,ln=null,kn=null,Pn=null,lc=!1,Ti=!1,cc=0,lv=0;function $n(){throw Error(r(321))}function pd(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Dr(l[m],u[m]))return!1;return!0}function cu(l,u,m,b,O,F){if(oi=F,ln=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,fd.current=l===null||l.memoizedState===null?GL:KL,l=m(b,O),Ti){F=0;do{if(Ti=!1,cc=0,25<=F)throw Error(r(301));F+=1,Pn=kn=null,u.updateQueue=null,fd.current=JL,l=m(b,O)}while(Ti)}if(fd.current=Yp,u=kn!==null&&kn.next!==null,oi=0,Pn=kn=ln=null,lc=!1,u)throw Error(r(300));return l}function ii(){var l=cc!==0;return cc=0,l}function Lo(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?ln.memoizedState=Pn=l:Pn=Pn.next=l,Pn}function Za(){if(kn===null){var l=ln.alternate;l=l!==null?l.memoizedState:null}else l=kn.next;var u=Pn===null?ln.memoizedState:Pn.next;if(u!==null)Pn=u,kn=l;else{if(l===null)throw Error(r(310));kn=l,l={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Pn===null?ln.memoizedState=Pn=l:Pn=Pn.next=l}return Pn}function uu(l,u){return typeof u=="function"?u(l):u}function md(l){var u=Za(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var b=kn,O=b.baseQueue,F=m.pending;if(F!==null){if(O!==null){var ae=O.next;O.next=F.next,F.next=ae}b.baseQueue=O=F,m.pending=null}if(O!==null){F=O.next,b=b.baseState;var Se=ae=null,ke=null,Ke=F;do{var ht=Ke.lane;if((oi&ht)===ht)ke!==null&&(ke=ke.next={lane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),b=Ke.hasEagerState?Ke.eagerState:l(b,Ke.action);else{var yt={lane:ht,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null};ke===null?(Se=ke=yt,ae=b):ke=ke.next=yt,ln.lanes|=ht,fu|=ht}Ke=Ke.next}while(Ke!==null&&Ke!==F);ke===null?ae=b:ke.next=Se,Dr(b,u.memoizedState)||(go=!0),u.memoizedState=b,u.baseState=ae,u.baseQueue=ke,m.lastRenderedState=b}if(l=m.interleaved,l!==null){O=l;do F=O.lane,ln.lanes|=F,fu|=F,O=O.next;while(O!==l)}else O===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function ys(l){var u=Za(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var b=m.dispatch,O=m.pending,F=u.memoizedState;if(O!==null){m.pending=null;var ae=O=O.next;do F=l(F,ae.action),ae=ae.next;while(ae!==O);Dr(F,u.memoizedState)||(go=!0),u.memoizedState=F,u.baseQueue===null&&(u.baseState=F),m.lastRenderedState=F}return[F,b]}function Hp(){}function th(l,u){var m=ln,b=Za(),O=u(),F=!Dr(b.memoizedState,O);if(F&&(b.memoizedState=O,go=!0),b=b.queue,yd(Kp.bind(null,m,b,l),[l]),b.getSnapshot!==u||F||Pn!==null&&Pn.memoizedState.tag&1){if(m.flags|=2048,Qa(9,rh.bind(null,m,b,O,u),void 0,null),ua===null)throw Error(r(349));(oi&30)!==0||Gp(m,u,O)}return O}function Gp(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=ln.updateQueue,u===null?(u={lastEffect:null,stores:null},ln.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function rh(l,u,m,b){u.value=m,u.getSnapshot=b,uc(u)&&gd(l)}function Kp(l,u,m){return m(function(){uc(u)&&gd(l)})}function uc(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Dr(l,m)}catch{return!0}}function gd(l){var u=Fr(l,1);u!==null&&Fi(u,l,1,-1)}function du(l){var u=Lo();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:l},u.queue=l,l=l.dispatch=HL.bind(null,ln,l),[u.memoizedState,l]}function Qa(l,u,m,b){return l={tag:l,create:u,destroy:m,deps:b,next:null},u=ln.updateQueue,u===null?(u={lastEffect:null,stores:null},ln.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(b=m.next,m.next=l,l.next=b,u.lastEffect=l)),l}function Di(){return Za().memoizedState}function To(l,u,m,b){var O=Lo();ln.flags|=l,O.memoizedState=Qa(1|u,m,void 0,b===void 0?null:b)}function ll(l,u,m,b){var O=Za();b=b===void 0?null:b;var F=void 0;if(kn!==null){var ae=kn.memoizedState;if(F=ae.destroy,b!==null&&pd(b,ae.deps)){O.memoizedState=Qa(u,m,F,b);return}}ln.flags|=l,O.memoizedState=Qa(1|u,m,F,b)}function vd(l,u){return To(8390656,8,l,u)}function yd(l,u){return ll(2048,8,l,u)}function Jp(l,u){return ll(4,2,l,u)}function xd(l,u){return ll(4,4,l,u)}function bd(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function kN(l,u,m){return m=m!=null?m.concat([l]):null,ll(4,4,bd.bind(null,u,l),m)}function cv(){}function IN(l,u){var m=Za();u=u===void 0?null:u;var b=m.memoizedState;return b!==null&&u!==null&&pd(u,b[1])?b[0]:(m.memoizedState=[l,u],l)}function LN(l,u){var m=Za();u=u===void 0?null:u;var b=m.memoizedState;return b!==null&&u!==null&&pd(u,b[1])?b[0]:(l=l(),m.memoizedState=[l,u],l)}function TN(l,u,m){return(oi&21)===0?(l.baseState&&(l.baseState=!1,go=!0),l.memoizedState=m):(Dr(m,u)||(m=qc(),ln.lanes|=m,fu|=m,l.baseState=!0),u)}function VL(l,u){var m=Tr;Tr=m!==0&&4>m?m:4,l(!0);var b=hd.transition;hd.transition={};try{l(!1),u()}finally{Tr=m,hd.transition=b}}function DN(){return Za().memoizedState}function WL(l,u,m){var b=pc(l);if(m={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null},MN(l))RN(u,m);else if(m=ki(l,u,m,b),m!==null){var O=to();Fi(m,l,b,O),$N(m,u,b)}}function HL(l,u,m){var b=pc(l),O={lane:b,action:m,hasEagerState:!1,eagerState:null,next:null};if(MN(l))RN(u,O);else{var F=l.alternate;if(l.lanes===0&&(F===null||F.lanes===0)&&(F=u.lastRenderedReducer,F!==null))try{var ae=u.lastRenderedState,Se=F(ae,m);if(O.hasEagerState=!0,O.eagerState=Se,Dr(Se,ae)){var ke=u.interleaved;ke===null?(O.next=O,gs(u)):(O.next=ke.next,ke.next=O),u.interleaved=O;return}}catch{}finally{}m=ki(l,u,O,b),m!==null&&(O=to(),Fi(m,l,b,O),$N(m,u,b))}}function MN(l){var u=l.alternate;return l===ln||u!==null&&u===ln}function RN(l,u){Ti=lc=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function $N(l,u,m){if((m&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,m|=b,u.lanes=m,kl(l,m)}}var Yp={readContext:On,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},GL={readContext:On,useCallback:function(l,u){return Lo().memoizedState=[l,u===void 0?null:u],l},useContext:On,useEffect:vd,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,To(4194308,4,bd.bind(null,u,l),m)},useLayoutEffect:function(l,u){return To(4194308,4,l,u)},useInsertionEffect:function(l,u){return To(4,2,l,u)},useMemo:function(l,u){var m=Lo();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var b=Lo();return u=m!==void 0?m(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=WL.bind(null,ln,l),[b.memoizedState,l]},useRef:function(l){var u=Lo();return l={current:l},u.memoizedState=l},useState:du,useDebugValue:cv,useDeferredValue:function(l){return Lo().memoizedState=l},useTransition:function(){var l=du(!1),u=l[0];return l=VL.bind(null,l[1]),Lo().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var b=ln,O=Lo();if(et){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),ua===null)throw Error(r(349));(oi&30)!==0||Gp(b,u,m)}O.memoizedState=m;var F={value:m,getSnapshot:u};return O.queue=F,vd(Kp.bind(null,b,F,l),[l]),b.flags|=2048,Qa(9,rh.bind(null,b,F,m,u),void 0,null),m},useId:function(){var l=Lo(),u=ua.identifierPrefix;if(et){var m=Ue,b=qe;m=(b&~(1<<32-Wa(b)-1)).toString(32)+m,u=":"+u+"R"+m,m=cc++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=lv++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},KL={readContext:On,useCallback:IN,useContext:On,useEffect:yd,useImperativeHandle:kN,useInsertionEffect:Jp,useLayoutEffect:xd,useMemo:LN,useReducer:md,useRef:Di,useState:function(){return md(uu)},useDebugValue:cv,useDeferredValue:function(l){var u=Za();return TN(u,kn.memoizedState,l)},useTransition:function(){var l=md(uu)[0],u=Za().memoizedState;return[l,u]},useMutableSource:Hp,useSyncExternalStore:th,useId:DN,unstable_isNewReconciler:!1},JL={readContext:On,useCallback:IN,useContext:On,useEffect:yd,useImperativeHandle:kN,useInsertionEffect:Jp,useLayoutEffect:xd,useMemo:LN,useReducer:ys,useRef:Di,useState:function(){return ys(uu)},useDebugValue:cv,useDeferredValue:function(l){var u=Za();return kn===null?u.memoizedState=l:TN(u,kn.memoizedState,l)},useTransition:function(){var l=ys(uu)[0],u=Za().memoizedState;return[l,u]},useMutableSource:Hp,useSyncExternalStore:th,useId:DN,unstable_isNewReconciler:!1};function Mi(l,u){if(l&&l.defaultProps){u=te({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function uv(l,u,m,b){u=l.memoizedState,m=m(b,u),m=m==null?u:te({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Xp={isMounted:function(l){return(l=l._reactInternals)?Ze(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var b=to(),O=pc(l),F=ho(b,O);F.payload=u,m!=null&&(F.callback=m),u=po(l,F,O),u!==null&&(Fi(u,l,O,b),il(u,l,O))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var b=to(),O=pc(l),F=ho(b,O);F.tag=1,F.payload=u,m!=null&&(F.callback=m),u=po(l,F,O),u!==null&&(Fi(u,l,O,b),il(u,l,O))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=to(),b=pc(l),O=ho(m,b);O.tag=2,u!=null&&(O.callback=u),u=po(l,O,b),u!==null&&(Fi(u,l,b,m),il(u,l,b))}};function FN(l,u,m,b,O,F,ae){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,F,ae):u.prototype&&u.prototype.isPureReactComponent?!Ci(m,b)||!Ci(O,F):!0}function zN(l,u,m){var b=!1,O=ms,F=u.contextType;return typeof F=="object"&&F!==null?F=On(F):(O=La(u)?al:Jn.current,b=u.contextTypes,F=(b=b!=null)?ac(l,O):ms),u=new u(m,F),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Xp,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=O,l.__reactInternalMemoizedMaskedChildContext=F),u}function BN(l,u,m,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,b),u.state!==l&&Xp.enqueueReplaceState(u,u.state,null)}function dv(l,u,m,b){var O=l.stateNode;O.props=m,O.state=l.memoizedState,O.refs={},dd(l);var F=u.contextType;typeof F=="object"&&F!==null?O.context=On(F):(F=La(u)?al:Jn.current,O.context=ac(l,F)),O.state=l.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(uv(l,u,F,m),O.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(u=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),u!==O.state&&Xp.enqueueReplaceState(O,O.state,null),Ii(l,m,O,b),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308)}function wd(l,u){try{var m="",b=u;do m+=H(b),b=b.return;while(b);var O=m}catch(F){O=`
Error generating stack: `+F.message+`
`+F.stack}return{value:l,source:u,stack:O,digest:null}}function fv(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function hv(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var YL=typeof WeakMap=="function"?WeakMap:Map;function qN(l,u,m){m=ho(-1,m),m.tag=3,m.payload={element:null};var b=u.value;return m.callback=function(){am||(am=!0,_v=b),hv(l,u)},m}function UN(l,u,m){m=ho(-1,m),m.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var O=u.value;m.payload=function(){return b(O)},m.callback=function(){hv(l,u)}}var F=l.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(m.callback=function(){hv(l,u),typeof b!="function"&&(fc===null?fc=new Set([this]):fc.add(this));var ae=u.stack;this.componentDidCatch(u.value,{componentStack:ae!==null?ae:""})}),m}function VN(l,u,m){var b=l.pingCache;if(b===null){b=l.pingCache=new YL;var O=new Set;b.set(u,O)}else O=b.get(u),O===void 0&&(O=new Set,b.set(u,O));O.has(m)||(O.add(m),l=u8.bind(null,l,u,m),u.then(l,l))}function WN(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function HN(l,u,m,b,O){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=ho(-1,1),u.tag=2,po(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=O,l)}var XL=R.ReactCurrentOwner,go=!1;function eo(l,u,m,b){u.child=l===null?$r(u,null,m,b):Mn(u,l.child,m,b)}function GN(l,u,m,b,O){m=m.render;var F=u.ref;return gn(u,O),b=cu(l,u,m,b,F,O),m=ii(),l!==null&&!go?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~O,cl(l,u,O)):(et&&m&&Xe(u),u.flags|=1,eo(l,u,b,O),u.child)}function KN(l,u,m,b,O){if(l===null){var F=m.type;return typeof F=="function"&&!Dv(F)&&F.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=F,JN(l,u,F,b,O)):(l=um(m.type,null,b,u,u.mode,O),l.ref=u.ref,l.return=u,u.child=l)}if(F=l.child,(l.lanes&O)===0){var ae=F.memoizedProps;if(m=m.compare,m=m!==null?m:Ci,m(ae,b)&&l.ref===u.ref)return cl(l,u,O)}return u.flags|=1,l=gc(F,b),l.ref=u.ref,l.return=u,u.child=l}function JN(l,u,m,b,O){if(l!==null){var F=l.memoizedProps;if(Ci(F,b)&&l.ref===u.ref)if(go=!1,u.pendingProps=b=F,(l.lanes&O)!==0)(l.flags&131072)!==0&&(go=!0);else return u.lanes=l.lanes,cl(l,u,O)}return pv(l,u,m,b,O)}function YN(l,u,m){var b=u.pendingProps,O=b.children,F=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(jd,Do),Do|=m;else{if((m&1073741824)===0)return l=F!==null?F.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Kr(jd,Do),Do|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=F!==null?F.baseLanes:m,Kr(jd,Do),Do|=b}else F!==null?(b=F.baseLanes|m,u.memoizedState=null):b=m,Kr(jd,Do),Do|=b;return eo(l,u,O,m),u.child}function XN(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function pv(l,u,m,b,O){var F=La(m)?al:Jn.current;return F=ac(u,F),gn(u,O),m=cu(l,u,m,b,F,O),b=ii(),l!==null&&!go?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~O,cl(l,u,O)):(et&&b&&Xe(u),u.flags|=1,eo(l,u,m,O),u.child)}function ZN(l,u,m,b,O){if(La(m)){var F=!0;ol(u)}else F=!1;if(gn(u,O),u.stateNode===null)Qp(l,u),zN(u,m,b),dv(u,m,b,O),b=!0;else if(l===null){var ae=u.stateNode,Se=u.memoizedProps;ae.props=Se;var ke=ae.context,Ke=m.contextType;typeof Ke=="object"&&Ke!==null?Ke=On(Ke):(Ke=La(m)?al:Jn.current,Ke=ac(u,Ke));var ht=m.getDerivedStateFromProps,yt=typeof ht=="function"||typeof ae.getSnapshotBeforeUpdate=="function";yt||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(Se!==b||ke!==Ke)&&BN(u,ae,b,Ke),ni=!1;var ft=u.memoizedState;ae.state=ft,Ii(u,b,ae,O),ke=u.memoizedState,Se!==b||ft!==ke||Ia.current||ni?(typeof ht=="function"&&(uv(u,m,ht,b),ke=u.memoizedState),(Se=ni||FN(u,m,Se,b,ft,ke,Ke))?(yt||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(u.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=ke),ae.props=b,ae.state=ke,ae.context=Ke,b=Se):(typeof ae.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{ae=u.stateNode,Xf(l,u),Se=u.memoizedProps,Ke=u.type===u.elementType?Se:Mi(u.type,Se),ae.props=Ke,yt=u.pendingProps,ft=ae.context,ke=m.contextType,typeof ke=="object"&&ke!==null?ke=On(ke):(ke=La(m)?al:Jn.current,ke=ac(u,ke));var Tt=m.getDerivedStateFromProps;(ht=typeof Tt=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(Se!==yt||ft!==ke)&&BN(u,ae,b,ke),ni=!1,ft=u.memoizedState,ae.state=ft,Ii(u,b,ae,O);var Bt=u.memoizedState;Se!==yt||ft!==Bt||Ia.current||ni?(typeof Tt=="function"&&(uv(u,m,Tt,b),Bt=u.memoizedState),(Ke=ni||FN(u,m,Ke,b,ft,Bt,ke)||!1)?(ht||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(b,Bt,ke),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(b,Bt,ke)),typeof ae.componentDidUpdate=="function"&&(u.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof ae.componentDidUpdate!="function"||Se===l.memoizedProps&&ft===l.memoizedState||(u.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||Se===l.memoizedProps&&ft===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=Bt),ae.props=b,ae.state=Bt,ae.context=ke,b=Ke):(typeof ae.componentDidUpdate!="function"||Se===l.memoizedProps&&ft===l.memoizedState||(u.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||Se===l.memoizedProps&&ft===l.memoizedState||(u.flags|=1024),b=!1)}return mv(l,u,m,b,F,O)}function mv(l,u,m,b,O,F){XN(l,u);var ae=(u.flags&128)!==0;if(!b&&!ae)return O&&Vp(u,m,!1),cl(l,u,F);b=u.stateNode,XL.current=u;var Se=ae&&typeof m.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&ae?(u.child=Mn(u,l.child,null,F),u.child=Mn(u,null,Se,F)):eo(l,u,Se,F),u.memoizedState=b.state,O&&Vp(u,m,!0),u.child}function QN(l){var u=l.stateNode;u.pendingContext?Up(l,u.pendingContext,u.pendingContext!==u.context):u.context&&Up(l,u.context,!1),sc(l,u.containerInfo)}function ej(l,u,m,b,O){return xr(),Gr(O),u.flags|=256,eo(l,u,m,b),u.child}var gv={dehydrated:null,treeContext:null,retryLane:0};function vv(l){return{baseLanes:l,cachePool:null,transitions:null}}function tj(l,u,m){var b=u.pendingProps,O=an.current,F=!1,ae=(u.flags&128)!==0,Se;if((Se=ae)||(Se=l!==null&&l.memoizedState===null?!1:(O&2)!==0),Se?(F=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(O|=1),Kr(an,O&1),l===null)return _t(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(ae=b.children,l=b.fallback,F?(b=u.mode,F=u.child,ae={mode:"hidden",children:ae},(b&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=ae):F=dm(ae,b,0,null),l=gu(l,b,m,null),F.return=u,l.return=u,F.sibling=l,u.child=F,u.child.memoizedState=vv(m),u.memoizedState=gv,l):yv(u,ae));if(O=l.memoizedState,O!==null&&(Se=O.dehydrated,Se!==null))return ZL(l,u,ae,b,Se,O,m);if(F){F=b.fallback,ae=u.mode,O=l.child,Se=O.sibling;var ke={mode:"hidden",children:b.children};return(ae&1)===0&&u.child!==O?(b=u.child,b.childLanes=0,b.pendingProps=ke,u.deletions=null):(b=gc(O,ke),b.subtreeFlags=O.subtreeFlags&14680064),Se!==null?F=gc(Se,F):(F=gu(F,ae,m,null),F.flags|=2),F.return=u,b.return=u,b.sibling=F,u.child=b,b=F,F=u.child,ae=l.child.memoizedState,ae=ae===null?vv(m):{baseLanes:ae.baseLanes|m,cachePool:null,transitions:ae.transitions},F.memoizedState=ae,F.childLanes=l.childLanes&~m,u.memoizedState=gv,b}return F=l.child,l=F.sibling,b=gc(F,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=m),b.return=u,b.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=b,u.memoizedState=null,b}function yv(l,u){return u=dm({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Zp(l,u,m,b){return b!==null&&Gr(b),Mn(u,l.child,null,m),l=yv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function ZL(l,u,m,b,O,F,ae){if(m)return u.flags&256?(u.flags&=-257,b=fv(Error(r(422))),Zp(l,u,ae,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(F=b.fallback,O=u.mode,b=dm({mode:"visible",children:b.children},O,0,null),F=gu(F,O,ae,null),F.flags|=2,b.return=u,F.return=u,b.sibling=F,u.child=b,(u.mode&1)!==0&&Mn(u,l.child,null,ae),u.child.memoizedState=vv(ae),u.memoizedState=gv,F);if((u.mode&1)===0)return Zp(l,u,ae,null);if(O.data==="$!"){if(b=O.nextSibling&&O.nextSibling.dataset,b)var Se=b.dgst;return b=Se,F=Error(r(419)),b=fv(F,b,void 0),Zp(l,u,ae,b)}if(Se=(ae&l.childLanes)!==0,go||Se){if(b=ua,b!==null){switch(ae&-ae){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(b.suspendedLanes|ae))!==0?0:O,O!==0&&O!==F.retryLane&&(F.retryLane=O,Fr(l,O),Fi(b,l,O,-1))}return Tv(),b=fv(Error(r(421))),Zp(l,u,ae,b)}return O.data==="$?"?(u.flags|=128,u.child=l.child,u=d8.bind(null,l),O._reactRetry=u,null):(l=F.treeContext,tt=wa(O.nextSibling),Le=u,et=!0,rt=null,l!==null&&(fe[ve++]=qe,fe[ve++]=Ue,fe[ve++]=Oe,qe=l.id,Ue=l.overflow,Oe=u),u=yv(u,b.children),u.flags|=4096,u)}function rj(l,u,m){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),fo(l.return,u,m)}function xv(l,u,m,b,O){var F=l.memoizedState;F===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:O}:(F.isBackwards=u,F.rendering=null,F.renderingStartTime=0,F.last=b,F.tail=m,F.tailMode=O)}function nj(l,u,m){var b=u.pendingProps,O=b.revealOrder,F=b.tail;if(eo(l,u,b.children,m),b=an.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&rj(l,m,u);else if(l.tag===19)rj(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(Kr(an,b),(u.mode&1)===0)u.memoizedState=null;else switch(O){case"forwards":for(m=u.child,O=null;m!==null;)l=m.alternate,l!==null&&Io(l)===null&&(O=m),m=m.sibling;m=O,m===null?(O=u.child,u.child=null):(O=m.sibling,m.sibling=null),xv(u,!1,O,m,F);break;case"backwards":for(m=null,O=u.child,u.child=null;O!==null;){if(l=O.alternate,l!==null&&Io(l)===null){u.child=O;break}l=O.sibling,O.sibling=m,m=O,O=l}xv(u,!0,m,null,F);break;case"together":xv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Qp(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function cl(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),fu|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=gc(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=gc(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function QL(l,u,m){switch(u.tag){case 3:QN(u),xr();break;case 5:Wp(u);break;case 1:La(u.type)&&ol(u);break;case 4:sc(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,O=u.memoizedProps.value;Kr(la,b._currentValue),b._currentValue=O;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(Kr(an,an.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?tj(l,u,m):(Kr(an,an.current&1),l=cl(l,u,m),l!==null?l.sibling:null);Kr(an,an.current&1);break;case 19:if(b=(m&u.childLanes)!==0,(l.flags&128)!==0){if(b)return nj(l,u,m);u.flags|=128}if(O=u.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Kr(an,an.current),b)break;return null;case 22:case 23:return u.lanes=0,YN(l,u,m)}return cl(l,u,m)}var aj,bv,oj,ij;aj=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},bv=function(){},oj=function(l,u,m,b){var O=l.memoizedProps;if(O!==b){l=u.stateNode,Li(Xa.current);var F=null;switch(m){case"input":O=De(l,O),b=De(l,b),F=[];break;case"select":O=te({},O,{value:void 0}),b=te({},b,{value:void 0}),F=[];break;case"textarea":O=_e(l,O),b=_e(l,b),F=[];break;default:typeof O.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=tc)}jr(m,b);var ae;m=null;for(Ke in O)if(!b.hasOwnProperty(Ke)&&O.hasOwnProperty(Ke)&&O[Ke]!=null)if(Ke==="style"){var Se=O[Ke];for(ae in Se)Se.hasOwnProperty(ae)&&(m||(m={}),m[ae]="")}else Ke!=="dangerouslySetInnerHTML"&&Ke!=="children"&&Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&Ke!=="autoFocus"&&(a.hasOwnProperty(Ke)?F||(F=[]):(F=F||[]).push(Ke,null));for(Ke in b){var ke=b[Ke];if(Se=O?.[Ke],b.hasOwnProperty(Ke)&&ke!==Se&&(ke!=null||Se!=null))if(Ke==="style")if(Se){for(ae in Se)!Se.hasOwnProperty(ae)||ke&&ke.hasOwnProperty(ae)||(m||(m={}),m[ae]="");for(ae in ke)ke.hasOwnProperty(ae)&&Se[ae]!==ke[ae]&&(m||(m={}),m[ae]=ke[ae])}else m||(F||(F=[]),F.push(Ke,m)),m=ke;else Ke==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,Se=Se?Se.__html:void 0,ke!=null&&Se!==ke&&(F=F||[]).push(Ke,ke)):Ke==="children"?typeof ke!="string"&&typeof ke!="number"||(F=F||[]).push(Ke,""+ke):Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ke)?(ke!=null&&Ke==="onScroll"&&Qr("scroll",l),F||Se===ke||(F=[])):(F=F||[]).push(Ke,ke))}m&&(F=F||[]).push("style",m);var Ke=F;(u.updateQueue=Ke)&&(u.flags|=4)}},ij=function(l,u,m,b){m!==b&&(u.flags|=4)};function nh(l,u){if(!et)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Da(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,b=0;if(u)for(var O=l.child;O!==null;)m|=O.lanes|O.childLanes,b|=O.subtreeFlags&14680064,b|=O.flags&14680064,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)m|=O.lanes|O.childLanes,b|=O.subtreeFlags,b|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=b,l.childLanes=m,u}function e8(l,u,m){var b=u.pendingProps;switch(Ie(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Da(u),null;case 1:return La(u.type)&&ud(),Da(u),null;case 3:return b=u.stateNode,ai(),Hr(Ia),Hr(Jn),eh(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(Ir(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,rt!==null&&(kv(rt),rt=null))),bv(l,u),Da(u),null;case 5:Zf(u);var O=Li(vs.current);if(m=u.type,l!==null&&u.stateNode!=null)oj(l,u,m,b,O),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Da(u),null}if(l=Li(Xa.current),Ir(u)){b=u.stateNode,m=u.type;var F=u.memoizedProps;switch(b[ri]=u,b[rc]=F,l=(u.mode&1)!==0,m){case"dialog":Qr("cancel",b),Qr("close",b);break;case"iframe":case"object":case"embed":Qr("load",b);break;case"video":case"audio":for(O=0;O<hs.length;O++)Qr(hs[O],b);break;case"source":Qr("error",b);break;case"img":case"image":case"link":Qr("error",b),Qr("load",b);break;case"details":Qr("toggle",b);break;case"input":Ne(b,F),Qr("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!F.multiple},Qr("invalid",b);break;case"textarea":we(b,F),Qr("invalid",b)}jr(m,F),O=null;for(var ae in F)if(F.hasOwnProperty(ae)){var Se=F[ae];ae==="children"?typeof Se=="string"?b.textContent!==Se&&(F.suppressHydrationWarning!==!0&&cd(b.textContent,Se,l),O=["children",Se]):typeof Se=="number"&&b.textContent!==""+Se&&(F.suppressHydrationWarning!==!0&&cd(b.textContent,Se,l),O=["children",""+Se]):a.hasOwnProperty(ae)&&Se!=null&&ae==="onScroll"&&Qr("scroll",b)}switch(m){case"input":ze(b),Q(b,F,!0);break;case"textarea":ze(b),$e(b);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(b.onclick=tc)}b=O,u.updateQueue=b,b!==null&&(u.flags|=4)}else{ae=O.nodeType===9?O:O.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=at(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=ae.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=ae.createElement(m,{is:b.is}):(l=ae.createElement(m),m==="select"&&(ae=l,b.multiple?ae.multiple=!0:b.size&&(ae.size=b.size))):l=ae.createElementNS(l,m),l[ri]=u,l[rc]=b,aj(l,u,!1,!1),u.stateNode=l;e:{switch(ae=rn(m,b),m){case"dialog":Qr("cancel",l),Qr("close",l),O=b;break;case"iframe":case"object":case"embed":Qr("load",l),O=b;break;case"video":case"audio":for(O=0;O<hs.length;O++)Qr(hs[O],l);O=b;break;case"source":Qr("error",l),O=b;break;case"img":case"image":case"link":Qr("error",l),Qr("load",l),O=b;break;case"details":Qr("toggle",l),O=b;break;case"input":Ne(l,b),O=De(l,b),Qr("invalid",l);break;case"option":O=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},O=te({},b,{value:void 0}),Qr("invalid",l);break;case"textarea":we(l,b),O=_e(l,b),Qr("invalid",l);break;default:O=b}jr(m,O),Se=O;for(F in Se)if(Se.hasOwnProperty(F)){var ke=Se[F];F==="style"?Lr(l,ke):F==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ke!=null&&Nt(l,ke)):F==="children"?typeof ke=="string"?(m!=="textarea"||ke!=="")&&At(l,ke):typeof ke=="number"&&At(l,""+ke):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?ke!=null&&F==="onScroll"&&Qr("scroll",l):ke!=null&&P(l,F,ke,ae))}switch(m){case"input":ze(l),Q(l,b,!1);break;case"textarea":ze(l),$e(l);break;case"option":b.value!=null&&l.setAttribute("value",""+be(b.value));break;case"select":l.multiple=!!b.multiple,F=b.value,F!=null?je(l,!!b.multiple,F,!1):b.defaultValue!=null&&je(l,!!b.multiple,b.defaultValue,!0);break;default:typeof O.onClick=="function"&&(l.onclick=tc)}switch(m){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Da(u),null;case 6:if(l&&u.stateNode!=null)ij(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(r(166));if(m=Li(vs.current),Li(Xa.current),Ir(u)){if(b=u.stateNode,m=u.memoizedProps,b[ri]=u,(F=b.nodeValue!==m)&&(l=Le,l!==null))switch(l.tag){case 3:cd(b.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&cd(b.nodeValue,m,(l.mode&1)!==0)}F&&(u.flags|=4)}else b=(m.nodeType===9?m:m.ownerDocument).createTextNode(b),b[ri]=u,u.stateNode=b}return Da(u),null;case 13:if(Hr(an),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(et&&tt!==null&&(u.mode&1)!==0&&(u.flags&128)===0)_r(),xr(),u.flags|=98560,F=!1;else if(F=Ir(u),b!==null&&b.dehydrated!==null){if(l===null){if(!F)throw Error(r(318));if(F=u.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(r(317));F[ri]=u}else xr(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Da(u),F=!1}else rt!==null&&(kv(rt),rt=null),F=!0;if(!F)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(an.current&1)!==0?Xn===0&&(Xn=3):Tv())),u.updateQueue!==null&&(u.flags|=4),Da(u),null);case 4:return ai(),bv(l,u),l===null&&el(u.stateNode.containerInfo),Da(u),null;case 10:return Ta(u.type._context),Da(u),null;case 17:return La(u.type)&&ud(),Da(u),null;case 19:if(Hr(an),F=u.memoizedState,F===null)return Da(u),null;if(b=(u.flags&128)!==0,ae=F.rendering,ae===null)if(b)nh(F,!1);else{if(Xn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(ae=Io(l),ae!==null){for(u.flags|=128,nh(F,!1),b=ae.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=m,m=u.child;m!==null;)F=m,l=b,F.flags&=14680066,ae=F.alternate,ae===null?(F.childLanes=0,F.lanes=l,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=ae.childLanes,F.lanes=ae.lanes,F.child=ae.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=ae.memoizedProps,F.memoizedState=ae.memoizedState,F.updateQueue=ae.updateQueue,F.type=ae.type,l=ae.dependencies,F.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Kr(an,an.current&1|2),u.child}l=l.sibling}F.tail!==null&&Cr()>Sd&&(u.flags|=128,b=!0,nh(F,!1),u.lanes=4194304)}else{if(!b)if(l=Io(ae),l!==null){if(u.flags|=128,b=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),nh(F,!0),F.tail===null&&F.tailMode==="hidden"&&!ae.alternate&&!et)return Da(u),null}else 2*Cr()-F.renderingStartTime>Sd&&m!==1073741824&&(u.flags|=128,b=!0,nh(F,!1),u.lanes=4194304);F.isBackwards?(ae.sibling=u.child,u.child=ae):(m=F.last,m!==null?m.sibling=ae:u.child=ae,F.last=ae)}return F.tail!==null?(u=F.tail,F.rendering=u,F.tail=u.sibling,F.renderingStartTime=Cr(),u.sibling=null,m=an.current,Kr(an,b?m&1|2:m&1),u):(Da(u),null);case 22:case 23:return Lv(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(Do&1073741824)!==0&&(Da(u),u.subtreeFlags&6&&(u.flags|=8192)):Da(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function t8(l,u){switch(Ie(u),u.tag){case 1:return La(u.type)&&ud(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ai(),Hr(Ia),Hr(Jn),eh(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Zf(u),null;case 13:if(Hr(an),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));xr()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Hr(an),null;case 4:return ai(),null;case 10:return Ta(u.type._context),null;case 22:case 23:return Lv(),null;case 24:return null;default:return null}}var em=!1,Ma=!1,r8=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Nd(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(b){In(l,u,b)}else m.current=null}function wv(l,u,m){try{m()}catch(b){In(l,u,b)}}var sj=!1;function n8(l,u){if(iu=Ml,l=Qc(),Ys(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var O=b.anchorOffset,F=b.focusNode;b=b.focusOffset;try{m.nodeType,F.nodeType}catch{m=null;break e}var ae=0,Se=-1,ke=-1,Ke=0,ht=0,yt=l,ft=null;t:for(;;){for(var Tt;yt!==m||O!==0&&yt.nodeType!==3||(Se=ae+O),yt!==F||b!==0&&yt.nodeType!==3||(ke=ae+b),yt.nodeType===3&&(ae+=yt.nodeValue.length),(Tt=yt.firstChild)!==null;)ft=yt,yt=Tt;for(;;){if(yt===l)break t;if(ft===m&&++Ke===O&&(Se=ae),ft===F&&++ht===b&&(ke=ae),(Tt=yt.nextSibling)!==null)break;yt=ft,ft=yt.parentNode}yt=Tt}m=Se===-1||ke===-1?null:{start:Se,end:ke}}else m=null}m=m||{start:0,end:0}}else m=null;for(rl={focusedElem:l,selectionRange:m},Ml=!1,Ft=u;Ft!==null;)if(u=Ft,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ft=l;else for(;Ft!==null;){u=Ft;try{var Bt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var Wt=Bt.memoizedProps,Fn=Bt.memoizedState,Ve=u.stateNode,Me=Ve.getSnapshotBeforeUpdate(u.elementType===u.type?Wt:Mi(u.type,Wt),Fn);Ve.__reactInternalSnapshotBeforeUpdate=Me}break;case 3:var We=u.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(jt){In(u,u.return,jt)}if(l=u.sibling,l!==null){l.return=u.return,Ft=l;break}Ft=u.return}return Bt=sj,sj=!1,Bt}function ah(l,u,m){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var O=b=b.next;do{if((O.tag&l)===l){var F=O.destroy;O.destroy=void 0,F!==void 0&&wv(u,m,F)}O=O.next}while(O!==b)}}function tm(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var b=m.create;m.destroy=b()}m=m.next}while(m!==u)}}function Nv(l){var u=l.ref;if(u!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof u=="function"?u(l):u.current=l}}function lj(l){var u=l.alternate;u!==null&&(l.alternate=null,lj(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[ri],delete u[rc],delete u[ka],delete u[iv],delete u[sv])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function cj(l){return l.tag===5||l.tag===3||l.tag===4}function uj(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||cj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function jv(l,u,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=tc));else if(b!==4&&(l=l.child,l!==null))for(jv(l,u,m),l=l.sibling;l!==null;)jv(l,u,m),l=l.sibling}function Sv(l,u,m){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Sv(l,u,m),l=l.sibling;l!==null;)Sv(l,u,m),l=l.sibling}var ja=null,Ri=!1;function dc(l,u,m){for(m=m.child;m!==null;)dj(l,u,m),m=m.sibling}function dj(l,u,m){if(oo&&typeof oo.onCommitFiberUnmount=="function")try{oo.onCommitFiberUnmount(Ds,m)}catch{}switch(m.tag){case 5:Ma||Nd(m,u);case 6:var b=ja,O=Ri;ja=null,dc(l,u,m),ja=b,Ri=O,ja!==null&&(Ri?(l=ja,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):ja.removeChild(m.stateNode));break;case 18:ja!==null&&(Ri?(l=ja,m=m.stateNode,l.nodeType===8?Kf(l.parentNode,m):l.nodeType===1&&Kf(l,m),Po(l)):Kf(ja,m.stateNode));break;case 4:b=ja,O=Ri,ja=m.stateNode.containerInfo,Ri=!0,dc(l,u,m),ja=b,Ri=O;break;case 0:case 11:case 14:case 15:if(!Ma&&(b=m.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){O=b=b.next;do{var F=O,ae=F.destroy;F=F.tag,ae!==void 0&&((F&2)!==0||(F&4)!==0)&&wv(m,u,ae),O=O.next}while(O!==b)}dc(l,u,m);break;case 1:if(!Ma&&(Nd(m,u),b=m.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=m.memoizedProps,b.state=m.memoizedState,b.componentWillUnmount()}catch(Se){In(m,u,Se)}dc(l,u,m);break;case 21:dc(l,u,m);break;case 22:m.mode&1?(Ma=(b=Ma)||m.memoizedState!==null,dc(l,u,m),Ma=b):dc(l,u,m);break;default:dc(l,u,m)}}function fj(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new r8),u.forEach(function(b){var O=f8.bind(null,l,b);m.has(b)||(m.add(b),b.then(O,O))})}}function $i(l,u){var m=u.deletions;if(m!==null)for(var b=0;b<m.length;b++){var O=m[b];try{var F=l,ae=u,Se=ae;e:for(;Se!==null;){switch(Se.tag){case 5:ja=Se.stateNode,Ri=!1;break e;case 3:ja=Se.stateNode.containerInfo,Ri=!0;break e;case 4:ja=Se.stateNode.containerInfo,Ri=!0;break e}Se=Se.return}if(ja===null)throw Error(r(160));dj(F,ae,O),ja=null,Ri=!1;var ke=O.alternate;ke!==null&&(ke.return=null),O.return=null}catch(Ke){In(O,u,Ke)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)hj(u,l),u=u.sibling}function hj(l,u){var m=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if($i(u,l),xs(l),b&4){try{ah(3,l,l.return),tm(3,l)}catch(Wt){In(l,l.return,Wt)}try{ah(5,l,l.return)}catch(Wt){In(l,l.return,Wt)}}break;case 1:$i(u,l),xs(l),b&512&&m!==null&&Nd(m,m.return);break;case 5:if($i(u,l),xs(l),b&512&&m!==null&&Nd(m,m.return),l.flags&32){var O=l.stateNode;try{At(O,"")}catch(Wt){In(l,l.return,Wt)}}if(b&4&&(O=l.stateNode,O!=null)){var F=l.memoizedProps,ae=m!==null?m.memoizedProps:F,Se=l.type,ke=l.updateQueue;if(l.updateQueue=null,ke!==null)try{Se==="input"&&F.type==="radio"&&F.name!=null&&se(O,F),rn(Se,ae);var Ke=rn(Se,F);for(ae=0;ae<ke.length;ae+=2){var ht=ke[ae],yt=ke[ae+1];ht==="style"?Lr(O,yt):ht==="dangerouslySetInnerHTML"?Nt(O,yt):ht==="children"?At(O,yt):P(O,ht,yt,Ke)}switch(Se){case"input":ct(O,F);break;case"textarea":le(O,F);break;case"select":var ft=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!F.multiple;var Tt=F.value;Tt!=null?je(O,!!F.multiple,Tt,!1):ft!==!!F.multiple&&(F.defaultValue!=null?je(O,!!F.multiple,F.defaultValue,!0):je(O,!!F.multiple,F.multiple?[]:"",!1))}O[rc]=F}catch(Wt){In(l,l.return,Wt)}}break;case 6:if($i(u,l),xs(l),b&4){if(l.stateNode===null)throw Error(r(162));O=l.stateNode,F=l.memoizedProps;try{O.nodeValue=F}catch(Wt){In(l,l.return,Wt)}}break;case 3:if($i(u,l),xs(l),b&4&&m!==null&&m.memoizedState.isDehydrated)try{Po(u.containerInfo)}catch(Wt){In(l,l.return,Wt)}break;case 4:$i(u,l),xs(l);break;case 13:$i(u,l),xs(l),O=l.child,O.flags&8192&&(F=O.memoizedState!==null,O.stateNode.isHidden=F,!F||O.alternate!==null&&O.alternate.memoizedState!==null||(Pv=Cr())),b&4&&fj(l);break;case 22:if(ht=m!==null&&m.memoizedState!==null,l.mode&1?(Ma=(Ke=Ma)||ht,$i(u,l),Ma=Ke):$i(u,l),xs(l),b&8192){if(Ke=l.memoizedState!==null,(l.stateNode.isHidden=Ke)&&!ht&&(l.mode&1)!==0)for(Ft=l,ht=l.child;ht!==null;){for(yt=Ft=ht;Ft!==null;){switch(ft=Ft,Tt=ft.child,ft.tag){case 0:case 11:case 14:case 15:ah(4,ft,ft.return);break;case 1:Nd(ft,ft.return);var Bt=ft.stateNode;if(typeof Bt.componentWillUnmount=="function"){b=ft,m=ft.return;try{u=b,Bt.props=u.memoizedProps,Bt.state=u.memoizedState,Bt.componentWillUnmount()}catch(Wt){In(b,m,Wt)}}break;case 5:Nd(ft,ft.return);break;case 22:if(ft.memoizedState!==null){gj(yt);continue}}Tt!==null?(Tt.return=ft,Ft=Tt):gj(yt)}ht=ht.sibling}e:for(ht=null,yt=l;;){if(yt.tag===5){if(ht===null){ht=yt;try{O=yt.stateNode,Ke?(F=O.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(Se=yt.stateNode,ke=yt.memoizedProps.style,ae=ke!=null&&ke.hasOwnProperty("display")?ke.display:null,Se.style.display=Yt("display",ae))}catch(Wt){In(l,l.return,Wt)}}}else if(yt.tag===6){if(ht===null)try{yt.stateNode.nodeValue=Ke?"":yt.memoizedProps}catch(Wt){In(l,l.return,Wt)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===l)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===l)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===l)break e;ht===yt&&(ht=null),yt=yt.return}ht===yt&&(ht=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:$i(u,l),xs(l),b&4&&fj(l);break;case 21:break;default:$i(u,l),xs(l)}}function xs(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(cj(m)){var b=m;break e}m=m.return}throw Error(r(160))}switch(b.tag){case 5:var O=b.stateNode;b.flags&32&&(At(O,""),b.flags&=-33);var F=uj(l);Sv(l,F,O);break;case 3:case 4:var ae=b.stateNode.containerInfo,Se=uj(l);jv(l,Se,ae);break;default:throw Error(r(161))}}catch(ke){In(l,l.return,ke)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function a8(l,u,m){Ft=l,pj(l)}function pj(l,u,m){for(var b=(l.mode&1)!==0;Ft!==null;){var O=Ft,F=O.child;if(O.tag===22&&b){var ae=O.memoizedState!==null||em;if(!ae){var Se=O.alternate,ke=Se!==null&&Se.memoizedState!==null||Ma;Se=em;var Ke=Ma;if(em=ae,(Ma=ke)&&!Ke)for(Ft=O;Ft!==null;)ae=Ft,ke=ae.child,ae.tag===22&&ae.memoizedState!==null?vj(O):ke!==null?(ke.return=ae,Ft=ke):vj(O);for(;F!==null;)Ft=F,pj(F),F=F.sibling;Ft=O,em=Se,Ma=Ke}mj(l)}else(O.subtreeFlags&8772)!==0&&F!==null?(F.return=O,Ft=F):mj(l)}}function mj(l){for(;Ft!==null;){var u=Ft;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Ma||tm(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Ma)if(m===null)b.componentDidMount();else{var O=u.elementType===u.type?m.memoizedProps:Mi(u.type,m.memoizedProps);b.componentDidUpdate(O,m.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var F=u.updateQueue;F!==null&&sl(u,F,b);break;case 3:var ae=u.updateQueue;if(ae!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}sl(u,ae,m)}break;case 5:var Se=u.stateNode;if(m===null&&u.flags&4){m=Se;var ke=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ke.autoFocus&&m.focus();break;case"img":ke.src&&(m.src=ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ke=u.alternate;if(Ke!==null){var ht=Ke.memoizedState;if(ht!==null){var yt=ht.dehydrated;yt!==null&&Po(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ma||u.flags&512&&Nv(u)}catch(ft){In(u,u.return,ft)}}if(u===l){Ft=null;break}if(m=u.sibling,m!==null){m.return=u.return,Ft=m;break}Ft=u.return}}function gj(l){for(;Ft!==null;){var u=Ft;if(u===l){Ft=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Ft=m;break}Ft=u.return}}function vj(l){for(;Ft!==null;){var u=Ft;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{tm(4,u)}catch(ke){In(u,m,ke)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var O=u.return;try{b.componentDidMount()}catch(ke){In(u,O,ke)}}var F=u.return;try{Nv(u)}catch(ke){In(u,F,ke)}break;case 5:var ae=u.return;try{Nv(u)}catch(ke){In(u,ae,ke)}}}catch(ke){In(u,u.return,ke)}if(u===l){Ft=null;break}var Se=u.sibling;if(Se!==null){Se.return=u.return,Ft=Se;break}Ft=u.return}}var o8=Math.ceil,rm=R.ReactCurrentDispatcher,Cv=R.ReactCurrentOwner,si=R.ReactCurrentBatchConfig,Mr=0,ua=null,Vn=null,Sa=0,Do=0,jd=ko(0),Xn=0,oh=null,fu=0,nm=0,Av=0,ih=null,vo=null,Pv=0,Sd=1/0,ul=null,am=!1,_v=null,fc=null,om=!1,hc=null,im=0,sh=0,Ev=null,sm=-1,lm=0;function to(){return(Mr&6)!==0?Cr():sm!==-1?sm:sm=Cr()}function pc(l){return(l.mode&1)===0?1:(Mr&2)!==0&&Sa!==0?Sa&-Sa:Jr.transition!==null?(lm===0&&(lm=qc()),lm):(l=Tr,l!==0||(l=window.event,l=l===void 0?16:Gc(l.type)),l)}function Fi(l,u,m,b){if(50<sh)throw sh=0,Ev=null,Error(r(185));ts(l,m,b),((Mr&2)===0||l!==ua)&&(l===ua&&((Mr&2)===0&&(nm|=m),Xn===4&&mc(l,Sa)),yo(l,b),m===1&&Mr===0&&(u.mode&1)===0&&(Sd=Cr()+500,lu&&U()))}function yo(l,u){var m=l.callbackNode;Pa(l,u);var b=Aa(l,l===ua?Sa:0);if(b===0)m!==null&&Rr(m),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(m!=null&&Rr(m),u===1)l.tag===0?k(xj.bind(null,l)):N(xj.bind(null,l)),av(function(){(Mr&6)===0&&U()}),m=null;else{switch(Il(b)){case 1:m=yr;break;case 4:m=bn;break;case 16:m=Co;break;case 536870912:m=Xu;break;default:m=Co}m=Pj(m,yj.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function yj(l,u){if(sm=-1,lm=0,(Mr&6)!==0)throw Error(r(327));var m=l.callbackNode;if(Cd()&&l.callbackNode!==m)return null;var b=Aa(l,l===ua?Sa:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=cm(l,b);else{u=b;var O=Mr;Mr|=2;var F=wj();(ua!==l||Sa!==u)&&(ul=null,Sd=Cr()+500,pu(l,u));do try{l8();break}catch(Se){bj(l,Se)}while(!0);Yn(),rm.current=F,Mr=O,Vn!==null?u=0:(ua=null,Sa=0,u=Xn)}if(u!==0){if(u===2&&(O=$s(l),O!==0&&(b=O,u=Ov(l,O))),u===1)throw m=oh,pu(l,0),mc(l,b),yo(l,Cr()),m;if(u===6)mc(l,b);else{if(O=l.current.alternate,(b&30)===0&&!i8(O)&&(u=cm(l,b),u===2&&(F=$s(l),F!==0&&(b=F,u=Ov(l,F))),u===1))throw m=oh,pu(l,0),mc(l,b),yo(l,Cr()),m;switch(l.finishedWork=O,l.finishedLanes=b,u){case 0:case 1:throw Error(r(345));case 2:mu(l,vo,ul);break;case 3:if(mc(l,b),(b&130023424)===b&&(u=Pv+500-Cr(),10<u)){if(Aa(l,0)!==0)break;if(O=l.suspendedLanes,(O&b)!==b){to(),l.pingedLanes|=l.suspendedLanes&O;break}l.timeoutHandle=Gf(mu.bind(null,l,vo,ul),u);break}mu(l,vo,ul);break;case 4:if(mc(l,b),(b&4194240)===b)break;for(u=l.eventTimes,O=-1;0<b;){var ae=31-Wa(b);F=1<<ae,ae=u[ae],ae>O&&(O=ae),b&=~F}if(b=O,b=Cr()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*o8(b/1960))-b,10<b){l.timeoutHandle=Gf(mu.bind(null,l,vo,ul),b);break}mu(l,vo,ul);break;case 5:mu(l,vo,ul);break;default:throw Error(r(329))}}}return yo(l,Cr()),l.callbackNode===m?yj.bind(null,l):null}function Ov(l,u){var m=ih;return l.current.memoizedState.isDehydrated&&(pu(l,u).flags|=256),l=cm(l,u),l!==2&&(u=vo,vo=m,u!==null&&kv(u)),l}function kv(l){vo===null?vo=l:vo.push.apply(vo,l)}function i8(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var b=0;b<m.length;b++){var O=m[b],F=O.getSnapshot;O=O.value;try{if(!Dr(F(),O))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function mc(l,u){for(u&=~Av,u&=~nm,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-Wa(u),b=1<<m;l[m]=-1,u&=~b}}function xj(l){if((Mr&6)!==0)throw Error(r(327));Cd();var u=Aa(l,0);if((u&1)===0)return yo(l,Cr()),null;var m=cm(l,u);if(l.tag!==0&&m===2){var b=$s(l);b!==0&&(u=b,m=Ov(l,b))}if(m===1)throw m=oh,pu(l,0),mc(l,u),yo(l,Cr()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,mu(l,vo,ul),yo(l,Cr()),null}function Iv(l,u){var m=Mr;Mr|=1;try{return l(u)}finally{Mr=m,Mr===0&&(Sd=Cr()+500,lu&&U())}}function hu(l){hc!==null&&hc.tag===0&&(Mr&6)===0&&Cd();var u=Mr;Mr|=1;var m=si.transition,b=Tr;try{if(si.transition=null,Tr=1,l)return l()}finally{Tr=b,si.transition=m,Mr=u,(Mr&6)===0&&U()}}function Lv(){Do=jd.current,Hr(jd)}function pu(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,Bp(m)),Vn!==null)for(m=Vn.return;m!==null;){var b=m;switch(Ie(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&ud();break;case 3:ai(),Hr(Ia),Hr(Jn),eh();break;case 5:Zf(b);break;case 4:ai();break;case 13:Hr(an);break;case 19:Hr(an);break;case 10:Ta(b.type._context);break;case 22:case 23:Lv()}m=m.return}if(ua=l,Vn=l=gc(l.current,null),Sa=Do=u,Xn=0,oh=null,Av=nm=fu=0,vo=ih=null,Ya!==null){for(u=0;u<Ya.length;u++)if(m=Ya[u],b=m.interleaved,b!==null){m.interleaved=null;var O=b.next,F=m.pending;if(F!==null){var ae=F.next;F.next=O,b.next=ae}m.pending=b}Ya=null}return l}function bj(l,u){do{var m=Vn;try{if(Yn(),fd.current=Yp,lc){for(var b=ln.memoizedState;b!==null;){var O=b.queue;O!==null&&(O.pending=null),b=b.next}lc=!1}if(oi=0,Pn=kn=ln=null,Ti=!1,cc=0,Cv.current=null,m===null||m.return===null){Xn=1,oh=u,Vn=null;break}e:{var F=l,ae=m.return,Se=m,ke=u;if(u=Sa,Se.flags|=32768,ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var Ke=ke,ht=Se,yt=ht.tag;if((ht.mode&1)===0&&(yt===0||yt===11||yt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Tt=WN(ae);if(Tt!==null){Tt.flags&=-257,HN(Tt,ae,Se,F,u),Tt.mode&1&&VN(F,Ke,u),u=Tt,ke=Ke;var Bt=u.updateQueue;if(Bt===null){var Wt=new Set;Wt.add(ke),u.updateQueue=Wt}else Bt.add(ke);break e}else{if((u&1)===0){VN(F,Ke,u),Tv();break e}ke=Error(r(426))}}else if(et&&Se.mode&1){var Fn=WN(ae);if(Fn!==null){(Fn.flags&65536)===0&&(Fn.flags|=256),HN(Fn,ae,Se,F,u),Gr(wd(ke,Se));break e}}F=ke=wd(ke,Se),Xn!==4&&(Xn=2),ih===null?ih=[F]:ih.push(F),F=ae;do{switch(F.tag){case 3:F.flags|=65536,u&=-u,F.lanes|=u;var Ve=qN(F,ke,u);mo(F,Ve);break e;case 1:Se=ke;var Me=F.type,We=F.stateNode;if((F.flags&128)===0&&(typeof Me.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(fc===null||!fc.has(We)))){F.flags|=65536,u&=-u,F.lanes|=u;var jt=UN(F,Se,u);mo(F,jt);break e}}F=F.return}while(F!==null)}jj(m)}catch(Gt){u=Gt,Vn===m&&m!==null&&(Vn=m=m.return);continue}break}while(!0)}function wj(){var l=rm.current;return rm.current=Yp,l===null?Yp:l}function Tv(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ua===null||(fu&268435455)===0&&(nm&268435455)===0||mc(ua,Sa)}function cm(l,u){var m=Mr;Mr|=2;var b=wj();(ua!==l||Sa!==u)&&(ul=null,pu(l,u));do try{s8();break}catch(O){bj(l,O)}while(!0);if(Yn(),Mr=m,rm.current=b,Vn!==null)throw Error(r(261));return ua=null,Sa=0,Xn}function s8(){for(;Vn!==null;)Nj(Vn)}function l8(){for(;Vn!==null&&!xn();)Nj(Vn)}function Nj(l){var u=Aj(l.alternate,l,Do);l.memoizedProps=l.pendingProps,u===null?jj(l):Vn=u,Cv.current=null}function jj(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=e8(m,u,Do),m!==null){Vn=m;return}}else{if(m=t8(m,u),m!==null){m.flags&=32767,Vn=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Xn=6,Vn=null;return}}if(u=u.sibling,u!==null){Vn=u;return}Vn=u=l}while(u!==null);Xn===0&&(Xn=5)}function mu(l,u,m){var b=Tr,O=si.transition;try{si.transition=null,Tr=1,c8(l,u,m,b)}finally{si.transition=O,Tr=b}return null}function c8(l,u,m,b){do Cd();while(hc!==null);if((Mr&6)!==0)throw Error(r(327));m=l.finishedWork;var O=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var F=m.lanes|m.childLanes;if(Uf(l,F),l===ua&&(Vn=ua=null,Sa=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||om||(om=!0,Pj(Co,function(){return Cd(),null})),F=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||F){F=si.transition,si.transition=null;var ae=Tr;Tr=1;var Se=Mr;Mr|=4,Cv.current=null,n8(l,m),hj(m,l),Xs(rl),Ml=!!iu,rl=iu=null,l.current=m,a8(m),Gn(),Mr=Se,Tr=ae,si.transition=F}else l.current=m;if(om&&(om=!1,hc=l,im=O),F=l.pendingLanes,F===0&&(fc=null),El(m.stateNode),yo(l,Cr()),u!==null)for(b=l.onRecoverableError,m=0;m<u.length;m++)O=u[m],b(O.value,{componentStack:O.stack,digest:O.digest});if(am)throw am=!1,l=_v,_v=null,l;return(im&1)!==0&&l.tag!==0&&Cd(),F=l.pendingLanes,(F&1)!==0?l===Ev?sh++:(sh=0,Ev=l):sh=0,U(),null}function Cd(){if(hc!==null){var l=Il(im),u=si.transition,m=Tr;try{if(si.transition=null,Tr=16>l?16:l,hc===null)var b=!1;else{if(l=hc,hc=null,im=0,(Mr&6)!==0)throw Error(r(331));var O=Mr;for(Mr|=4,Ft=l.current;Ft!==null;){var F=Ft,ae=F.child;if((Ft.flags&16)!==0){var Se=F.deletions;if(Se!==null){for(var ke=0;ke<Se.length;ke++){var Ke=Se[ke];for(Ft=Ke;Ft!==null;){var ht=Ft;switch(ht.tag){case 0:case 11:case 15:ah(8,ht,F)}var yt=ht.child;if(yt!==null)yt.return=ht,Ft=yt;else for(;Ft!==null;){ht=Ft;var ft=ht.sibling,Tt=ht.return;if(lj(ht),ht===Ke){Ft=null;break}if(ft!==null){ft.return=Tt,Ft=ft;break}Ft=Tt}}}var Bt=F.alternate;if(Bt!==null){var Wt=Bt.child;if(Wt!==null){Bt.child=null;do{var Fn=Wt.sibling;Wt.sibling=null,Wt=Fn}while(Wt!==null)}}Ft=F}}if((F.subtreeFlags&2064)!==0&&ae!==null)ae.return=F,Ft=ae;else e:for(;Ft!==null;){if(F=Ft,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:ah(9,F,F.return)}var Ve=F.sibling;if(Ve!==null){Ve.return=F.return,Ft=Ve;break e}Ft=F.return}}var Me=l.current;for(Ft=Me;Ft!==null;){ae=Ft;var We=ae.child;if((ae.subtreeFlags&2064)!==0&&We!==null)We.return=ae,Ft=We;else e:for(ae=Me;Ft!==null;){if(Se=Ft,(Se.flags&2048)!==0)try{switch(Se.tag){case 0:case 11:case 15:tm(9,Se)}}catch(Gt){In(Se,Se.return,Gt)}if(Se===ae){Ft=null;break e}var jt=Se.sibling;if(jt!==null){jt.return=Se.return,Ft=jt;break e}Ft=Se.return}}if(Mr=O,U(),oo&&typeof oo.onPostCommitFiberRoot=="function")try{oo.onPostCommitFiberRoot(Ds,l)}catch{}b=!0}return b}finally{Tr=m,si.transition=u}}return!1}function Sj(l,u,m){u=wd(m,u),u=qN(l,u,1),l=po(l,u,1),u=to(),l!==null&&(ts(l,1,u),yo(l,u))}function In(l,u,m){if(l.tag===3)Sj(l,l,m);else for(;u!==null;){if(u.tag===3){Sj(u,l,m);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(fc===null||!fc.has(b))){l=wd(m,l),l=UN(u,l,1),u=po(u,l,1),l=to(),u!==null&&(ts(u,1,l),yo(u,l));break}}u=u.return}}function u8(l,u,m){var b=l.pingCache;b!==null&&b.delete(u),u=to(),l.pingedLanes|=l.suspendedLanes&m,ua===l&&(Sa&m)===m&&(Xn===4||Xn===3&&(Sa&130023424)===Sa&&500>Cr()-Pv?pu(l,0):Av|=m),yo(l,u)}function Cj(l,u){u===0&&((l.mode&1)===0?u=1:(u=es,es<<=1,(es&130023424)===0&&(es=4194304)));var m=to();l=Fr(l,u),l!==null&&(ts(l,u,m),yo(l,m))}function d8(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Cj(l,m)}function f8(l,u){var m=0;switch(l.tag){case 13:var b=l.stateNode,O=l.memoizedState;O!==null&&(m=O.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(r(314))}b!==null&&b.delete(u),Cj(l,m)}var Aj;Aj=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Ia.current)go=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return go=!1,QL(l,u,m);go=(l.flags&131072)!==0}else go=!1,et&&(u.flags&1048576)!==0&&ot(u,ce,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;Qp(l,u),l=u.pendingProps;var O=ac(u,Jn.current);gn(u,m),O=cu(null,u,b,l,O,m);var F=ii();return u.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,La(b)?(F=!0,ol(u)):F=!1,u.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,dd(u),O.updater=Xp,u.stateNode=O,O._reactInternals=u,dv(u,b,l,m),u=mv(null,u,b,!0,F,m)):(u.tag=0,et&&F&&Xe(u),eo(null,u,O,m),u=u.child),u;case 16:b=u.elementType;e:{switch(Qp(l,u),l=u.pendingProps,O=b._init,b=O(b._payload),u.type=b,O=u.tag=p8(b),l=Mi(b,l),O){case 0:u=pv(null,u,b,l,m);break e;case 1:u=ZN(null,u,b,l,m);break e;case 11:u=GN(null,u,b,l,m);break e;case 14:u=KN(null,u,b,Mi(b.type,l),m);break e}throw Error(r(306,b,""))}return u;case 0:return b=u.type,O=u.pendingProps,O=u.elementType===b?O:Mi(b,O),pv(l,u,b,O,m);case 1:return b=u.type,O=u.pendingProps,O=u.elementType===b?O:Mi(b,O),ZN(l,u,b,O,m);case 3:e:{if(QN(u),l===null)throw Error(r(387));b=u.pendingProps,F=u.memoizedState,O=F.element,Xf(l,u),Ii(u,b,null,m);var ae=u.memoizedState;if(b=ae.element,F.isDehydrated)if(F={element:b,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},u.updateQueue.baseState=F,u.memoizedState=F,u.flags&256){O=wd(Error(r(423)),u),u=ej(l,u,b,m,O);break e}else if(b!==O){O=wd(Error(r(424)),u),u=ej(l,u,b,m,O);break e}else for(tt=wa(u.stateNode.containerInfo.firstChild),Le=u,et=!0,rt=null,m=$r(u,null,b,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(xr(),b===O){u=cl(l,u,m);break e}eo(l,u,b,m)}u=u.child}return u;case 5:return Wp(u),l===null&&_t(u),b=u.type,O=u.pendingProps,F=l!==null?l.memoizedProps:null,ae=O.children,Hf(b,O)?ae=null:F!==null&&Hf(b,F)&&(u.flags|=32),XN(l,u),eo(l,u,ae,m),u.child;case 6:return l===null&&_t(u),null;case 13:return tj(l,u,m);case 4:return sc(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=Mn(u,null,b,m):eo(l,u,b,m),u.child;case 11:return b=u.type,O=u.pendingProps,O=u.elementType===b?O:Mi(b,O),GN(l,u,b,O,m);case 7:return eo(l,u,u.pendingProps,m),u.child;case 8:return eo(l,u,u.pendingProps.children,m),u.child;case 12:return eo(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(b=u.type._context,O=u.pendingProps,F=u.memoizedProps,ae=O.value,Kr(la,b._currentValue),b._currentValue=ae,F!==null)if(Dr(F.value,ae)){if(F.children===O.children&&!Ia.current){u=cl(l,u,m);break e}}else for(F=u.child,F!==null&&(F.return=u);F!==null;){var Se=F.dependencies;if(Se!==null){ae=F.child;for(var ke=Se.firstContext;ke!==null;){if(ke.context===b){if(F.tag===1){ke=ho(-1,m&-m),ke.tag=2;var Ke=F.updateQueue;if(Ke!==null){Ke=Ke.shared;var ht=Ke.pending;ht===null?ke.next=ke:(ke.next=ht.next,ht.next=ke),Ke.pending=ke}}F.lanes|=m,ke=F.alternate,ke!==null&&(ke.lanes|=m),fo(F.return,m,u),Se.lanes|=m;break}ke=ke.next}}else if(F.tag===10)ae=F.type===u.type?null:F.child;else if(F.tag===18){if(ae=F.return,ae===null)throw Error(r(341));ae.lanes|=m,Se=ae.alternate,Se!==null&&(Se.lanes|=m),fo(ae,m,u),ae=F.sibling}else ae=F.child;if(ae!==null)ae.return=F;else for(ae=F;ae!==null;){if(ae===u){ae=null;break}if(F=ae.sibling,F!==null){F.return=ae.return,ae=F;break}ae=ae.return}F=ae}eo(l,u,O.children,m),u=u.child}return u;case 9:return O=u.type,b=u.pendingProps.children,gn(u,m),O=On(O),b=b(O),u.flags|=1,eo(l,u,b,m),u.child;case 14:return b=u.type,O=Mi(b,u.pendingProps),O=Mi(b.type,O),KN(l,u,b,O,m);case 15:return JN(l,u,u.type,u.pendingProps,m);case 17:return b=u.type,O=u.pendingProps,O=u.elementType===b?O:Mi(b,O),Qp(l,u),u.tag=1,La(b)?(l=!0,ol(u)):l=!1,gn(u,m),zN(u,b,O),dv(u,b,O,m),mv(null,u,b,!0,l,m);case 19:return nj(l,u,m);case 22:return YN(l,u,m)}throw Error(r(156,u.tag))};function Pj(l,u){return dr(l,u)}function h8(l,u,m,b){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(l,u,m,b){return new h8(l,u,m,b)}function Dv(l){return l=l.prototype,!(!l||!l.isReactComponent)}function p8(l){if(typeof l=="function")return Dv(l)?1:0;if(l!=null){if(l=l.$$typeof,l===$)return 11;if(l===z)return 14}return 2}function gc(l,u){var m=l.alternate;return m===null?(m=li(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function um(l,u,m,b,O,F){var ae=2;if(b=l,typeof l=="function")Dv(l)&&(ae=1);else if(typeof l=="string")ae=5;else e:switch(l){case _:return gu(m.children,O,F,u);case B:ae=8,O|=8;break;case V:return l=li(12,m,u,O|2),l.elementType=V,l.lanes=F,l;case D:return l=li(13,m,u,O),l.elementType=D,l.lanes=F,l;case I:return l=li(19,m,u,O),l.elementType=I,l.lanes=F,l;case ee:return dm(m,O,F,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case K:ae=10;break e;case E:ae=9;break e;case $:ae=11;break e;case z:ae=14;break e;case W:ae=16,b=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=li(ae,m,u,O),u.elementType=l,u.type=b,u.lanes=F,u}function gu(l,u,m,b){return l=li(7,l,b,u),l.lanes=m,l}function dm(l,u,m,b){return l=li(22,l,b,u),l.elementType=ee,l.lanes=m,l.stateNode={isHidden:!1},l}function Mv(l,u,m){return l=li(6,l,null,u),l.lanes=m,l}function Rv(l,u,m){return u=li(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function m8(l,u,m,b,O){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=b,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function $v(l,u,m,b,O,F,ae,Se,ke){return l=new m8(l,u,m,Se,ke),u===1?(u=1,F===!0&&(u|=8)):u=0,F=li(3,null,null,u),l.current=F,F.stateNode=l,F.memoizedState={element:b,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(F),l}function g8(l,u,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:b==null?null:""+b,children:l,containerInfo:u,implementation:m}}function _j(l){if(!l)return ms;l=l._reactInternals;e:{if(Ze(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(La(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(La(m))return Yf(l,m,u)}return u}function Ej(l,u,m,b,O,F,ae,Se,ke){return l=$v(m,b,!0,l,O,F,ae,Se,ke),l.context=_j(null),m=l.current,b=to(),O=pc(m),F=ho(b,O),F.callback=u??null,po(m,F,O),l.current.lanes=O,ts(l,O,b),yo(l,b),l}function fm(l,u,m,b){var O=u.current,F=to(),ae=pc(O);return m=_j(m),u.context===null?u.context=m:u.pendingContext=m,u=ho(F,ae),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=po(O,u,ae),l!==null&&(Fi(l,O,ae,F),il(l,O,ae)),ae}function hm(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Oj(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Fv(l,u){Oj(l,u),(l=l.alternate)&&Oj(l,u)}function v8(){return null}var kj=typeof reportError=="function"?reportError:function(l){console.error(l)};function zv(l){this._internalRoot=l}pm.prototype.render=zv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));fm(l,u,null,null)},pm.prototype.unmount=zv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;hu(function(){fm(null,l,null,null)}),u[sa]=null}};function pm(l){this._internalRoot=l}pm.prototype.unstable_scheduleHydration=function(l){if(l){var u=Go();l={blockedOn:null,target:l,priority:u};for(var m=0;m<Jo.length&&u!==0&&u<Jo[m].priority;m++);Jo.splice(m,0,l),m===0&&Tl(l)}};function Bv(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function mm(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Ij(){}function y8(l,u,m,b,O){if(O){if(typeof b=="function"){var F=b;b=function(){var Ke=hm(ae);F.call(Ke)}}var ae=Ej(u,b,l,0,null,!1,!1,"",Ij);return l._reactRootContainer=ae,l[sa]=ae.current,el(l.nodeType===8?l.parentNode:l),hu(),ae}for(;O=l.lastChild;)l.removeChild(O);if(typeof b=="function"){var Se=b;b=function(){var Ke=hm(ke);Se.call(Ke)}}var ke=$v(l,0,!1,null,null,!1,!1,"",Ij);return l._reactRootContainer=ke,l[sa]=ke.current,el(l.nodeType===8?l.parentNode:l),hu(function(){fm(u,ke,m,b)}),ke}function gm(l,u,m,b,O){var F=m._reactRootContainer;if(F){var ae=F;if(typeof O=="function"){var Se=O;O=function(){var ke=hm(ae);Se.call(ke)}}fm(u,ae,l,O)}else ae=y8(m,u,l,O,b);return hm(ae)}ed=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=Rs(u.pendingLanes);m!==0&&(kl(u,m|1),yo(u,Cr()),(Mr&6)===0&&(Sd=Cr()+500,U()))}break;case 13:hu(function(){var b=Fr(l,1);if(b!==null){var O=to();Fi(b,l,1,O)}}),Fv(l,1)}},Vc=function(l){if(l.tag===13){var u=Fr(l,134217728);if(u!==null){var m=to();Fi(u,l,134217728,m)}Fv(l,134217728)}},td=function(l){if(l.tag===13){var u=pc(l),m=Fr(l,u);if(m!==null){var b=to();Fi(m,l,u,b)}Fv(l,u)}},Go=function(){return Tr},Fs=function(l,u){var m=Tr;try{return Tr=l,u()}finally{Tr=m}},He=function(l,u,m){switch(u){case"input":if(ct(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var b=m[u];if(b!==l&&b.form===l.form){var O=su(b);if(!O)throw Error(r(90));ue(b),ct(b,O)}}}break;case"textarea":le(l,m);break;case"select":u=m.value,u!=null&&je(l,!!m.multiple,u,!1)}},wr=Iv,ar=hu;var x8={usingClientEntryPoint:!1,Events:[nc,nl,su,xt,bt,Iv]},lh={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b8={bundleType:lh.bundleType,version:lh.version,rendererPackageName:lh.rendererPackageName,rendererConfig:lh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=gt(l),l===null?null:l.stateNode},findFiberByHostInstance:lh.findFiberByHostInstance||v8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{Ds=vm.inject(b8),oo=vm}catch{}}return xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x8,xo.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(u))throw Error(r(200));return g8(l,u,null,m)},xo.createRoot=function(l,u){if(!Bv(l))throw Error(r(299));var m=!1,b="",O=kj;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(O=u.onRecoverableError)),u=$v(l,1,!1,null,null,m,!1,b,O),l[sa]=u.current,el(l.nodeType===8?l.parentNode:l),new zv(u)},xo.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=gt(u),l=l===null?null:l.stateNode,l},xo.flushSync=function(l){return hu(l)},xo.hydrate=function(l,u,m){if(!mm(u))throw Error(r(200));return gm(null,l,u,!0,m)},xo.hydrateRoot=function(l,u,m){if(!Bv(l))throw Error(r(405));var b=m!=null&&m.hydratedSources||null,O=!1,F="",ae=kj;if(m!=null&&(m.unstable_strictMode===!0&&(O=!0),m.identifierPrefix!==void 0&&(F=m.identifierPrefix),m.onRecoverableError!==void 0&&(ae=m.onRecoverableError)),u=Ej(u,null,l,1,m??null,O,!1,F,ae),l[sa]=u.current,el(l),b)for(l=0;l<b.length;l++)m=b[l],O=m._getVersion,O=O(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,O]:u.mutableSourceEagerHydrationData.push(m,O);return new pm(u)},xo.render=function(l,u,m){if(!mm(u))throw Error(r(200));return gm(null,l,u,!1,m)},xo.unmountComponentAtNode=function(l){if(!mm(l))throw Error(r(40));return l._reactRootContainer?(hu(function(){gm(null,null,l,!1,function(){l._reactRootContainer=null,l[sa]=null})}),!0):!1},xo.unstable_batchedUpdates=Iv,xo.unstable_renderSubtreeIntoContainer=function(l,u,m,b){if(!mm(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return gm(l,u,m,!1,b)},xo.version="18.3.1-next-f1338f8080-20240426",xo}var zj;function Z6(){if(zj)return Vv.exports;zj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vv.exports=P8(),Vv.exports}var Bj;function _8(){if(Bj)return xm;Bj=1;var e=Z6();return xm.createRoot=e.createRoot,xm.hydrateRoot=e.hydrateRoot,xm}var E8=_8(),M=f5();const Pe=tn(M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),qj=e=>{const t=k8(e);return t.charAt(0).toUpperCase()+t.slice(1)},Q6=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...c},d)=>M.createElement("svg",{ref:d,...I8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Q6("lucide",a),...c},[...s.map(([f,p])=>M.createElement(f,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(e,t)=>{const r=M.forwardRef(({className:n,...a},i)=>M.createElement(L8,{ref:i,iconNode:t,className:Q6(`lucide-${O8(qj(e))}`,`lucide-${e}`,n),...a}));return r.displayName=qj(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],D8=Mt("arrow-left",T8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],R8=Mt("arrow-right",M8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],h5=Mt("ban",$8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kh=Mt("bell",F8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],B8=Mt("camera",z8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Uj=Mt("check-check",q8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V8=Mt("check",U8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vj=Mt("chevron-down",W8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ah=Mt("chevron-right",H8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],K8=Mt("chevron-up",G8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Br=Mt("circle-alert",J8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kc=Mt("circle-check-big",Y8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wj=Mt("circle-x",X8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],p5=Mt("dollar-sign",Z8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],yl=Mt("download",Q8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Pc=Mt("eye-off",eT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ma=Mt("eye",tT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],eE=Mt("facebook",rT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],A2=Mt("file-text",nT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],oT=Mt("folder-tree",aT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],sT=Mt("globe",iT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],cT=Mt("grid-3x3",lT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ic=Mt("heart",uT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fT=Mt("history",dT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pT=Mt("image",hT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gT=Mt("info",mT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],tE=Mt("instagram",vT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xT=Mt("layout-dashboard",yT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],wT=Mt("list",bT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Kd=Mt("lock",NT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],rE=Mt("log-out",jT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],h0=Mt("mail",ST);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],m5=Mt("map-pin",CT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],PT=Mt("menu",AT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M5 12h14",key:"1ays0h"}]],nE=Mt("minus",_T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bo=Mt("package",ET);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],kT=Mt("palette",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Tu=Mt("pen",IT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],TT=Mt("pencil",LT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],p0=Mt("phone",DT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],No=Mt("plus",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$T=Mt("refresh-cw",RT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],zT=Mt("repeat",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Jd=Mt("rotate-ccw",BT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aE=Mt("save",qT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],vi=Mt("search",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WT=Mt("send",VT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GT=Mt("settings",HT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lc=Mt("shield",KT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],g5=Mt("shopping-bag",JT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ap=Mt("shopping-cart",YT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],ZT=Mt("sliders-horizontal",XT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],oE=Mt("square-pen",QT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],iE=Mt("star",e7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],P2=Mt("store",t7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Uo=Mt("trash-2",r7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],a7=Mt("trending-down",n7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],sE=Mt("trending-up",o7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bh=Mt("triangle-alert",i7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qm=Mt("truck",s7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],lE=Mt("twitter",l7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],u7=Mt("upload",c7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],f7=Mt("user-check",d7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],p7=Mt("user-cog",h7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cE=Mt("user-plus",m7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],v7=Mt("user-x",g7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pp=Mt("user",y7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],af=Mt("users",x7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ji=Mt("x",b7);function uE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=uE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function br(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=uE(e))&&(n&&(n+=" "),n+=t);return n}var Gv,Hj;function jo(){if(Hj)return Gv;Hj=1;var e=Array.isArray;return Gv=e,Gv}var Kv,Gj;function dE(){if(Gj)return Kv;Gj=1;var e=typeof ym=="object"&&ym&&ym.Object===Object&&ym;return Kv=e,Kv}var Jv,Kj;function Es(){if(Kj)return Jv;Kj=1;var e=dE(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Jv=r,Jv}var Yv,Jj;function _p(){if(Jj)return Yv;Jj=1;var e=Es(),t=e.Symbol;return Yv=t,Yv}var Xv,Yj;function w7(){if(Yj)return Xv;Yj=1;var e=_p(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var c=r.call(s,a),d=s[a];try{s[a]=void 0;var f=!0}catch{}var p=n.call(s);return f&&(c?s[a]=d:delete s[a]),p}return Xv=i,Xv}var Zv,Xj;function N7(){if(Xj)return Zv;Xj=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Zv=r,Zv}var Qv,Zj;function Cl(){if(Zj)return Qv;Zj=1;var e=_p(),t=w7(),r=N7(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(c){return c==null?c===void 0?a:n:i&&i in Object(c)?t(c):r(c)}return Qv=s,Qv}var ey,Qj;function Al(){if(Qj)return ey;Qj=1;function e(t){return t!=null&&typeof t=="object"}return ey=e,ey}var ty,eS;function Lf(){if(eS)return ty;eS=1;var e=Cl(),t=Al(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return ty=n,ty}var ry,tS;function v5(){if(tS)return ry;tS=1;var e=jo(),t=Lf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return ry=a,ry}var ny,rS;function Mc(){if(rS)return ny;rS=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return ny=e,ny}var ay,nS;function y5(){if(nS)return ay;nS=1;var e=Cl(),t=Mc(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(c){if(!t(c))return!1;var d=e(c);return d==n||d==a||d==r||d==i}return ay=s,ay}var oy,aS;function j7(){if(aS)return oy;aS=1;var e=Es(),t=e["__core-js_shared__"];return oy=t,oy}var iy,oS;function S7(){if(oS)return iy;oS=1;var e=j7(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return iy=r,iy}var sy,iS;function fE(){if(iS)return sy;iS=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return sy=r,sy}var ly,sS;function C7(){if(sS)return ly;sS=1;var e=y5(),t=S7(),r=Mc(),n=fE(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,p=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(y){if(!r(y)||t(y))return!1;var g=e(y)?p:i;return g.test(n(y))}return ly=h,ly}var cy,lS;function A7(){if(lS)return cy;lS=1;function e(t,r){return t?.[r]}return cy=e,cy}var uy,cS;function qu(){if(cS)return uy;cS=1;var e=C7(),t=A7();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return uy=r,uy}var dy,uS;function m0(){if(uS)return dy;uS=1;var e=qu(),t=e(Object,"create");return dy=t,dy}var fy,dS;function P7(){if(dS)return fy;dS=1;var e=m0();function t(){this.__data__=e?e(null):{},this.size=0}return fy=t,fy}var hy,fS;function _7(){if(fS)return hy;fS=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return hy=e,hy}var py,hS;function E7(){if(hS)return py;hS=1;var e=m0(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var c=s[i];return c===t?void 0:c}return n.call(s,i)?s[i]:void 0}return py=a,py}var my,pS;function O7(){if(pS)return my;pS=1;var e=m0(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return my=n,my}var gy,mS;function k7(){if(mS)return gy;mS=1;var e=m0(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return gy=r,gy}var vy,gS;function I7(){if(gS)return vy;gS=1;var e=P7(),t=_7(),r=E7(),n=O7(),a=k7();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,vy=i,vy}var yy,vS;function L7(){if(vS)return yy;vS=1;function e(){this.__data__=[],this.size=0}return yy=e,yy}var xy,yS;function x5(){if(yS)return xy;yS=1;function e(t,r){return t===r||t!==t&&r!==r}return xy=e,xy}var by,xS;function g0(){if(xS)return by;xS=1;var e=x5();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return by=t,by}var wy,bS;function T7(){if(bS)return wy;bS=1;var e=g0(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var c=i.length-1;return s==c?i.pop():r.call(i,s,1),--this.size,!0}return wy=n,wy}var Ny,wS;function D7(){if(wS)return Ny;wS=1;var e=g0();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return Ny=t,Ny}var jy,NS;function M7(){if(NS)return jy;NS=1;var e=g0();function t(r){return e(this.__data__,r)>-1}return jy=t,jy}var Sy,jS;function R7(){if(jS)return Sy;jS=1;var e=g0();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Sy=t,Sy}var Cy,SS;function v0(){if(SS)return Cy;SS=1;var e=L7(),t=T7(),r=D7(),n=M7(),a=R7();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Cy=i,Cy}var Ay,CS;function b5(){if(CS)return Ay;CS=1;var e=qu(),t=Es(),r=e(t,"Map");return Ay=r,Ay}var Py,AS;function $7(){if(AS)return Py;AS=1;var e=I7(),t=v0(),r=b5();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Py=n,Py}var _y,PS;function F7(){if(PS)return _y;PS=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return _y=e,_y}var Ey,_S;function y0(){if(_S)return Ey;_S=1;var e=F7();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Ey=t,Ey}var Oy,ES;function z7(){if(ES)return Oy;ES=1;var e=y0();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Oy=t,Oy}var ky,OS;function B7(){if(OS)return ky;OS=1;var e=y0();function t(r){return e(this,r).get(r)}return ky=t,ky}var Iy,kS;function q7(){if(kS)return Iy;kS=1;var e=y0();function t(r){return e(this,r).has(r)}return Iy=t,Iy}var Ly,IS;function U7(){if(IS)return Ly;IS=1;var e=y0();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return Ly=t,Ly}var Ty,LS;function w5(){if(LS)return Ty;LS=1;var e=$7(),t=z7(),r=B7(),n=q7(),a=U7();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ty=i,Ty}var Dy,TS;function hE(){if(TS)return Dy;TS=1;var e=w5(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,c=a?a.apply(this,s):s[0],d=i.cache;if(d.has(c))return d.get(c);var f=n.apply(this,s);return i.cache=d.set(c,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,Dy=r,Dy}var My,DS;function V7(){if(DS)return My;DS=1;var e=hE(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return My=r,My}var Ry,MS;function W7(){if(MS)return Ry;MS=1;var e=V7(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,c,d,f){i.push(d?f.replace(r,"$1"):c||s)}),i});return Ry=n,Ry}var $y,RS;function N5(){if(RS)return $y;RS=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return $y=e,$y}var Fy,$S;function H7(){if($S)return Fy;$S=1;var e=_p(),t=N5(),r=jo(),n=Lf(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return t(c,s)+"";if(n(c))return i?i.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Fy=s,Fy}var zy,FS;function pE(){if(FS)return zy;FS=1;var e=H7();function t(r){return r==null?"":e(r)}return zy=t,zy}var By,zS;function mE(){if(zS)return By;zS=1;var e=jo(),t=v5(),r=W7(),n=pE();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return By=a,By}var qy,BS;function x0(){if(BS)return qy;BS=1;var e=Lf();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return qy=t,qy}var Uy,qS;function j5(){if(qS)return Uy;qS=1;var e=mE(),t=x0();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return Uy=r,Uy}var Vy,US;function gE(){if(US)return Vy;US=1;var e=j5();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return Vy=t,Vy}var G7=gE();const Vo=tn(G7);var Wy,VS;function K7(){if(VS)return Wy;VS=1;function e(t){return t==null}return Wy=e,Wy}var J7=K7();const gr=tn(J7);var Hy,WS;function Y7(){if(WS)return Hy;WS=1;var e=Cl(),t=jo(),r=Al(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return Hy=a,Hy}var X7=Y7();const Du=tn(X7);var Z7=y5();const ur=tn(Z7);var Q7=Mc();const Tf=tn(Q7);var Gy={exports:{}},Yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function eD(){if(HS)return Yr;HS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function x(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case e:switch(w=w.type,w){case r:case a:case n:case f:case p:return w;default:switch(w=w&&w.$$typeof,w){case c:case s:case d:case y:case h:case i:return w;default:return S}}case t:return S}}}return Yr.ContextConsumer=s,Yr.ContextProvider=i,Yr.Element=e,Yr.ForwardRef=d,Yr.Fragment=r,Yr.Lazy=y,Yr.Memo=h,Yr.Portal=t,Yr.Profiler=a,Yr.StrictMode=n,Yr.Suspense=f,Yr.SuspenseList=p,Yr.isAsyncMode=function(){return!1},Yr.isConcurrentMode=function(){return!1},Yr.isContextConsumer=function(w){return x(w)===s},Yr.isContextProvider=function(w){return x(w)===i},Yr.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Yr.isForwardRef=function(w){return x(w)===d},Yr.isFragment=function(w){return x(w)===r},Yr.isLazy=function(w){return x(w)===y},Yr.isMemo=function(w){return x(w)===h},Yr.isPortal=function(w){return x(w)===t},Yr.isProfiler=function(w){return x(w)===a},Yr.isStrictMode=function(w){return x(w)===n},Yr.isSuspense=function(w){return x(w)===f},Yr.isSuspenseList=function(w){return x(w)===p},Yr.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===f||w===p||w===g||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===h||w.$$typeof===i||w.$$typeof===s||w.$$typeof===d||w.$$typeof===j||w.getModuleId!==void 0)},Yr.typeOf=x,Yr}var GS;function tD(){return GS||(GS=1,Gy.exports=eD()),Gy.exports}var rD=tD(),Ky,KS;function vE(){if(KS)return Ky;KS=1;var e=Cl(),t=Al(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return Ky=n,Ky}var Jy,JS;function nD(){if(JS)return Jy;JS=1;var e=vE();function t(r){return e(r)&&r!=+r}return Jy=t,Jy}var aD=nD();const Ep=tn(aD);var oD=vE();const iD=tn(oD);var ro=function(t){return t===0?0:t>0?1:-1},Pu=function(t){return Du(t)&&t.indexOf("%")===t.length-1},St=function(t){return iD(t)&&!Ep(t)},sD=function(t){return gr(t)},ra=function(t){return St(t)||Du(t)},lD=0,Df=function(t){var r=++lD;return"".concat(t||"").concat(r)},no=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(t)&&!Du(t))return n;var i;if(Pu(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ep(i)&&(i=n),a&&i>r&&(i=r),i},Sc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},cD=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},zo=function(t,r){return St(t)&&St(r)?function(n){return t+n*(r-t)}:function(){return r}};function ug(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Vo(n,t))===r})}var uD=function(t,r){return St(t)&&St(r)?t-r:Du(t)&&Du(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Yd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _2(e){"@babel/helpers - typeof";return _2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_2(e)}var dD=["viewBox","children"],fD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YS=["points","pathLength"],Yy={svg:dD,polygon:YS,polyline:YS},S5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],dg=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),!Tf(n))return null;var a={};return Object.keys(n).forEach(function(i){S5.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},hD=function(t,r,n){return function(a){return t(r,n,a),null}},Mu=function(t,r,n){if(!Tf(t)||_2(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];S5.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=hD(s,r,n))}),a},pD=["children"],mD=["children"];function XS(e,t){if(e==null)return{};var r=gD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E2(e){"@babel/helpers - typeof";return E2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E2(e)}var ZS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},QS=null,Xy=null,C5=function e(t){if(t===QS&&Array.isArray(Xy))return Xy;var r=[];return M.Children.forEach(t,function(n){gr(n)||(rD.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Xy=r,QS=t,r};function Wo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return xl(a)}):n=[xl(t)],C5(e).forEach(function(a){var i=Vo(a,"type.displayName")||Vo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function $o(e,t){var r=Wo(e,t);return r&&r[0]}var e3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!St(n)||n<=0||!St(a)||a<=0)},vD=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yD=function(t){return t&&t.type&&Du(t.type)&&vD.indexOf(t.type)>=0},xD=function(t){return t&&E2(t)==="object"&&"clipDot"in t},bD=function(t,r,n,a){var i,s=(i=Yy?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ur(t)&&(a&&s.includes(r)||fD.includes(r))||n&&S5.includes(r)},tr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(M.isValidElement(t)&&(a=t.props),!Tf(a))return null;var i={};return Object.keys(a).forEach(function(s){var c;bD((c=a)===null||c===void 0?void 0:c[s],s,r,n)&&(i[s]=a[s])}),i},O2=function e(t,r){if(t===r)return!0;var n=M.Children.count(t);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return t3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!t3(i,s))return!1}return!0},t3=function(t,r){if(gr(t)&&gr(r))return!0;if(!gr(t)&&!gr(r)){var n=t.props||{},a=n.children,i=XS(n,pD),s=r.props||{},c=s.children,d=XS(s,mD);return a&&c?Yd(i,d)&&O2(a,c):!a&&!c?Yd(i,d):!1}return!1},r3=function(t,r){var n=[],a={};return C5(t).forEach(function(i,s){if(yD(i))n.push(i);else if(i){var c=xl(i.type),d=r[c]||{},f=d.handler,p=d.once;if(f&&(!p||!a[c])){var h=f(i,c,s);n.push(h),a[c]=!0}}}),n},wD=function(t){var r=t&&t.type;return r&&ZS[r]?ZS[r]:null},ND=function(t,r){return C5(r).indexOf(t)},jD=["children","width","height","viewBox","className","style","title","desc"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(this,arguments)}function SD(e,t){if(e==null)return{};var r=CD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I2(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,c=e.title,d=e.desc,f=SD(e,jD),p=a||{width:r,height:n,x:0,y:0},h=br("recharts-surface",i);return Pe.createElement("svg",k2({},tr(f,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Pe.createElement("title",null,c),Pe.createElement("desc",null,d),t)}var AD=["children","className"];function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(this,arguments)}function PD(e,t){if(e==null)return{};var r=_D(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _D(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qr=Pe.forwardRef(function(e,t){var r=e.children,n=e.className,a=PD(e,AD),i=br("recharts-layer",n);return Pe.createElement("g",L2({className:i},tr(a,!0),{ref:t}),r)}),Ki=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Zy,n3;function ED(){if(n3)return Zy;n3=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return Zy=e,Zy}var Qy,a3;function OD(){if(a3)return Qy;a3=1;var e=ED();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return Qy=t,Qy}var ex,o3;function yE(){if(o3)return ex;o3=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+e+a+i+"]");function d(f){return c.test(f)}return ex=d,ex}var tx,i3;function kD(){if(i3)return tx;i3=1;function e(t){return t.split("")}return tx=e,tx}var rx,s3;function ID(){if(s3)return rx;s3=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="["+e+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",j=f+"?",x="["+i+"]?",w="(?:"+g+"(?:"+[p,h,y].join("|")+")"+x+j+")*",S=x+j+w,C="(?:"+[p+c+"?",c,h,y,s].join("|")+")",P=RegExp(d+"(?="+d+")|"+C+S,"g");function R(L){return L.match(P)||[]}return rx=R,rx}var nx,l3;function LD(){if(l3)return nx;l3=1;var e=kD(),t=yE(),r=ID();function n(a){return t(a)?r(a):e(a)}return nx=n,nx}var ax,c3;function TD(){if(c3)return ax;c3=1;var e=OD(),t=yE(),r=LD(),n=pE();function a(i){return function(s){s=n(s);var c=t(s)?r(s):void 0,d=c?c[0]:s.charAt(0),f=c?e(c,1).join(""):s.slice(1);return d[i]()+f}}return ax=a,ax}var ox,u3;function DD(){if(u3)return ox;u3=1;var e=TD(),t=e("toUpperCase");return ox=t,ox}var MD=DD();const b0=tn(MD);function un(e){return function(){return e}}const xE=Math.cos,fg=Math.sin,Xi=Math.sqrt,hg=Math.PI,w0=2*hg,T2=Math.PI,D2=2*T2,Nu=1e-6,RD=D2-Nu;function bE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $D(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bE;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class FD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bE:$D(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,c=this._y1,d=n-t,f=a-r,p=s-t,h=c-r,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Nu)if(!(Math.abs(h*d-f*p)>Nu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-s,j=a-c,x=d*d+f*f,w=g*g+j*j,S=Math.sqrt(x),C=Math.sqrt(y),P=i*Math.tan((T2-Math.acos((x+y-w)/(2*S*C)))/2),R=P/C,L=P/S;Math.abs(R-1)>Nu&&this._append`L${t+R*p},${r+R*h}`,this._append`A${i},${i},0,0,${+(h*g>p*j)},${this._x1=t+L*d},${this._y1=r+L*f}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,p=r+d,h=1^s,y=s?a-i:i-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Nu||Math.abs(this._y1-p)>Nu)&&this._append`L${f},${p}`,n&&(y<0&&(y=y%D2+D2),y>RD?this._append`A${n},${n},0,1,${h},${t-c},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=p}`:y>Nu&&this._append`A${n},${n},0,${+(y>=T2)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function A5(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new FD(t)}function P5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wE(e){this._context=e}wE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function N0(e){return new wE(e)}function NE(e){return e[0]}function jE(e){return e[1]}function SE(e,t){var r=un(!0),n=null,a=N0,i=null,s=A5(c);e=typeof e=="function"?e:e===void 0?NE:un(e),t=typeof t=="function"?t:t===void 0?jE:un(t);function c(d){var f,p=(d=P5(d)).length,h,y=!1,g;for(n==null&&(i=a(g=s())),f=0;f<=p;++f)!(f<p&&r(h=d[f],f,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(h,f,d),+t(h,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:un(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:un(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:un(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function bm(e,t,r){var n=null,a=un(!0),i=null,s=N0,c=null,d=A5(f);e=typeof e=="function"?e:e===void 0?NE:un(+e),t=typeof t=="function"?t:un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?jE:un(+r);function f(h){var y,g,j,x=(h=P5(h)).length,w,S=!1,C,P=new Array(x),R=new Array(x);for(i==null&&(c=s(C=d())),y=0;y<=x;++y){if(!(y<x&&a(w=h[y],y,h))===S)if(S=!S)g=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),j=y-1;j>=g;--j)c.point(P[j],R[j]);c.lineEnd(),c.areaEnd()}S&&(P[y]=+e(w,y,h),R[y]=+t(w,y,h),c.point(n?+n(w,y,h):P[y],r?+r(w,y,h):R[y]))}if(C)return c=null,C+""||null}function p(){return SE().defined(a).curve(s).context(i)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:un(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:un(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:un(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:un(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:un(+h),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(h){return arguments.length?(a=typeof h=="function"?h:un(!!h),f):a},f.curve=function(h){return arguments.length?(s=h,i!=null&&(c=s(i)),f):s},f.context=function(h){return arguments.length?(h==null?i=c=null:c=s(i=h),f):i},f}class CE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zD(e){return new CE(e,!0)}function BD(e){return new CE(e,!1)}const _5={draw(e,t){const r=Xi(t/hg);e.moveTo(r,0),e.arc(0,0,r,0,w0)}},qD={draw(e,t){const r=Xi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},AE=Xi(1/3),UD=AE*2,VD={draw(e,t){const r=Xi(t/UD),n=r*AE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},WD={draw(e,t){const r=Xi(t),n=-r/2;e.rect(n,n,r,r)}},HD=.8908130915292852,PE=fg(hg/10)/fg(7*hg/10),GD=fg(w0/10)*PE,KD=-xE(w0/10)*PE,JD={draw(e,t){const r=Xi(t*HD),n=GD*r,a=KD*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=w0*i/5,c=xE(s),d=fg(s);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},ix=Xi(3),YD={draw(e,t){const r=-Xi(t/(ix*3));e.moveTo(0,r*2),e.lineTo(-ix*r,-r),e.lineTo(ix*r,-r),e.closePath()}},ci=-.5,ui=Xi(3)/2,M2=1/Xi(12),XD=(M2/2+1)*3,ZD={draw(e,t){const r=Xi(t/XD),n=r/2,a=r*M2,i=n,s=r*M2+r,c=-i,d=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(c,d),e.lineTo(ci*n-ui*a,ui*n+ci*a),e.lineTo(ci*i-ui*s,ui*i+ci*s),e.lineTo(ci*c-ui*d,ui*c+ci*d),e.lineTo(ci*n+ui*a,ci*a-ui*n),e.lineTo(ci*i+ui*s,ci*s-ui*i),e.lineTo(ci*c+ui*d,ci*d-ui*c),e.closePath()}};function QD(e,t){let r=null,n=A5(a);e=typeof e=="function"?e:un(e||_5),t=typeof t=="function"?t:un(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:un(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:un(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function pg(){}function mg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _E(e){this._context=e}_E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eM(e){return new _E(e)}function EE(e){this._context=e}EE.prototype={areaStart:pg,areaEnd:pg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tM(e){return new EE(e)}function OE(e){this._context=e}OE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:mg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rM(e){return new OE(e)}function kE(e){this._context=e}kE.prototype={areaStart:pg,areaEnd:pg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nM(e){return new kE(e)}function d3(e){return e<0?-1:1}function f3(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),c=(i*a+s*n)/(n+a);return(d3(i)+d3(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(c))||0}function h3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function sx(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,s-c*r,i,s)}function gg(e){this._context=e}gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sx(this,this._t0,h3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sx(this,h3(this,r=f3(this,e,t)),r);break;default:sx(this,this._t0,r=f3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function IE(e){this._context=new LE(e)}(IE.prototype=Object.create(gg.prototype)).point=function(e,t){gg.prototype.point.call(this,t,e)};function LE(e){this._context=e}LE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function aM(e){return new gg(e)}function oM(e){return new IE(e)}function TE(e){this._context=e}TE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=p3(e),a=p3(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function p3(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function iM(e){return new TE(e)}function j0(e,t){this._context=e,this._t=t}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function sM(e){return new j0(e,.5)}function lM(e){return new j0(e,0)}function cM(e){return new j0(e,1)}function of(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,c=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function R2(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uM(e,t){return e[t]}function dM(e){const t=[];return t.key=e,t}function fM(){var e=un([]),t=R2,r=of,n=uM;function a(i){var s=Array.from(e.apply(this,arguments),dM),c,d=s.length,f=-1,p;for(const h of i)for(c=0,++f;c<d;++c)(s[c][f]=[0,+n(h,s[c].key,f,i)]).data=h;for(c=0,p=P5(t(s));c<d;++c)s[p[c]].index=c;return r(s,p),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:un(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:un(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?R2:typeof i=="function"?i:un(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??of,a):r},a}function hM(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}of(e,t)}}function pM(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,c=0;s<a;++s)c+=e[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}of(e,t)}}function mM(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var c=0,d=0,f=0;c<s;++c){for(var p=e[t[c]],h=p[n][1]||0,y=p[n-1][1]||0,g=(h-y)/2,j=0;j<c;++j){var x=e[t[j]],w=x[n][1]||0,S=x[n-1][1]||0;g+=w-S}d+=h,f+=g*h}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,of(e,t)}}function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}var gM=["type","size","sizeType"];function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$2.apply(this,arguments)}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){vM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vM(e,t,r){return t=yM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yM(e){var t=xM(e,"string");return qh(t)=="symbol"?t:t+""}function xM(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bM(e,t){if(e==null)return{};var r=wM(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var DE={symbolCircle:_5,symbolCross:qD,symbolDiamond:VD,symbolSquare:WD,symbolStar:JD,symbolTriangle:YD,symbolWye:ZD},NM=Math.PI/180,jM=function(t){var r="symbol".concat(b0(t));return DE[r]||_5},SM=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*NM;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},CM=function(t,r){DE["symbol".concat(b0(t))]=r},E5=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,c=s===void 0?"area":s,d=bM(t,gM),f=g3(g3({},d),{},{type:n,size:i,sizeType:c}),p=function(){var w=jM(n),S=QD().type(w).size(SM(i,c,n));return S()},h=f.className,y=f.cx,g=f.cy,j=tr(f,!0);return y===+y&&g===+g&&i===+i?Pe.createElement("path",$2({},j,{className:br("recharts-symbols",h),transform:"translate(".concat(y,", ").concat(g,")"),d:p()})):null};E5.registerSymbol=CM;function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F2.apply(this,arguments)}function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){Uh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RE(n.key),n)}}function EM(e,t,r){return t&&_M(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OM(e,t,r){return t=vg(t),kM(e,ME()?Reflect.construct(t,r||[],vg(e).constructor):t.apply(e,r))}function kM(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IM(e)}function IM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ME(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ME=function(){return!!e})()}function vg(e){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vg(e)}function LM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z2(e,t)}function z2(e,t){return z2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z2(e,t)}function Uh(e,t,r){return t=RE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RE(e){var t=TM(e,"string");return sf(t)=="symbol"?t:t+""}function TM(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var di=32,O5=(function(e){function t(){return PM(this,t),OM(this,t,arguments)}return LM(t,e),EM(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=di/2,s=di/6,c=di/3,d=n.inactive?a:n.color;if(n.type==="plainline")return Pe.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:di,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Pe.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(di,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Pe.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(di/8,"h").concat(di,"v").concat(di*3/4,"h").concat(-di,"z"),className:"recharts-legend-icon"});if(Pe.isValidElement(n.legendIcon)){var f=AM({},n);return delete f.legendIcon,Pe.cloneElement(n.legendIcon,f)}return Pe.createElement(E5,{fill:d,cx:i,cy:i,size:di,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,c=a.layout,d=a.formatter,f=a.inactiveColor,p={x:0,y:0,width:di,height:di},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,j){var x=g.formatter||d,w=br(Uh(Uh({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",g.inactive));if(g.type==="none")return null;var S=ur(g.value)?null:g.value;Ki(!ur(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=g.inactive?f:g.color;return Pe.createElement("li",F2({className:w,style:h,key:"legend-item-".concat(j)},Mu(n.props,g,j)),Pe.createElement(I2,{width:s,height:s,viewBox:p,style:y},n.renderIcon(g)),Pe.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},x?x(S,g,j):S))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Pe.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(M.PureComponent);Uh(O5,"displayName","Legend");Uh(O5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lx,y3;function DM(){if(y3)return lx;y3=1;var e=v0();function t(){this.__data__=new e,this.size=0}return lx=t,lx}var cx,x3;function MM(){if(x3)return cx;x3=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return cx=e,cx}var ux,b3;function RM(){if(b3)return ux;b3=1;function e(t){return this.__data__.get(t)}return ux=e,ux}var dx,w3;function $M(){if(w3)return dx;w3=1;function e(t){return this.__data__.has(t)}return dx=e,dx}var fx,N3;function FM(){if(N3)return fx;N3=1;var e=v0(),t=b5(),r=w5(),n=200;function a(i,s){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!t||d.length<n-1)return d.push([i,s]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(i,s),this.size=c.size,this}return fx=a,fx}var hx,j3;function $E(){if(j3)return hx;j3=1;var e=v0(),t=DM(),r=MM(),n=RM(),a=$M(),i=FM();function s(c){var d=this.__data__=new e(c);this.size=d.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,hx=s,hx}var px,S3;function zM(){if(S3)return px;S3=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return px=t,px}var mx,C3;function BM(){if(C3)return mx;C3=1;function e(t){return this.__data__.has(t)}return mx=e,mx}var gx,A3;function FE(){if(A3)return gx;A3=1;var e=w5(),t=zM(),r=BM();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,gx=n,gx}var vx,P3;function zE(){if(P3)return vx;P3=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return vx=e,vx}var yx,_3;function BE(){if(_3)return yx;_3=1;function e(t,r){return t.has(r)}return yx=e,yx}var xx,E3;function qE(){if(E3)return xx;E3=1;var e=FE(),t=zE(),r=BE(),n=1,a=2;function i(s,c,d,f,p,h){var y=d&n,g=s.length,j=c.length;if(g!=j&&!(y&&j>g))return!1;var x=h.get(s),w=h.get(c);if(x&&w)return x==c&&w==s;var S=-1,C=!0,P=d&a?new e:void 0;for(h.set(s,c),h.set(c,s);++S<g;){var R=s[S],L=c[S];if(f)var q=y?f(L,R,S,c,s,h):f(R,L,S,s,c,h);if(q!==void 0){if(q)continue;C=!1;break}if(P){if(!t(c,function(_,B){if(!r(P,B)&&(R===_||p(R,_,d,f,h)))return P.push(B)})){C=!1;break}}else if(!(R===L||p(R,L,d,f,h))){C=!1;break}}return h.delete(s),h.delete(c),C}return xx=i,xx}var bx,O3;function qM(){if(O3)return bx;O3=1;var e=Es(),t=e.Uint8Array;return bx=t,bx}var wx,k3;function UM(){if(k3)return wx;k3=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return wx=e,wx}var Nx,I3;function k5(){if(I3)return Nx;I3=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Nx=e,Nx}var jx,L3;function VM(){if(L3)return jx;L3=1;var e=_p(),t=qM(),r=x5(),n=qE(),a=UM(),i=k5(),s=1,c=2,d="[object Boolean]",f="[object Date]",p="[object Error]",h="[object Map]",y="[object Number]",g="[object RegExp]",j="[object Set]",x="[object String]",w="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",P=e?e.prototype:void 0,R=P?P.valueOf:void 0;function L(q,_,B,V,K,E,$){switch(B){case C:if(q.byteLength!=_.byteLength||q.byteOffset!=_.byteOffset)return!1;q=q.buffer,_=_.buffer;case S:return!(q.byteLength!=_.byteLength||!E(new t(q),new t(_)));case d:case f:case y:return r(+q,+_);case p:return q.name==_.name&&q.message==_.message;case g:case x:return q==_+"";case h:var D=a;case j:var I=V&s;if(D||(D=i),q.size!=_.size&&!I)return!1;var z=$.get(q);if(z)return z==_;V|=c,$.set(q,_);var W=n(D(q),D(_),V,K,E,$);return $.delete(q),W;case w:if(R)return R.call(q)==R.call(_)}return!1}return jx=L,jx}var Sx,T3;function UE(){if(T3)return Sx;T3=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return Sx=e,Sx}var Cx,D3;function WM(){if(D3)return Cx;D3=1;var e=UE(),t=jo();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return Cx=r,Cx}var Ax,M3;function HM(){if(M3)return Ax;M3=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var c=t[n];r(c,n,t)&&(s[i++]=c)}return s}return Ax=e,Ax}var Px,R3;function GM(){if(R3)return Px;R3=1;function e(){return[]}return Px=e,Px}var _x,$3;function KM(){if($3)return _x;$3=1;var e=HM(),t=GM(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(c){return n.call(s,c)}))}:t;return _x=i,_x}var Ex,F3;function JM(){if(F3)return Ex;F3=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return Ex=e,Ex}var Ox,z3;function YM(){if(z3)return Ox;z3=1;var e=Cl(),t=Al(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return Ox=n,Ox}var kx,B3;function I5(){if(B3)return kx;B3=1;var e=YM(),t=Al(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return kx=i,kx}var Ph={exports:{}},Ix,q3;function XM(){if(q3)return Ix;q3=1;function e(){return!1}return Ix=e,Ix}Ph.exports;var U3;function VE(){return U3||(U3=1,(function(e,t){var r=Es(),n=XM(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,c=s?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;e.exports=f})(Ph,Ph.exports)),Ph.exports}var Lx,V3;function L5(){if(V3)return Lx;V3=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Lx=r,Lx}var Tx,W3;function T5(){if(W3)return Tx;W3=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Tx=t,Tx}var Dx,H3;function ZM(){if(H3)return Dx;H3=1;var e=Cl(),t=T5(),r=Al(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",h="[object Object]",y="[object RegExp]",g="[object Set]",j="[object String]",x="[object WeakMap]",w="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",L="[object Int16Array]",q="[object Int32Array]",_="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",K="[object Uint32Array]",E={};E[C]=E[P]=E[R]=E[L]=E[q]=E[_]=E[B]=E[V]=E[K]=!0,E[n]=E[a]=E[w]=E[i]=E[S]=E[s]=E[c]=E[d]=E[f]=E[p]=E[h]=E[y]=E[g]=E[j]=E[x]=!1;function $(D){return r(D)&&t(D.length)&&!!E[e(D)]}return Dx=$,Dx}var Mx,G3;function WE(){if(G3)return Mx;G3=1;function e(t){return function(r){return t(r)}}return Mx=e,Mx}var _h={exports:{}};_h.exports;var K3;function QM(){return K3||(K3=1,(function(e,t){var r=dE(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,c=(function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}})();e.exports=c})(_h,_h.exports)),_h.exports}var Rx,J3;function HE(){if(J3)return Rx;J3=1;var e=ZM(),t=WE(),r=QM(),n=r&&r.isTypedArray,a=n?t(n):e;return Rx=a,Rx}var $x,Y3;function eR(){if(Y3)return $x;Y3=1;var e=JM(),t=I5(),r=jo(),n=VE(),a=L5(),i=HE(),s=Object.prototype,c=s.hasOwnProperty;function d(f,p){var h=r(f),y=!h&&t(f),g=!h&&!y&&n(f),j=!h&&!y&&!g&&i(f),x=h||y||g||j,w=x?e(f.length,String):[],S=w.length;for(var C in f)(p||c.call(f,C))&&!(x&&(C=="length"||g&&(C=="offset"||C=="parent")||j&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,S)))&&w.push(C);return w}return $x=d,$x}var Fx,X3;function tR(){if(X3)return Fx;X3=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return Fx=t,Fx}var zx,Z3;function GE(){if(Z3)return zx;Z3=1;function e(t,r){return function(n){return t(r(n))}}return zx=e,zx}var Bx,Q3;function rR(){if(Q3)return Bx;Q3=1;var e=GE(),t=e(Object.keys,Object);return Bx=t,Bx}var qx,e4;function nR(){if(e4)return qx;e4=1;var e=tR(),t=rR(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&s.push(c);return s}return qx=a,qx}var Ux,t4;function Op(){if(t4)return Ux;t4=1;var e=y5(),t=T5();function r(n){return n!=null&&t(n.length)&&!e(n)}return Ux=r,Ux}var Vx,r4;function S0(){if(r4)return Vx;r4=1;var e=eR(),t=nR(),r=Op();function n(a){return r(a)?e(a):t(a)}return Vx=n,Vx}var Wx,n4;function aR(){if(n4)return Wx;n4=1;var e=WM(),t=KM(),r=S0();function n(a){return e(a,r,t)}return Wx=n,Wx}var Hx,a4;function oR(){if(a4)return Hx;a4=1;var e=aR(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,c,d,f,p){var h=c&t,y=e(i),g=y.length,j=e(s),x=j.length;if(g!=x&&!h)return!1;for(var w=g;w--;){var S=y[w];if(!(h?S in s:n.call(s,S)))return!1}var C=p.get(i),P=p.get(s);if(C&&P)return C==s&&P==i;var R=!0;p.set(i,s),p.set(s,i);for(var L=h;++w<g;){S=y[w];var q=i[S],_=s[S];if(d)var B=h?d(_,q,S,s,i,p):d(q,_,S,i,s,p);if(!(B===void 0?q===_||f(q,_,c,d,p):B)){R=!1;break}L||(L=S=="constructor")}if(R&&!L){var V=i.constructor,K=s.constructor;V!=K&&"constructor"in i&&"constructor"in s&&!(typeof V=="function"&&V instanceof V&&typeof K=="function"&&K instanceof K)&&(R=!1)}return p.delete(i),p.delete(s),R}return Hx=a,Hx}var Gx,o4;function iR(){if(o4)return Gx;o4=1;var e=qu(),t=Es(),r=e(t,"DataView");return Gx=r,Gx}var Kx,i4;function sR(){if(i4)return Kx;i4=1;var e=qu(),t=Es(),r=e(t,"Promise");return Kx=r,Kx}var Jx,s4;function KE(){if(s4)return Jx;s4=1;var e=qu(),t=Es(),r=e(t,"Set");return Jx=r,Jx}var Yx,l4;function lR(){if(l4)return Yx;l4=1;var e=qu(),t=Es(),r=e(t,"WeakMap");return Yx=r,Yx}var Xx,c4;function cR(){if(c4)return Xx;c4=1;var e=iR(),t=b5(),r=sR(),n=KE(),a=lR(),i=Cl(),s=fE(),c="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",g=s(e),j=s(t),x=s(r),w=s(n),S=s(a),C=i;return(e&&C(new e(new ArrayBuffer(1)))!=y||t&&C(new t)!=c||r&&C(r.resolve())!=f||n&&C(new n)!=p||a&&C(new a)!=h)&&(C=function(P){var R=i(P),L=R==d?P.constructor:void 0,q=L?s(L):"";if(q)switch(q){case g:return y;case j:return c;case x:return f;case w:return p;case S:return h}return R}),Xx=C,Xx}var Zx,u4;function uR(){if(u4)return Zx;u4=1;var e=$E(),t=qE(),r=VM(),n=oR(),a=cR(),i=jo(),s=VE(),c=HE(),d=1,f="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,g=y.hasOwnProperty;function j(x,w,S,C,P,R){var L=i(x),q=i(w),_=L?p:a(x),B=q?p:a(w);_=_==f?h:_,B=B==f?h:B;var V=_==h,K=B==h,E=_==B;if(E&&s(x)){if(!s(w))return!1;L=!0,V=!1}if(E&&!V)return R||(R=new e),L||c(x)?t(x,w,S,C,P,R):r(x,w,_,S,C,P,R);if(!(S&d)){var $=V&&g.call(x,"__wrapped__"),D=K&&g.call(w,"__wrapped__");if($||D){var I=$?x.value():x,z=D?w.value():w;return R||(R=new e),P(I,z,S,C,R)}}return E?(R||(R=new e),n(x,w,S,C,P,R)):!1}return Zx=j,Zx}var Qx,d4;function D5(){if(d4)return Qx;d4=1;var e=uR(),t=Al();function r(n,a,i,s,c){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,c)}return Qx=r,Qx}var eb,f4;function dR(){if(f4)return eb;f4=1;var e=$E(),t=D5(),r=1,n=2;function a(i,s,c,d){var f=c.length,p=f,h=!d;if(i==null)return!p;for(i=Object(i);f--;){var y=c[f];if(h&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++f<p;){y=c[f];var g=y[0],j=i[g],x=y[1];if(h&&y[2]){if(j===void 0&&!(g in i))return!1}else{var w=new e;if(d)var S=d(j,x,g,i,s,w);if(!(S===void 0?t(x,j,r|n,d,w):S))return!1}}return!0}return eb=a,eb}var tb,h4;function JE(){if(h4)return tb;h4=1;var e=Mc();function t(r){return r===r&&!e(r)}return tb=t,tb}var rb,p4;function fR(){if(p4)return rb;p4=1;var e=JE(),t=S0();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],c=n[s];a[i]=[s,c,e(c)]}return a}return rb=r,rb}var nb,m4;function YE(){if(m4)return nb;m4=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return nb=e,nb}var ab,g4;function hR(){if(g4)return ab;g4=1;var e=dR(),t=fR(),r=YE();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return ab=n,ab}var ob,v4;function pR(){if(v4)return ob;v4=1;function e(t,r){return t!=null&&r in Object(t)}return ob=e,ob}var ib,y4;function mR(){if(y4)return ib;y4=1;var e=mE(),t=I5(),r=jo(),n=L5(),a=T5(),i=x0();function s(c,d,f){d=e(d,c);for(var p=-1,h=d.length,y=!1;++p<h;){var g=i(d[p]);if(!(y=c!=null&&f(c,g)))break;c=c[g]}return y||++p!=h?y:(h=c==null?0:c.length,!!h&&a(h)&&n(g,h)&&(r(c)||t(c)))}return ib=s,ib}var sb,x4;function gR(){if(x4)return sb;x4=1;var e=pR(),t=mR();function r(n,a){return n!=null&&t(n,a,e)}return sb=r,sb}var lb,b4;function vR(){if(b4)return lb;b4=1;var e=D5(),t=gE(),r=gR(),n=v5(),a=JE(),i=YE(),s=x0(),c=1,d=2;function f(p,h){return n(p)&&a(h)?i(s(p),h):function(y){var g=t(y,p);return g===void 0&&g===h?r(y,p):e(h,g,c|d)}}return lb=f,lb}var cb,w4;function Mf(){if(w4)return cb;w4=1;function e(t){return t}return cb=e,cb}var ub,N4;function yR(){if(N4)return ub;N4=1;function e(t){return function(r){return r?.[t]}}return ub=e,ub}var db,j4;function xR(){if(j4)return db;j4=1;var e=j5();function t(r){return function(n){return e(n,r)}}return db=t,db}var fb,S4;function bR(){if(S4)return fb;S4=1;var e=yR(),t=xR(),r=v5(),n=x0();function a(i){return r(i)?e(n(i)):t(i)}return fb=a,fb}var hb,C4;function Os(){if(C4)return hb;C4=1;var e=hR(),t=vR(),r=Mf(),n=jo(),a=bR();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return hb=i,hb}var pb,A4;function XE(){if(A4)return pb;A4=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return pb=e,pb}var mb,P4;function wR(){if(P4)return mb;P4=1;function e(t){return t!==t}return mb=e,mb}var gb,_4;function NR(){if(_4)return gb;_4=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return gb=e,gb}var vb,E4;function jR(){if(E4)return vb;E4=1;var e=XE(),t=wR(),r=NR();function n(a,i,s){return i===i?r(a,i,s):e(a,t,s)}return vb=n,vb}var yb,O4;function SR(){if(O4)return yb;O4=1;var e=jR();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return yb=t,yb}var xb,k4;function CR(){if(k4)return xb;k4=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return xb=e,xb}var bb,I4;function AR(){if(I4)return bb;I4=1;function e(){}return bb=e,bb}var wb,L4;function PR(){if(L4)return wb;L4=1;var e=KE(),t=AR(),r=k5(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return wb=a,wb}var Nb,T4;function _R(){if(T4)return Nb;T4=1;var e=FE(),t=SR(),r=CR(),n=BE(),a=PR(),i=k5(),s=200;function c(d,f,p){var h=-1,y=t,g=d.length,j=!0,x=[],w=x;if(p)j=!1,y=r;else if(g>=s){var S=f?null:a(d);if(S)return i(S);j=!1,y=n,w=new e}else w=f?[]:x;e:for(;++h<g;){var C=d[h],P=f?f(C):C;if(C=p||C!==0?C:0,j&&P===P){for(var R=w.length;R--;)if(w[R]===P)continue e;f&&w.push(P),x.push(C)}else y(w,P,p)||(w!==x&&w.push(P),x.push(C))}return x}return Nb=c,Nb}var jb,D4;function ER(){if(D4)return jb;D4=1;var e=Os(),t=_R();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return jb=r,jb}var OR=ER();const M4=tn(OR);function ZE(e,t,r){return t===!0?M4(e,r):ur(t)?M4(e,t):e}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}var kR=["ref"];function R4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(r),!0).forEach(function(n){C0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eO(n.key),n)}}function LR(e,t,r){return t&&$4(e.prototype,t),r&&$4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TR(e,t,r){return t=yg(t),DR(e,QE()?Reflect.construct(t,r||[],yg(e).constructor):t.apply(e,r))}function DR(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MR(e)}function MR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QE=function(){return!!e})()}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(e)}function RR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B2(e,t)}function B2(e,t){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B2(e,t)}function C0(e,t,r){return t=eO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eO(e){var t=$R(e,"string");return lf(t)=="symbol"?t:t+""}function $R(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FR(e,t){if(e==null)return{};var r=zR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BR(e){return e.value}function qR(e,t){if(Pe.isValidElement(e))return Pe.cloneElement(e,t);if(typeof e=="function")return Pe.createElement(e,t);t.ref;var r=FR(t,kR);return Pe.createElement(O5,r)}var F4=1,_c=(function(e){function t(){var r;IR(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=TR(this,t,[].concat(a)),C0(r,"lastBoundingBox",{width:-1,height:-1}),r}return RR(t,e),LR(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>F4||Math.abs(a.height-this.lastBoundingBox.height)>F4)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,c=a.verticalAlign,d=a.margin,f=a.chartWidth,p=a.chartHeight,h,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();h={left:((f||0)-g.width)/2}}else h=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var j=this.getBBoxSnapshot();y={top:((p||0)-j.height)/2}}else y=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return dl(dl({},h),y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,c=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,p=a.payload,h=dl(dl({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return Pe.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},qR(i,dl(dl({},this.props),{},{payload:ZE(p,f,BR)})))}}],[{key:"getWithHeight",value:function(n,a){var i=dl(dl({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&St(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])})(M.PureComponent);C0(_c,"displayName","Legend");C0(_c,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Sb,z4;function UR(){if(z4)return Sb;z4=1;var e=_p(),t=I5(),r=jo(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return Sb=a,Sb}var Cb,B4;function tO(){if(B4)return Cb;B4=1;var e=UE(),t=UR();function r(n,a,i,s,c){var d=-1,f=n.length;for(i||(i=t),c||(c=[]);++d<f;){var p=n[d];a>0&&i(p)?a>1?r(p,a-1,i,s,c):e(c,p):s||(c[c.length]=p)}return c}return Cb=r,Cb}var Ab,q4;function VR(){if(q4)return Ab;q4=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),c=a(r),d=c.length;d--;){var f=c[t?d:++i];if(n(s[f],f,s)===!1)break}return r}}return Ab=e,Ab}var Pb,U4;function WR(){if(U4)return Pb;U4=1;var e=VR(),t=e();return Pb=t,Pb}var _b,V4;function rO(){if(V4)return _b;V4=1;var e=WR(),t=S0();function r(n,a){return n&&e(n,a,t)}return _b=r,_b}var Eb,W4;function HR(){if(W4)return Eb;W4=1;var e=Op();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,c=n?s:-1,d=Object(a);(n?c--:++c<s)&&i(d[c],c,d)!==!1;);return a}}return Eb=t,Eb}var Ob,H4;function M5(){if(H4)return Ob;H4=1;var e=rO(),t=HR(),r=t(e);return Ob=r,Ob}var kb,G4;function nO(){if(G4)return kb;G4=1;var e=M5(),t=Op();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(c,d,f){s[++i]=a(c,d,f)}),s}return kb=r,kb}var Ib,K4;function GR(){if(K4)return Ib;K4=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Ib=e,Ib}var Lb,J4;function KR(){if(J4)return Lb;J4=1;var e=Lf();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,c=e(r),d=n!==void 0,f=n===null,p=n===n,h=e(n);if(!f&&!h&&!c&&r>n||c&&d&&p&&!f&&!h||i&&d&&p||!a&&p||!s)return 1;if(!i&&!c&&!h&&r<n||h&&a&&s&&!i&&!c||f&&a&&s||!d&&s||!p)return-1}return 0}return Lb=t,Lb}var Tb,Y4;function JR(){if(Y4)return Tb;Y4=1;var e=KR();function t(r,n,a){for(var i=-1,s=r.criteria,c=n.criteria,d=s.length,f=a.length;++i<d;){var p=e(s[i],c[i]);if(p){if(i>=f)return p;var h=a[i];return p*(h=="desc"?-1:1)}}return r.index-n.index}return Tb=t,Tb}var Db,X4;function YR(){if(X4)return Db;X4=1;var e=N5(),t=j5(),r=Os(),n=nO(),a=GR(),i=WE(),s=JR(),c=Mf(),d=jo();function f(p,h,y){h.length?h=e(h,function(x){return d(x)?function(w){return t(w,x.length===1?x[0]:x)}:x}):h=[c];var g=-1;h=e(h,i(r));var j=n(p,function(x,w,S){var C=e(h,function(P){return P(x)});return{criteria:C,index:++g,value:x}});return a(j,function(x,w){return s(x,w,y)})}return Db=f,Db}var Mb,Z4;function XR(){if(Z4)return Mb;Z4=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Mb=e,Mb}var Rb,Q4;function ZR(){if(Q4)return Rb;Q4=1;var e=XR(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,c=-1,d=t(s.length-a,0),f=Array(d);++c<d;)f[c]=s[a+c];c=-1;for(var p=Array(a+1);++c<a;)p[c]=s[c];return p[a]=i(f),e(n,this,p)}}return Rb=r,Rb}var $b,eC;function QR(){if(eC)return $b;eC=1;function e(t){return function(){return t}}return $b=e,$b}var Fb,tC;function aO(){if(tC)return Fb;tC=1;var e=qu(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Fb=t,Fb}var zb,rC;function e$(){if(rC)return zb;rC=1;var e=QR(),t=aO(),r=Mf(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return zb=n,zb}var Bb,nC;function t$(){if(nC)return Bb;nC=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var c=r(),d=t-(c-s);if(s=c,d>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Bb=n,Bb}var qb,aC;function r$(){if(aC)return qb;aC=1;var e=e$(),t=t$(),r=t(e);return qb=r,qb}var Ub,oC;function n$(){if(oC)return Ub;oC=1;var e=Mf(),t=ZR(),r=r$();function n(a,i){return r(t(a,i,e),a+"")}return Ub=n,Ub}var Vb,iC;function A0(){if(iC)return Vb;iC=1;var e=x5(),t=Op(),r=L5(),n=Mc();function a(i,s,c){if(!n(c))return!1;var d=typeof s;return(d=="number"?t(c)&&r(s,c.length):d=="string"&&s in c)?e(c[s],i):!1}return Vb=a,Vb}var Wb,sC;function a$(){if(sC)return Wb;sC=1;var e=tO(),t=YR(),r=n$(),n=A0(),a=r(function(i,s){if(i==null)return[];var c=s.length;return c>1&&n(i,s[0],s[1])?s=[]:c>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return Wb=a,Wb}var o$=a$();const R5=tn(o$);function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q2.apply(this,arguments)}function i$(e,t){return u$(e)||c$(e,t)||l$(e,t)||s$()}function s$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l$(e,t){if(e){if(typeof e=="string")return lC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(e,t)}}function lC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function u$(e){if(Array.isArray(e))return e}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){d$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d$(e,t,r){return t=f$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f$(e){var t=h$(e,"string");return Vh(t)=="symbol"?t:t+""}function h$(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p$(e){return Array.isArray(e)&&ra(e[0])&&ra(e[1])?e.join(" ~ "):e}var m$=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,c=s===void 0?{}:s,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,h=t.formatter,y=t.itemSorter,g=t.wrapperClassName,j=t.labelClassName,x=t.label,w=t.labelFormatter,S=t.accessibilityLayer,C=S===void 0?!1:S,P=function(){if(p&&p.length){var $={padding:0,margin:0},D=(y?R5(p,y):p).map(function(I,z){if(I.type==="none")return null;var W=Hb({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},c),ee=I.formatter||h||p$,G=I.value,ie=I.name,te=G,re=ie;if(ee&&te!=null&&re!=null){var T=ee(G,ie,I,z,p);if(Array.isArray(T)){var J=i$(T,2);te=J[0],re=J[1]}else te=T}return Pe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:W},ra(re)?Pe.createElement("span",{className:"recharts-tooltip-item-name"},re):null,ra(re)?Pe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Pe.createElement("span",{className:"recharts-tooltip-item-value"},te),Pe.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return Pe.createElement("ul",{className:"recharts-tooltip-item-list",style:$},D)}return null},R=Hb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),L=Hb({margin:0},f),q=!gr(x),_=q?x:"",B=br("recharts-default-tooltip",g),V=br("recharts-tooltip-label",j);q&&w&&p!==void 0&&p!==null&&(_=w(x,p));var K=C?{role:"status","aria-live":"assertive"}:{};return Pe.createElement("div",q2({className:B,style:R},K),Pe.createElement("p",{className:V,style:L},Pe.isValidElement(_)?_:"".concat(_)),P())};function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function wm(e,t,r){return t=g$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=v$(e,"string");return Wh(t)=="symbol"?t:t+""}function v$(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uh="recharts-tooltip-wrapper",y$={visibility:"hidden"};function x$(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return br(uh,wm(wm(wm(wm({},"".concat(uh,"-right"),St(r)&&t&&St(t.x)&&r>=t.x),"".concat(uh,"-left"),St(r)&&t&&St(t.x)&&r<t.x),"".concat(uh,"-bottom"),St(n)&&t&&St(t.y)&&n>=t.y),"".concat(uh,"-top"),St(n)&&t&&St(t.y)&&n<t.y))}function uC(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,c=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&St(i[n]))return i[n];var p=r[n]-c-a,h=r[n]+a;if(t[n])return s[n]?p:h;if(s[n]){var y=p,g=d[n];return y<g?Math.max(h,d[n]):Math.max(p,d[n])}var j=h+c,x=d[n]+f;return j>x?Math.max(p,d[n]):Math.max(h,d[n])}function b$(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function w$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox,f,p,h;return s.height>0&&s.width>0&&r?(p=uC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),h=uC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=b$({translateX:p,translateY:h,useTranslate3d:c})):f=y$,{cssProperties:f,cssClasses:x$({translateX:p,translateY:h,coordinate:r})}}function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){V2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iO(n.key),n)}}function S$(e,t,r){return t&&j$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C$(e,t,r){return t=xg(t),A$(e,oO()?Reflect.construct(t,r||[],xg(e).constructor):t.apply(e,r))}function A$(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P$(e)}function P$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oO=function(){return!!e})()}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(e)}function _$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U2(e,t)}function U2(e,t){return U2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U2(e,t)}function V2(e,t,r){return t=iO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iO(e){var t=E$(e,"string");return cf(t)=="symbol"?t:t+""}function E$(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hC=1,O$=(function(e){function t(){var r;N$(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=C$(this,t,[].concat(a)),V2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),V2(r,"handleKeyDown",function(s){if(s.key==="Escape"){var c,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return _$(t,e),S$(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>hC||Math.abs(n.height-this.state.lastBoundingBox.height)>hC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.children,p=a.coordinate,h=a.hasPayload,y=a.isAnimationActive,g=a.offset,j=a.position,x=a.reverseDirection,w=a.useTranslate3d,S=a.viewBox,C=a.wrapperStyle,P=w$({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:g,position:j,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:S}),R=P.cssClasses,L=P.cssProperties,q=fC(fC({transition:y&&i?"transform ".concat(c,"ms ").concat(d):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return Pe.createElement("div",{tabIndex:-1,className:R,style:q,ref:function(B){n.wrapperNode=B}},f)}}])})(M.PureComponent),k$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uu={isSsr:k$()};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){$5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lO(n.key),n)}}function T$(e,t,r){return t&&L$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D$(e,t,r){return t=bg(t),M$(e,sO()?Reflect.construct(t,r||[],bg(e).constructor):t.apply(e,r))}function M$(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R$(e)}function R$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}function $$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W2(e,t)}function W2(e,t){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W2(e,t)}function $5(e,t,r){return t=lO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lO(e){var t=F$(e,"string");return uf(t)=="symbol"?t:t+""}function F$(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function z$(e){return e.dataKey}function B$(e,t){return Pe.isValidElement(e)?Pe.cloneElement(e,t):typeof e=="function"?Pe.createElement(e,t):Pe.createElement(m$,t)}var hi=(function(e){function t(){return I$(this,t),D$(this,t,arguments)}return $$(t,e),T$(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.content,p=a.coordinate,h=a.filterNull,y=a.isAnimationActive,g=a.offset,j=a.payload,x=a.payloadUniqBy,w=a.position,S=a.reverseDirection,C=a.useTranslate3d,P=a.viewBox,R=a.wrapperStyle,L=j??[];h&&L.length&&(L=ZE(j.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),x,z$));var q=L.length>0;return Pe.createElement(O$,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:y,active:i,coordinate:p,hasPayload:q,offset:g,position:w,reverseDirection:S,useTranslate3d:C,viewBox:P,wrapperStyle:R},B$(f,mC(mC({},this.props),{},{payload:L})))}}])})(M.PureComponent);$5(hi,"displayName","Tooltip");$5(hi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gb,gC;function q$(){if(gC)return Gb;gC=1;var e=Es(),t=function(){return e.Date.now()};return Gb=t,Gb}var Kb,vC;function U$(){if(vC)return Kb;vC=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Kb=t,Kb}var Jb,yC;function V$(){if(yC)return Jb;yC=1;var e=U$(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Jb=r,Jb}var Yb,xC;function cO(){if(xC)return Yb;xC=1;var e=V$(),t=Mc(),r=Lf(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var h=i.test(f);return h||s.test(f)?c(f.slice(2),h?2:8):a.test(f)?n:+f}return Yb=d,Yb}var Xb,bC;function W$(){if(bC)return Xb;bC=1;var e=Mc(),t=q$(),r=cO(),n="Expected a function",a=Math.max,i=Math.min;function s(c,d,f){var p,h,y,g,j,x,w=0,S=!1,C=!1,P=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(S=!!f.leading,C="maxWait"in f,y=C?a(r(f.maxWait)||0,d):y,P="trailing"in f?!!f.trailing:P);function R(D){var I=p,z=h;return p=h=void 0,w=D,g=c.apply(z,I),g}function L(D){return w=D,j=setTimeout(B,d),S?R(D):g}function q(D){var I=D-x,z=D-w,W=d-I;return C?i(W,y-z):W}function _(D){var I=D-x,z=D-w;return x===void 0||I>=d||I<0||C&&z>=y}function B(){var D=t();if(_(D))return V(D);j=setTimeout(B,q(D))}function V(D){return j=void 0,P&&p?R(D):(p=h=void 0,g)}function K(){j!==void 0&&clearTimeout(j),w=0,p=x=h=j=void 0}function E(){return j===void 0?g:V(t())}function $(){var D=t(),I=_(D);if(p=arguments,h=this,x=D,I){if(j===void 0)return L(x);if(C)return clearTimeout(j),j=setTimeout(B,d),R(x)}return j===void 0&&(j=setTimeout(B,d)),g}return $.cancel=K,$.flush=E,$}return Xb=s,Xb}var Zb,wC;function H$(){if(wC)return Zb;wC=1;var e=W$(),t=Mc(),r="Expected a function";function n(a,i,s){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return t(s)&&(c="leading"in s?!!s.leading:c,d="trailing"in s?!!s.trailing:d),e(a,i,{leading:c,maxWait:i,trailing:d})}return Zb=n,Zb}var G$=H$();const uO=tn(G$);function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){K$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t,r){return t=J$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J$(e){var t=Y$(e,"string");return Hh(t)=="symbol"?t:t+""}function Y$(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X$(e,t){return t9(e)||e9(e,t)||Q$(e,t)||Z$()}function Z$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$(e,t){if(e){if(typeof e=="string")return jC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jC(e,t)}}function jC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function t9(e){if(Array.isArray(e))return e}var Qb=M.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,c=e.height,d=c===void 0?"100%":c,f=e.minWidth,p=f===void 0?0:f,h=e.minHeight,y=e.maxHeight,g=e.children,j=e.debounce,x=j===void 0?0:j,w=e.id,S=e.className,C=e.onResize,P=e.style,R=P===void 0?{}:P,L=M.useRef(null),q=M.useRef();q.current=C,M.useImperativeHandle(t,function(){return Object.defineProperty(L.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),L.current},configurable:!0})});var _=M.useState({containerWidth:a.width,containerHeight:a.height}),B=X$(_,2),V=B[0],K=B[1],E=M.useCallback(function(D,I){K(function(z){var W=Math.round(D),ee=Math.round(I);return z.containerWidth===W&&z.containerHeight===ee?z:{containerWidth:W,containerHeight:ee}})},[]);M.useEffect(function(){var D=function(ie){var te,re=ie[0].contentRect,T=re.width,J=re.height;E(T,J),(te=q.current)===null||te===void 0||te.call(q,T,J)};x>0&&(D=uO(D,x,{trailing:!0,leading:!1}));var I=new ResizeObserver(D),z=L.current.getBoundingClientRect(),W=z.width,ee=z.height;return E(W,ee),I.observe(L.current),function(){I.disconnect()}},[E,x]);var $=M.useMemo(function(){var D=V.containerWidth,I=V.containerHeight;if(D<0||I<0)return null;Ki(Pu(s)||Pu(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),Ki(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=Pu(s)?D:s,W=Pu(d)?I:d;r&&r>0&&(z?W=z/r:W&&(z=W*r),y&&W>y&&(W=y)),Ki(z>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,W,s,d,p,h,r);var ee=!Array.isArray(g)&&xl(g.type).endsWith("Chart");return Pe.Children.map(g,function(G){return Pe.isValidElement(G)?M.cloneElement(G,Nm({width:z,height:W},ee?{style:Nm({height:"100%",width:"100%",maxHeight:W,maxWidth:z},G.props.style)}:{})):G})},[r,g,d,y,h,p,V,s]);return Pe.createElement("div",{id:w?"".concat(w):void 0,className:br("recharts-responsive-container",S),style:Nm(Nm({},R),{},{width:s,height:d,minWidth:p,minHeight:h,maxHeight:y}),ref:L},$)}),P0=function(t){return null};P0.displayName="Cell";function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){r9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r9(e,t,r){return t=n9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=a9(e,"string");return Gh(t)=="symbol"?t:t+""}function a9(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ad={widthCache:{},cacheCount:0},o9=2e3,i9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CC="recharts_measurement_span";function s9(e){var t=H2({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Ih=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Uu.isSsr)return{width:0,height:0};var n=s9(r),a=JSON.stringify({text:t,copyStyle:n});if(Ad.widthCache[a])return Ad.widthCache[a];try{var i=document.getElementById(CC);i||(i=document.createElement("span"),i.setAttribute("id",CC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=H2(H2({},i9),n);Object.assign(i.style,s),i.textContent="".concat(t);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return Ad.widthCache[a]=d,++Ad.cacheCount>o9&&(Ad.cacheCount=0,Ad.widthCache={}),d}catch{return{width:0,height:0}}},l9=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function wg(e,t){return f9(e)||d9(e,t)||u9(e,t)||c9()}function c9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u9(e,t){if(e){if(typeof e=="string")return AC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(e,t)}}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function f9(e){if(Array.isArray(e))return e}function h9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m9(n.key),n)}}function p9(e,t,r){return t&&PC(e.prototype,t),r&&PC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m9(e){var t=g9(e,"string");return Kh(t)=="symbol"?t:t+""}function g9(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v9=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,y9=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},x9=Object.keys(dO),Bd="NaN";function b9(e,t){return e*dO[t]}var jm=(function(){function e(t,r){h9(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!v9.test(r)&&(this.num=NaN,this.unit=""),x9.includes(r)&&(this.num=b9(t,r),this.unit="px")}return p9(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=y9.exec(r))!==null&&n!==void 0?n:[],i=wg(a,3),s=i[1],c=i[2];return new e(parseFloat(s),c??"")}}])})();function fO(e){if(e.includes(Bd))return Bd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_C.exec(t))!==null&&r!==void 0?r:[],a=wg(n,4),i=a[1],s=a[2],c=a[3],d=jm.parse(i??""),f=jm.parse(c??""),p=s==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Bd;t=t.replace(_C,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,y=(h=EC.exec(t))!==null&&h!==void 0?h:[],g=wg(y,4),j=g[1],x=g[2],w=g[3],S=jm.parse(j??""),C=jm.parse(w??""),P=x==="+"?S.add(C):S.subtract(C);if(P.isNaN())return Bd;t=t.replace(EC,P.toString())}return t}var OC=/\(([^()]*)\)/;function w9(e){for(var t=e;t.includes("(");){var r=OC.exec(t),n=wg(r,2),a=n[1];t=t.replace(OC,fO(a))}return t}function N9(e){var t=e.replace(/\s+/g,"");return t=w9(t),t=fO(t),t}function j9(e){try{return N9(e)}catch{return Bd}}function e1(e){var t=j9(e.slice(5,-1));return t===Bd?"":t}var S9=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],C9=["dx","dy","angle","className","breakAll"];function G2(){return G2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G2.apply(this,arguments)}function kC(e,t){if(e==null)return{};var r=A9(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IC(e,t){return O9(e)||E9(e,t)||_9(e,t)||P9()}function P9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9(e,t){if(e){if(typeof e=="string")return LC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(e,t)}}function LC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function O9(e){if(Array.isArray(e))return e}var hO=/[ \f\n\r\t\v\u2028\u2029]+/,pO=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];gr(r)||(n?i=r.toString().split(""):i=r.toString().split(hO));var s=i.map(function(d){return{word:d,width:Ih(d,a).width}}),c=n?0:Ih("",a).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},k9=function(t,r,n,a,i){var s=t.maxLines,c=t.children,d=t.style,f=t.breakAll,p=St(s),h=c,y=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(W,ee){var G=ee.word,ie=ee.width,te=W[W.length-1];if(te&&(a==null||i||te.width+ie+n<Number(a)))te.words.push(G),te.width+=ie+n;else{var re={words:[G],width:ie};W.push(re)}return W},[])},g=y(r),j=function(z){return z.reduce(function(W,ee){return W.width>ee.width?W:ee})};if(!p)return g;for(var x="",w=function(z){var W=h.slice(0,z),ee=pO({breakAll:f,style:d,children:W+x}).wordsWithComputedWidth,G=y(ee),ie=G.length>s||j(G).width>Number(a);return[ie,G]},S=0,C=h.length-1,P=0,R;S<=C&&P<=h.length-1;){var L=Math.floor((S+C)/2),q=L-1,_=w(q),B=IC(_,2),V=B[0],K=B[1],E=w(L),$=IC(E,1),D=$[0];if(!V&&!D&&(S=L+1),V&&D&&(C=L-1),!V&&D){R=K;break}P++}return R||g},TC=function(t){var r=gr(t)?[]:t.toString().split(hO);return[{words:r}]},I9=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,c=t.maxLines;if((r||n)&&!Uu.isSsr){var d,f,p=pO({breakAll:s,children:a,style:i});if(p){var h=p.wordsWithComputedWidth,y=p.spaceWidth;d=h,f=y}else return TC(a);return k9({breakAll:s,children:a,maxLines:c,style:i},d,f,r,n)}return TC(a)},DC="#808080",Ru=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,c=s===void 0?"1em":s,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,h=p===void 0?!1:p,y=t.textAnchor,g=y===void 0?"start":y,j=t.verticalAnchor,x=j===void 0?"end":j,w=t.fill,S=w===void 0?DC:w,C=kC(t,S9),P=M.useMemo(function(){return I9({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),R=C.dx,L=C.dy,q=C.angle,_=C.className,B=C.breakAll,V=kC(C,C9);if(!ra(n)||!ra(i))return null;var K=n+(St(R)?R:0),E=i+(St(L)?L:0),$;switch(x){case"start":$=e1("calc(".concat(f,")"));break;case"middle":$=e1("calc(".concat((P.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:$=e1("calc(".concat(P.length-1," * -").concat(c,")"));break}var D=[];if(h){var I=P[0].width,z=C.width;D.push("scale(".concat((St(z)?z/I:1)/I,")"))}return q&&D.push("rotate(".concat(q,", ").concat(K,", ").concat(E,")")),D.length&&(V.transform=D.join(" ")),Pe.createElement("text",G2({},tr(V,!0),{x:K,y:E,className:br("recharts-text",_),textAnchor:g,fill:S.includes("url")?DC:S}),P.map(function(W,ee){var G=W.words.join(B?"":" ");return Pe.createElement("tspan",{x:K,dy:ee===0?$:c,key:"".concat(G,"-").concat(ee)},G)}))};function Ec(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function L9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F5(e){let t,r,n;e.length!==2?(t=Ec,r=(c,d)=>Ec(e(c),d),n=(c,d)=>e(c)-d):(t=e===Ec||e===L9?e:T9,r=e,n=e);function a(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<0?f=h+1:p=h}while(f<p)}return f}function i(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const h=f+p>>>1;r(c[h],d)<=0?f=h+1:p=h}while(f<p)}return f}function s(c,d,f=0,p=c.length){const h=a(c,d,f,p-1);return h>f&&n(c[h-1],d)>-n(c[h],d)?h-1:h}return{left:a,center:s,right:i}}function T9(){return 0}function mO(e){return e===null?NaN:+e}function*D9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const M9=F5(Ec),kp=M9.right;F5(mO).center;class MC extends Map{constructor(t,r=F9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(RC(this,t))}has(t){return super.has(RC(this,t))}set(t,r){return super.set(R9(this,t),r)}delete(t){return super.delete($9(this,t))}}function RC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function R9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function F9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function z9(e=Ec){if(e===Ec)return gO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const B9=Math.sqrt(50),q9=Math.sqrt(10),U9=Math.sqrt(2);function Ng(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=B9?10:i>=q9?5:i>=U9?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Ng(e,t,r*2):[c,d,f]}function K2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Ng(t,e,r):Ng(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(s<0)for(let f=0;f<c;++f)d[f]=(i-f)/-s;else for(let f=0;f<c;++f)d[f]=(i-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(a+f)/-s;else for(let f=0;f<c;++f)d[f]=(a+f)*s;return d}function J2(e,t,r){return t=+t,e=+e,r=+r,Ng(e,t,r)[2]}function Y2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?J2(t,e,r):J2(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $C(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vO(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?gO:z9(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(d-h)/d)*(f-d/2<0?-1:1),g=Math.max(r,Math.floor(t-f*h/d+y)),j=Math.min(n,Math.floor(t+(d-f)*h/d+y));vO(e,t,g,j,a)}const i=e[t];let s=r,c=n;for(dh(e,r,t),a(e[n],i)>0&&dh(e,r,n);s<c;){for(dh(e,s,c),++s,--c;a(e[s],i)<0;)++s;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?dh(e,r,c):(++c,dh(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function dh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function V9(e,t,r){if(e=Float64Array.from(D9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FC(e);if(t>=1)return $C(e);var n,a=(n-1)*t,i=Math.floor(a),s=$C(vO(e,i).subarray(0,i+1)),c=FC(e.subarray(i+1));return s+(c-s)*(a-i)}}function W9(e,t,r=mO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return s+(c-s)*(a-i)}}function H9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function yi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const X2=Symbol("implicit");function z5(){var e=new MC,t=[],r=[],n=X2;function a(i){let s=e.get(i);if(s===void 0){if(n!==X2)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new MC;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return z5(t,r).unknown(n)},yi.apply(a,arguments),a}function Jh(){var e=z5().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,c=!1,d=0,f=0,p=.5;delete e.unknown;function h(){var y=t().length,g=a<n,j=g?a:n,x=g?n:a;i=(x-j)/Math.max(1,y-d+f*2),c&&(i=Math.floor(i)),j+=(x-j-i*(y-d))*p,s=i*(1-d),c&&(j=Math.round(j),s=Math.round(s));var w=H9(y).map(function(S){return j+i*S});return r(g?w.reverse():w)}return e.domain=function(y){return arguments.length?(t(y),h()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,c=!0,h()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(y){return arguments.length?(c=!!y,h()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),h()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),h()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,h()):f},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},e.copy=function(){return Jh(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(p)},yi.apply(h(),arguments)}function yO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yO(t())},e}function Lh(){return yO(Jh.apply(null,arguments).paddingInner(1))}function B5(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ip(){}var Yh=.7,jg=1/Yh,Xd="\\s*([+-]?\\d+)\\s*",Xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",G9=/^#([0-9a-f]{3,8})$/,K9=new RegExp(`^rgb\\(${Xd},${Xd},${Xd}\\)$`),J9=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),Y9=new RegExp(`^rgba\\(${Xd},${Xd},${Xd},${Xh}\\)$`),X9=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${Xh}\\)$`),Z9=new RegExp(`^hsl\\(${Xh},${Ss},${Ss}\\)$`),Q9=new RegExp(`^hsla\\(${Xh},${Ss},${Ss},${Xh}\\)$`),zC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B5(Ip,Zh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BC,formatHex:BC,formatHex8:eF,formatHsl:tF,formatRgb:qC,toString:qC});function BC(){return this.rgb().formatHex()}function eF(){return this.rgb().formatHex8()}function tF(){return bO(this).formatHsl()}function qC(){return this.rgb().formatRgb()}function Zh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=G9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?UC(t):r===3?new wo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=K9.exec(e))?new wo(t[1],t[2],t[3],1):(t=J9.exec(e))?new wo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Y9.exec(e))?Sm(t[1],t[2],t[3],t[4]):(t=X9.exec(e))?Sm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Z9.exec(e))?HC(t[1],t[2]/100,t[3]/100,1):(t=Q9.exec(e))?HC(t[1],t[2]/100,t[3]/100,t[4]):zC.hasOwnProperty(e)?UC(zC[e]):e==="transparent"?new wo(NaN,NaN,NaN,0):null}function UC(e){return new wo(e>>16&255,e>>8&255,e&255,1)}function Sm(e,t,r,n){return n<=0&&(e=t=r=NaN),new wo(e,t,r,n)}function rF(e){return e instanceof Ip||(e=Zh(e)),e?(e=e.rgb(),new wo(e.r,e.g,e.b,e.opacity)):new wo}function Z2(e,t,r,n){return arguments.length===1?rF(e):new wo(e,t,r,n??1)}function wo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}B5(wo,Z2,xO(Ip,{brighter(e){return e=e==null?jg:Math.pow(jg,e),new wo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yh:Math.pow(Yh,e),new wo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wo(ku(this.r),ku(this.g),ku(this.b),Sg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VC,formatHex:VC,formatHex8:nF,formatRgb:WC,toString:WC}));function VC(){return`#${_u(this.r)}${_u(this.g)}${_u(this.b)}`}function nF(){return`#${_u(this.r)}${_u(this.g)}${_u(this.b)}${_u((isNaN(this.opacity)?1:this.opacity)*255)}`}function WC(){const e=Sg(this.opacity);return`${e===1?"rgb(":"rgba("}${ku(this.r)}, ${ku(this.g)}, ${ku(this.b)}${e===1?")":`, ${e})`}`}function Sg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ku(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _u(e){return e=ku(e),(e<16?"0":"")+e.toString(16)}function HC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hi(e,t,r,n)}function bO(e){if(e instanceof Hi)return new Hi(e.h,e.s,e.l,e.opacity);if(e instanceof Ip||(e=Zh(e)),!e)return new Hi;if(e instanceof Hi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,c=i-a,d=(i+a)/2;return c?(t===i?s=(r-n)/c+(r<n)*6:r===i?s=(n-t)/c+2:s=(t-r)/c+4,c/=d<.5?i+a:2-i-a,s*=60):c=d>0&&d<1?0:s,new Hi(s,c,d,e.opacity)}function aF(e,t,r,n){return arguments.length===1?bO(e):new Hi(e,t,r,n??1)}function Hi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}B5(Hi,aF,xO(Ip,{brighter(e){return e=e==null?jg:Math.pow(jg,e),new Hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yh:Math.pow(Yh,e),new Hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new wo(t1(e>=240?e-240:e+120,a,n),t1(e,a,n),t1(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Hi(GC(this.h),Cm(this.s),Cm(this.l),Sg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sg(this.opacity);return`${e===1?"hsl(":"hsla("}${GC(this.h)}, ${Cm(this.s)*100}%, ${Cm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GC(e){return e=(e||0)%360,e<0?e+360:e}function Cm(e){return Math.max(0,Math.min(1,e||0))}function t1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const q5=e=>()=>e;function oF(e,t){return function(r){return e+r*t}}function iF(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sF(e){return(e=+e)==1?wO:function(t,r){return r-t?iF(t,r,e):q5(isNaN(t)?r:t)}}function wO(e,t){var r=t-e;return r?oF(e,r):q5(isNaN(e)?t:e)}const KC=(function e(t){var r=sF(t);function n(a,i){var s=r((a=Z2(a)).r,(i=Z2(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=wO(a.opacity,i.opacity);return function(p){return a.r=s(p),a.g=c(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=e,n})(1);function lF(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function cF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uF(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Rf(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(c){for(s=0;s<n;++s)i[s]=a[s](c);return i}}function dF(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Cg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fF(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Rf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Q2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r1=new RegExp(Q2.source,"g");function hF(e){return function(){return e}}function pF(e){return function(t){return e(t)+""}}function mF(e,t){var r=Q2.lastIndex=r1.lastIndex=0,n,a,i,s=-1,c=[],d=[];for(e=e+"",t=t+"";(n=Q2.exec(e))&&(a=r1.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[s]?c[s]+=i:c[++s]=i),(n=n[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,d.push({i:s,x:Cg(n,a)})),r=r1.lastIndex;return r<t.length&&(i=t.slice(r),c[s]?c[s]+=i:c[++s]=i),c.length<2?d[0]?pF(d[0].x):hF(t):(t=d.length,function(f){for(var p=0,h;p<t;++p)c[(h=d[p]).i]=h.x(f);return c.join("")})}function Rf(e,t){var r=typeof t,n;return t==null||r==="boolean"?q5(t):(r==="number"?Cg:r==="string"?(n=Zh(t))?(t=n,KC):mF:t instanceof Zh?KC:t instanceof Date?dF:cF(t)?lF:Array.isArray(t)?uF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fF:Cg)(e,t)}function U5(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gF(e,t){t===void 0&&(t=e,e=Rf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[c](s-c)}}function vF(e){return function(){return e}}function Ag(e){return+e}var JC=[0,1];function ao(e){return e}function ew(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vF(isNaN(t)?NaN:.5)}function yF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function xF(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=ew(a,n),i=r(s,i)):(n=ew(n,a),i=r(i,s)),function(c){return i(n(c))}}function bF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=ew(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(c){var d=kp(e,c,1,n)-1;return i[d](a[d](c))}}function Lp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _0(){var e=JC,t=JC,r=Rf,n,a,i,s=ao,c,d,f;function p(){var y=Math.min(e.length,t.length);return s!==ao&&(s=yF(e[0],e[y-1])),c=y>2?bF:xF,d=f=null,h}function h(y){return y==null||isNaN(y=+y)?i:(d||(d=c(e.map(n),t,r)))(n(s(y)))}return h.invert=function(y){return s(a((f||(f=c(t,e.map(n),Cg)))(y)))},h.domain=function(y){return arguments.length?(e=Array.from(y,Ag),p()):e.slice()},h.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},h.rangeRound=function(y){return t=Array.from(y),r=U5,p()},h.clamp=function(y){return arguments.length?(s=y?!0:ao,p()):s!==ao},h.interpolate=function(y){return arguments.length?(r=y,p()):r},h.unknown=function(y){return arguments.length?(i=y,h):i},function(y,g){return n=y,a=g,p()}}function V5(){return _0()(ao,ao)}function wF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function df(e){return e=Pg(Math.abs(e)),e?e[1]:NaN}function NF(e,t){return function(r,n){for(var a=r.length,i=[],s=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[s=(s+1)%e.length];return i.reverse().join(t)}}function jF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qh(e){if(!(t=SF.exec(e)))throw new Error("invalid format: "+e);var t;return new W5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qh.prototype=W5.prototype;function W5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}W5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var NO;function AF(e,t){var r=Pg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(NO=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Pg(e,Math.max(0,t+i-1))[0]}function YC(e,t){var r=Pg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YC(e*100,t),r:YC,s:AF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZC(e){return e}var QC=Array.prototype.map,eA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PF(e){var t=e.grouping===void 0||e.thousands===void 0?ZC:NF(QC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ZC:jF(QC.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Qh(h);var y=h.fill,g=h.align,j=h.sign,x=h.symbol,w=h.zero,S=h.width,C=h.comma,P=h.precision,R=h.trim,L=h.type;L==="n"?(C=!0,L="g"):XC[L]||(P===void 0&&(P=12),R=!0,L="g"),(w||y==="0"&&g==="=")&&(w=!0,y="0",g="=");var q=x==="$"?r:x==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",_=x==="$"?n:/[%p]/.test(L)?s:"",B=XC[L],V=/[defgprs%]/.test(L);P=P===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function K(E){var $=q,D=_,I,z,W;if(L==="c")D=B(E)+D,E="";else{E=+E;var ee=E<0||1/E<0;if(E=isNaN(E)?d:B(Math.abs(E),P),R&&(E=CF(E)),ee&&+E==0&&j!=="+"&&(ee=!1),$=(ee?j==="("?j:c:j==="-"||j==="("?"":j)+$,D=(L==="s"?eA[8+NO/3]:"")+D+(ee&&j==="("?")":""),V){for(I=-1,z=E.length;++I<z;)if(W=E.charCodeAt(I),48>W||W>57){D=(W===46?a+E.slice(I+1):E.slice(I))+D,E=E.slice(0,I);break}}}C&&!w&&(E=t(E,1/0));var G=$.length+E.length+D.length,ie=G<S?new Array(S-G+1).join(y):"";switch(C&&w&&(E=t(ie+E,ie.length?S-D.length:1/0),ie=""),g){case"<":E=$+E+D+ie;break;case"=":E=$+ie+E+D;break;case"^":E=ie.slice(0,G=ie.length>>1)+$+E+D+ie.slice(G);break;default:E=ie+$+E+D;break}return i(E)}return K.toString=function(){return h+""},K}function p(h,y){var g=f((h=Qh(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(df(y)/3)))*3,x=Math.pow(10,-j),w=eA[8+j/3];return function(S){return g(x*S)+w}}return{format:f,formatPrefix:p}}var Am,H5,jO;_F({thousands:",",grouping:[3],currency:["$",""]});function _F(e){return Am=PF(e),H5=Am.format,jO=Am.formatPrefix,Am}function EF(e){return Math.max(0,-df(Math.abs(e)))}function OF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(df(t)/3)))*3-df(Math.abs(e)))}function kF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,df(t)-df(e))+1}function SO(e,t,r,n){var a=Y2(e,t,r),i;switch(n=Qh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=OF(a,s))&&(n.precision=i),jO(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=kF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=EF(a))&&(n.precision=i-(n.type==="%")*2);break}}return H5(n)}function Rc(e){var t=e.domain;return e.ticks=function(r){var n=t();return K2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return SO(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],c=n[i],d,f,p=10;for(c<s&&(f=s,s=c,c=f,f=a,a=i,i=f);p-- >0;){if(f=J2(s,c,r),f===d)return n[a]=s,n[i]=c,t(n);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function _g(){var e=V5();return e.copy=function(){return Lp(e,_g())},yi.apply(e,arguments),Rc(e)}function CO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ag),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CO(e).unknown(t)},e=arguments.length?Array.from(e,Ag):[0,1],Rc(r)}function AO(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function tA(e){return Math.log(e)}function rA(e){return Math.exp(e)}function IF(e){return-Math.log(-e)}function LF(e){return-Math.exp(-e)}function TF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DF(e){return e===10?TF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nA(e){return(t,r)=>-e(-t,r)}function G5(e){const t=e(tA,rA),r=t.domain;let n=10,a,i;function s(){return a=MF(n),i=DF(n),r()[0]<0?(a=nA(a),i=nA(i),e(IF,LF)):e(tA,rA),t}return t.base=function(c){return arguments.length?(n=+c,s()):n},t.domain=function(c){return arguments.length?(r(c),s()):r()},t.ticks=c=>{const d=r();let f=d[0],p=d[d.length-1];const h=p<f;h&&([f,p]=[p,f]);let y=a(f),g=a(p),j,x;const w=c==null?10:+c;let S=[];if(!(n%1)&&g-y<w){if(y=Math.floor(y),g=Math.ceil(g),f>0){for(;y<=g;++y)for(j=1;j<n;++j)if(x=y<0?j/i(-y):j*i(y),!(x<f)){if(x>p)break;S.push(x)}}else for(;y<=g;++y)for(j=n-1;j>=1;--j)if(x=y>0?j/i(-y):j*i(y),!(x<f)){if(x>p)break;S.push(x)}S.length*2<w&&(S=K2(f,p,w))}else S=K2(y,g,Math.min(g-y,w)).map(i);return h?S.reverse():S},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Qh(d)).precision==null&&(d.trim=!0),d=H5(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return p=>{let h=p/i(Math.round(a(p)));return h*n<n-.5&&(h*=n),h<=f?d(p):""}},t.nice=()=>r(AO(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function PO(){const e=G5(_0()).domain([1,10]);return e.copy=()=>Lp(e,PO()).base(e.base()),yi.apply(e,arguments),e}function aA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function oA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function K5(e){var t=1,r=e(aA(t),oA(t));return r.constant=function(n){return arguments.length?e(aA(t=+n),oA(t)):t},Rc(r)}function _O(){var e=K5(_0());return e.copy=function(){return Lp(e,_O()).constant(e.constant())},yi.apply(e,arguments)}function iA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $F(e){return e<0?-e*e:e*e}function J5(e){var t=e(ao,ao),r=1;function n(){return r===1?e(ao,ao):r===.5?e(RF,$F):e(iA(r),iA(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Rc(t)}function Y5(){var e=J5(_0());return e.copy=function(){return Lp(e,Y5()).exponent(e.exponent())},yi.apply(e,arguments),e}function FF(){return Y5.apply(null,arguments).exponent(.5)}function sA(e){return Math.sign(e)*e*e}function zF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EO(){var e=V5(),t=[0,1],r=!1,n;function a(i){var s=zF(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(sA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ag)).map(sA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return EO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},yi.apply(a,arguments),Rc(a)}function OO(){var e=[],t=[],r=[],n;function a(){var s=0,c=Math.max(1,t.length);for(r=new Array(c-1);++s<c;)r[s-1]=W9(e,s/c);return i}function i(s){return s==null||isNaN(s=+s)?n:t[kp(r,s)]}return i.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ec),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return OO().domain(e).range(t).unknown(n)},yi.apply(i,arguments)}function kO(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(d){return d!=null&&d<=d?a[kp(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},s.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},s.unknown=function(d){return arguments.length&&(i=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return kO().domain([e,t]).range(a).unknown(i)},yi.apply(Rc(s),arguments)}function IO(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[kp(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return IO().domain(e).range(t).unknown(r)},yi.apply(a,arguments)}const n1=new Date,a1=new Date;function na(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),c=a.ceil(i);return i-s<c-i?s:c},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<s)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<s);return d},a.filter=i=>na(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!i(s););else for(;--c>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(n1.setTime(+i),a1.setTime(+s),e(n1),e(a1),Math.floor(r(n1,a1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Eg=na(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Eg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?na(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Eg);Eg.range;const ml=1e3,mi=ml*60,gl=mi*60,Nl=gl*24,X5=Nl*7,lA=Nl*30,o1=Nl*365,Eu=na(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ml)},(e,t)=>(t-e)/ml,e=>e.getUTCSeconds());Eu.range;const Z5=na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ml)},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getMinutes());Z5.range;const Q5=na(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getUTCMinutes());Q5.range;const eN=na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ml-e.getMinutes()*mi)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getHours());eN.range;const tN=na(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getUTCHours());tN.range;const Tp=na(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mi)/Nl,e=>e.getDate()-1);Tp.range;const E0=na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nl,e=>e.getUTCDate()-1);E0.range;const LO=na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Nl,e=>Math.floor(e/Nl));LO.range;function Vu(e){return na(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mi)/X5)}const O0=Vu(0),Og=Vu(1),BF=Vu(2),qF=Vu(3),ff=Vu(4),UF=Vu(5),VF=Vu(6);O0.range;Og.range;BF.range;qF.range;ff.range;UF.range;VF.range;function Wu(e){return na(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/X5)}const k0=Wu(0),kg=Wu(1),WF=Wu(2),HF=Wu(3),hf=Wu(4),GF=Wu(5),KF=Wu(6);k0.range;kg.range;WF.range;HF.range;hf.range;GF.range;KF.range;const rN=na(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rN.range;const nN=na(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nN.range;const jl=na(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:na(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});jl.range;const Sl=na(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:na(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sl.range;function TO(e,t,r,n,a,i){const s=[[Eu,1,ml],[Eu,5,5*ml],[Eu,15,15*ml],[Eu,30,30*ml],[i,1,mi],[i,5,5*mi],[i,15,15*mi],[i,30,30*mi],[a,1,gl],[a,3,3*gl],[a,6,6*gl],[a,12,12*gl],[n,1,Nl],[n,2,2*Nl],[r,1,X5],[t,1,lA],[t,3,3*lA],[e,1,o1]];function c(f,p,h){const y=p<f;y&&([f,p]=[p,f]);const g=h&&typeof h.range=="function"?h:d(f,p,h),j=g?g.range(f,+p+1):[];return y?j.reverse():j}function d(f,p,h){const y=Math.abs(p-f)/h,g=F5(([,,w])=>w).right(s,y);if(g===s.length)return e.every(Y2(f/o1,p/o1,h));if(g===0)return Eg.every(Math.max(Y2(f,p,h),1));const[j,x]=s[y/s[g-1][2]<s[g][2]/y?g-1:g];return j.every(x)}return[c,d]}const[JF,YF]=TO(Sl,nN,k0,LO,tN,Q5),[XF,ZF]=TO(jl,rN,O0,Tp,eN,Z5);function i1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function QF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=hh(a),p=ph(a),h=hh(i),y=ph(i),g=hh(s),j=ph(s),x=hh(c),w=ph(c),S=hh(d),C=ph(d),P={a:ee,A:G,b:ie,B:te,c:null,d:pA,e:pA,f:Nz,g:Iz,G:Tz,H:xz,I:bz,j:wz,L:DO,m:jz,M:Sz,p:re,q:T,Q:vA,s:yA,S:Cz,u:Az,U:Pz,V:_z,w:Ez,W:Oz,x:null,X:null,y:kz,Y:Lz,Z:Dz,"%":gA},R={a:J,A:Y,b:H,B:me,c:null,d:mA,e:mA,f:Fz,g:Jz,G:Xz,H:Mz,I:Rz,j:$z,L:RO,m:zz,M:Bz,p:pe,q:be,Q:vA,s:yA,S:qz,u:Uz,U:Vz,V:Wz,w:Hz,W:Gz,x:null,X:null,y:Kz,Y:Yz,Z:Zz,"%":gA},L={a:K,A:E,b:$,B:D,c:I,d:fA,e:fA,f:mz,g:dA,G:uA,H:hA,I:hA,j:dz,L:pz,m:uz,M:fz,p:V,q:cz,Q:vz,s:yz,S:hz,u:az,U:oz,V:iz,w:nz,W:sz,x:z,X:W,y:dA,Y:uA,Z:lz,"%":gz};P.x=q(r,P),P.X=q(n,P),P.c=q(t,P),R.x=q(r,R),R.X=q(n,R),R.c=q(t,R);function q(ge,Te){return function(ze){var ue=[],Fe=-1,De=0,Ne=ge.length,se,ct,Q;for(ze instanceof Date||(ze=new Date(+ze));++Fe<Ne;)ge.charCodeAt(Fe)===37&&(ue.push(ge.slice(De,Fe)),(ct=cA[se=ge.charAt(++Fe)])!=null?se=ge.charAt(++Fe):ct=se==="e"?" ":"0",(Q=Te[se])&&(se=Q(ze,ct)),ue.push(se),De=Fe+1);return ue.push(ge.slice(De,Fe)),ue.join("")}}function _(ge,Te){return function(ze){var ue=fh(1900,void 0,1),Fe=B(ue,ge,ze+="",0),De,Ne;if(Fe!=ze.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Te&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(De=s1(fh(ue.y,0,1)),Ne=De.getUTCDay(),De=Ne>4||Ne===0?kg.ceil(De):kg(De),De=E0.offset(De,(ue.V-1)*7),ue.y=De.getUTCFullYear(),ue.m=De.getUTCMonth(),ue.d=De.getUTCDate()+(ue.w+6)%7):(De=i1(fh(ue.y,0,1)),Ne=De.getDay(),De=Ne>4||Ne===0?Og.ceil(De):Og(De),De=Tp.offset(De,(ue.V-1)*7),ue.y=De.getFullYear(),ue.m=De.getMonth(),ue.d=De.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ne="Z"in ue?s1(fh(ue.y,0,1)).getUTCDay():i1(fh(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ne+5)%7:ue.w+ue.U*7-(Ne+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,s1(ue)):i1(ue)}}function B(ge,Te,ze,ue){for(var Fe=0,De=Te.length,Ne=ze.length,se,ct;Fe<De;){if(ue>=Ne)return-1;if(se=Te.charCodeAt(Fe++),se===37){if(se=Te.charAt(Fe++),ct=L[se in cA?Te.charAt(Fe++):se],!ct||(ue=ct(ge,ze,ue))<0)return-1}else if(se!=ze.charCodeAt(ue++))return-1}return ue}function V(ge,Te,ze){var ue=f.exec(Te.slice(ze));return ue?(ge.p=p.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function K(ge,Te,ze){var ue=g.exec(Te.slice(ze));return ue?(ge.w=j.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function E(ge,Te,ze){var ue=h.exec(Te.slice(ze));return ue?(ge.w=y.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function $(ge,Te,ze){var ue=S.exec(Te.slice(ze));return ue?(ge.m=C.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function D(ge,Te,ze){var ue=x.exec(Te.slice(ze));return ue?(ge.m=w.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function I(ge,Te,ze){return B(ge,t,Te,ze)}function z(ge,Te,ze){return B(ge,r,Te,ze)}function W(ge,Te,ze){return B(ge,n,Te,ze)}function ee(ge){return s[ge.getDay()]}function G(ge){return i[ge.getDay()]}function ie(ge){return d[ge.getMonth()]}function te(ge){return c[ge.getMonth()]}function re(ge){return a[+(ge.getHours()>=12)]}function T(ge){return 1+~~(ge.getMonth()/3)}function J(ge){return s[ge.getUTCDay()]}function Y(ge){return i[ge.getUTCDay()]}function H(ge){return d[ge.getUTCMonth()]}function me(ge){return c[ge.getUTCMonth()]}function pe(ge){return a[+(ge.getUTCHours()>=12)]}function be(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Te=q(ge+="",P);return Te.toString=function(){return ge},Te},parse:function(ge){var Te=_(ge+="",!1);return Te.toString=function(){return ge},Te},utcFormat:function(ge){var Te=q(ge+="",R);return Te.toString=function(){return ge},Te},utcParse:function(ge){var Te=_(ge+="",!0);return Te.toString=function(){return ge},Te}}}var cA={"-":"",_:" ",0:"0"},ga=/^\s*\d+/,ez=/^%/,tz=/[\\^$*+?|[\]().{}]/g;function Ur(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function rz(e){return e.replace(tz,"\\$&")}function hh(e){return new RegExp("^(?:"+e.map(rz).join("|")+")","i")}function ph(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function nz(e,t,r){var n=ga.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function az(e,t,r){var n=ga.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function oz(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iz(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function sz(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uA(e,t,r){var n=ga.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dA(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lz(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cz(e,t,r){var n=ga.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function uz(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fA(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function dz(e,t,r){var n=ga.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hA(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function fz(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function hz(e,t,r){var n=ga.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pz(e,t,r){var n=ga.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mz(e,t,r){var n=ga.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gz(e,t,r){var n=ez.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vz(e,t,r){var n=ga.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yz(e,t,r){var n=ga.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pA(e,t){return Ur(e.getDate(),t,2)}function xz(e,t){return Ur(e.getHours(),t,2)}function bz(e,t){return Ur(e.getHours()%12||12,t,2)}function wz(e,t){return Ur(1+Tp.count(jl(e),e),t,3)}function DO(e,t){return Ur(e.getMilliseconds(),t,3)}function Nz(e,t){return DO(e,t)+"000"}function jz(e,t){return Ur(e.getMonth()+1,t,2)}function Sz(e,t){return Ur(e.getMinutes(),t,2)}function Cz(e,t){return Ur(e.getSeconds(),t,2)}function Az(e){var t=e.getDay();return t===0?7:t}function Pz(e,t){return Ur(O0.count(jl(e)-1,e),t,2)}function MO(e){var t=e.getDay();return t>=4||t===0?ff(e):ff.ceil(e)}function _z(e,t){return e=MO(e),Ur(ff.count(jl(e),e)+(jl(e).getDay()===4),t,2)}function Ez(e){return e.getDay()}function Oz(e,t){return Ur(Og.count(jl(e)-1,e),t,2)}function kz(e,t){return Ur(e.getFullYear()%100,t,2)}function Iz(e,t){return e=MO(e),Ur(e.getFullYear()%100,t,2)}function Lz(e,t){return Ur(e.getFullYear()%1e4,t,4)}function Tz(e,t){var r=e.getDay();return e=r>=4||r===0?ff(e):ff.ceil(e),Ur(e.getFullYear()%1e4,t,4)}function Dz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ur(t/60|0,"0",2)+Ur(t%60,"0",2)}function mA(e,t){return Ur(e.getUTCDate(),t,2)}function Mz(e,t){return Ur(e.getUTCHours(),t,2)}function Rz(e,t){return Ur(e.getUTCHours()%12||12,t,2)}function $z(e,t){return Ur(1+E0.count(Sl(e),e),t,3)}function RO(e,t){return Ur(e.getUTCMilliseconds(),t,3)}function Fz(e,t){return RO(e,t)+"000"}function zz(e,t){return Ur(e.getUTCMonth()+1,t,2)}function Bz(e,t){return Ur(e.getUTCMinutes(),t,2)}function qz(e,t){return Ur(e.getUTCSeconds(),t,2)}function Uz(e){var t=e.getUTCDay();return t===0?7:t}function Vz(e,t){return Ur(k0.count(Sl(e)-1,e),t,2)}function $O(e){var t=e.getUTCDay();return t>=4||t===0?hf(e):hf.ceil(e)}function Wz(e,t){return e=$O(e),Ur(hf.count(Sl(e),e)+(Sl(e).getUTCDay()===4),t,2)}function Hz(e){return e.getUTCDay()}function Gz(e,t){return Ur(kg.count(Sl(e)-1,e),t,2)}function Kz(e,t){return Ur(e.getUTCFullYear()%100,t,2)}function Jz(e,t){return e=$O(e),Ur(e.getUTCFullYear()%100,t,2)}function Yz(e,t){return Ur(e.getUTCFullYear()%1e4,t,4)}function Xz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hf(e):hf.ceil(e),Ur(e.getUTCFullYear()%1e4,t,4)}function Zz(){return"+0000"}function gA(){return"%"}function vA(e){return+e}function yA(e){return Math.floor(+e/1e3)}var Pd,FO,zO;Qz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qz(e){return Pd=QF(e),FO=Pd.format,Pd.parse,zO=Pd.utcFormat,Pd.utcParse,Pd}function eB(e){return new Date(e)}function tB(e){return e instanceof Date?+e:+new Date(+e)}function aN(e,t,r,n,a,i,s,c,d,f){var p=V5(),h=p.invert,y=p.domain,g=f(".%L"),j=f(":%S"),x=f("%I:%M"),w=f("%I %p"),S=f("%a %d"),C=f("%b %d"),P=f("%B"),R=f("%Y");function L(q){return(d(q)<q?g:c(q)<q?j:s(q)<q?x:i(q)<q?w:n(q)<q?a(q)<q?S:C:r(q)<q?P:R)(q)}return p.invert=function(q){return new Date(h(q))},p.domain=function(q){return arguments.length?y(Array.from(q,tB)):y().map(eB)},p.ticks=function(q){var _=y();return e(_[0],_[_.length-1],q??10)},p.tickFormat=function(q,_){return _==null?L:f(_)},p.nice=function(q){var _=y();return(!q||typeof q.range!="function")&&(q=t(_[0],_[_.length-1],q??10)),q?y(AO(_,q)):p},p.copy=function(){return Lp(p,aN(e,t,r,n,a,i,s,c,d,f))},p}function rB(){return yi.apply(aN(XF,ZF,jl,rN,O0,Tp,eN,Z5,Eu,FO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nB(){return yi.apply(aN(JF,YF,Sl,nN,k0,E0,tN,Q5,Eu,zO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function I0(){var e=0,t=1,r,n,a,i,s=ao,c=!1,d;function f(h){return h==null||isNaN(h=+h)?d:s(a===0?.5:(h=(i(h)-r)*a,c?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(c=!!h,f):c},f.interpolator=function(h){return arguments.length?(s=h,f):s};function p(h){return function(y){var g,j;return arguments.length?([g,j]=y,s=h(g,j),f):[s(0),s(1)]}}return f.range=p(Rf),f.rangeRound=p(U5),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),f}}function $c(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BO(){var e=Rc(I0()(ao));return e.copy=function(){return $c(e,BO())},Pl.apply(e,arguments)}function qO(){var e=G5(I0()).domain([1,10]);return e.copy=function(){return $c(e,qO()).base(e.base())},Pl.apply(e,arguments)}function UO(){var e=K5(I0());return e.copy=function(){return $c(e,UO()).constant(e.constant())},Pl.apply(e,arguments)}function oN(){var e=J5(I0());return e.copy=function(){return $c(e,oN()).exponent(e.exponent())},Pl.apply(e,arguments)}function aB(){return oN.apply(null,arguments).exponent(.5)}function VO(){var e=[],t=ao;function r(n){if(n!=null&&!isNaN(n=+n))return t((kp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ec),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>V9(e,i/n))},r.copy=function(){return VO(t).domain(e)},Pl.apply(r,arguments)}function L0(){var e=0,t=.5,r=1,n=1,a,i,s,c,d,f=ao,p,h=!1,y;function g(x){return isNaN(x=+x)?y:(x=.5+((x=+p(x))-i)*(n*x<n*i?c:d),f(h?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,a=p(e=+e),i=p(t=+t),s=p(r=+r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(h=!!x,g):h},g.interpolator=function(x){return arguments.length?(f=x,g):f};function j(x){return function(w){var S,C,P;return arguments.length?([S,C,P]=w,f=gF(x,[S,C,P]),g):[f(0),f(.5),f(1)]}}return g.range=j(Rf),g.rangeRound=j(U5),g.unknown=function(x){return arguments.length?(y=x,g):y},function(x){return p=x,a=x(e),i=x(t),s=x(r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,g}}function WO(){var e=Rc(L0()(ao));return e.copy=function(){return $c(e,WO())},Pl.apply(e,arguments)}function HO(){var e=G5(L0()).domain([.1,1,10]);return e.copy=function(){return $c(e,HO()).base(e.base())},Pl.apply(e,arguments)}function GO(){var e=K5(L0());return e.copy=function(){return $c(e,GO()).constant(e.constant())},Pl.apply(e,arguments)}function iN(){var e=J5(L0());return e.copy=function(){return $c(e,iN()).exponent(e.exponent())},Pl.apply(e,arguments)}function oB(){return iN.apply(null,arguments).exponent(.5)}const xA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jh,scaleDiverging:WO,scaleDivergingLog:HO,scaleDivergingPow:iN,scaleDivergingSqrt:oB,scaleDivergingSymlog:GO,scaleIdentity:CO,scaleImplicit:X2,scaleLinear:_g,scaleLog:PO,scaleOrdinal:z5,scalePoint:Lh,scalePow:Y5,scaleQuantile:OO,scaleQuantize:kO,scaleRadial:EO,scaleSequential:BO,scaleSequentialLog:qO,scaleSequentialPow:oN,scaleSequentialQuantile:VO,scaleSequentialSqrt:aB,scaleSequentialSymlog:UO,scaleSqrt:FF,scaleSymlog:_O,scaleThreshold:IO,scaleTime:rB,scaleUtc:nB,tickFormat:SO},Symbol.toStringTag,{value:"Module"}));var l1,bA;function T0(){if(bA)return l1;bA=1;var e=Lf();function t(r,n,a){for(var i=-1,s=r.length;++i<s;){var c=r[i],d=n(c);if(d!=null&&(f===void 0?d===d&&!e(d):a(d,f)))var f=d,p=c}return p}return l1=t,l1}var c1,wA;function KO(){if(wA)return c1;wA=1;function e(t,r){return t>r}return c1=e,c1}var u1,NA;function iB(){if(NA)return u1;NA=1;var e=T0(),t=KO(),r=Mf();function n(a){return a&&a.length?e(a,r,t):void 0}return u1=n,u1}var sB=iB();const D0=tn(sB);var d1,jA;function JO(){if(jA)return d1;jA=1;function e(t,r){return t<r}return d1=e,d1}var f1,SA;function lB(){if(SA)return f1;SA=1;var e=T0(),t=JO(),r=Mf();function n(a){return a&&a.length?e(a,r,t):void 0}return f1=n,f1}var cB=lB();const M0=tn(cB);var h1,CA;function uB(){if(CA)return h1;CA=1;var e=N5(),t=Os(),r=nO(),n=jo();function a(i,s){var c=n(i)?e:r;return c(i,t(s,3))}return h1=a,h1}var p1,AA;function dB(){if(AA)return p1;AA=1;var e=tO(),t=uB();function r(n,a){return e(t(n,a),1)}return p1=r,p1}var fB=dB();const hB=tn(fB);var m1,PA;function pB(){if(PA)return m1;PA=1;var e=D5();function t(r,n){return e(r,n)}return m1=t,m1}var mB=pB();const Dp=tn(mB);var $f=1e9,gB={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lN,Sn=!0,gi="[DecimalError] ",Iu=gi+"Invalid argument: ",sN=gi+"Exponent out of range: ",Ff=Math.floor,ju=Math.pow,vB=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bo,fa=1e7,vn=7,YO=9007199254740991,Ig=Ff(YO/vn),zt={};zt.absoluteValue=zt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};zt.comparedTo=zt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};zt.dividedBy=zt.div=function(e){return bl(this,new this.constructor(e))};zt.dividedToIntegerBy=zt.idiv=function(e){var t=this,r=t.constructor;return sn(bl(t,new r(e),0,1),r.precision)};zt.equals=zt.eq=function(e){return!this.cmp(e)};zt.exponent=function(){return Hn(this)};zt.greaterThan=zt.gt=function(e){return this.cmp(e)>0};zt.greaterThanOrEqualTo=zt.gte=function(e){return this.cmp(e)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(e){return this.cmp(e)<0};zt.lessThanOrEqualTo=zt.lte=function(e){return this.cmp(e)<1};zt.logarithm=zt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Bo))throw Error(gi+"NaN");if(r.s<1)throw Error(gi+(r.s?"NaN":"-Infinity"));return r.eq(Bo)?new n(0):(Sn=!1,t=bl(ep(r,i),ep(e,i),i),Sn=!0,sn(t,a))};zt.minus=zt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QO(t,e):XO(t,(e.s=-e.s,e))};zt.modulo=zt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(gi+"NaN");return r.s?(Sn=!1,t=bl(r,e,0,1).times(e),Sn=!0,r.minus(t)):sn(new n(r),a)};zt.naturalExponential=zt.exp=function(){return ZO(this)};zt.naturalLogarithm=zt.ln=function(){return ep(this)};zt.negated=zt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};zt.plus=zt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XO(t,e):QO(t,(e.s=-e.s,e))};zt.precision=zt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Iu+e);if(t=Hn(a)+1,n=a.d.length-1,r=n*vn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};zt.squareRoot=zt.sqrt=function(){var e,t,r,n,a,i,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(gi+"NaN")}for(e=Hn(c),Sn=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Ns(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ff((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=s=r+3;;)if(i=n,n=i.plus(bl(c,i,s+2)).times(.5),Ns(i.d).slice(0,s)===(t=Ns(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(sn(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;s+=4}return Sn=!0,sn(n,r)};zt.times=zt.mul=function(e){var t,r,n,a,i,s,c,d,f,p=this,h=p.constructor,y=p.d,g=(e=new h(e)).d;if(!p.s||!e.s)return new h(0);for(e.s*=p.s,r=p.e+e.e,d=y.length,f=g.length,d<f&&(i=y,y=g,g=i,s=d,d=f,f=s),i=[],s=d+f,n=s;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+g[n]*y[a-n-1]+t,i[a--]=c%fa|0,t=c/fa|0;i[a]=(i[a]+t)%fa|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Sn?sn(e,h.precision):e};zt.toDecimalPlaces=zt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ps(e,0,$f),t===void 0?t=n.rounding:Ps(t,0,8),sn(r,e+Hn(r)+1,t))};zt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=$u(n,!0):(Ps(e,0,$f),t===void 0?t=a.rounding:Ps(t,0,8),n=sn(new a(n),e+1,t),r=$u(n,!0,e+1)),r};zt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?$u(a):(Ps(e,0,$f),t===void 0?t=i.rounding:Ps(t,0,8),n=sn(new i(a),e+Hn(a)+1,t),r=$u(n.abs(),!1,e+Hn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};zt.toInteger=zt.toint=function(){var e=this,t=e.constructor;return sn(new t(e),Hn(e)+1,t.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(e){var t,r,n,a,i,s,c=this,d=c.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(Bo);if(c=new d(c),!c.s){if(e.s<1)throw Error(gi+"Infinity");return c}if(c.eq(Bo))return c;if(n=d.precision,e.eq(Bo))return sn(c,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=c.s,s){if((r=p<0?-p:p)<=YO){for(a=new d(Bo),t=Math.ceil(n/vn+4),Sn=!1;r%2&&(a=a.times(c),EA(a.d,t)),r=Ff(r/2),r!==0;)c=c.times(c),EA(c.d,t);return Sn=!0,e.s<0?new d(Bo).div(a):sn(a,n)}}else if(i<0)throw Error(gi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Sn=!1,a=e.times(ep(c,n+f)),Sn=!0,a=ZO(a),a.s=i,a};zt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Hn(a),n=$u(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ps(e,1,$f),t===void 0?t=i.rounding:Ps(t,0,8),a=sn(new i(a),e,t),r=Hn(a),n=$u(a,e<=r||r<=i.toExpNeg,e)),n};zt.toSignificantDigits=zt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ps(e,1,$f),t===void 0?t=n.rounding:Ps(t,0,8)),sn(new n(r),e,t)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hn(e),r=e.constructor;return $u(e,t<=r.toExpNeg||t>=r.toExpPos)};function XO(e,t){var r,n,a,i,s,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Sn?sn(t,h):t;if(d=e.d,f=t.d,s=e.e,a=t.e,d=d.slice(),i=s-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=s,c=d.length),s=Math.ceil(h/vn),c=s>c?s+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/fa|0,d[i]%=fa;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Sn?sn(t,h):t}function Ps(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Iu+e)}function Ns(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=vn-n.length,r&&(i+=jc(r)),i+=n;s=e[t],n=s+"",r=vn-n.length,r&&(i+=jc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var bl=(function(){function e(n,a){var i,s=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+s,n[c]=i%fa|0,s=i/fa|0;return s&&n.unshift(s),n}function t(n,a,i,s){var c,d;if(i!=s)d=i>s?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*fa+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var c,d,f,p,h,y,g,j,x,w,S,C,P,R,L,q,_,B,V=n.constructor,K=n.s==a.s?1:-1,E=n.d,$=a.d;if(!n.s)return new V(n);if(!a.s)throw Error(gi+"Division by zero");for(d=n.e-a.e,_=$.length,L=E.length,g=new V(K),j=g.d=[],f=0;$[f]==(E[f]||0);)++f;if($[f]>(E[f]||0)&&--d,i==null?C=i=V.precision:s?C=i+(Hn(n)-Hn(a))+1:C=i,C<0)return new V(0);if(C=C/vn+2|0,f=0,_==1)for(p=0,$=$[0],C++;(f<L||p)&&C--;f++)P=p*fa+(E[f]||0),j[f]=P/$|0,p=P%$|0;else{for(p=fa/($[0]+1)|0,p>1&&($=e($,p),E=e(E,p),_=$.length,L=E.length),R=_,x=E.slice(0,_),w=x.length;w<_;)x[w++]=0;B=$.slice(),B.unshift(0),q=$[0],$[1]>=fa/2&&++q;do p=0,c=t($,x,_,w),c<0?(S=x[0],_!=w&&(S=S*fa+(x[1]||0)),p=S/q|0,p>1?(p>=fa&&(p=fa-1),h=e($,p),y=h.length,w=x.length,c=t(h,x,y,w),c==1&&(p--,r(h,_<y?B:$,y))):(p==0&&(c=p=1),h=$.slice()),y=h.length,y<w&&h.unshift(0),r(x,h,w),c==-1&&(w=x.length,c=t($,x,_,w),c<1&&(p++,r(x,_<w?B:$,w))),w=x.length):c===0&&(p++,x=[0]),j[f++]=p,c&&x[0]?x[w++]=E[R]||0:(x=[E[R]],w=1);while((R++<L||x[0]!==void 0)&&C--)}return j[0]||j.shift(),g.e=d,sn(g,s?i+Hn(g)+1:i)}})();function ZO(e,t){var r,n,a,i,s,c,d=0,f=0,p=e.constructor,h=p.precision;if(Hn(e)>16)throw Error(sN+Hn(e));if(!e.s)return new p(Bo);for(Sn=!1,c=h,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(ju(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new p(Bo),p.precision=c;;){if(a=sn(a.times(e),c),r=r.times(++d),s=i.plus(bl(a,r,c)),Ns(s.d).slice(0,c)===Ns(i.d).slice(0,c)){for(;f--;)i=sn(i.times(i),c);return p.precision=h,t==null?(Sn=!0,sn(i,h)):i}i=s}}function Hn(e){for(var t=e.e*vn,r=e.d[0];r>=10;r/=10)t++;return t}function g1(e,t,r){if(t>e.LN10.sd())throw Sn=!0,r&&(e.precision=r),Error(gi+"LN10 precision limit exceeded");return sn(new e(e.LN10),t)}function jc(e){for(var t="";e--;)t+="0";return t}function ep(e,t){var r,n,a,i,s,c,d,f,p,h=1,y=10,g=e,j=g.d,x=g.constructor,w=x.precision;if(g.s<1)throw Error(gi+(g.s?"NaN":"-Infinity"));if(g.eq(Bo))return new x(0);if(t==null?(Sn=!1,f=w):f=t,g.eq(10))return t==null&&(Sn=!0),g1(x,f);if(f+=y,x.precision=f,r=Ns(j),n=r.charAt(0),i=Hn(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=Ns(g.d),n=r.charAt(0),h++;i=Hn(g),n>1?(g=new x("0."+r),i++):g=new x(n+"."+r.slice(1))}else return d=g1(x,f+2,w).times(i+""),g=ep(new x(n+"."+r.slice(1)),f-y).plus(d),x.precision=w,t==null?(Sn=!0,sn(g,w)):g;for(c=s=g=bl(g.minus(Bo),g.plus(Bo),f),p=sn(g.times(g),f),a=3;;){if(s=sn(s.times(p),f),d=c.plus(bl(s,new x(a),f)),Ns(d.d).slice(0,f)===Ns(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(g1(x,f+2,w).times(i+""))),c=bl(c,new x(h),f),x.precision=w,t==null?(Sn=!0,sn(c,w)):c;c=d,a+=2}}function _A(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ff(r/vn),e.d=[],n=(r+1)%vn,r<0&&(n+=vn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vn;n<a;)e.d.push(+t.slice(n,n+=vn));t=t.slice(n),n=vn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Sn&&(e.e>Ig||e.e<-Ig))throw Error(sN+r)}else e.s=0,e.e=0,e.d=[0];return e}function sn(e,t,r){var n,a,i,s,c,d,f,p,h=e.d;for(s=1,i=h[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=vn,a=t,f=h[p=0];else{if(p=Math.ceil((n+1)/vn),i=h.length,p>=i)return e;for(f=i=h[p],s=1;i>=10;i/=10)s++;n%=vn,a=n-vn+s}if(r!==void 0&&(i=ju(10,s-a-1),c=f/i%10|0,d=t<0||h[p+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/ju(10,s-a):0:h[p-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(i=Hn(e),h.length=1,t=t-i-1,h[0]=ju(10,(vn-t%vn)%vn),e.e=Ff(-t/vn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=p,i=1,p--):(h.length=p+1,i=ju(10,vn-n),h[p]=a>0?(f/ju(10,s-a)%ju(10,a)|0)*i:0),d)for(;;)if(p==0){(h[0]+=i)==fa&&(h[0]=1,++e.e);break}else{if(h[p]+=i,h[p]!=fa)break;h[p--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Sn&&(e.e>Ig||e.e<-Ig))throw Error(sN+Hn(e));return e}function QO(e,t){var r,n,a,i,s,c,d,f,p,h,y=e.constructor,g=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Sn?sn(t,g):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),s=f-n,s){for(p=s<0,p?(r=d,s=-s,c=h.length):(r=h,n=f,c=d.length),a=Math.max(Math.ceil(g/vn),c)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=h.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=h[a]){p=d[a]<h[a];break}s=0}for(p&&(r=d,d=h,h=r,t.s=-t.s),c=d.length,a=h.length-c;a>0;--a)d[c++]=0;for(a=h.length;a>s;){if(d[--a]<h[a]){for(i=a;i&&d[--i]===0;)d[i]=fa-1;--d[i],d[a]+=fa}d[a]-=h[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Sn?sn(t,g):t):new y(0)}function $u(e,t,r){var n,a=Hn(e),i=Ns(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+jc(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+jc(-a-1)+i,r&&(n=r-s)>0&&(i+=jc(n))):a>=s?(i+=jc(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+jc(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=jc(n))),e.s<0?"-"+i:i}function EA(e,t){if(e.length>t)return e.length=t,!0}function ek(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Iu+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return _A(s,i.toString())}else if(typeof i!="string")throw Error(Iu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,vB.test(i))_A(s,i);else throw Error(Iu+i)}if(a.prototype=zt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ek,a.config=a.set=yB,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function yB(e){if(!e||typeof e!="object")throw Error(gi+"Object expected");var t,r,n,a=["precision",1,$f,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ff(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Iu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Iu+r+": "+n);return this}var lN=ek(gB);Bo=new lN(1);const nn=lN;function xB(e){return jB(e)||NB(e)||wB(e)||bB()}function bB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wB(e,t){if(e){if(typeof e=="string")return tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tw(e,t)}}function NB(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jB(e){if(Array.isArray(e))return tw(e)}function tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SB=function(t){return t},tk={},rk=function(t){return t===tk},OA=function(t){return function r(){return arguments.length===0||arguments.length===1&&rk(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},CB=function e(t,r){return t===1?r:OA(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(c){return c!==tk}).length;return s>=t?r.apply(void 0,a):e(t-s,OA(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var p=a.map(function(h){return rk(h)?d.shift():h});return r.apply(void 0,xB(p).concat(d))}))})},R0=function(t){return CB(t.length,t)},rw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},AB=R0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),PB=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return SB;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(c,d){return d(c)},i.apply(void 0,arguments))}},nw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},nk=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(c,d){return c===r[d]})||(r=i,n=t.apply(void 0,i)),n}};function _B(e){var t;return e===0?t=1:t=Math.floor(new nn(e).abs().log(10).toNumber())+1,t}function EB(e,t,r){for(var n=new nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var OB=R0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),kB=R0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),IB=R0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const $0={rangeStep:EB,getDigitCount:_B,interpolateNumber:OB,uninterpolateNumber:kB,uninterpolateTruncation:IB};function aw(e){return DB(e)||TB(e)||ak(e)||LB()}function LB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TB(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DB(e){if(Array.isArray(e))return ow(e)}function tp(e,t){return $B(e)||RB(e,t)||ak(e,t)||MB()}function MB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ak(e,t){if(e){if(typeof e=="string")return ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(e,t)}}function ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RB(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function $B(e){if(Array.isArray(e))return e}function ok(e){var t=tp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function ik(e,t,r){if(e.lte(0))return new nn(0);var n=$0.getDigitCount(e.toNumber()),a=new nn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,c=new nn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),d=c.mul(a);return t?d:new nn(Math.ceil(d))}function FB(e,t,r){var n=1,a=new nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new nn(10).pow($0.getDigitCount(e)-1),a=new nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new nn(Math.floor(e)))}else e===0?a=new nn(Math.floor((t-1)/2)):r||(a=new nn(Math.floor(e)));var s=Math.floor((t-1)/2),c=PB(AB(function(d){return a.add(new nn(d-s).mul(n)).toNumber()}),rw);return c(0,t)}function sk(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nn(0),tickMin:new nn(0),tickMax:new nn(0)};var i=ik(new nn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new nn(0):(s=new nn(e).add(t).div(2),s=s.sub(new nn(s).mod(i)));var c=Math.ceil(s.sub(e).div(i).toNumber()),d=Math.ceil(new nn(t).sub(s).div(i).toNumber()),f=c+d+1;return f>r?sk(e,t,r,n,a+1):(f<r&&(d=t>0?d+(r-f):d,c=t>0?c:c+(r-f)),{step:i,tickMin:s.sub(new nn(c).mul(i)),tickMax:s.add(new nn(d).mul(i))})}function zB(e){var t=tp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),c=ok([r,n]),d=tp(c,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var h=p===1/0?[f].concat(aw(rw(0,a-1).map(function(){return 1/0}))):[].concat(aw(rw(0,a-1).map(function(){return-1/0})),[p]);return r>n?nw(h):h}if(f===p)return FB(f,a,i);var y=sk(f,p,s,i),g=y.step,j=y.tickMin,x=y.tickMax,w=$0.rangeStep(j,x.add(new nn(.1).mul(g)),g);return r>n?nw(w):w}function BB(e,t){var r=tp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=ok([n,a]),c=tp(s,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var p=Math.max(t,2),h=ik(new nn(f).sub(d).div(p-1),i,0),y=[].concat(aw($0.rangeStep(new nn(d),new nn(f).sub(new nn(.99).mul(h)),h)),[f]);return n>a?nw(y):y}var qB=nk(zB),UB=nk(BB),VB="Invariant failed";function Fu(e,t){throw new Error(VB)}var WB=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lg.apply(this,arguments)}function HB(e,t){return YB(e)||JB(e,t)||KB(e,t)||GB()}function GB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KB(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JB(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function YB(e){if(Array.isArray(e))return e}function XB(e,t){if(e==null)return{};var r=ZB(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uk(n.key),n)}}function tq(e,t,r){return t&&eq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rq(e,t,r){return t=Tg(t),nq(e,lk()?Reflect.construct(t,r||[],Tg(e).constructor):t.apply(e,r))}function nq(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aq(e)}function aq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lk=function(){return!!e})()}function Tg(e){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(e)}function oq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iw(e,t)}function iw(e,t){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iw(e,t)}function ck(e,t,r){return t=uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uk(e){var t=iq(e,"string");return pf(t)=="symbol"?t:t+""}function iq(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mp=(function(e){function t(){return QB(this,t),rq(this,t,arguments)}return oq(t,e),tq(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,y=XB(n,WB),g=tr(y,!1);this.props.direction==="x"&&p.type!=="number"&&Fu();var j=d.map(function(x){var w=f(x,c),S=w.x,C=w.y,P=w.value,R=w.errorVal;if(!R)return null;var L=[],q,_;if(Array.isArray(R)){var B=HB(R,2);q=B[0],_=B[1]}else q=_=R;if(i==="vertical"){var V=p.scale,K=C+a,E=K+s,$=K-s,D=V(P-q),I=V(P+_);L.push({x1:I,y1:E,x2:I,y2:$}),L.push({x1:D,y1:K,x2:I,y2:K}),L.push({x1:D,y1:E,x2:D,y2:$})}else if(i==="horizontal"){var z=h.scale,W=S+a,ee=W-s,G=W+s,ie=z(P-q),te=z(P+_);L.push({x1:ee,y1:te,x2:G,y2:te}),L.push({x1:W,y1:ie,x2:W,y2:te}),L.push({x1:ee,y1:ie,x2:G,y2:ie})}return Pe.createElement(qr,Lg({className:"recharts-errorBar",key:"bar-".concat(L.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},g),L.map(function(re){return Pe.createElement("line",Lg({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return Pe.createElement(qr,{className:"recharts-errorBars"},j)}}])})(Pe.Component);ck(Mp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ck(Mp,"displayName","ErrorBar");function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=cq(e,"string");return rp(t)=="symbol"?t:t+""}function cq(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dk=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=$o(r,_c);if(!s)return null;var c=_c.defaultProps,d=c!==void 0?vu(vu({},c),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:i==="children"?f=(n||[]).reduce(function(p,h){var y=h.item,g=h.props,j=g.sectors||g.data||[];return p.concat(j.map(function(x){return{type:s.props.iconType||y.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(p){var h=p.item,y=h.type.defaultProps,g=y!==void 0?vu(vu({},y),h.props):{},j=g.dataKey,x=g.name,w=g.legendType,S=g.hide;return{inactive:S,dataKey:j,type:d.iconType||w||"square",color:cN(h),value:x||j,payload:g}}),vu(vu(vu({},d),_c.getWithHeight(s,a)),{},{payload:f,item:s})};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function LA(e){return hq(e)||fq(e)||dq(e)||uq()}function uq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dq(e,t){if(e){if(typeof e=="string")return sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(e,t)}}function fq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hq(e){if(Array.isArray(e))return sw(e)}function sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){Zd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zd(e,t,r){return t=pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=mq(e,"string");return np(t)=="symbol"?t:t+""}function mq(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(e,t,r){return gr(e)||gr(t)?r:ra(t)?Vo(e,t,r):ur(t)?t(e):r}function Th(e,t,r,n){var a=hB(e,function(c){return ta(c,t)});if(r==="number"){var i=a.filter(function(c){return St(c)||parseFloat(c)});return i.length?[M0(i),D0(i)]:[1/0,-1/0]}var s=n?a.filter(function(c){return!gr(c)}):a;return s.map(function(c){return ra(c)||c instanceof Date?c:""})}var gq=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<c;f++){var p=f>0?a[f-1].coordinate:a[c-1].coordinate,h=a[f].coordinate,y=f>=c-1?a[0].coordinate:a[f+1].coordinate,g=void 0;if(ro(h-p)!==ro(y-h)){var j=[];if(ro(y-h)===ro(d[1]-d[0])){g=y;var x=h+d[1]-d[0];j[0]=Math.min(x,(x+p)/2),j[1]=Math.max(x,(x+p)/2)}else{g=p;var w=y+d[1]-d[0];j[0]=Math.min(h,(w+h)/2),j[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>S[0]&&t<=S[1]||t>=j[0]&&t<=j[1]){s=a[f].index;break}}else{var C=Math.min(p,y),P=Math.max(p,y);if(t>(C+h)/2&&t<=(P+h)/2){s=a[f].index;break}}}else for(var R=0;R<c;R++)if(R===0&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<c-1&&t>(n[R].coordinate+n[R-1].coordinate)/2&&t<=(n[R].coordinate+n[R+1].coordinate)/2||R===c-1&&t>(n[R].coordinate+n[R-1].coordinate)/2){s=n[R].index;break}return s},cN=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,s=i.stroke,c=i.fill,d;switch(a){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:c;break;default:d=c;break}return d},vq=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},c=Object.keys(i),d=0,f=c.length;d<f;d++)for(var p=i[c[d]].stackGroups,h=Object.keys(p),y=0,g=h.length;y<g;y++){var j=p[h[y]],x=j.items,w=j.cateAxisId,S=x.filter(function(_){return xl(_.type).indexOf("Bar")>=0});if(S&&S.length){var C=S[0].type.defaultProps,P=C!==void 0?Tn(Tn({},C),S[0].props):S[0].props,R=P.barSize,L=P[w];s[L]||(s[L]=[]);var q=gr(R)?r:R;s[L].push({item:S[0],stackList:S.slice(1),barSize:gr(q)?void 0:no(q,n,0)})}}return s},yq=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,c=t.maxBarSize,d=s.length;if(d<1)return null;var f=no(r,a,0,!0),p,h=[];if(s[0].barSize===+s[0].barSize){var y=!1,g=a/d,j=s.reduce(function(R,L){return R+L.barSize||0},0);j+=(d-1)*f,j>=a&&(j-=(d-1)*f,f=0),j>=a&&g>0&&(y=!0,g*=.9,j=d*g);var x=(a-j)/2>>0,w={offset:x-f,size:0};p=s.reduce(function(R,L){var q={item:L.item,position:{offset:w.offset+w.size+f,size:y?g:L.barSize}},_=[].concat(LA(R),[q]);return w=_[_.length-1].position,L.stackList&&L.stackList.length&&L.stackList.forEach(function(B){_.push({item:B,position:w})}),_},h)}else{var S=no(n,a,0,!0);a-2*S-(d-1)*f<=0&&(f=0);var C=(a-2*S-(d-1)*f)/d;C>1&&(C>>=0);var P=c===+c?Math.min(C,c):C;p=s.reduce(function(R,L,q){var _=[].concat(LA(R),[{item:L.item,position:{offset:S+(C+f)*q+(C-P)/2,size:P}}]);return L.stackList&&L.stackList.length&&L.stackList.forEach(function(B){_.push({item:B,position:_[_.length-1].position})}),_},h)}return p},xq=function(t,r,n,a){var i=n.children,s=n.width,c=n.margin,d=s-(c.left||0)-(c.right||0),f=dk({children:i,legendWidth:d});if(f){var p=a||{},h=p.width,y=p.height,g=f.align,j=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&j==="middle")&&g!=="center"&&St(t[g]))return Tn(Tn({},t),{},Zd({},g,t[g]+(h||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&j!=="middle"&&St(t[j]))return Tn(Tn({},t),{},Zd({},j,t[j]+(y||0)))}return t},bq=function(t,r,n){return gr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},fk=function(t,r,n,a,i){var s=r.props.children,c=Wo(s,Mp).filter(function(f){return bq(a,i,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var h=ta(p,n);if(gr(h))return f;var y=Array.isArray(h)?[M0(h),D0(h)]:[h,h],g=d.reduce(function(j,x){var w=ta(p,x,0),S=y[0]-Math.abs(Array.isArray(w)?w[0]:w),C=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(S,j[0]),Math.max(C,j[1])]},[1/0,-1/0]);return[Math.min(g[0],f[0]),Math.max(g[1],f[1])]},[1/0,-1/0])}return null},wq=function(t,r,n,a,i){var s=r.map(function(c){return fk(t,c,n,i,a)}).filter(function(c){return!gr(c)});return s&&s.length?s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},hk=function(t,r,n,a,i){var s=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&fk(t,d,f,a)||Th(t,f,n,i)});if(n==="number")return s.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return s.reduce(function(d,f){for(var p=0,h=f.length;p<h;p++)c[f[p]]||(c[f[p]]=!0,d.push(f[p]));return d},[])},pk=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},mk=function(t,r,n,a){if(a)return t.map(function(d){return d.coordinate});var i,s,c=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate});return i||c.push(r),s||c.push(n),c},vl=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,c=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&c?.length>=2?ro(c[0]-c[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(h){var y=i?i.indexOf(h):h;return{coordinate:a(y)+f,value:h,offset:f}});return p.filter(function(h){return!Ep(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,y){return{coordinate:a(h)+f,value:h,index:y,offset:f}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+f,value:h,offset:f}}):a.domain().map(function(h,y){return{coordinate:a(h)+f,value:i?i[h]:h,index:y,offset:f}})},v1=new WeakMap,Pm=function(t,r){if(typeof r!="function")return t;v1.has(t)||v1.set(t,new WeakMap);var n=v1.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},gk=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,c=t.axisType;if(a==="auto")return s==="radial"&&c==="radiusAxis"?{scale:Jh(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:_g(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Lh(),realScaleType:"point"}:i==="category"?{scale:Jh(),realScaleType:"band"}:{scale:_g(),realScaleType:"linear"};if(Du(a)){var d="scale".concat(b0(a));return{scale:(xA[d]||Lh)(),realScaleType:xA[d]?d:"point"}}return ur(a)?{scale:a}:{scale:Lh(),realScaleType:"point"}},DA=1e-4,vk=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-DA,s=Math.max(a[0],a[1])+DA,c=t(r[0]),d=t(r[n-1]);(c<i||c>s||d<i||d>s)&&t.domain([r[0],r[n-1]])}},Nq=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},jq=function(t,r){if(!r||r.length!==2||!St(r[0])||!St(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!St(t[0])||t[0]<n)&&(i[0]=n),(!St(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Sq=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,c=0;c<r;++c){var d=Ep(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=i,t[c][n][1]=i+d,i=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},Cq=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var c=Ep(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Aq={sign:Sq,expand:hM,none:of,silhouette:pM,wiggle:mM,positive:Cq},Pq=function(t,r,n){var a=r.map(function(c){return c.props.dataKey}),i=Aq[n],s=fM().keys(a).value(function(c,d){return+ta(c,d,0)}).order(R2).offset(i);return s(t)},_q=function(t,r,n,a,i,s){if(!t)return null;var c=s?r.reverse():r,d={},f=c.reduce(function(h,y){var g,j=(g=y.type)!==null&&g!==void 0&&g.defaultProps?Tn(Tn({},y.type.defaultProps),y.props):y.props,x=j.stackId,w=j.hide;if(w)return h;var S=j[n],C=h[S]||{hasStack:!1,stackGroups:{}};if(ra(x)){var P=C.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};P.items.push(y),C.hasStack=!0,C.stackGroups[x]=P}else C.stackGroups[Df("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[y]};return Tn(Tn({},h),{},Zd({},S,C))},d),p={};return Object.keys(f).reduce(function(h,y){var g=f[y];if(g.hasStack){var j={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,w){var S=g.stackGroups[w];return Tn(Tn({},x),{},Zd({},w,{numericAxisId:n,cateAxisId:a,items:S.items,stackedData:Pq(t,S.items,i)}))},j)}return Tn(Tn({},h),{},Zd({},y,g))},p)},yk=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=qB(f,i,c);return t.domain([M0(p),D0(p)]),{niceTicks:p}}if(i&&a==="number"){var h=t.domain(),y=UB(h,i,c);return{niceTicks:y}}return null};function MA(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gr(a[t.dataKey])){var c=ug(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=ta(a,gr(s)?t.dataKey:s);return gr(d)?null:t.scale(d)}var RA=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=ta(s,r.dataKey,r.domain[c]);return gr(d)?null:r.scale(d)-i/2+a},Eq=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Oq=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ra(i)){var s=r[i];if(s){var c=s.items.indexOf(t);return c>=0?s.stackedData[c]:null}}return null},kq=function(t){return t.reduce(function(r,n){return[M0(n.concat([r[0]]).filter(St)),D0(n.concat([r[1]]).filter(St))]},[1/0,-1/0])},xk=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],c=s.stackedData,d=c.reduce(function(f,p){var h=kq(p.slice(r,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},$A=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lw=function(t,r,n){if(ur(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(St(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if($A.test(t[0])){var i=+$A.exec(t[0])[1];a[0]=r[0]-i}else ur(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(St(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(FA.test(t[1])){var s=+FA.exec(t[1])[1];a[1]=r[1]+s}else ur(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Dg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=R5(r,function(h){return h.coordinate}),s=1/0,c=1,d=i.length;c<d;c++){var f=i[c],p=i[c-1];s=Math.min((f.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},zA=function(t,r,n){return!t||!t.length||Dp(t,Vo(n,"type.defaultProps.domain"))?r:t},bk=function(t,r){var n=t.type.defaultProps?Tn(Tn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Tn(Tn({},tr(t,!1)),{},{dataKey:a,unit:s,formatter:c,name:i||a,color:cN(t),value:ta(r,a),type:d,payload:r,chartType:f,hide:p})};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){wk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wk(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Lq(e,"string");return ap(t)=="symbol"?t:t+""}function Lq(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tq(e,t){return $q(e)||Rq(e,t)||Mq(e,t)||Dq()}function Dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(e,t){if(e){if(typeof e=="string")return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function $q(e){if(Array.isArray(e))return e}var Mg=Math.PI/180,Fq=function(t){return t*180/Math.PI},dn=function(t,r,n,a){return{x:t+Math.cos(-Mg*a)*n,y:r+Math.sin(-Mg*a)*n}},Nk=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zq=function(t,r,n,a,i){var s=t.width,c=t.height,d=t.startAngle,f=t.endAngle,p=no(t.cx,s,s/2),h=no(t.cy,c,c/2),y=Nk(s,c,n),g=no(t.innerRadius,y,0),j=no(t.outerRadius,y,y*.8),x=Object.keys(r);return x.reduce(function(w,S){var C=r[S],P=C.domain,R=C.reversed,L;if(gr(C.range))a==="angleAxis"?L=[d,f]:a==="radiusAxis"&&(L=[g,j]),R&&(L=[L[1],L[0]]);else{L=C.range;var q=L,_=Tq(q,2);d=_[0],f=_[1]}var B=gk(C,i),V=B.realScaleType,K=B.scale;K.domain(P).range(L),vk(K);var E=yk(K,pl(pl({},C),{},{realScaleType:V})),$=pl(pl(pl({},C),E),{},{range:L,radius:j,realScaleType:V,scale:K,cx:p,cy:h,innerRadius:g,outerRadius:j,startAngle:d,endAngle:f});return pl(pl({},w),{},wk({},S,$))},{})},Bq=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},qq=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,c=Bq({x:n,y:a},{x:i,y:s});if(c<=0)return{radius:c};var d=(n-i)/c,f=Math.acos(d);return a>s&&(f=2*Math.PI-f),{radius:c,angle:Fq(f),angleInRadian:f}},Uq=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Vq=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return t+c*360},UA=function(t,r){var n=t.x,a=t.y,i=qq({x:n,y:a},r),s=i.radius,c=i.angle,d=r.innerRadius,f=r.outerRadius;if(s<d||s>f)return!1;if(s===0)return!0;var p=Uq(r),h=p.startAngle,y=p.endAngle,g=c,j;if(h<=y){for(;g>y;)g-=360;for(;g<h;)g+=360;j=g>=h&&g<=y}else{for(;g>h;)g-=360;for(;g<y;)g+=360;j=g>=y&&g<=h}return j?pl(pl({},r),{},{radius:s,angle:Vq(g,r)}):null},jk=function(t){return!M.isValidElement(t)&&!ur(t)&&typeof t!="boolean"?t.className:""};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}var Wq=["offset"];function Hq(e){return Yq(e)||Jq(e)||Kq(e)||Gq()}function Gq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kq(e,t){if(e){if(typeof e=="string")return cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(e,t)}}function Jq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yq(e){if(Array.isArray(e))return cw(e)}function cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xq(e,t){if(e==null)return{};var r=Zq(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return t=eU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=tU(e,"string");return op(t)=="symbol"?t:t+""}function tU(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(this,arguments)}var rU=function(t){var r=t.value,n=t.formatter,a=gr(t.children)?r:t.children;return ur(n)?n(a):a},nU=function(t,r){var n=ro(r-t),a=Math.min(Math.abs(r-t),360);return n*a},aU=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,c=t.className,d=i,f=d.cx,p=d.cy,h=d.innerRadius,y=d.outerRadius,g=d.startAngle,j=d.endAngle,x=d.clockWise,w=(h+y)/2,S=nU(g,j),C=S>=0?1:-1,P,R;a==="insideStart"?(P=g+C*s,R=x):a==="insideEnd"?(P=j-C*s,R=!x):a==="end"&&(P=j+C*s,R=x),R=S<=0?R:!R;var L=dn(f,p,w,P),q=dn(f,p,w,P+(R?1:-1)*359),_="M".concat(L.x,",").concat(L.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(R?0:1,`,
    `).concat(q.x,",").concat(q.y),B=gr(t.id)?Df("recharts-radial-line-"):t.id;return Pe.createElement("text",ip({},n,{dominantBaseline:"central",className:br("recharts-radial-bar-label",c)}),Pe.createElement("defs",null,Pe.createElement("path",{id:B,d:_})),Pe.createElement("textPath",{xlinkHref:"#".concat(B)},r))},oU=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,h=i.endAngle,y=(p+h)/2;if(a==="outside"){var g=dn(s,c,f+n,y),j=g.x,x=g.y;return{x:j,y:x,textAnchor:j>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var w=(d+f)/2,S=dn(s,c,w,y),C=S.x,P=S.y;return{x:C,y:P,textAnchor:"middle",verticalAnchor:"middle"}},iU=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,c=s.x,d=s.y,f=s.width,p=s.height,h=p>=0?1:-1,y=h*a,g=h>0?"end":"start",j=h>0?"start":"end",x=f>=0?1:-1,w=x*a,S=x>0?"end":"start",C=x>0?"start":"end";if(i==="top"){var P={x:c+f/2,y:d-h*a,textAnchor:"middle",verticalAnchor:g};return ea(ea({},P),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var R={x:c+f/2,y:d+p+y,textAnchor:"middle",verticalAnchor:j};return ea(ea({},R),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(i==="left"){var L={x:c-w,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return ea(ea({},L),n?{width:Math.max(L.x-n.x,0),height:p}:{})}if(i==="right"){var q={x:c+f+w,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return ea(ea({},q),n?{width:Math.max(n.x+n.width-q.x,0),height:p}:{})}var _=n?{width:f,height:p}:{};return i==="insideLeft"?ea({x:c+w,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},_):i==="insideRight"?ea({x:c+f-w,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},_):i==="insideTop"?ea({x:c+f/2,y:d+y,textAnchor:"middle",verticalAnchor:j},_):i==="insideBottom"?ea({x:c+f/2,y:d+p-y,textAnchor:"middle",verticalAnchor:g},_):i==="insideTopLeft"?ea({x:c+w,y:d+y,textAnchor:C,verticalAnchor:j},_):i==="insideTopRight"?ea({x:c+f-w,y:d+y,textAnchor:S,verticalAnchor:j},_):i==="insideBottomLeft"?ea({x:c+w,y:d+p-y,textAnchor:C,verticalAnchor:g},_):i==="insideBottomRight"?ea({x:c+f-w,y:d+p-y,textAnchor:S,verticalAnchor:g},_):Tf(i)&&(St(i.x)||Pu(i.x))&&(St(i.y)||Pu(i.y))?ea({x:c+no(i.x,f),y:d+no(i.y,p),textAnchor:"end",verticalAnchor:"end"},_):ea({x:c+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},_)},sU=function(t){return"cx"in t&&St(t.cx)};function pa(e){var t=e.offset,r=t===void 0?5:t,n=Xq(e,Wq),a=ea({offset:r},n),i=a.viewBox,s=a.position,c=a.value,d=a.children,f=a.content,p=a.className,h=p===void 0?"":p,y=a.textBreakAll;if(!i||gr(c)&&gr(d)&&!M.isValidElement(f)&&!ur(f))return null;if(M.isValidElement(f))return M.cloneElement(f,a);var g;if(ur(f)){if(g=M.createElement(f,a),M.isValidElement(g))return g}else g=rU(a);var j=sU(i),x=tr(a,!0);if(j&&(s==="insideStart"||s==="insideEnd"||s==="end"))return aU(a,g,x);var w=j?oU(a):iU(a);return Pe.createElement(Ru,ip({className:br("recharts-label",h)},x,w,{breakAll:y}),g)}pa.displayName="Label";var Sk=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,c=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,h=t.x,y=t.y,g=t.top,j=t.left,x=t.width,w=t.height,S=t.clockWise,C=t.labelViewBox;if(C)return C;if(St(x)&&St(w)){if(St(h)&&St(y))return{x:h,y,width:x,height:w};if(St(g)&&St(j))return{x:g,y:j,width:x,height:w}}return St(h)&&St(y)?{x:h,y,width:0,height:0}:St(r)&&St(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:f||0,outerRadius:p||d||c||0,clockWise:S}:t.viewBox?t.viewBox:{}},lU=function(t,r){return t?t===!0?Pe.createElement(pa,{key:"label-implicit",viewBox:r}):ra(t)?Pe.createElement(pa,{key:"label-implicit",viewBox:r,value:t}):M.isValidElement(t)?t.type===pa?M.cloneElement(t,{key:"label-implicit",viewBox:r}):Pe.createElement(pa,{key:"label-implicit",content:t,viewBox:r}):ur(t)?Pe.createElement(pa,{key:"label-implicit",content:t,viewBox:r}):Tf(t)?Pe.createElement(pa,ip({viewBox:r},t,{key:"label-implicit"})):null:null},cU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Sk(t),s=Wo(a,pa).map(function(d,f){return M.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return s;var c=lU(t.label,r||i);return[c].concat(Hq(s))};pa.parseViewBox=Sk;pa.renderCallByParent=cU;var y1,WA;function uU(){if(WA)return y1;WA=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return y1=e,y1}var dU=uU();const fU=tn(dU);function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}var hU=["valueAccessor"],pU=["data","dataKey","clockWise","id","textBreakAll"];function mU(e){return xU(e)||yU(e)||vU(e)||gU()}function gU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vU(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function yU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xU(e){if(Array.isArray(e))return uw(e)}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){bU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t,r){return t=wU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=NU(e,"string");return sp(t)=="symbol"?t:t+""}function NU(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KA(e,t){if(e==null)return{};var r=jU(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var SU=function(t){return Array.isArray(t.value)?fU(t.value):t.value};function wl(e){var t=e.valueAccessor,r=t===void 0?SU:t,n=KA(e,hU),a=n.data,i=n.dataKey,s=n.clockWise,c=n.id,d=n.textBreakAll,f=KA(n,pU);return!a||!a.length?null:Pe.createElement(qr,{className:"recharts-label-list"},a.map(function(p,h){var y=gr(i)?r(p,h):ta(p&&p.payload,i),g=gr(c)?{}:{id:"".concat(c,"-").concat(h)};return Pe.createElement(pa,Rg({},tr(p,!0),f,g,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:pa.parseViewBox(gr(s)?p:GA(GA({},p),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}wl.displayName="LabelList";function CU(e,t){return e?e===!0?Pe.createElement(wl,{key:"labelList-implicit",data:t}):Pe.isValidElement(e)||ur(e)?Pe.createElement(wl,{key:"labelList-implicit",data:t,content:e}):Tf(e)?Pe.createElement(wl,Rg({data:t},e,{key:"labelList-implicit"})):null:null}function AU(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Wo(n,wl).map(function(s,c){return M.cloneElement(s,{data:t,key:"labelList-".concat(c)})});if(!r)return a;var i=CU(e.label,t);return[i].concat(mU(a))}wl.renderCallByParent=AU;function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){PU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t,r){return t=_U(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=EU(e,"string");return lp(t)=="symbol"?t:t+""}function EU(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OU=function(t,r){var n=ro(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},_m=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,c=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(c?1:-1)+a,h=Math.asin(d/p)/Mg,y=f?i:i+s*h,g=dn(r,n,p,y),j=dn(r,n,a,y),x=f?i-s*h:i,w=dn(r,n,p*Math.cos(h*Mg),x);return{center:g,circleTangency:j,lineTangency:w,theta:h}},Ck=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,c=t.endAngle,d=OU(s,c),f=s+d,p=dn(r,n,i,s),h=dn(r,n,i,f),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=dn(r,n,a,s),j=dn(r,n,a,f);y+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(g.x,",").concat(g.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},kU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,c=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,h=ro(p-f),y=_m({cx:r,cy:n,radius:i,angle:f,sign:h,cornerRadius:s,cornerIsExternal:d}),g=y.circleTangency,j=y.lineTangency,x=y.theta,w=_m({cx:r,cy:n,radius:i,angle:p,sign:-h,cornerRadius:s,cornerIsExternal:d}),S=w.circleTangency,C=w.lineTangency,P=w.theta,R=d?Math.abs(f-p):Math.abs(f-p)-x-P;if(R<0)return c?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):Ck({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:p});var L="M ".concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var q=_m({cx:r,cy:n,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),_=q.circleTangency,B=q.lineTangency,V=q.theta,K=_m({cx:r,cy:n,radius:a,angle:p,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),E=K.circleTangency,$=K.lineTangency,D=K.theta,I=d?Math.abs(f-p):Math.abs(f-p)-V-D;if(I<0&&s===0)return"".concat(L,"L").concat(r,",").concat(n,"Z");L+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(h>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,"Z")}else L+="L".concat(r,",").concat(n,"Z");return L},IU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ak=function(t){var r=YA(YA({},IU),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,y=r.className;if(s<i||p===h)return null;var g=br("recharts-sector",y),j=s-i,x=no(c,j,0,!0),w;return x>0&&Math.abs(p-h)<360?w=kU({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,j/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:h}):w=Ck({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:p,endAngle:h}),Pe.createElement("path",dw({},tr(r,!0),{className:g,d:w,role:"img"}))};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(this,arguments)}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(n){LU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LU(e,t,r){return t=TU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=DU(e,"string");return cp(t)=="symbol"?t:t+""}function DU(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QA={curveBasisClosed:tM,curveBasisOpen:rM,curveBasis:eM,curveBumpX:zD,curveBumpY:BD,curveLinearClosed:nM,curveLinear:N0,curveMonotoneX:aM,curveMonotoneY:oM,curveNatural:iM,curveStep:sM,curveStepAfter:cM,curveStepBefore:lM},Em=function(t){return t.x===+t.x&&t.y===+t.y},mh=function(t){return t.x},gh=function(t){return t.y},MU=function(t,r){if(ur(t))return t;var n="curve".concat(b0(t));return(n==="curveMonotone"||n==="curveBump")&&r?QA["".concat(n).concat(r==="vertical"?"Y":"X")]:QA[n]||N0},RU=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,c=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=MU(n,c),h=f?i.filter(function(x){return Em(x)}):i,y;if(Array.isArray(s)){var g=f?s.filter(function(x){return Em(x)}):s,j=h.map(function(x,w){return ZA(ZA({},x),{},{base:g[w]})});return c==="vertical"?y=bm().y(gh).x1(mh).x0(function(x){return x.base.x}):y=bm().x(mh).y1(gh).y0(function(x){return x.base.y}),y.defined(Em).curve(p),y(j)}return c==="vertical"&&St(s)?y=bm().y(gh).x1(mh).x0(s):St(s)?y=bm().x(mh).y1(gh).y0(s):y=SE().x(mh).y(gh),y.defined(Em).curve(p),y(h)},$g=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?RU(t):a;return M.createElement("path",fw({},tr(t,!1),dg(t),{className:br("recharts-curve",r),d:s,ref:i}))},x1={exports:{}},b1,eP;function $U(){if(eP)return b1;eP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b1=e,b1}var w1,tP;function FU(){if(tP)return w1;tP=1;var e=$U();function t(){}function r(){}return r.resetWarningCache=t,w1=function(){function n(s,c,d,f,p,h){if(h!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},w1}var rP;function zU(){return rP||(rP=1,x1.exports=FU()()),x1.exports}var BU=zU();const Xr=tn(BU);var qU=Object.getOwnPropertyNames,UU=Object.getOwnPropertySymbols,VU=Object.prototype.hasOwnProperty;function nP(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Om(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),c=i.get(n);if(s&&c)return s===n&&c===r;i.set(r,n),i.set(n,r);var d=e(r,n,a);return i.delete(r),i.delete(n),d}}function WU(e){return e?.[Symbol.toStringTag]}function aP(e){return qU(e).concat(UU(e))}var HU=Object.hasOwn||(function(e,t){return VU.call(e,t)});function Hu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var GU="__v",KU="__o",JU="_owner",oP=Object.getOwnPropertyDescriptor,iP=Object.keys;function YU(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function XU(e,t){return Hu(e.getTime(),t.getTime())}function ZU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function QU(e,t){return e===t}function sP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,c,d=0;(s=i.next())&&!s.done;){for(var f=t.entries(),p=!1,h=0;(c=f.next())&&!c.done;){if(a[h]){h++;continue}var y=s.value,g=c.value;if(r.equals(y[0],g[0],d,h,e,t,r)&&r.equals(y[1],g[1],y[0],g[0],e,t,r)){p=a[h]=!0;break}h++}if(!p)return!1;d++}return!0}var eV=Hu;function tV(e,t,r){var n=iP(e),a=n.length;if(iP(t).length!==a)return!1;for(;a-- >0;)if(!Pk(e,t,r,n[a]))return!1;return!0}function vh(e,t,r){var n=aP(e),a=n.length;if(aP(t).length!==a)return!1;for(var i,s,c;a-- >0;)if(i=n[a],!Pk(e,t,r,i)||(s=oP(e,i),c=oP(t,i),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function rV(e,t){return Hu(e.valueOf(),t.valueOf())}function nV(e,t){return e.source===t.source&&e.flags===t.flags}function lP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,c;(s=i.next())&&!s.done;){for(var d=t.values(),f=!1,p=0;(c=d.next())&&!c.done;){if(!a[p]&&r.equals(s.value,c.value,s.value,c.value,e,t,r)){f=a[p]=!0;break}p++}if(!f)return!1}return!0}function aV(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function oV(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Pk(e,t,r,n){return(n===JU||n===KU||n===GU)&&(e.$$typeof||t.$$typeof)?!0:HU(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var iV="[object Arguments]",sV="[object Boolean]",lV="[object Date]",cV="[object Error]",uV="[object Map]",dV="[object Number]",fV="[object Object]",hV="[object RegExp]",pV="[object Set]",mV="[object String]",gV="[object URL]",vV=Array.isArray,cP=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,uP=Object.assign,yV=Object.prototype.toString.call.bind(Object.prototype.toString);function xV(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,c=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,h=e.areTypedArraysEqual,y=e.areUrlsEqual,g=e.unknownTagComparators;return function(x,w,S){if(x===w)return!0;if(x==null||w==null)return!1;var C=typeof x;if(C!==typeof w)return!1;if(C!=="object")return C==="number"?s(x,w,S):C==="function"?a(x,w,S):!1;var P=x.constructor;if(P!==w.constructor)return!1;if(P===Object)return c(x,w,S);if(vV(x))return t(x,w,S);if(cP!=null&&cP(x))return h(x,w,S);if(P===Date)return r(x,w,S);if(P===RegExp)return f(x,w,S);if(P===Map)return i(x,w,S);if(P===Set)return p(x,w,S);var R=yV(x);if(R===lV)return r(x,w,S);if(R===hV)return f(x,w,S);if(R===uV)return i(x,w,S);if(R===pV)return p(x,w,S);if(R===fV)return typeof x.then!="function"&&typeof w.then!="function"&&c(x,w,S);if(R===gV)return y(x,w,S);if(R===cV)return n(x,w,S);if(R===iV)return c(x,w,S);if(R===sV||R===dV||R===mV)return d(x,w,S);if(g){var L=g[R];if(!L){var q=WU(x);q&&(L=g[q])}if(L)return L(x,w,S)}return!1}}function bV(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?vh:YU,areDatesEqual:XU,areErrorsEqual:ZU,areFunctionsEqual:QU,areMapsEqual:n?nP(sP,vh):sP,areNumbersEqual:eV,areObjectsEqual:n?vh:tV,arePrimitiveWrappersEqual:rV,areRegExpsEqual:nV,areSetsEqual:n?nP(lP,vh):lP,areTypedArraysEqual:n?vh:aV,areUrlsEqual:oV,unknownTagComparators:void 0};if(r&&(a=uP({},a,r(a))),t){var i=Om(a.areArraysEqual),s=Om(a.areMapsEqual),c=Om(a.areObjectsEqual),d=Om(a.areSetsEqual);a=uP({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:d})}return a}function wV(e){return function(t,r,n,a,i,s,c){return e(t,r,c)}}function NV(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(d,f){var p=n(),h=p.cache,y=h===void 0?t?new WeakMap:void 0:h,g=p.meta;return r(d,f,{cache:y,equals:a,meta:g,strict:i})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,f){return r(d,f,s)}}var jV=Fc();Fc({strict:!0});Fc({circular:!0});Fc({circular:!0,strict:!0});Fc({createInternalComparator:function(){return Hu}});Fc({strict:!0,createInternalComparator:function(){return Hu}});Fc({circular:!0,createInternalComparator:function(){return Hu}});Fc({circular:!0,createInternalComparator:function(){return Hu},strict:!0});function Fc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,c=bV(e),d=xV(c),f=n?n(d):wV(d);return NV({circular:r,comparator:d,createState:a,equals:f,strict:s})}function SV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function dP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):SV(a)};requestAnimationFrame(n)}function hw(e){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hw(e)}function CV(e){return EV(e)||_V(e)||PV(e)||AV()}function AV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PV(e,t){if(e){if(typeof e=="string")return fP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fP(e,t)}}function fP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _V(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EV(e){if(Array.isArray(e))return e}function OV(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,c=CV(s),d=c[0],f=c.slice(1);if(typeof d=="number"){dP(a.bind(null,f),d);return}a(d),dP(a.bind(null,f));return}hw(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){_k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _k(e,t,r){return t=kV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e){var t=IV(e,"string");return up(t)==="symbol"?t:String(t)}function IV(e,t){if(up(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},TV=function(t){return t},DV=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Dh=function(t,r){return Object.keys(r).reduce(function(n,a){return pP(pP({},n),{},_k({},a,t(a,r[a])))},{})},mP=function(t,r,n){return t.map(function(a){return"".concat(DV(a)," ").concat(r,"ms ").concat(n)}).join(",")};function MV(e,t){return FV(e)||$V(e,t)||Ek(e,t)||RV()}function RV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $V(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function FV(e){if(Array.isArray(e))return e}function zV(e){return UV(e)||qV(e)||Ek(e)||BV()}function BV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ek(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function qV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UV(e){if(Array.isArray(e))return pw(e)}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fg=1e-4,Ok=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kk=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},gP=function(t,r){return function(n){var a=Ok(t,r);return kk(a,n)}},VV=function(t,r){return function(n){var a=Ok(t,r),i=[].concat(zV(a.map(function(s,c){return s*c}).slice(1)),[0]);return kk(i,n)}},vP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,c=1;break;case"ease":a=.25,i=.1,s=.25,c=1;break;case"ease-in":a=.42,i=0,s=1,c=1;break;case"ease-out":a=.42,i=0,s=.58,c=1;break;case"ease-in-out":a=0,i=0,s=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=MV(f,4);a=p[0],i=p[1],s=p[2],c=p[3]}}}var h=gP(a,s),y=gP(i,c),g=VV(a,s),j=function(S){return S>1?1:S<0?0:S},x=function(S){for(var C=S>1?1:S,P=C,R=0;R<8;++R){var L=h(P)-C,q=g(P);if(Math.abs(L-C)<Fg||q<Fg)return y(P);P=j(P-L/q)}return y(P)};return x.isStepper=!1,x},WV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,c=s===void 0?17:s,d=function(p,h,y){var g=-(p-h)*n,j=y*i,x=y+(g-j)*c/1e3,w=y*c/1e3+p;return Math.abs(w-h)<Fg&&Math.abs(x)<Fg?[h,0]:[w,x]};return d.isStepper=!0,d.dt=c,d},HV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vP(a);case"spring":return WV();default:if(a.split("(")[0]==="cubic-bezier")return vP(a)}return typeof a=="function"?a:null};function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function yP(e){return JV(e)||KV(e)||Ik(e)||GV()}function GV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JV(e){if(Array.isArray(e))return gw(e)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){mw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mw(e,t,r){return t=YV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YV(e){var t=XV(e,"string");return dp(t)==="symbol"?t:String(t)}function XV(e,t){if(dp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZV(e,t){return tW(e)||eW(e,t)||Ik(e,t)||QV()}function QV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ik(e,t){if(e){if(typeof e=="string")return gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gw(e,t)}}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function tW(e){if(Array.isArray(e))return e}var zg=function(t,r,n){return t+(r-t)*n},vw=function(t){var r=t.from,n=t.to;return r!==n},rW=function e(t,r,n){var a=Dh(function(i,s){if(vw(s)){var c=t(s.from,s.to,s.velocity),d=ZV(c,2),f=d[0],p=d[1];return Ca(Ca({},s),{},{from:f,velocity:p})}return s},r);return n<1?Dh(function(i,s){return vw(s)?Ca(Ca({},s),{},{velocity:zg(s.velocity,a[i].velocity,n),from:zg(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const nW=(function(e,t,r,n,a){var i=LV(e,t),s=i.reduce(function(w,S){return Ca(Ca({},w),{},mw({},S,[e[S],t[S]]))},{}),c=i.reduce(function(w,S){return Ca(Ca({},w),{},mw({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,f,p,h=function(){return null},y=function(){return Dh(function(S,C){return C.from},c)},g=function(){return!Object.values(c).filter(vw).length},j=function(S){f||(f=S);var C=S-f,P=C/r.dt;c=rW(r,c,P),a(Ca(Ca(Ca({},e),t),y())),f=S,g()||(d=requestAnimationFrame(h))},x=function(S){p||(p=S);var C=(S-p)/n,P=Dh(function(L,q){return zg.apply(void 0,yP(q).concat([r(C)]))},s);if(a(Ca(Ca(Ca({},e),t),P)),C<1)d=requestAnimationFrame(h);else{var R=Dh(function(L,q){return zg.apply(void 0,yP(q).concat([r(1)]))},s);a(Ca(Ca(Ca({},e),t),R))}};return h=r.isStepper?j:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}var aW=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function oW(e,t){if(e==null)return{};var r=iW(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iW(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function N1(e){return uW(e)||cW(e)||lW(e)||sW()}function sW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lW(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function cW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uW(e){if(Array.isArray(e))return yw(e)}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){Eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eh(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lk(n.key),n)}}function hW(e,t,r){return t&&fW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lk(e){var t=pW(e,"string");return mf(t)==="symbol"?t:String(t)}function pW(e,t){if(mf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xw(e,t)}function xw(e,t){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xw(e,t)}function gW(e){var t=vW();return function(){var n=Bg(e),a;if(t){var i=Bg(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return bw(this,a)}}function bw(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ww(e)}function ww(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}var _s=(function(e){mW(r,e);var t=gW(r);function r(n,a){var i;dW(this,r),i=t.call(this,n,a);var s=i.props,c=s.isActive,d=s.attributeName,f=s.from,p=s.to,h=s.steps,y=s.children,g=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(ww(i)),i.changeStyle=i.changeStyle.bind(ww(i)),!c||g<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:p}),bw(i);if(h&&h.length)i.state={style:h[0].style};else if(f){if(typeof y=="function")return i.state={style:f},bw(i);i.state={style:d?Eh({},d,f):f}}else i.state={style:{}};return i}return hW(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,c=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,h=i.from,y=this.state.style;if(c){if(!s){var g={style:d?Eh({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(g);return}if(!(jV(a.to,p)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=j||f?h:a.to;if(this.state&&y){var w={style:d?Eh({},d,x):x};(d&&y[d]!==x||!d&&y!==x)&&this.setState(w)}this.runAnimation(zi(zi({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,c=a.to,d=a.duration,f=a.easing,p=a.begin,h=a.onAnimationEnd,y=a.onAnimationStart,g=nW(s,c,HV(f),d,this.changeStyle),j=function(){i.stopJSAnimation=g()};this.manager.start([y,p,j,d,h])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,c=a.begin,d=a.onAnimationStart,f=s[0],p=f.style,h=f.duration,y=h===void 0?0:h,g=function(x,w,S){if(S===0)return x;var C=w.duration,P=w.easing,R=P===void 0?"ease":P,L=w.style,q=w.properties,_=w.onAnimationEnd,B=S>0?s[S-1]:w,V=q||Object.keys(L);if(typeof R=="function"||R==="spring")return[].concat(N1(x),[i.runJSAnimation.bind(i,{from:B.style,to:L,duration:C,easing:R}),C]);var K=mP(V,C,R),E=zi(zi(zi({},B.style),L),{},{transition:K});return[].concat(N1(x),[E,C,_]).filter(TV)};return this.manager.start([d].concat(N1(s.reduce(g,[p,Math.max(y,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=OV());var i=a.begin,s=a.duration,c=a.attributeName,d=a.to,f=a.easing,p=a.onAnimationStart,h=a.onAnimationEnd,y=a.steps,g=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof f=="function"||typeof g=="function"||f==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var x=c?Eh({},c,d):d,w=mP(Object.keys(x),s,f);j.start([p,i,zi(zi({},x),{},{transition:w}),s,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=oW(a,aW),f=M.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!c||f===0||s<=0)return i;var h=function(g){var j=g.props,x=j.style,w=x===void 0?{}:x,S=j.className,C=M.cloneElement(g,zi(zi({},d),{},{style:zi(zi({},w),p),className:S}));return C};return f===1?h(M.Children.only(i)):Pe.createElement("div",null,M.Children.map(i,function(y){return h(y)}))}}]),r})(M.PureComponent);_s.displayName="Animate";_s.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_s.propTypes={from:Xr.oneOfType([Xr.object,Xr.string]),to:Xr.oneOfType([Xr.object,Xr.string]),attributeName:Xr.string,duration:Xr.number,begin:Xr.number,easing:Xr.oneOfType([Xr.string,Xr.func]),steps:Xr.arrayOf(Xr.shape({duration:Xr.number.isRequired,style:Xr.object.isRequired,easing:Xr.oneOfType([Xr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xr.func]),properties:Xr.arrayOf("string"),onAnimationEnd:Xr.func})),children:Xr.oneOfType([Xr.node,Xr.func]),isActive:Xr.bool,canBegin:Xr.bool,onAnimationEnd:Xr.func,shouldReAnimate:Xr.bool,onAnimationStart:Xr.func,onAnimationReStart:Xr.func};var yW=Z6();function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}function xW(e,t){return jW(e)||NW(e,t)||wW(e,t)||bW()}function bW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wW(e,t){if(e){if(typeof e=="string")return wP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wP(e,t)}}function wP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NW(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function jW(e){if(Array.isArray(e))return e}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return t=CW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=AW(e,"string");return fp(t)=="symbol"?t:t+""}function AW(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SP=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,p;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],y=0,g=4;y<g;y++)h[y]=i[y]>s?s:i[y];p="M".concat(t,",").concat(r+c*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+d*h[0],",").concat(r)),p+="L ".concat(t+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+c*h[1])),p+="L ".concat(t+n,",").concat(r+a-c*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-d*h[2],",").concat(r+a)),p+="L ".concat(t+d*h[3],",").concat(r+a),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+a-c*h[3])),p+="Z"}else if(s>0&&i===+i&&i>0){var j=Math.min(s,i);p="M ".concat(t,",").concat(r+c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+d*j,",").concat(r,`
            L `).concat(t+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+n,",").concat(r+c*j,`
            L `).concat(t+n,",").concat(r+a-c*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t+n-d*j,",").concat(r+a,`
            L `).concat(t+d*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(f,",").concat(t,",").concat(r+a-c*j," Z")}else p="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},PW=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(i,i+c),p=Math.max(i,i+c),h=Math.min(s,s+d),y=Math.max(s,s+d);return n>=f&&n<=p&&a>=h&&a<=y}return!1},_W={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uN=function(t){var r=jP(jP({},_W),t),n=M.useRef(),a=M.useState(-1),i=xW(a,2),s=i[0],c=i[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&c(R)}catch{}},[]);var d=r.x,f=r.y,p=r.width,h=r.height,y=r.radius,g=r.className,j=r.animationEasing,x=r.animationDuration,w=r.animationBegin,S=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||p===0||h===0)return null;var P=br("recharts-rectangle",g);return C?Pe.createElement(_s,{canBegin:s>0,from:{width:p,height:h,x:d,y:f},to:{width:p,height:h,x:d,y:f},duration:x,animationEasing:j,isActive:C},function(R){var L=R.width,q=R.height,_=R.x,B=R.y;return Pe.createElement(_s,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,isActive:S,easing:j},Pe.createElement("path",qg({},tr(r,!0),{className:P,d:SP(_,B,L,q,y),ref:n})))}):Pe.createElement("path",qg({},tr(r,!0),{className:P,d:SP(d,f,p,h,y)}))},EW=["points","className","baseLinePoints","connectNulls"];function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function OW(e,t){if(e==null)return{};var r=kW(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CP(e){return DW(e)||TW(e)||LW(e)||IW()}function IW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LW(e,t){if(e){if(typeof e=="string")return Nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(e,t)}}function TW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DW(e){if(Array.isArray(e))return Nw(e)}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var AP=function(t){return t&&t.x===+t.x&&t.y===+t.y},MW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){AP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),AP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Mh=function(t,r){var n=MW(t);r&&(n=[n.reduce(function(i,s){return[].concat(CP(i),CP(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,c,d){return"".concat(s).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},RW=function(t,r,n){var a=Mh(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Mh(r.reverse(),n).slice(1))},$W=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=OW(t,EW);if(!r||!r.length)return null;var c=br("recharts-polygon",n);if(a&&a.length){var d=s.stroke&&s.stroke!=="none",f=RW(r,a,i);return Pe.createElement("g",{className:c},Pe.createElement("path",qd({},tr(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),d?Pe.createElement("path",qd({},tr(s,!0),{fill:"none",d:Mh(r,i)})):null,d?Pe.createElement("path",qd({},tr(s,!0),{fill:"none",d:Mh(a,i)})):null)}var p=Mh(r,i);return Pe.createElement("path",qd({},tr(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:c,d:p}))};function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(this,arguments)}var F0=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=br("recharts-dot",i);return r===+r&&n===+n&&a===+a?M.createElement("circle",jw({},tr(t,!1),dg(t),{className:s,cx:r,cy:n,r:a})):null};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}var FW=["x","y","top","left","width","height","className"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sw.apply(this,arguments)}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){BW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BW(e,t,r){return t=qW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=UW(e,"string");return hp(t)=="symbol"?t:t+""}function UW(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VW(e,t){if(e==null)return{};var r=WW(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HW=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},GW=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,c=s===void 0?0:s,d=t.left,f=d===void 0?0:d,p=t.width,h=p===void 0?0:p,y=t.height,g=y===void 0?0:y,j=t.className,x=VW(t,FW),w=zW({x:n,y:i,top:c,left:f,width:h,height:g},x);return!St(n)||!St(i)||!St(h)||!St(g)||!St(c)||!St(f)?null:Pe.createElement("path",Sw({},tr(w,!0),{className:br("recharts-cross",j),d:HW(n,i,h,g,c,f)}))},j1,_P;function KW(){if(_P)return j1;_P=1;var e=T0(),t=KO(),r=Os();function n(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return j1=n,j1}var JW=KW();const YW=tn(JW);var S1,EP;function XW(){if(EP)return S1;EP=1;var e=T0(),t=Os(),r=JO();function n(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return S1=n,S1}var ZW=XW();const QW=tn(ZW);var eH=["cx","cy","angle","ticks","axisLine"],tH=["ticks","tick","angle","tickFormatter","stroke"];function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kP(e,t){if(e==null)return{};var r=rH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dk(n.key),n)}}function aH(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oH(e,t,r){return t=Ug(t),iH(e,Tk()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function iH(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sH(e)}function sH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tk=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function lH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}function Cw(e,t){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cw(e,t)}function z0(e,t,r){return t=Dk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dk(e){var t=cH(e,"string");return gf(t)=="symbol"?t:t+""}function cH(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B0=(function(e){function t(){return nH(this,t),oH(this,t,arguments)}return lH(t,e),aH(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,c=i.cx,d=i.cy;return dn(c,d,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,c=n.ticks,d=YW(c,function(p){return p.coordinate||0}),f=QW(c,function(p){return p.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,c=n.ticks,d=n.axisLine,f=kP(n,eH),p=c.reduce(function(j,x){return[Math.min(j[0],x.coordinate),Math.max(j[1],x.coordinate)]},[1/0,-1/0]),h=dn(a,i,p[0],s),y=dn(a,i,p[1],s),g=yu(yu(yu({},tr(f,!1)),{},{fill:"none"},tr(d,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return Pe.createElement("line",Rh({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,c=a.angle,d=a.tickFormatter,f=a.stroke,p=kP(a,tH),h=this.getTickTextAnchor(),y=tr(p,!1),g=tr(s,!1),j=i.map(function(x,w){var S=n.getTickValueCoord(x),C=yu(yu(yu(yu({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(S.x,", ").concat(S.y,")")},y),{},{stroke:"none",fill:f},g),{},{index:w},S),{},{payload:x});return Pe.createElement(qr,Rh({className:br("recharts-polar-radius-axis-tick",jk(s)),key:"tick-".concat(x.coordinate)},Mu(n.props,x,w)),t.renderTickItem(s,C,d?d(x.value,w):x.value))});return Pe.createElement(qr,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:Pe.createElement(qr,{className:br("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),pa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Pe.isValidElement(n)?s=Pe.cloneElement(n,a):ur(n)?s=n(a):s=Pe.createElement(Ru,Rh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])})(M.PureComponent);z0(B0,"displayName","PolarRadiusAxis");z0(B0,"axisType","radiusAxis");z0(B0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(this,arguments)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){q0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rk(n.key),n)}}function dH(e,t,r){return t&&TP(e.prototype,t),r&&TP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fH(e,t,r){return t=Vg(t),hH(e,Mk()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function hH(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pH(e)}function pH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mk=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function mH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Aw(e,t)}function q0(e,t,r){return t=Rk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rk(e){var t=gH(e,"string");return vf(t)=="symbol"?t:t+""}function gH(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vH=Math.PI/180,DP=1e-5,U0=(function(e){function t(){return uH(this,t),fH(this,t,arguments)}return mH(t,e),dH(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,c=a.radius,d=a.orientation,f=a.tickSize,p=f||8,h=dn(i,s,c,n.coordinate),y=dn(i,s,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*vH),s;return i>DP?s=a==="outer"?"start":"end":i<-DP?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,c=n.axisLine,d=n.axisLineType,f=xu(xu({},tr(this.props,!1)),{},{fill:"none"},tr(c,!1));if(d==="circle")return Pe.createElement(F0,Cu({className:"recharts-polar-angle-axis-line"},f,{cx:a,cy:i,r:s}));var p=this.props.ticks,h=p.map(function(y){return dn(a,i,s,y.coordinate)});return Pe.createElement($W,Cu({className:"recharts-polar-angle-axis-line"},f,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,c=a.tickLine,d=a.tickFormatter,f=a.stroke,p=tr(this.props,!1),h=tr(s,!1),y=xu(xu({},p),{},{fill:"none"},tr(c,!1)),g=i.map(function(j,x){var w=n.getTickLineCoord(j),S=n.getTickTextAnchor(j),C=xu(xu(xu({textAnchor:S},p),{},{stroke:"none",fill:f},h),{},{index:x,payload:j,x:w.x2,y:w.y2});return Pe.createElement(qr,Cu({className:br("recharts-polar-angle-axis-tick",jk(s)),key:"tick-".concat(j.coordinate)},Mu(n.props,j,x)),c&&Pe.createElement("line",Cu({className:"recharts-polar-angle-axis-tick-line"},y,w)),s&&t.renderTickItem(s,C,d?d(j.value,x):j.value))});return Pe.createElement(qr,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:Pe.createElement(qr,{className:br("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Pe.isValidElement(n)?s=Pe.cloneElement(n,a):ur(n)?s=n(a):s=Pe.createElement(Ru,Cu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])})(M.PureComponent);q0(U0,"displayName","PolarAngleAxis");q0(U0,"axisType","angleAxis");q0(U0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var C1,MP;function yH(){if(MP)return C1;MP=1;var e=GE(),t=e(Object.getPrototypeOf,Object);return C1=t,C1}var A1,RP;function xH(){if(RP)return A1;RP=1;var e=Cl(),t=yH(),r=Al(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,c=i.hasOwnProperty,d=s.call(Object);function f(p){if(!r(p)||e(p)!=n)return!1;var h=t(p);if(h===null)return!0;var y=c.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==d}return A1=f,A1}var bH=xH();const wH=tn(bH);var P1,$P;function NH(){if($P)return P1;$P=1;var e=Cl(),t=Al(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return P1=n,P1}var jH=NH();const SH=tn(jH);function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}function CH(e,t){return EH(e)||_H(e,t)||PH(e,t)||AH()}function AH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e,t){if(e){if(typeof e=="string")return FP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(e,t)}}function FP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _H(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function EH(e){if(Array.isArray(e))return e}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return t=kH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kH(e){var t=IH(e,"string");return pp(t)=="symbol"?t:t+""}function IH(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qP=function(t,r,n,a,i){var s=n-a,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-s/2,",").concat(r+i),c+="L ".concat(t+n-s/2-a,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},LH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TH=function(t){var r=BP(BP({},LH),t),n=M.useRef(),a=M.useState(-1),i=CH(a,2),s=i[0],c=i[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,h=r.lowerWidth,y=r.height,g=r.className,j=r.animationEasing,x=r.animationDuration,w=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||h!==+h||y!==+y||p===0&&h===0||y===0)return null;var C=br("recharts-trapezoid",g);return S?Pe.createElement(_s,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:f},to:{upperWidth:p,lowerWidth:h,height:y,x:d,y:f},duration:x,animationEasing:j,isActive:S},function(P){var R=P.upperWidth,L=P.lowerWidth,q=P.height,_=P.x,B=P.y;return Pe.createElement(_s,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:x,easing:j},Pe.createElement("path",Wg({},tr(r,!0),{className:C,d:qP(_,B,R,L,q),ref:n})))}):Pe.createElement("g",null,Pe.createElement("path",Wg({},tr(r,!0),{className:C,d:qP(d,f,p,h,y)})))},DH=["option","shapeType","propTransformer","activeClassName","isActive"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function MH(e,t){if(e==null)return{};var r=RH(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UP(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=zH(e,"string");return mp(t)=="symbol"?t:t+""}function zH(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BH(e,t){return Hg(Hg({},t),e)}function qH(e,t){return e==="symbols"}function VP(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Pe.createElement(uN,r);case"trapezoid":return Pe.createElement(TH,r);case"sector":return Pe.createElement(Ak,r);case"symbols":if(qH(t))return Pe.createElement(E5,r);break;default:return null}}function UH(e){return M.isValidElement(e)?e.props:e}function $k(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?BH:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,c=e.isActive,d=MH(e,DH),f;if(M.isValidElement(t))f=M.cloneElement(t,Hg(Hg({},d),UH(t)));else if(ur(t))f=t(d);else if(wH(t)&&!SH(t)){var p=a(t,d);f=Pe.createElement(VP,{shapeType:r,elementProps:p})}else{var h=d;f=Pe.createElement(VP,{shapeType:r,elementProps:h})}return c?Pe.createElement(qr,{className:s},f):f}function V0(e,t){return t!=null&&"trapezoids"in e.props}function W0(e,t){return t!=null&&"sectors"in e.props}function gp(e,t){return t!=null&&"points"in e.props}function VH(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function WH(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function HH(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function GH(e,t){var r;return V0(e,t)?r=VH:W0(e,t)?r=WH:gp(e,t)&&(r=HH),r}function KH(e,t){var r;return V0(e,t)?r="trapezoids":W0(e,t)?r="sectors":gp(e,t)&&(r="points"),r}function JH(e,t){if(V0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(W0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gp(e,t)?t.payload:{}}function YH(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=KH(r,t),i=JH(r,t),s=n.filter(function(d,f){var p=Dp(i,d),h=r.props[a].filter(function(j){var x=GH(r,t);return x(j,t)}),y=r.props[a].indexOf(h[h.length-1]),g=f===y;return p&&g}),c=n.indexOf(s[s.length-1]);return c}var eg;function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(this,arguments)}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zk(n.key),n)}}function ZH(e,t,r){return t&&HP(e.prototype,t),r&&HP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QH(e,t,r){return t=Gg(t),eG(e,Fk()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function eG(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tG(e)}function tG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fk=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function rG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pw(e,t)}function pi(e,t,r){return t=zk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zk(e){var t=nG(e,"string");return yf(t)=="symbol"?t:t+""}function nG(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _l=(function(e){function t(r){var n;return XH(this,t),n=QH(this,t,[r]),pi(n,"pieRef",null),pi(n,"sectorRefs",[]),pi(n,"id",Df("recharts-pie-")),pi(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ur(a)&&a()}),pi(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ur(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return rG(t,e),ZH(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,c=i.labelLine,d=i.dataKey,f=i.valueKey,p=tr(this.props,!1),h=tr(s,!1),y=tr(c,!1),g=s&&s.offsetRadius||20,j=n.map(function(x,w){var S=(x.startAngle+x.endAngle)/2,C=dn(x.cx,x.cy,x.outerRadius+g,S),P=cn(cn(cn(cn({},p),x),{},{stroke:"none"},h),{},{index:w,textAnchor:t.getTextAnchor(C.x,x.cx)},C),R=cn(cn(cn(cn({},p),x),{},{fill:"none",stroke:x.fill},y),{},{index:w,points:[dn(x.cx,x.cy,x.outerRadius,S),C]}),L=d;return gr(d)&&gr(f)?L="value":gr(d)&&(L=f),Pe.createElement(qr,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},c&&t.renderLabelLineItem(c,R,"line"),t.renderLabelItem(s,P,ta(x,L)))});return Pe.createElement(qr,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,c=i.blendStroke,d=i.inactiveShape;return n.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var h=a.isActiveIndex(p),y=d&&a.hasActiveIndex()?d:null,g=h?s:y,j=cn(cn({},f),{},{stroke:c?f.fill:f.stroke,tabIndex:-1});return Pe.createElement(qr,Ud({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Mu(a.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),Pe.createElement($k,Ud({option:g,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,f=a.animationEasing,p=a.animationId,h=this.state,y=h.prevSectors,g=h.prevIsAnimationActive;return Pe.createElement(_s,{begin:c,duration:d,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var x=j.t,w=[],S=i&&i[0],C=S.startAngle;return i.forEach(function(P,R){var L=y&&y[R],q=R>0?Vo(P,"paddingAngle",0):0;if(L){var _=zo(L.endAngle-L.startAngle,P.endAngle-P.startAngle),B=cn(cn({},P),{},{startAngle:C+q,endAngle:C+_(x)+q});w.push(B),C=B.endAngle}else{var V=P.endAngle,K=P.startAngle,E=zo(0,V-K),$=E(x),D=cn(cn({},P),{},{startAngle:C+q,endAngle:C+$+q});w.push(D),C=D.endAngle}}),Pe.createElement(qr,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Dp(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,c=a.className,d=a.label,f=a.cx,p=a.cy,h=a.innerRadius,y=a.outerRadius,g=a.isAnimationActive,j=this.state.isAnimationFinished;if(i||!s||!s.length||!St(f)||!St(p)||!St(h)||!St(y))return null;var x=br("recharts-pie",c);return Pe.createElement(qr,{tabIndex:this.props.rootTabIndex,className:x,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(s),pa.renderCallByParent(this.props,null,!1),(!g||j)&&wl.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(Pe.isValidElement(n))return Pe.cloneElement(n,a);if(ur(n))return n(a);var s=br("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Pe.createElement($g,Ud({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(Pe.isValidElement(n))return Pe.cloneElement(n,a);var s=i;if(ur(n)&&(s=n(a),Pe.isValidElement(s)))return s;var c=br("recharts-pie-label-text",typeof n!="boolean"&&!ur(n)?n.className:"");return Pe.createElement(Ru,Ud({},a,{alignmentBaseline:"middle",className:c}),s)}}])})(M.PureComponent);eg=_l;pi(_l,"displayName","Pie");pi(_l,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Uu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pi(_l,"parseDeltaAngle",function(e,t){var r=ro(t-e),n=Math.min(Math.abs(t-e),360);return r*n});pi(_l,"getRealPieData",function(e){var t=e.data,r=e.children,n=tr(e,!1),a=Wo(r,P0);return t&&t.length?t.map(function(i,s){return cn(cn(cn({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return cn(cn({},n),i.props)}):[]});pi(_l,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=Nk(a,i),c=n+no(e.cx,a,a/2),d=r+no(e.cy,i,i/2),f=no(e.innerRadius,s,0),p=no(e.outerRadius,s,s*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:d,innerRadius:f,outerRadius:p,maxRadius:h}});pi(_l,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?cn(cn({},t.type.defaultProps),t.props):t.props,a=eg.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,c=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,h=n.valueKey,y=n.tooltipType,g=Math.abs(n.minAngle),j=eg.parseCoordinateOfPie(n,r),x=eg.parseDeltaAngle(s,c),w=Math.abs(x),S=f;gr(f)&&gr(h)?(Ki(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):gr(f)&&(Ki(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=h);var C=a.filter(function(B){return ta(B,S,0)!==0}).length,P=(w>=360?C:C-1)*d,R=w-C*g-P,L=a.reduce(function(B,V){var K=ta(V,S,0);return B+(St(K)?K:0)},0),q;if(L>0){var _;q=a.map(function(B,V){var K=ta(B,S,0),E=ta(B,p,V),$=(St(K)?K:0)/L,D;V?D=_.endAngle+ro(x)*d*(K!==0?1:0):D=s;var I=D+ro(x)*((K!==0?g:0)+$*R),z=(D+I)/2,W=(j.innerRadius+j.outerRadius)/2,ee=[{name:E,value:K,payload:B,dataKey:S,type:y}],G=dn(j.cx,j.cy,W,z);return _=cn(cn(cn({percent:$,cornerRadius:i,name:E,tooltipPayload:ee,midAngle:z,middleRadius:W,tooltipPosition:G},B),j),{},{value:ta(B,S),startAngle:D,endAngle:I,payload:B,paddingAngle:ro(x)*d}),_})}return cn(cn({},j),{},{sectors:q,data:a})});var _1,GP;function aG(){if(GP)return _1;GP=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var c=-1,d=t(e((a-n)/(i||1)),0),f=Array(d);d--;)f[s?d:++c]=n,n+=i;return f}return _1=r,_1}var E1,KP;function Bk(){if(KP)return E1;KP=1;var e=cO(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return E1=n,E1}var O1,JP;function oG(){if(JP)return O1;JP=1;var e=aG(),t=A0(),r=Bk();function n(a){return function(i,s,c){return c&&typeof c!="number"&&t(i,s,c)&&(s=c=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),c=c===void 0?i<s?1:-1:r(c),e(i,s,c,a)}}return O1=n,O1}var k1,YP;function iG(){if(YP)return k1;YP=1;var e=oG(),t=e();return k1=t,k1}var sG=iG();const Kg=tn(sG);function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){qk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qk(e,t,r){return t=lG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){var t=cG(e,"string");return vp(t)=="symbol"?t:t+""}function cG(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG=["Webkit","Moz","O","ms"],dG=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=uG.reduce(function(i,s){return ZP(ZP({},i),{},qk({},s+n,r))},{});return a[t]=r,a};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){Ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vk(n.key),n)}}function hG(e,t,r){return t&&e_(e.prototype,t),r&&e_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pG(e,t,r){return t=Yg(t),mG(e,Uk()?Reflect.construct(t,r||[],Yg(e).constructor):t.apply(e,r))}function mG(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gG(e)}function gG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uk=function(){return!!e})()}function Yg(e){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(e)}function vG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_w(e,t)}function _w(e,t){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_w(e,t)}function Ro(e,t,r){return t=Vk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vk(e){var t=yG(e,"string");return xf(t)=="symbol"?t:t+""}function yG(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xG=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Lh().domain(Kg(0,d)).range([i,i+s-c]),p=f.domain().map(function(h){return f(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:p}},t_=function(t){return t.changedTouches&&!!t.changedTouches.length},bf=(function(e){function t(r){var n;return fG(this,t),n=pG(this,t,[r]),Ro(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ro(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ro(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,c=a.startIndex;s?.({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),Ro(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ro(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ro(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ro(n,"handleSlideDragStart",function(a){var i=t_(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vG(t,e),hG(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,p=f.length-1,h=Math.min(a,i),y=Math.max(a,i),g=t.getIndexInRange(s,h),j=t.getIndexInRange(s,y);return{startIndex:g-g%d,endIndex:j===p?p:j-j%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,c=a.dataKey,d=ta(i[n],c,n);return ur(s)?s(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,c=a.endX,d=this.props,f=d.x,p=d.width,h=d.travellerWidth,y=d.startIndex,g=d.endIndex,j=d.onChange,x=n.pageX-i;x>0?x=Math.min(x,f+p-h-c,f+p-h-s):x<0&&(x=Math.max(x,f-s,f-c));var w=this.getIndex({startX:s+x,endX:c+x});(w.startIndex!==y||w.endIndex!==g)&&j&&j(w),this.setState({startX:s+x,endX:c+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=t_(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,c=a.endX,d=a.startX,f=this.state[s],p=this.props,h=p.x,y=p.width,g=p.travellerWidth,j=p.onChange,x=p.gap,w=p.data,S={startX:this.state.startX,endX:this.state.endX},C=n.pageX-i;C>0?C=Math.min(C,h+y-g-f):C<0&&(C=Math.max(C,h-f)),S[s]=f+C;var P=this.getIndex(S),R=P.startIndex,L=P.endIndex,q=function(){var B=w.length-1;return s==="startX"&&(c>d?R%x===0:L%x===0)||c<d&&L===B||s==="endX"&&(c>d?L%x===0:R%x===0)||c>d&&L===B};this.setState(Ro(Ro({},s,f+C),"brushMoveStartX",n.pageX),function(){j&&q()&&j(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,c=s.scaleValues,d=s.startX,f=s.endX,p=this.state[a],h=c.indexOf(p);if(h!==-1){var y=h+n;if(!(y===-1||y>=c.length)){var g=c[y];a==="startX"&&g>=f||a==="endX"&&g<=d||this.setState(Ro({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.fill,f=n.stroke;return Pe.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:s,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.data,f=n.children,p=n.padding,h=M.Children.only(f);return h?Pe.cloneElement(h,{x:a,y:i,width:s,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,c=this,d=this.props,f=d.y,p=d.travellerWidth,h=d.height,y=d.traveller,g=d.ariaLabel,j=d.data,x=d.startIndex,w=d.endIndex,S=Math.max(n,this.props.x),C=I1(I1({},tr(this.props,!1)),{},{x:S,y:f,width:p,height:h}),P=g||"Min value: ".concat((i=j[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=j[w])===null||s===void 0?void 0:s.name);return Pe.createElement(qr,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(L){["ArrowLeft","ArrowRight"].includes(L.key)&&(L.preventDefault(),L.stopPropagation(),c.handleTravellerMoveKeyboard(L.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,C))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,c=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(n,a)+f,h=Math.max(Math.abs(a-n)-f,0);return Pe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:s,width:h,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,h=p.startX,y=p.endX,g=5,j={pointerEvents:"none",fill:f};return Pe.createElement(qr,{className:"recharts-brush-texts"},Pe.createElement(Ru,Jg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,y)-g,y:s+c/2},j),this.getTextOfTick(a)),Pe.createElement(Ru,Jg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,y)+d+g,y:s+c/2},j),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,c=n.x,d=n.y,f=n.width,p=n.height,h=n.alwaysShowText,y=this.state,g=y.startX,j=y.endX,x=y.isTextActive,w=y.isSlideMoving,S=y.isTravellerMoving,C=y.isTravellerFocused;if(!a||!a.length||!St(c)||!St(d)||!St(f)||!St(p)||f<=0||p<=0)return null;var P=br("recharts-brush",i),R=Pe.Children.count(s)===1,L=dG("userSelect","none");return Pe.createElement(qr,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:L},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(g,j),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(j,"endX"),(x||w||S||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,c=n.height,d=n.stroke,f=Math.floor(i+c/2)-1;return Pe.createElement(Pe.Fragment,null,Pe.createElement("rect",{x:a,y:i,width:s,height:c,fill:d,stroke:"none"}),Pe.createElement("line",{x1:a+1,y1:f,x2:a+s-1,y2:f,fill:"none",stroke:"#fff"}),Pe.createElement("line",{x1:a+1,y1:f+2,x2:a+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Pe.isValidElement(n)?i=Pe.cloneElement(n,a):ur(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,h=n.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return I1({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s},i&&i.length?xG({data:i,width:s,x:c,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+s-d]);var y=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,c=i-1;c-s>1;){var d=Math.floor((s+c)/2);n[d]>a?c=d:s=d}return a>=n[c]?c:s}}])})(M.PureComponent);Ro(bf,"displayName","Brush");Ro(bf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var L1,r_;function bG(){if(r_)return L1;r_=1;var e=M5();function t(r,n){var a;return e(r,function(i,s,c){return a=n(i,s,c),!a}),!!a}return L1=t,L1}var T1,n_;function wG(){if(n_)return T1;n_=1;var e=zE(),t=Os(),r=bG(),n=jo(),a=A0();function i(s,c,d){var f=n(s)?e:r;return d&&a(s,c,d)&&(c=void 0),f(s,t(c,3))}return T1=i,T1}var NG=wG();const jG=tn(NG);var Cs=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},D1,a_;function SG(){if(a_)return D1;a_=1;var e=aO();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return D1=t,D1}var M1,o_;function CG(){if(o_)return M1;o_=1;var e=SG(),t=rO(),r=Os();function n(a,i){var s={};return i=r(i,3),t(a,function(c,d,f){e(s,d,i(c,d,f))}),s}return M1=n,M1}var AG=CG();const PG=tn(AG);var R1,i_;function _G(){if(i_)return R1;i_=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return R1=e,R1}var $1,s_;function EG(){if(s_)return $1;s_=1;var e=M5();function t(r,n){var a=!0;return e(r,function(i,s,c){return a=!!n(i,s,c),a}),a}return $1=t,$1}var F1,l_;function OG(){if(l_)return F1;l_=1;var e=_G(),t=EG(),r=Os(),n=jo(),a=A0();function i(s,c,d){var f=n(s)?e:t;return d&&a(s,c,d)&&(c=void 0),f(s,r(c,3))}return F1=i,F1}var kG=OG();const Wk=tn(kG);var IG=["x","y"];function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){LG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LG(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=DG(e,"string");return yp(t)=="symbol"?t:t+""}function DG(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t){if(e==null)return{};var r=RG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $G(e,t){var r=e.x,n=e.y,a=MG(e,IG),i="".concat(r),s=parseInt(i,10),c="".concat(n),d=parseInt(c,10),f="".concat(t.height||a.height),p=parseInt(f,10),h="".concat(t.width||a.width),y=parseInt(h,10);return yh(yh(yh(yh(yh({},t),a),s?{x:s}:{}),d?{y:d}:{}),{},{height:p,width:y,name:t.name,radius:t.radius})}function u_(e){return Pe.createElement($k,Ew({shapeType:"rectangle",propTransformer:$G,activeClassName:"recharts-active-bar"},e))}var FG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=St(n)||sD(n);return i?t(n,a):(i||Fu(),r)}},zG=["value","background"],Hk;function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function BG(e,t){if(e==null)return{};var r=qG(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(this,arguments)}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){Cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kk(n.key),n)}}function VG(e,t,r){return t&&f_(e.prototype,t),r&&f_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WG(e,t,r){return t=Zg(t),HG(e,Gk()?Reflect.construct(t,r||[],Zg(e).constructor):t.apply(e,r))}function HG(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GG(e)}function GG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gk=function(){return!!e})()}function Zg(e){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(e)}function KG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ow(e,t)}function Cc(e,t,r){return t=Kk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kk(e){var t=JG(e,"string");return wf(t)=="symbol"?t:t+""}function JG(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gu=(function(e){function t(){var r;UG(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=WG(this,t,[].concat(a)),Cc(r,"state",{isAnimationFinished:!1}),Cc(r,"id",Df("recharts-bar-")),Cc(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Cc(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return KG(t,e),VG(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,c=i.dataKey,d=i.activeIndex,f=i.activeBar,p=tr(this.props,!1);return n&&n.map(function(h,y){var g=y===d,j=g?f:s,x=Wn(Wn(Wn({},p),h),{},{isActive:g,option:j,index:y,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Pe.createElement(qr,Xg({className:"recharts-bar-rectangle"},Mu(a.props,h,y),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(y)}),Pe.createElement(u_,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,p=a.animationEasing,h=a.animationId,y=this.state.prevData;return Pe.createElement(_s,{begin:d,duration:f,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var j=g.t,x=i.map(function(w,S){var C=y&&y[S];if(C){var P=zo(C.x,w.x),R=zo(C.y,w.y),L=zo(C.width,w.width),q=zo(C.height,w.height);return Wn(Wn({},w),{},{x:P(j),y:R(j),width:L(j),height:q(j)})}if(s==="horizontal"){var _=zo(0,w.height),B=_(j);return Wn(Wn({},w),{},{y:w.y+w.height-B,height:B})}var V=zo(0,w.width),K=V(j);return Wn(Wn({},w),{},{width:K})});return Pe.createElement(qr,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Dp(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,c=a.activeIndex,d=tr(this.props.background,!1);return i.map(function(f,p){f.value;var h=f.background,y=BG(f,zG);if(!h)return null;var g=Wn(Wn(Wn(Wn(Wn({},y),{},{fill:"#eee"},h),d),Mu(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return Pe.createElement(u_,Xg({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,c=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,h=Wo(p,Mp);if(!h)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,g=function(w,S){var C=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:C,errorVal:ta(w,S)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Pe.createElement(qr,j,h.map(function(x){return Pe.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,offset:y,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,c=n.xAxis,d=n.yAxis,f=n.left,p=n.top,h=n.width,y=n.height,g=n.isAnimationActive,j=n.background,x=n.id;if(a||!i||!i.length)return null;var w=this.state.isAnimationFinished,S=br("recharts-bar",s),C=c&&c.allowDataOverflow,P=d&&d.allowDataOverflow,R=C||P,L=gr(x)?this.id:x;return Pe.createElement(qr,{className:S},C||P?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(L)},Pe.createElement("rect",{x:C?f:f-h/2,y:P?p:p-y/2,width:C?h:h*2,height:P?y:y*2}))):null,Pe.createElement(qr,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(L,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,L),(!g||w)&&wl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(M.PureComponent);Hk=Gu;Cc(Gu,"displayName","Bar");Cc(Gu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cc(Gu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,c=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,h=e.displayedData,y=e.offset,g=Nq(n,r);if(!g)return null;var j=t.layout,x=r.type.defaultProps,w=x!==void 0?Wn(Wn({},x),r.props):r.props,S=w.dataKey,C=w.children,P=w.minPointSize,R=j==="horizontal"?s:i,L=f?R.scale.domain():null,q=Eq({numericAxis:R}),_=Wo(C,P0),B=h.map(function(V,K){var E,$,D,I,z,W;f?E=jq(f[p+K],L):(E=ta(V,S),Array.isArray(E)||(E=[q,E]));var ee=FG(P,Hk.defaultProps.minPointSize)(E[1],K);if(j==="horizontal"){var G,ie=[s.scale(E[0]),s.scale(E[1])],te=ie[0],re=ie[1];$=RA({axis:i,ticks:c,bandSize:a,offset:g.offset,entry:V,index:K}),D=(G=re??te)!==null&&G!==void 0?G:void 0,I=g.size;var T=te-re;if(z=Number.isNaN(T)?0:T,W={x:$,y:s.y,width:I,height:s.height},Math.abs(ee)>0&&Math.abs(z)<Math.abs(ee)){var J=ro(z||ee)*(Math.abs(ee)-Math.abs(z));D-=J,z+=J}}else{var Y=[i.scale(E[0]),i.scale(E[1])],H=Y[0],me=Y[1];if($=H,D=RA({axis:s,ticks:d,bandSize:a,offset:g.offset,entry:V,index:K}),I=me-H,z=g.size,W={x:i.x,y:D,width:i.width,height:z},Math.abs(ee)>0&&Math.abs(I)<Math.abs(ee)){var pe=ro(I||ee)*(Math.abs(ee)-Math.abs(I));I+=pe}}return Wn(Wn(Wn({},V),{},{x:$,y:D,width:I,height:z,value:f?E:E[1],payload:V,background:W},_&&_[K]&&_[K].props),{},{tooltipPayload:[bk(r,V)],tooltipPosition:{x:$+I/2,y:D+z/2}})});return Wn({data:B,layout:j},y)});function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function YG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jk(n.key),n)}}function XG(e,t,r){return t&&h_(e.prototype,t),r&&h_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0(e,t,r){return t=Jk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jk(e){var t=ZG(e,"string");return xp(t)=="symbol"?t:t+""}function ZG(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yk=function(t,r,n,a,i){var s=t.width,c=t.height,d=t.layout,f=t.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},y=!!$o(f,Gu);return p.reduce(function(g,j){var x=r[j],w=x.orientation,S=x.domain,C=x.padding,P=C===void 0?{}:C,R=x.mirror,L=x.reversed,q="".concat(w).concat(R?"Mirror":""),_,B,V,K,E;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var $=S[1]-S[0],D=1/0,I=x.categoricalDomain.sort(uD);if(I.forEach(function(Y,H){H>0&&(D=Math.min((Y||0)-(I[H-1]||0),D))}),Number.isFinite(D)){var z=D/$,W=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(_=z*W/2),x.padding==="no-gap"){var ee=no(t.barCategoryGap,z*W),G=z*W/2;_=G-ee-(G-ee)/W*ee}}}a==="xAxis"?B=[n.left+(P.left||0)+(_||0),n.left+n.width-(P.right||0)-(_||0)]:a==="yAxis"?B=d==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(_||0),n.top+n.height-(P.bottom||0)-(_||0)]:B=x.range,L&&(B=[B[1],B[0]]);var ie=gk(x,i,y),te=ie.scale,re=ie.realScaleType;te.domain(S).range(B),vk(te);var T=yk(te,Vi(Vi({},x),{},{realScaleType:re}));a==="xAxis"?(E=w==="top"&&!R||w==="bottom"&&R,V=n.left,K=h[q]-E*x.height):a==="yAxis"&&(E=w==="left"&&!R||w==="right"&&R,V=h[q]-E*x.width,K=n.top);var J=Vi(Vi(Vi({},x),T),{},{realScaleType:re,x:V,y:K,scale:te,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return J.bandSize=Dg(J,T),!x.hide&&a==="xAxis"?h[q]+=(E?-1:1)*J.height:x.hide||(h[q]+=(E?-1:1)*J.width),Vi(Vi({},g),{},H0({},j,J))},{})},Xk=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},QG=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Xk({x:r,y:n},{x:a,y:i})},Zk=(function(){function e(t){YG(this,e),this.scale=t}return XG(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();H0(Zk,"EPS",1e-4);var dN=function(t){var r=Object.keys(t).reduce(function(n,a){return Vi(Vi({},n),{},H0({},a,Zk.create(t[a])))},{});return Vi(Vi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,c=i.position;return PG(a,function(d,f){return r[f].apply(d,{bandAware:s,position:c})})},isInRange:function(a){return Wk(a,function(i,s){return r[s].isInRange(i)})}})};function eK(e){return(e%180+180)%180}var tK=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eK(a),s=i*Math.PI/180,c=Math.atan(n/r),d=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},z1,m_;function rK(){if(m_)return z1;m_=1;var e=Os(),t=Op(),r=S0();function n(a){return function(i,s,c){var d=Object(i);if(!t(i)){var f=e(s,3);i=r(i),s=function(h){return f(d[h],h,d)}}var p=a(i,s,c);return p>-1?d[f?i[p]:p]:void 0}}return z1=n,z1}var B1,g_;function nK(){if(g_)return B1;g_=1;var e=Bk();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return B1=t,B1}var q1,v_;function aK(){if(v_)return q1;v_=1;var e=XE(),t=Os(),r=nK(),n=Math.max;function a(i,s,c){var d=i==null?0:i.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),e(i,t(s,3),f)}return q1=a,q1}var U1,y_;function oK(){if(y_)return U1;y_=1;var e=rK(),t=aK(),r=e(t);return U1=r,U1}var iK=oK();const sK=tn(iK);var lK=hE();const cK=tn(lK);var uK=cK(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),fN=M.createContext(void 0),hN=M.createContext(void 0),Qk=M.createContext(void 0),eI=M.createContext({}),tI=M.createContext(void 0),rI=M.createContext(0),nI=M.createContext(0),x_=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,c=t.children,d=t.width,f=t.height,p=uK(i);return Pe.createElement(fN.Provider,{value:n},Pe.createElement(hN.Provider,{value:a},Pe.createElement(eI.Provider,{value:i},Pe.createElement(Qk.Provider,{value:p},Pe.createElement(tI.Provider,{value:s},Pe.createElement(rI.Provider,{value:f},Pe.createElement(nI.Provider,{value:d},c)))))))},dK=function(){return M.useContext(tI)},aI=function(t){var r=M.useContext(fN);r==null&&Fu();var n=r[t];return n==null&&Fu(),n},fK=function(){var t=M.useContext(fN);return Sc(t)},hK=function(){var t=M.useContext(hN),r=sK(t,function(n){return Wk(n.domain,Number.isFinite)});return r||Sc(t)},oI=function(t){var r=M.useContext(hN);r==null&&Fu();var n=r[t];return n==null&&Fu(),n},pK=function(){var t=M.useContext(Qk);return t},mK=function(){return M.useContext(eI)},pN=function(){return M.useContext(nI)},mN=function(){return M.useContext(rI)};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function gK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sI(n.key),n)}}function yK(e,t,r){return t&&vK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xK(e,t,r){return t=Qg(t),bK(e,iI()?Reflect.construct(t,r||[],Qg(e).constructor):t.apply(e,r))}function bK(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wK(e)}function wK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iI=function(){return!!e})()}function Qg(e){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(e)}function NK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kw(e,t)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){gN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gN(e,t,r){return t=sI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sI(e){var t=jK(e,"string");return Nf(t)=="symbol"?t:t+""}function jK(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SK(e,t){return _K(e)||PK(e,t)||AK(e,t)||CK()}function CK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(e,t){if(e){if(typeof e=="string")return N_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N_(e,t)}}function N_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function _K(e){if(Array.isArray(e))return e}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(this,arguments)}var EK=function(t,r){var n;return Pe.isValidElement(t)?n=Pe.cloneElement(t,r):ur(t)?n=t(r):n=Pe.createElement("line",Iw({},r,{className:"recharts-reference-line-line"})),n},OK=function(t,r,n,a,i,s,c,d,f){var p=i.x,h=i.y,y=i.width,g=i.height;if(n){var j=f.y,x=t.y.apply(j,{position:s});if(Cs(f,"discard")&&!t.y.isInRange(x))return null;var w=[{x:p+y,y:x},{x:p,y:x}];return d==="left"?w.reverse():w}if(r){var S=f.x,C=t.x.apply(S,{position:s});if(Cs(f,"discard")&&!t.x.isInRange(C))return null;var P=[{x:C,y:h+g},{x:C,y:h}];return c==="top"?P.reverse():P}if(a){var R=f.segment,L=R.map(function(q){return t.apply(q,{position:s})});return Cs(f,"discard")&&jG(L,function(q){return!t.isInRange(q)})?null:L}return null};function kK(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,c=e.className,d=e.alwaysShow,f=dK(),p=aI(a),h=oI(i),y=pK();if(!f||!y)return null;Ki(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=dN({x:p.scale,y:h.scale}),j=ra(t),x=ra(r),w=n&&n.length===2,S=OK(g,j,x,w,y,e.position,p.orientation,h.orientation,e);if(!S)return null;var C=SK(S,2),P=C[0],R=P.x,L=P.y,q=C[1],_=q.x,B=q.y,V=Cs(e,"hidden")?"url(#".concat(f,")"):void 0,K=w_(w_({clipPath:V},tr(e,!0)),{},{x1:R,y1:L,x2:_,y2:B});return Pe.createElement(qr,{className:br("recharts-reference-line",c)},EK(s,K),pa.renderCallByParent(e,QG({x1:R,y1:L,x2:_,y2:B})))}var vN=(function(e){function t(){return gK(this,t),xK(this,t,arguments)}return NK(t,e),yK(t,[{key:"render",value:function(){return Pe.createElement(kK,this.props)}}])})(Pe.Component);gN(vN,"displayName","ReferenceLine");gN(vN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(n){G0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cI(n.key),n)}}function TK(e,t,r){return t&&LK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DK(e,t,r){return t=e0(t),MK(e,lI()?Reflect.construct(t,r||[],e0(e).constructor):t.apply(e,r))}function MK(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RK(e)}function RK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lI=function(){return!!e})()}function e0(e){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(e)}function $K(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tw(e,t)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tw(e,t)}function G0(e,t,r){return t=cI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cI(e){var t=FK(e,"string");return jf(t)=="symbol"?t:t+""}function FK(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zK=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=dN({x:a.scale,y:i.scale}),c=s.apply({x:r,y:n},{bandAware:!0});return Cs(t,"discard")&&!s.isInRange(c)?null:c},K0=(function(e){function t(){return IK(this,t),DK(this,t,arguments)}return $K(t,e),TK(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,c=n.alwaysShow,d=n.clipPathId,f=ra(a),p=ra(i);if(Ki(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var h=zK(this.props);if(!h)return null;var y=h.x,g=h.y,j=this.props,x=j.shape,w=j.className,S=Cs(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=S_(S_({clipPath:S},tr(this.props,!0)),{},{cx:y,cy:g});return Pe.createElement(qr,{className:br("recharts-reference-dot",w)},t.renderDot(x,C),pa.renderCallByParent(this.props,{x:y-s,y:g-s,width:2*s,height:2*s}))}}])})(Pe.Component);G0(K0,"displayName","ReferenceDot");G0(K0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});G0(K0,"renderDot",function(e,t){var r;return Pe.isValidElement(e)?r=Pe.cloneElement(e,t):ur(e)?r=e(t):r=Pe.createElement(F0,Lw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){J0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dI(n.key),n)}}function UK(e,t,r){return t&&qK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VK(e,t,r){return t=t0(t),WK(e,uI()?Reflect.construct(t,r||[],t0(e).constructor):t.apply(e,r))}function WK(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HK(e)}function HK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uI=function(){return!!e})()}function t0(e){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(e)}function GK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mw(e,t)}function J0(e,t,r){return t=dI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dI(e){var t=KK(e,"string");return Sf(t)=="symbol"?t:t+""}function KK(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JK=function(t,r,n,a,i){var s=i.x1,c=i.x2,d=i.y1,f=i.y2,p=i.xAxis,h=i.yAxis;if(!p||!h)return null;var y=dN({x:p.scale,y:h.scale}),g={x:t?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},j={x:r?y.x.apply(c,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Cs(i,"discard")&&(!y.isInRange(g)||!y.isInRange(j))?null:Xk(g,j)},Y0=(function(e){function t(){return BK(this,t),VK(this,t,arguments)}return GK(t,e),UK(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;Ki(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ra(a),y=ra(i),g=ra(s),j=ra(c),x=this.props.shape;if(!h&&!y&&!g&&!j&&!x)return null;var w=JK(h,y,g,j,this.props);if(!w&&!x)return null;var S=Cs(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Pe.createElement(qr,{className:br("recharts-reference-area",d)},t.renderRect(x,A_(A_({clipPath:S},tr(this.props,!0)),w)),pa.renderCallByParent(this.props,w))}}])})(Pe.Component);J0(Y0,"displayName","ReferenceArea");J0(Y0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});J0(Y0,"renderRect",function(e,t){var r;return Pe.isValidElement(e)?r=Pe.cloneElement(e,t):ur(e)?r=e(t):r=Pe.createElement(uN,Dw({},t,{className:"recharts-reference-area-rect"})),r});function fI(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function YK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tK(n,r)}function XK(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,c=e.height;return t===1?{start:n?a:i,end:n?a+s:i+c}:{start:n?a+s:i+c,end:n?a:i}}function r0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ZK(e,t){return fI(e,t+1)}function QK(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,c=t.end,d=0,f=1,p=s,h=function(){var j=n?.[d];if(j===void 0)return{v:fI(n,f)};var x=d,w,S=function(){return w===void 0&&(w=r(j,x)),w},C=j.coordinate,P=d===0||r0(e,C,S,p,c);P||(d=0,p=s,f+=1),P&&(p=C+e*(S()/2+a),d+=f)},y;f<=i.length;)if(y=h(),y)return y.v;return[]}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){eJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eJ(e,t,r){return t=tJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=rJ(e,"string");return bp(t)=="symbol"?t:t+""}function rJ(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nJ(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,c=t.start,d=t.end,f=function(y){var g=i[y],j,x=function(){return j===void 0&&(j=r(g,y)),j};if(y===s-1){var w=e*(g.coordinate+e*x()/2-d);i[y]=g=qa(qa({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate})}else i[y]=g=qa(qa({},g),{},{tickCoord:g.coordinate});var S=r0(e,g.tickCoord,x,c,d);S&&(d=g.tickCoord-e*(x()/2+a),i[y]=qa(qa({},g),{},{isShow:!0}))},p=s-1;p>=0;p--)f(p);return i}function aJ(e,t,r,n,a,i){var s=(n||[]).slice(),c=s.length,d=t.start,f=t.end;if(i){var p=n[c-1],h=r(p,c-1),y=e*(p.coordinate+e*h/2-f);s[c-1]=p=qa(qa({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate});var g=r0(e,p.tickCoord,function(){return h},d,f);g&&(f=p.tickCoord-e*(h/2+a),s[c-1]=qa(qa({},p),{},{isShow:!0}))}for(var j=i?c-1:c,x=function(C){var P=s[C],R,L=function(){return R===void 0&&(R=r(P,C)),R};if(C===0){var q=e*(P.coordinate-e*L()/2-d);s[C]=P=qa(qa({},P),{},{tickCoord:q<0?P.coordinate-q*e:P.coordinate})}else s[C]=P=qa(qa({},P),{},{tickCoord:P.coordinate});var _=r0(e,P.tickCoord,L,d,f);_&&(d=P.tickCoord+e*(L()/2+a),s[C]=qa(qa({},P),{},{isShow:!0}))},w=0;w<j;w++)x(w);return s}function yN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,c=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(St(d)||Uu.isSsr)return ZK(a,typeof d=="number"&&St(d)?d:0);var y=[],g=c==="top"||c==="bottom"?"width":"height",j=p&&g==="width"?Ih(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(P,R){var L=ur(f)?f(P.value,R):P.value;return g==="width"?YK(Ih(L,{fontSize:t,letterSpacing:r}),j,h):Ih(L,{fontSize:t,letterSpacing:r})[g]},w=a.length>=2?ro(a[1].coordinate-a[0].coordinate):1,S=XK(i,w,g);return d==="equidistantPreserveStart"?QK(w,S,x,a,s):(d==="preserveStart"||d==="preserveStartEnd"?y=aJ(w,S,x,a,s,d==="preserveStartEnd"):y=nJ(w,S,x,a,s),y.filter(function(C){return C.isShow}))}var oJ=["viewBox"],iJ=["viewBox"],sJ=["ticks"];function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){xN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V1(e,t){if(e==null)return{};var r=lJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pI(n.key),n)}}function uJ(e,t,r){return t&&E_(e.prototype,t),r&&E_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dJ(e,t,r){return t=n0(t),fJ(e,hI()?Reflect.construct(t,r||[],n0(e).constructor):t.apply(e,r))}function fJ(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hJ(e)}function hJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hI=function(){return!!e})()}function n0(e){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n0(e)}function pJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rw(e,t)}function xN(e,t,r){return t=pI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pI(e){var t=mJ(e,"string");return Cf(t)=="symbol"?t:t+""}function mJ(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zf=(function(e){function t(r){var n;return cJ(this,t),n=dJ(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return pJ(t,e),uJ(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=V1(n,oJ),c=this.props,d=c.viewBox,f=V1(c,iJ);return!Yd(i,d)||!Yd(s,f)||!Yd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,c=a.width,d=a.height,f=a.orientation,p=a.tickSize,h=a.mirror,y=a.tickMargin,g,j,x,w,S,C,P=h?-1:1,R=n.tickSize||p,L=St(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":g=j=n.coordinate,w=s+ +!h*d,x=w-P*R,C=x-P*y,S=L;break;case"left":x=w=n.coordinate,j=i+ +!h*c,g=j-P*R,S=g-P*y,C=L;break;case"right":x=w=n.coordinate,j=i+ +h*c,g=j+P*R,S=g+P*y,C=L;break;default:g=j=n.coordinate,w=s+ +h*d,x=w+P*R,C=x+P*y,S=L;break}return{line:{x1:g,y1:x,x2:j,y2:w},tick:{x:S,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,h=Zn(Zn(Zn({},tr(this.props,!1)),tr(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);h=Zn(Zn({},h),{},{x1:a,y1:i+y*c,x2:a+s,y2:i+y*c})}else{var g=+(d==="left"&&!f||d==="right"&&f);h=Zn(Zn({},h),{},{x1:a+g*s,y1:i,x2:a+g*s,y2:i+c})}return Pe.createElement("line",Vd({},h,{className:br("recharts-cartesian-axis-line",Vo(p,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,c=this.props,d=c.tickLine,f=c.stroke,p=c.tick,h=c.tickFormatter,y=c.unit,g=yN(Zn(Zn({},this.props),{},{ticks:n}),a,i),j=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=tr(this.props,!1),S=tr(p,!1),C=Zn(Zn({},w),{},{fill:"none"},tr(d,!1)),P=g.map(function(R,L){var q=s.getTickLineCoord(R),_=q.line,B=q.tick,V=Zn(Zn(Zn(Zn({textAnchor:j,verticalAnchor:x},w),{},{stroke:"none",fill:f},S),B),{},{index:L,payload:R,visibleTicksCount:g.length,tickFormatter:h});return Pe.createElement(qr,Vd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Mu(s.props,R,L)),d&&Pe.createElement("line",Vd({},C,_,{className:br("recharts-cartesian-axis-tick-line",Vo(d,"className"))})),p&&t.renderTickItem(p,V,"".concat(ur(h)?h(R.value,L):R.value).concat(y||"")))});return Pe.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,c=a.height,d=a.ticksGenerator,f=a.className,p=a.hide;if(p)return null;var h=this.props,y=h.ticks,g=V1(h,sJ),j=y;return ur(d)&&(j=y&&y.length>0?d(this.props):d(g)),s<=0||c<=0||!j||!j.length?null:Pe.createElement(qr,{className:br("recharts-cartesian-axis",f),ref:function(w){n.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),pa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,c=br(a.className,"recharts-cartesian-axis-tick-value");return Pe.isValidElement(n)?s=Pe.cloneElement(n,Zn(Zn({},a),{},{className:c})):ur(n)?s=n(Zn(Zn({},a),{},{className:c})):s=Pe.createElement(Ru,Vd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])})(M.Component);xN(zf,"displayName","CartesianAxis");xN(zf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gJ=["x1","y1","x2","y2","key"],vJ=["offset"];function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){yJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(e,t,r){return t=xJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=bJ(e,"string");return zu(t)=="symbol"?t:t+""}function bJ(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ou.apply(this,arguments)}function k_(e,t){if(e==null)return{};var r=wJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NJ=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,c=t.height,d=t.ry;return Pe.createElement("rect",{x:a,y:i,ry:d,width:s,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mI(e,t){var r;if(Pe.isValidElement(e))r=Pe.cloneElement(e,t);else if(ur(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,c=t.key,d=k_(t,gJ),f=tr(d,!1);f.offset;var p=k_(f,vJ);r=Pe.createElement("line",Ou({},p,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:c}))}return r}function jJ(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=Ua(Ua({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return mI(a,f)});return Pe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function SJ(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=Ua(Ua({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return mI(a,f)});return Pe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function CJ(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,c=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=c.map(function(y){return Math.round(y+a-a)}).sort(function(y,g){return y-g});a!==p[0]&&p.unshift(0);var h=p.map(function(y,g){var j=!p[g+1],x=j?a+s-y:p[g+1]-y;if(x<=0)return null;var w=g%t.length;return Pe.createElement("rect",{key:"react-".concat(g),y,x:n,height:x,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function AJ(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,c=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(y){return Math.round(y+i-i)}).sort(function(y,g){return y-g});i!==p[0]&&p.unshift(0);var h=p.map(function(y,g){var j=!p[g+1],x=j?i+c-y:p[g+1]-y;if(x<=0)return null;var w=g%n.length;return Pe.createElement("rect",{key:"react-".concat(g),x:y,y:s,width:x,height:d,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Pe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var PJ=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return mk(yN(Ua(Ua(Ua({},zf.defaultProps),n),{},{ticks:vl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},_J=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return mk(yN(Ua(Ua(Ua({},zf.defaultProps),n),{},{ticks:vl(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},_d={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $w(e){var t,r,n,a,i,s,c=pN(),d=mN(),f=mK(),p=Ua(Ua({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:_d.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:_d.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:_d.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:_d.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:_d.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:_d.verticalFill,x:St(e.x)?e.x:f.left,y:St(e.y)?e.y:f.top,width:St(e.width)?e.width:f.width,height:St(e.height)?e.height:f.height}),h=p.x,y=p.y,g=p.width,j=p.height,x=p.syncWithTicks,w=p.horizontalValues,S=p.verticalValues,C=fK(),P=hK();if(!St(g)||g<=0||!St(j)||j<=0||!St(h)||h!==+h||!St(y)||y!==+y)return null;var R=p.verticalCoordinatesGenerator||PJ,L=p.horizontalCoordinatesGenerator||_J,q=p.horizontalPoints,_=p.verticalPoints;if((!q||!q.length)&&ur(L)){var B=w&&w.length,V=L({yAxis:P?Ua(Ua({},P),{},{ticks:B?w:P.ticks}):void 0,width:c,height:d,offset:f},B?!0:x);Ki(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zu(V),"]")),Array.isArray(V)&&(q=V)}if((!_||!_.length)&&ur(R)){var K=S&&S.length,E=R({xAxis:C?Ua(Ua({},C),{},{ticks:K?S:C.ticks}):void 0,width:c,height:d,offset:f},K?!0:x);Ki(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zu(E),"]")),Array.isArray(E)&&(_=E)}return Pe.createElement("g",{className:"recharts-cartesian-grid"},Pe.createElement(NJ,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),Pe.createElement(jJ,Ou({},p,{offset:f,horizontalPoints:q,xAxis:C,yAxis:P})),Pe.createElement(SJ,Ou({},p,{offset:f,verticalPoints:_,xAxis:C,yAxis:P})),Pe.createElement(CJ,Ou({},p,{horizontalPoints:q})),Pe.createElement(AJ,Ou({},p,{verticalPoints:_})))}$w.displayName="CartesianGrid";var EJ=["type","layout","connectNulls","ref"],OJ=["key"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function I_(e,t){if(e==null)return{};var r=kJ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){Wi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ed(e){return DJ(e)||TJ(e)||LJ(e)||IJ()}function IJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(e,t){if(e){if(typeof e=="string")return Fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(e,t)}}function TJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DJ(e){if(Array.isArray(e))return Fw(e)}function Fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vI(n.key),n)}}function RJ(e,t,r){return t&&T_(e.prototype,t),r&&T_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $J(e,t,r){return t=a0(t),FJ(e,gI()?Reflect.construct(t,r||[],a0(e).constructor):t.apply(e,r))}function FJ(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zJ(e)}function zJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gI=function(){return!!e})()}function a0(e){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a0(e)}function BJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zw(e,t)}function Wi(e,t,r){return t=vI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vI(e){var t=qJ(e,"string");return Af(t)=="symbol"?t:t+""}function qJ(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rp=(function(e){function t(){var r;MJ(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$J(this,t,[].concat(a)),Wi(r,"state",{isAnimationFinished:!0,totalLength:0}),Wi(r,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),Wi(r,"getStrokeDasharray",function(s,c,d){var f=d.reduce(function(S,C){return S+C});if(!f)return r.generateSimpleStrokeDasharray(c,s);for(var p=Math.floor(s/f),h=s%f,y=c-s,g=[],j=0,x=0;j<d.length;x+=d[j],++j)if(x+d[j]>h){g=[].concat(Ed(d.slice(0,j)),[h-x]);break}var w=g.length%2===0?[0,y]:[y];return[].concat(Ed(t.repeat(d,p)),Ed(g),w).map(function(S){return"".concat(S,"px")}).join(", ")}),Wi(r,"id",Df("recharts-line-")),Wi(r,"pathRef",function(s){r.mainCurve=s}),Wi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Wi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return BJ(t,e),RJ(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,c=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,h=Wo(p,Mp);if(!h)return null;var y=function(x,w){return{x:x.x,y:x.y,value:x.value,errorVal:ta(x.payload,w)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Pe.createElement(qr,g,h.map(function(j){return Pe.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,p=c.dataKey,h=tr(this.props,!1),y=tr(d,!0),g=f.map(function(x,w){var S=Mo(Mo(Mo({key:"dot-".concat(w),r:3},h),y),{},{index:w,cx:x.x,cy:x.y,value:x.value,dataKey:p,payload:x.payload,points:f});return t.renderDotItem(d,S)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Pe.createElement(qr,$h({className:"recharts-line-dots",key:"dots"},j),g)}},{key:"renderCurveStatically",value:function(n,a,i,s){var c=this.props,d=c.type,f=c.layout,p=c.connectNulls;c.ref;var h=I_(c,EJ),y=Mo(Mo(Mo({},tr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:d,layout:f,connectNulls:p});return Pe.createElement($g,$h({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,c=s.points,d=s.strokeDasharray,f=s.isAnimationActive,p=s.animationBegin,h=s.animationDuration,y=s.animationEasing,g=s.animationId,j=s.animateNewValues,x=s.width,w=s.height,S=this.state,C=S.prevPoints,P=S.totalLength;return Pe.createElement(_s,{begin:p,duration:h,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(R){var L=R.t;if(C){var q=C.length/c.length,_=c.map(function($,D){var I=Math.floor(D*q);if(C[I]){var z=C[I],W=zo(z.x,$.x),ee=zo(z.y,$.y);return Mo(Mo({},$),{},{x:W(L),y:ee(L)})}if(j){var G=zo(x*2,$.x),ie=zo(w/2,$.y);return Mo(Mo({},$),{},{x:G(L),y:ie(L)})}return Mo(Mo({},$),{},{x:$.x,y:$.y})});return i.renderCurveStatically(_,n,a)}var B=zo(0,P),V=B(L),K;if(d){var E="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});K=i.getStrokeDasharray(V,P,E)}else K=i.generateSimpleStrokeDasharray(P,V);return i.renderCurveStatically(c,n,a,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,c=i.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return c&&s&&s.length&&(!f&&p>0||!Dp(f,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,c=a.points,d=a.className,f=a.xAxis,p=a.yAxis,h=a.top,y=a.left,g=a.width,j=a.height,x=a.isAnimationActive,w=a.id;if(i||!c||!c.length)return null;var S=this.state.isAnimationFinished,C=c.length===1,P=br("recharts-line",d),R=f&&f.allowDataOverflow,L=p&&p.allowDataOverflow,q=R||L,_=gr(w)?this.id:w,B=(n=tr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},V=B.r,K=V===void 0?3:V,E=B.strokeWidth,$=E===void 0?2:E,D=xD(s)?s:{},I=D.clipDot,z=I===void 0?!0:I,W=K*2+$;return Pe.createElement(qr,{className:P},R||L?Pe.createElement("defs",null,Pe.createElement("clipPath",{id:"clipPath-".concat(_)},Pe.createElement("rect",{x:R?y:y-g/2,y:L?h:h-j/2,width:R?g:g*2,height:L?j:j*2})),!z&&Pe.createElement("clipPath",{id:"clipPath-dots-".concat(_)},Pe.createElement("rect",{x:y-W/2,y:h-W/2,width:g+W,height:j+W}))):null,!C&&this.renderCurve(q,_),this.renderErrorBar(q,_),(C||s)&&this.renderDots(q,z,_),(!x||S)&&wl.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Ed(n),[0]):n,s=[],c=0;c<a;++c)s=[].concat(Ed(s),Ed(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Pe.isValidElement(n))i=Pe.cloneElement(n,a);else if(ur(n))i=n(a);else{var s=a.key,c=I_(a,OJ),d=br("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Pe.createElement(F0,$h({key:s},c,{className:d}))}return i}}])})(M.PureComponent);Wi(Rp,"displayName","Line");Wi(Rp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Uu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Wi(Rp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,c=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,h=d.map(function(y,g){var j=ta(y,s);return p==="horizontal"?{x:MA({axis:r,ticks:a,bandSize:c,entry:y,index:g}),y:gr(j)?null:n.scale(j),value:j,payload:y}:{x:gr(j)?null:r.scale(j),y:MA({axis:n,ticks:i,bandSize:c,entry:y,index:g}),value:j,payload:y}});return Mo({points:h,layout:p},f)});function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function UJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bI(n.key),n)}}function WJ(e,t,r){return t&&VJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HJ(e,t,r){return t=o0(t),GJ(e,yI()?Reflect.construct(t,r||[],o0(e).constructor):t.apply(e,r))}function GJ(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KJ(e)}function KJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yI=function(){return!!e})()}function o0(e){return o0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o0(e)}function JJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bw(e,t)}function xI(e,t,r){return t=bI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bI(e){var t=YJ(e,"string");return Pf(t)=="symbol"?t:t+""}function YJ(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(this,arguments)}function XJ(e){var t=e.xAxisId,r=pN(),n=mN(),a=aI(t);return a==null?null:M.createElement(zf,qw({},a,{className:br("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return vl(s,!0)}}))}var _f=(function(e){function t(){return UJ(this,t),HJ(this,t,arguments)}return JJ(t,e),WJ(t,[{key:"render",value:function(){return M.createElement(XJ,this.props)}}])})(M.Component);xI(_f,"displayName","XAxis");xI(_f,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function ZJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jI(n.key),n)}}function eY(e,t,r){return t&&QJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tY(e,t,r){return t=i0(t),rY(e,wI()?Reflect.construct(t,r||[],i0(e).constructor):t.apply(e,r))}function rY(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nY(e)}function nY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wI=function(){return!!e})()}function i0(e){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i0(e)}function aY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uw(e,t)}function NI(e,t,r){return t=jI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jI(e){var t=oY(e,"string");return Ef(t)=="symbol"?t:t+""}function oY(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vw.apply(this,arguments)}var iY=function(t){var r=t.yAxisId,n=pN(),a=mN(),i=oI(r);return i==null?null:M.createElement(zf,Vw({},i,{className:br("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return vl(c,!0)}}))},Of=(function(e){function t(){return ZJ(this,t),tY(this,t,arguments)}return aY(t,e),eY(t,[{key:"render",value:function(){return M.createElement(iY,this.props)}}])})(M.Component);NI(Of,"displayName","YAxis");NI(Of,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function D_(e){return uY(e)||cY(e)||lY(e)||sY()}function sY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lY(e,t){if(e){if(typeof e=="string")return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(e,t)}}function cY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uY(e){if(Array.isArray(e))return Ww(e)}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hw=function(t,r,n,a,i){var s=Wo(t,vN),c=Wo(t,K0),d=[].concat(D_(s),D_(c)),f=Wo(t,Y0),p="".concat(a,"Id"),h=a[0],y=r;if(d.length&&(y=d.reduce(function(x,w){if(w.props[p]===n&&Cs(w.props,"extendDomain")&&St(w.props[h])){var S=w.props[h];return[Math.min(x[0],S),Math.max(x[1],S)]}return x},y)),f.length){var g="".concat(h,"1"),j="".concat(h,"2");y=f.reduce(function(x,w){if(w.props[p]===n&&Cs(w.props,"extendDomain")&&St(w.props[g])&&St(w.props[j])){var S=w.props[g],C=w.props[j];return[Math.min(x[0],S,C),Math.max(x[1],S,C)]}return x},y)}return i&&i.length&&(y=i.reduce(function(x,w){return St(w)?[Math.min(x[0],w),Math.max(x[1],w)]:x},y)),y},W1={exports:{}},M_;function dY(){return M_||(M_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new a(p,h||d,y),j=r?r+f:f;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],g]:d._events[j].push(g):(d._events[j]=g,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,h;if(this._eventsCount===0)return f;for(h in p=this._events)t.call(p,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=r?r+f:f,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,g=h.length,j=new Array(g);y<g;y++)j[y]=h[y].fn;return j},c.prototype.listenerCount=function(f){var p=r?r+f:f,h=this._events[p];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,p,h,y,g,j){var x=r?r+f:f;if(!this._events[x])return!1;var w=this._events[x],S=arguments.length,C,P;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,h),!0;case 4:return w.fn.call(w.context,p,h,y),!0;case 5:return w.fn.call(w.context,p,h,y,g),!0;case 6:return w.fn.call(w.context,p,h,y,g,j),!0}for(P=1,C=new Array(S-1);P<S;P++)C[P-1]=arguments[P];w.fn.apply(w.context,C)}else{var R=w.length,L;for(P=0;P<R;P++)switch(w[P].once&&this.removeListener(f,w[P].fn,void 0,!0),S){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,p);break;case 3:w[P].fn.call(w[P].context,p,h);break;case 4:w[P].fn.call(w[P].context,p,h,y);break;default:if(!C)for(L=1,C=new Array(S-1);L<S;L++)C[L-1]=arguments[L];w[P].fn.apply(w[P].context,C)}}return!0},c.prototype.on=function(f,p,h){return i(this,f,p,h,!1)},c.prototype.once=function(f,p,h){return i(this,f,p,h,!0)},c.prototype.removeListener=function(f,p,h,y){var g=r?r+f:f;if(!this._events[g])return this;if(!p)return s(this,g),this;var j=this._events[g];if(j.fn)j.fn===p&&(!y||j.once)&&(!h||j.context===h)&&s(this,g);else{for(var x=0,w=[],S=j.length;x<S;x++)(j[x].fn!==p||y&&!j[x].once||h&&j[x].context!==h)&&w.push(j[x]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(W1)),W1.exports}var fY=dY();const hY=tn(fY);var H1=new hY,G1="recharts.syncMouseEvents";function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SI(n.key),n)}}function gY(e,t,r){return t&&mY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K1(e,t,r){return t=SI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e){var t=vY(e,"string");return wp(t)=="symbol"?t:t+""}function vY(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yY=(function(){function e(){pY(this,e),K1(this,"activeIndex",0),K1(this,"coordinateList",[]),K1(this,"layout","horizontal")}return gY(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,c=s===void 0?null:s,d=r.layout,f=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,y=r.mouseHandlerCallback,g=y===void 0?null:y;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=i+d+f,y=s+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:h,pageY:y})}}}])})();function xY(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],a=e?.[1];if(n&&a&&St(n)&&St(a))return!0}return!1}function bY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function CI(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=dn(t,r,n,a),c=dn(t,r,n,i);return{points:[s,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function wY(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,h=t.angle,y=dn(c,d,f,h),g=dn(c,d,p,h);n=y.x,a=y.y,i=g.x,s=g.y}else return CI(t);return[{x:n,y:a},{x:i,y:s}]}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){NY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NY(e,t,r){return t=jY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jY(e){var t=SY(e,"string");return Np(t)=="symbol"?t:t+""}function SY(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CY(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,c=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,h=e.layout,y=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!s||y!=="ScatterChart"&&a!=="axis")return null;var j,x=$g;if(y==="ScatterChart")j=s,x=GW;else if(y==="BarChart")j=bY(h,s,d,p),x=uN;else if(h==="radial"){var w=CI(s),S=w.cx,C=w.cy,P=w.radius,R=w.startAngle,L=w.endAngle;j={cx:S,cy:C,startAngle:R,endAngle:L,innerRadius:P,outerRadius:P},x=Ak}else j={points:wY(h,s,d)},x=$g;var q=km(km(km(km({stroke:"#ccc",pointerEvents:"none"},d),j),tr(g,!1)),{},{payload:c,payloadIndex:f,className:br("recharts-tooltip-cursor",g.className)});return M.isValidElement(g)?M.cloneElement(g,q):M.createElement(x,q)}var AY=["item"],PY=["children","className","width","height","style","compact","title","desc"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(this,arguments)}function $_(e,t){return OY(e)||EY(e,t)||PI(e,t)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function OY(e){if(Array.isArray(e))return e}function F_(e,t){if(e==null)return{};var r=kY(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_I(n.key),n)}}function TY(e,t,r){return t&&LY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DY(e,t,r){return t=s0(t),MY(e,AI()?Reflect.construct(t,r||[],s0(e).constructor):t.apply(e,r))}function MY(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RY(e)}function RY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AI=function(){return!!e})()}function s0(e){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s0(e)}function $Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gw(e,t)}function If(e){return BY(e)||zY(e)||PI(e)||FY()}function FY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PI(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function zY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BY(e){if(Array.isArray(e))return Kw(e)}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){or(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function or(e,t,r){return t=_I(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _I(e){var t=qY(e,"string");return kf(t)=="symbol"?t:t+""}function qY(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UY={xAxis:["bottom","top"],yAxis:["left","right"]},VY={width:"100%",height:"100%"},EI={x:0,y:0};function Im(e){return e}var WY=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},HY=function(t,r,n,a){var i=r.find(function(p){return p&&p.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,c=a.radius;return nt(nt(nt({},a),dn(a.cx,a.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,f=a.angle;return nt(nt(nt({},a),dn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return EI},X0=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(If(c),If(f)):c},[]);return s.length>0?s:t&&t.length&&St(a)&&St(i)?t.slice(a,i+1):[]};function OI(e){return e==="number"?[0,"auto"]:void 0}var Jw=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,c=X0(r,t);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(d,f){var p,h=(p=f.props.data)!==null&&p!==void 0?p:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var g=h===void 0?c:h;y=ug(g,s.dataKey,a)}else y=h&&h[n]||c[n];return y?[].concat(If(d),[bk(f,y)]):d},[])},B_=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=WY(i,n),c=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=gq(s,c,f,d);if(p>=0&&f){var h=f[p]&&f[p].value,y=Jw(t,r,p,h),g=HY(n,c,p,i);return{activeTooltipIndex:p,activeLabel:h,activePayload:y,activeCoordinate:g}}return null},GY=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,y=t.stackOffset,g=pk(p,i);return n.reduce(function(j,x){var w,S=x.type.defaultProps!==void 0?nt(nt({},x.type.defaultProps),x.props):x.props,C=S.type,P=S.dataKey,R=S.allowDataOverflow,L=S.allowDuplicatedCategory,q=S.scale,_=S.ticks,B=S.includeHidden,V=S[s];if(j[V])return j;var K=X0(t.data,{graphicalItems:a.filter(function(T){var J,Y=s in T.props?T.props[s]:(J=T.type.defaultProps)===null||J===void 0?void 0:J[s];return Y===V}),dataStartIndex:d,dataEndIndex:f}),E=K.length,$,D,I;xY(S.domain,R,C)&&($=lw(S.domain,null,R),g&&(C==="number"||q!=="auto")&&(I=Th(K,P,"category")));var z=OI(C);if(!$||$.length===0){var W,ee=(W=S.domain)!==null&&W!==void 0?W:z;if(P){if($=Th(K,P,C),C==="category"&&g){var G=cD($);L&&G?(D=$,$=Kg(0,E)):L||($=zA(ee,$,x).reduce(function(T,J){return T.indexOf(J)>=0?T:[].concat(If(T),[J])},[]))}else if(C==="category")L?$=$.filter(function(T){return T!==""&&!gr(T)}):$=zA(ee,$,x).reduce(function(T,J){return T.indexOf(J)>=0||J===""||gr(J)?T:[].concat(If(T),[J])},[]);else if(C==="number"){var ie=wq(K,a.filter(function(T){var J,Y,H=s in T.props?T.props[s]:(J=T.type.defaultProps)===null||J===void 0?void 0:J[s],me="hide"in T.props?T.props.hide:(Y=T.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return H===V&&(B||!me)}),P,i,p);ie&&($=ie)}g&&(C==="number"||q!=="auto")&&(I=Th(K,P,"category"))}else g?$=Kg(0,E):c&&c[V]&&c[V].hasStack&&C==="number"?$=y==="expand"?[0,1]:xk(c[V].stackGroups,d,f):$=hk(K,a.filter(function(T){var J=s in T.props?T.props[s]:T.type.defaultProps[s],Y="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return J===V&&(B||!Y)}),C,p,!0);if(C==="number")$=Hw(h,$,V,i,_),ee&&($=lw(ee,$,R));else if(C==="category"&&ee){var te=ee,re=$.every(function(T){return te.indexOf(T)>=0});re&&($=te)}}return nt(nt({},j),{},or({},V,nt(nt({},S),{},{axisType:i,domain:$,categoricalDomain:I,duplicateDomain:D,originalDomain:(w=S.domain)!==null&&w!==void 0?w:z,isCategorical:g,layout:p})))},{})},KY=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.layout,h=t.children,y=X0(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),g=y.length,j=pk(p,i),x=-1;return n.reduce(function(w,S){var C=S.type.defaultProps!==void 0?nt(nt({},S.type.defaultProps),S.props):S.props,P=C[s],R=OI("number");if(!w[P]){x++;var L;return j?L=Kg(0,g):c&&c[P]&&c[P].hasStack?(L=xk(c[P].stackGroups,d,f),L=Hw(h,L,P,i)):(L=lw(R,hk(y,n.filter(function(q){var _,B,V=s in q.props?q.props[s]:(_=q.type.defaultProps)===null||_===void 0?void 0:_[s],K="hide"in q.props?q.props.hide:(B=q.type.defaultProps)===null||B===void 0?void 0:B.hide;return V===P&&!K}),"number",p),a.defaultProps.allowDataOverflow),L=Hw(h,L,P,i)),nt(nt({},w),{},or({},P,nt(nt({axisType:i},a.defaultProps),{},{hide:!0,orientation:Vo(UY,"".concat(i,".").concat(x%2),null),domain:L,originalDomain:R,isCategorical:j,layout:p})))}return w},{})},JY=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=t.children,h="".concat(a,"Id"),y=Wo(p,i),g={};return y&&y.length?g=GY(t,{axes:y,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):s&&s.length&&(g=KY(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),g},YY=function(t){var r=Sc(t),n=vl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:R5(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Dg(r,n)}},q_=function(t){var r=t.children,n=t.defaultShowTooltip,a=$o(r,bf),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},XY=function(t){return!t||!t.length?!1:t.some(function(r){var n=xl(r&&r.type);return n&&n.indexOf("Bar")>=0})},U_=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ZY=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,c=t.yAxisMap,d=c===void 0?{}:c,f=n.width,p=n.height,h=n.children,y=n.margin||{},g=$o(h,bf),j=$o(h,_c),x=Object.keys(d).reduce(function(L,q){var _=d[q],B=_.orientation;return!_.mirror&&!_.hide?nt(nt({},L),{},or({},B,L[B]+_.width)):L},{left:y.left||0,right:y.right||0}),w=Object.keys(s).reduce(function(L,q){var _=s[q],B=_.orientation;return!_.mirror&&!_.hide?nt(nt({},L),{},or({},B,Vo(L,"".concat(B))+_.height)):L},{top:y.top||0,bottom:y.bottom||0}),S=nt(nt({},w),x),C=S.bottom;g&&(S.bottom+=g.props.height||bf.defaultProps.height),j&&r&&(S=xq(S,a,n,r));var P=f-S.left-S.right,R=p-S.top-S.bottom;return nt(nt({brushBottom:C},S),{},{width:Math.max(P,0),height:Math.max(R,0)})},QY=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},bN=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,c=s===void 0?["axis"]:s,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,h=t.defaultProps,y=function(S,C){var P=C.graphicalItems,R=C.stackGroups,L=C.offset,q=C.updateId,_=C.dataStartIndex,B=C.dataEndIndex,V=S.barSize,K=S.layout,E=S.barGap,$=S.barCategoryGap,D=S.maxBarSize,I=U_(K),z=I.numericAxisName,W=I.cateAxisName,ee=XY(P),G=[];return P.forEach(function(ie,te){var re=X0(S.data,{graphicalItems:[ie],dataStartIndex:_,dataEndIndex:B}),T=ie.type.defaultProps!==void 0?nt(nt({},ie.type.defaultProps),ie.props):ie.props,J=T.dataKey,Y=T.maxBarSize,H=T["".concat(z,"Id")],me=T["".concat(W,"Id")],pe={},be=d.reduce(function(je,_e){var we=C["".concat(_e.axisType,"Map")],le=T["".concat(_e.axisType,"Id")];we&&we[le]||_e.axisType==="zAxis"||Fu();var $e=we[le];return nt(nt({},je),{},or(or({},_e.axisType,$e),"".concat(_e.axisType,"Ticks"),vl($e)))},pe),ge=be[W],Te=be["".concat(W,"Ticks")],ze=R&&R[H]&&R[H].hasStack&&Oq(ie,R[H].stackGroups),ue=xl(ie.type).indexOf("Bar")>=0,Fe=Dg(ge,Te),De=[],Ne=ee&&vq({barSize:V,stackGroups:R,totalSize:QY(be,W)});if(ue){var se,ct,Q=gr(Y)?D:Y,Ce=(se=(ct=Dg(ge,Te,!0))!==null&&ct!==void 0?ct:Q)!==null&&se!==void 0?se:0;De=yq({barGap:E,barCategoryGap:$,bandSize:Ce!==Fe?Ce:Fe,sizeList:Ne[me],maxBarSize:Q}),Ce!==Fe&&(De=De.map(function(je){return nt(nt({},je),{},{position:nt(nt({},je.position),{},{offset:je.position.offset-Ce/2})})}))}var he=ie&&ie.type&&ie.type.getComposedData;he&&G.push({props:nt(nt({},he(nt(nt({},be),{},{displayedData:re,props:S,dataKey:J,item:ie,bandSize:Fe,barPosition:De,offset:L,stackedData:ze,layout:K,dataStartIndex:_,dataEndIndex:B}))),{},or(or(or({key:ie.key||"item-".concat(te)},z,be[z]),W,be[W]),"animationId",q)),childIndex:ND(ie,S.children),item:ie})}),G},g=function(S,C){var P=S.props,R=S.dataStartIndex,L=S.dataEndIndex,q=S.updateId;if(!e3({props:P}))return null;var _=P.children,B=P.layout,V=P.stackOffset,K=P.data,E=P.reverseStackOrder,$=U_(B),D=$.numericAxisName,I=$.cateAxisName,z=Wo(_,n),W=_q(K,z,"".concat(D,"Id"),"".concat(I,"Id"),V,E),ee=d.reduce(function(T,J){var Y="".concat(J.axisType,"Map");return nt(nt({},T),{},or({},Y,JY(P,nt(nt({},J),{},{graphicalItems:z,stackGroups:J.axisType===D&&W,dataStartIndex:R,dataEndIndex:L}))))},{}),G=ZY(nt(nt({},ee),{},{props:P,graphicalItems:z}),C?.legendBBox);Object.keys(ee).forEach(function(T){ee[T]=p(P,ee[T],G,T.replace("Map",""),r)});var ie=ee["".concat(I,"Map")],te=YY(ie),re=y(P,nt(nt({},ee),{},{dataStartIndex:R,dataEndIndex:L,updateId:q,graphicalItems:z,stackGroups:W,offset:G}));return nt(nt({formattedGraphicalItems:re,graphicalItems:z,offset:G,stackGroups:W},te),ee)},j=(function(w){function S(C){var P,R,L;return IY(this,S),L=DY(this,S,[C]),or(L,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),or(L,"accessibilityManager",new yY),or(L,"handleLegendBBoxUpdate",function(q){if(q){var _=L.state,B=_.dataStartIndex,V=_.dataEndIndex,K=_.updateId;L.setState(nt({legendBBox:q},g({props:L.props,dataStartIndex:B,dataEndIndex:V,updateId:K},nt(nt({},L.state),{},{legendBBox:q}))))}}),or(L,"handleReceiveSyncEvent",function(q,_,B){if(L.props.syncId===q){if(B===L.eventEmitterSymbol&&typeof L.props.syncMethod!="function")return;L.applySyncEvent(_)}}),or(L,"handleBrushChange",function(q){var _=q.startIndex,B=q.endIndex;if(_!==L.state.dataStartIndex||B!==L.state.dataEndIndex){var V=L.state.updateId;L.setState(function(){return nt({dataStartIndex:_,dataEndIndex:B},g({props:L.props,dataStartIndex:_,dataEndIndex:B,updateId:V},L.state))}),L.triggerSyncEvent({dataStartIndex:_,dataEndIndex:B})}}),or(L,"handleMouseEnter",function(q){var _=L.getMouseInfo(q);if(_){var B=nt(nt({},_),{},{isTooltipActive:!0});L.setState(B),L.triggerSyncEvent(B);var V=L.props.onMouseEnter;ur(V)&&V(B,q)}}),or(L,"triggeredAfterMouseMove",function(q){var _=L.getMouseInfo(q),B=_?nt(nt({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};L.setState(B),L.triggerSyncEvent(B);var V=L.props.onMouseMove;ur(V)&&V(B,q)}),or(L,"handleItemMouseEnter",function(q){L.setState(function(){return{isTooltipActive:!0,activeItem:q,activePayload:q.tooltipPayload,activeCoordinate:q.tooltipPosition||{x:q.cx,y:q.cy}}})}),or(L,"handleItemMouseLeave",function(){L.setState(function(){return{isTooltipActive:!1}})}),or(L,"handleMouseMove",function(q){q.persist(),L.throttleTriggeredAfterMouseMove(q)}),or(L,"handleMouseLeave",function(q){L.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};L.setState(_),L.triggerSyncEvent(_);var B=L.props.onMouseLeave;ur(B)&&B(_,q)}),or(L,"handleOuterEvent",function(q){var _=wD(q),B=Vo(L.props,"".concat(_));if(_&&ur(B)){var V,K;/.*touch.*/i.test(_)?K=L.getMouseInfo(q.changedTouches[0]):K=L.getMouseInfo(q),B((V=K)!==null&&V!==void 0?V:{},q)}}),or(L,"handleClick",function(q){var _=L.getMouseInfo(q);if(_){var B=nt(nt({},_),{},{isTooltipActive:!0});L.setState(B),L.triggerSyncEvent(B);var V=L.props.onClick;ur(V)&&V(B,q)}}),or(L,"handleMouseDown",function(q){var _=L.props.onMouseDown;if(ur(_)){var B=L.getMouseInfo(q);_(B,q)}}),or(L,"handleMouseUp",function(q){var _=L.props.onMouseUp;if(ur(_)){var B=L.getMouseInfo(q);_(B,q)}}),or(L,"handleTouchMove",function(q){q.changedTouches!=null&&q.changedTouches.length>0&&L.throttleTriggeredAfterMouseMove(q.changedTouches[0])}),or(L,"handleTouchStart",function(q){q.changedTouches!=null&&q.changedTouches.length>0&&L.handleMouseDown(q.changedTouches[0])}),or(L,"handleTouchEnd",function(q){q.changedTouches!=null&&q.changedTouches.length>0&&L.handleMouseUp(q.changedTouches[0])}),or(L,"handleDoubleClick",function(q){var _=L.props.onDoubleClick;if(ur(_)){var B=L.getMouseInfo(q);_(B,q)}}),or(L,"handleContextMenu",function(q){var _=L.props.onContextMenu;if(ur(_)){var B=L.getMouseInfo(q);_(B,q)}}),or(L,"triggerSyncEvent",function(q){L.props.syncId!==void 0&&H1.emit(G1,L.props.syncId,q,L.eventEmitterSymbol)}),or(L,"applySyncEvent",function(q){var _=L.props,B=_.layout,V=_.syncMethod,K=L.state.updateId,E=q.dataStartIndex,$=q.dataEndIndex;if(q.dataStartIndex!==void 0||q.dataEndIndex!==void 0)L.setState(nt({dataStartIndex:E,dataEndIndex:$},g({props:L.props,dataStartIndex:E,dataEndIndex:$,updateId:K},L.state)));else if(q.activeTooltipIndex!==void 0){var D=q.chartX,I=q.chartY,z=q.activeTooltipIndex,W=L.state,ee=W.offset,G=W.tooltipTicks;if(!ee)return;if(typeof V=="function")z=V(G,q);else if(V==="value"){z=-1;for(var ie=0;ie<G.length;ie++)if(G[ie].value===q.activeLabel){z=ie;break}}var te=nt(nt({},ee),{},{x:ee.left,y:ee.top}),re=Math.min(D,te.x+te.width),T=Math.min(I,te.y+te.height),J=G[z]&&G[z].value,Y=Jw(L.state,L.props.data,z),H=G[z]?{x:B==="horizontal"?G[z].coordinate:re,y:B==="horizontal"?T:G[z].coordinate}:EI;L.setState(nt(nt({},q),{},{activeLabel:J,activeCoordinate:H,activePayload:Y,activeTooltipIndex:z}))}else L.setState(q)}),or(L,"renderCursor",function(q){var _,B=L.state,V=B.isTooltipActive,K=B.activeCoordinate,E=B.activePayload,$=B.offset,D=B.activeTooltipIndex,I=B.tooltipAxisBandSize,z=L.getTooltipEventType(),W=(_=q.props.active)!==null&&_!==void 0?_:V,ee=L.props.layout,G=q.key||"_recharts-cursor";return Pe.createElement(CY,{key:G,activeCoordinate:K,activePayload:E,activeTooltipIndex:D,chartName:r,element:q,isActive:W,layout:ee,offset:$,tooltipAxisBandSize:I,tooltipEventType:z})}),or(L,"renderPolarAxis",function(q,_,B){var V=Vo(q,"type.axisType"),K=Vo(L.state,"".concat(V,"Map")),E=q.type.defaultProps,$=E!==void 0?nt(nt({},E),q.props):q.props,D=K&&K[$["".concat(V,"Id")]];return M.cloneElement(q,nt(nt({},D),{},{className:br(V,D.className),key:q.key||"".concat(_,"-").concat(B),ticks:vl(D,!0)}))}),or(L,"renderPolarGrid",function(q){var _=q.props,B=_.radialLines,V=_.polarAngles,K=_.polarRadius,E=L.state,$=E.radiusAxisMap,D=E.angleAxisMap,I=Sc($),z=Sc(D),W=z.cx,ee=z.cy,G=z.innerRadius,ie=z.outerRadius;return M.cloneElement(q,{polarAngles:Array.isArray(V)?V:vl(z,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(K)?K:vl(I,!0).map(function(te){return te.coordinate}),cx:W,cy:ee,innerRadius:G,outerRadius:ie,key:q.key||"polar-grid",radialLines:B})}),or(L,"renderLegend",function(){var q=L.state.formattedGraphicalItems,_=L.props,B=_.children,V=_.width,K=_.height,E=L.props.margin||{},$=V-(E.left||0)-(E.right||0),D=dk({children:B,formattedGraphicalItems:q,legendWidth:$,legendContent:f});if(!D)return null;var I=D.item,z=F_(D,AY);return M.cloneElement(I,nt(nt({},z),{},{chartWidth:V,chartHeight:K,margin:E,onBBoxUpdate:L.handleLegendBBoxUpdate}))}),or(L,"renderTooltip",function(){var q,_=L.props,B=_.children,V=_.accessibilityLayer,K=$o(B,hi);if(!K)return null;var E=L.state,$=E.isTooltipActive,D=E.activeCoordinate,I=E.activePayload,z=E.activeLabel,W=E.offset,ee=(q=K.props.active)!==null&&q!==void 0?q:$;return M.cloneElement(K,{viewBox:nt(nt({},W),{},{x:W.left,y:W.top}),active:ee,label:z,payload:ee?I:[],coordinate:D,accessibilityLayer:V})}),or(L,"renderBrush",function(q){var _=L.props,B=_.margin,V=_.data,K=L.state,E=K.offset,$=K.dataStartIndex,D=K.dataEndIndex,I=K.updateId;return M.cloneElement(q,{key:q.key||"_recharts-brush",onChange:Pm(L.handleBrushChange,q.props.onChange),data:V,x:St(q.props.x)?q.props.x:E.left,y:St(q.props.y)?q.props.y:E.top+E.height+E.brushBottom-(B.bottom||0),width:St(q.props.width)?q.props.width:E.width,startIndex:$,endIndex:D,updateId:"brush-".concat(I)})}),or(L,"renderReferenceElement",function(q,_,B){if(!q)return null;var V=L,K=V.clipPathId,E=L.state,$=E.xAxisMap,D=E.yAxisMap,I=E.offset,z=q.type.defaultProps||{},W=q.props,ee=W.xAxisId,G=ee===void 0?z.xAxisId:ee,ie=W.yAxisId,te=ie===void 0?z.yAxisId:ie;return M.cloneElement(q,{key:q.key||"".concat(_,"-").concat(B),xAxis:$[G],yAxis:D[te],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:K})}),or(L,"renderActivePoints",function(q){var _=q.item,B=q.activePoint,V=q.basePoint,K=q.childIndex,E=q.isRange,$=[],D=_.props.key,I=_.item.type.defaultProps!==void 0?nt(nt({},_.item.type.defaultProps),_.item.props):_.item.props,z=I.activeDot,W=I.dataKey,ee=nt(nt({index:K,dataKey:W,cx:B.x,cy:B.y,r:4,fill:cN(_.item),strokeWidth:2,stroke:"#fff",payload:B.payload,value:B.value},tr(z,!1)),dg(z));return $.push(S.renderActiveDot(z,ee,"".concat(D,"-activePoint-").concat(K))),V?$.push(S.renderActiveDot(z,nt(nt({},ee),{},{cx:V.x,cy:V.y}),"".concat(D,"-basePoint-").concat(K))):E&&$.push(null),$}),or(L,"renderGraphicChild",function(q,_,B){var V=L.filterFormatItem(q,_,B);if(!V)return null;var K=L.getTooltipEventType(),E=L.state,$=E.isTooltipActive,D=E.tooltipAxis,I=E.activeTooltipIndex,z=E.activeLabel,W=L.props.children,ee=$o(W,hi),G=V.props,ie=G.points,te=G.isRange,re=G.baseLine,T=V.item.type.defaultProps!==void 0?nt(nt({},V.item.type.defaultProps),V.item.props):V.item.props,J=T.activeDot,Y=T.hide,H=T.activeBar,me=T.activeShape,pe=!!(!Y&&$&&ee&&(J||H||me)),be={};K!=="axis"&&ee&&ee.props.trigger==="click"?be={onClick:Pm(L.handleItemMouseEnter,q.props.onClick)}:K!=="axis"&&(be={onMouseLeave:Pm(L.handleItemMouseLeave,q.props.onMouseLeave),onMouseEnter:Pm(L.handleItemMouseEnter,q.props.onMouseEnter)});var ge=M.cloneElement(q,nt(nt({},V.props),be));function Te(_e){return typeof D.dataKey=="function"?D.dataKey(_e.payload):null}if(pe)if(I>=0){var ze,ue;if(D.dataKey&&!D.allowDuplicatedCategory){var Fe=typeof D.dataKey=="function"?Te:"payload.".concat(D.dataKey.toString());ze=ug(ie,Fe,z),ue=te&&re&&ug(re,Fe,z)}else ze=ie?.[I],ue=te&&re&&re[I];if(me||H){var De=q.props.activeIndex!==void 0?q.props.activeIndex:I;return[M.cloneElement(q,nt(nt(nt({},V.props),be),{},{activeIndex:De})),null,null]}if(!gr(ze))return[ge].concat(If(L.renderActivePoints({item:V,activePoint:ze,basePoint:ue,childIndex:I,isRange:te})))}else{var Ne,se=(Ne=L.getItemByXY(L.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:ge},ct=se.graphicalItem,Q=ct.item,Ce=Q===void 0?q:Q,he=ct.childIndex,je=nt(nt(nt({},V.props),be),{},{activeIndex:he});return[M.cloneElement(Ce,je),null,null]}return te?[ge,null,null]:[ge,null]}),or(L,"renderCustomized",function(q,_,B){return M.cloneElement(q,nt(nt({key:"recharts-customized-".concat(B)},L.props),L.state))}),or(L,"renderMap",{CartesianGrid:{handler:Im,once:!0},ReferenceArea:{handler:L.renderReferenceElement},ReferenceLine:{handler:Im},ReferenceDot:{handler:L.renderReferenceElement},XAxis:{handler:Im},YAxis:{handler:Im},Brush:{handler:L.renderBrush,once:!0},Bar:{handler:L.renderGraphicChild},Line:{handler:L.renderGraphicChild},Area:{handler:L.renderGraphicChild},Radar:{handler:L.renderGraphicChild},RadialBar:{handler:L.renderGraphicChild},Scatter:{handler:L.renderGraphicChild},Pie:{handler:L.renderGraphicChild},Funnel:{handler:L.renderGraphicChild},Tooltip:{handler:L.renderCursor,once:!0},PolarGrid:{handler:L.renderPolarGrid,once:!0},PolarAngleAxis:{handler:L.renderPolarAxis},PolarRadiusAxis:{handler:L.renderPolarAxis},Customized:{handler:L.renderCustomized}}),L.clipPathId="".concat((P=C.id)!==null&&P!==void 0?P:Df("recharts"),"-clip"),L.throttleTriggeredAfterMouseMove=uO(L.triggeredAfterMouseMove,(R=C.throttleDelay)!==null&&R!==void 0?R:1e3/60),L.state={},L}return $Y(S,w),TY(S,[{key:"componentDidMount",value:function(){var P,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,R=P.children,L=P.data,q=P.height,_=P.layout,B=$o(R,hi);if(B){var V=B.props.defaultIndex;if(!(typeof V!="number"||V<0||V>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[V]&&this.state.tooltipTicks[V].value,E=Jw(this.state,L,V,K),$=this.state.tooltipTicks[V].coordinate,D=(this.state.offset.top+q)/2,I=_==="horizontal",z=I?{x:$,y:D}:{y:$,x:D},W=this.state.formattedGraphicalItems.find(function(G){var ie=G.item;return ie.type.name==="Scatter"});W&&(z=nt(nt({},z),W.props.points[V].tooltipPosition),E=W.props.points[V].tooltipPayload);var ee={activeTooltipIndex:V,isTooltipActive:!0,activeLabel:K,activePayload:E,activeCoordinate:z};this.setState(ee),this.renderCursor(B),this.accessibilityManager.setIndex(V)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var L,q;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:(q=this.props.margin.top)!==null&&q!==void 0?q:0}})}return null}},{key:"componentDidUpdate",value:function(P){O2([$o(P.children,hi)],[$o(this.props.children,hi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=$o(this.props.children,hi);if(P&&typeof P.props.shared=="boolean"){var R=P.props.shared?"axis":"item";return c.indexOf(R)>=0?R:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var R=this.container,L=R.getBoundingClientRect(),q=l9(L),_={chartX:Math.round(P.pageX-q.left),chartY:Math.round(P.pageY-q.top)},B=L.width/R.offsetWidth||1,V=this.inRange(_.chartX,_.chartY,B);if(!V)return null;var K=this.state,E=K.xAxisMap,$=K.yAxisMap,D=this.getTooltipEventType(),I=B_(this.state,this.props.data,this.props.layout,V);if(D!=="axis"&&E&&$){var z=Sc(E).scale,W=Sc($).scale,ee=z&&z.invert?z.invert(_.chartX):null,G=W&&W.invert?W.invert(_.chartY):null;return nt(nt({},_),{},{xValue:ee,yValue:G},I)}return I?nt(nt({},_),I):null}},{key:"inRange",value:function(P,R){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,q=this.props.layout,_=P/L,B=R/L;if(q==="horizontal"||q==="vertical"){var V=this.state.offset,K=_>=V.left&&_<=V.left+V.width&&B>=V.top&&B<=V.top+V.height;return K?{x:_,y:B}:null}var E=this.state,$=E.angleAxisMap,D=E.radiusAxisMap;if($&&D){var I=Sc($);return UA({x:_,y:B},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,R=this.getTooltipEventType(),L=$o(P,hi),q={};L&&R==="axis"&&(L.props.trigger==="click"?q={onClick:this.handleClick}:q={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=dg(this.props,this.handleOuterEvent);return nt(nt({},_),q)}},{key:"addListener",value:function(){H1.on(G1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){H1.removeListener(G1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,R,L){for(var q=this.state.formattedGraphicalItems,_=0,B=q.length;_<B;_++){var V=q[_];if(V.item===P||V.props.key===P.key||R===xl(V.item.type)&&L===V.childIndex)return V}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,R=this.state.offset,L=R.left,q=R.top,_=R.height,B=R.width;return Pe.createElement("defs",null,Pe.createElement("clipPath",{id:P},Pe.createElement("rect",{x:L,y:q,height:_,width:B})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(R,L){var q=$_(L,2),_=q[0],B=q[1];return nt(nt({},R),{},or({},_,B.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(R,L){var q=$_(L,2),_=q[0],B=q[1];return nt(nt({},R),{},or({},_,B.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(P){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(P){var R=this.state,L=R.formattedGraphicalItems,q=R.activeItem;if(L&&L.length)for(var _=0,B=L.length;_<B;_++){var V=L[_],K=V.props,E=V.item,$=E.type.defaultProps!==void 0?nt(nt({},E.type.defaultProps),E.props):E.props,D=xl(E.type);if(D==="Bar"){var I=(K.data||[]).find(function(G){return PW(P,G)});if(I)return{graphicalItem:V,payload:I}}else if(D==="RadialBar"){var z=(K.data||[]).find(function(G){return UA(P,G)});if(z)return{graphicalItem:V,payload:z}}else if(V0(V,q)||W0(V,q)||gp(V,q)){var W=YH({graphicalItem:V,activeTooltipItem:q,itemData:$.data}),ee=$.activeIndex===void 0?W:$.activeIndex;return{graphicalItem:nt(nt({},V),{},{childIndex:ee}),payload:gp(V,q)?$.data[W]:V.props.data[W]}}}return null}},{key:"render",value:function(){var P=this;if(!e3(this))return null;var R=this.props,L=R.children,q=R.className,_=R.width,B=R.height,V=R.style,K=R.compact,E=R.title,$=R.desc,D=F_(R,PY),I=tr(D,!1);if(K)return Pe.createElement(x_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Pe.createElement(I2,Wd({},I,{width:_,height:B,title:E,desc:$}),this.renderClipPath(),r3(L,this.renderMap)));if(this.props.accessibilityLayer){var z,W;I.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,I.role=(W=this.props.role)!==null&&W!==void 0?W:"application",I.onKeyDown=function(G){P.accessibilityManager.keyboardEvent(G)},I.onFocus=function(){P.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Pe.createElement(x_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Pe.createElement("div",Wd({className:br("recharts-wrapper",q),style:nt({position:"relative",cursor:"default",width:_,height:B},V)},ee,{ref:function(ie){P.container=ie}}),Pe.createElement(I2,Wd({},I,{width:_,height:B,title:E,desc:$,style:VY}),this.renderClipPath(),r3(L,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);or(j,"displayName",r),or(j,"defaultProps",nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),or(j,"getDerivedStateFromProps",function(w,S){var C=w.dataKey,P=w.data,R=w.children,L=w.width,q=w.height,_=w.layout,B=w.stackOffset,V=w.margin,K=S.dataStartIndex,E=S.dataEndIndex;if(S.updateId===void 0){var $=q_(w);return nt(nt(nt({},$),{},{updateId:0},g(nt(nt({props:w},$),{},{updateId:0}),S)),{},{prevDataKey:C,prevData:P,prevWidth:L,prevHeight:q,prevLayout:_,prevStackOffset:B,prevMargin:V,prevChildren:R})}if(C!==S.prevDataKey||P!==S.prevData||L!==S.prevWidth||q!==S.prevHeight||_!==S.prevLayout||B!==S.prevStackOffset||!Yd(V,S.prevMargin)){var D=q_(w),I={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},z=nt(nt({},B_(S,P,_)),{},{updateId:S.updateId+1}),W=nt(nt(nt({},D),I),z);return nt(nt(nt({},W),g(nt({props:w},W),S)),{},{prevDataKey:C,prevData:P,prevWidth:L,prevHeight:q,prevLayout:_,prevStackOffset:B,prevMargin:V,prevChildren:R})}if(!O2(R,S.prevChildren)){var ee,G,ie,te,re=$o(R,bf),T=re&&(ee=(G=re.props)===null||G===void 0?void 0:G.startIndex)!==null&&ee!==void 0?ee:K,J=re&&(ie=(te=re.props)===null||te===void 0?void 0:te.endIndex)!==null&&ie!==void 0?ie:E,Y=T!==K||J!==E,H=!gr(P),me=H&&!Y?S.updateId:S.updateId+1;return nt(nt({updateId:me},g(nt(nt({props:w},S),{},{updateId:me,dataStartIndex:T,dataEndIndex:J}),S)),{},{prevChildren:R,dataStartIndex:T,dataEndIndex:J})}return null}),or(j,"renderActiveDot",function(w,S,C){var P;return M.isValidElement(w)?P=M.cloneElement(w,S):ur(w)?P=w(S):P=Pe.createElement(F0,S),Pe.createElement(qr,{className:"recharts-active-dot",key:C},P)});var x=M.forwardRef(function(S,C){return Pe.createElement(j,Wd({},S,{ref:C}))});return x.displayName=j.displayName,x},eX=bN({chartName:"LineChart",GraphicalChild:Rp,axisComponents:[{axisType:"xAxis",AxisComp:_f},{axisType:"yAxis",AxisComp:Of}],formatAxisMap:Yk}),tX=bN({chartName:"BarChart",GraphicalChild:Gu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_f},{axisType:"yAxis",AxisComp:Of}],formatAxisMap:Yk}),rX=bN({chartName:"PieChart",GraphicalChild:_l,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:U0},{axisType:"radiusAxis",AxisComp:B0}],formatAxisMap:zq,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function V_(){const e=JSON.parse(localStorage.getItem("damabella_ventas")||"[]"),t=JSON.parse(localStorage.getItem("damabella_pedidos")||"[]"),r=JSON.parse(localStorage.getItem("damabella_clientes")||"[]"),n=JSON.parse(localStorage.getItem("damabella_devoluciones")||"[]"),a=(e||[]).reduce((D,I)=>D+Number(I.total||0),0),i=(t||[]).filter(D=>D?.estado==="Pendiente").length,s=(r||[]).filter(D=>D==null?!1:typeof D.activo=="boolean"?D.activo===!0:String(D.activo).toLowerCase()==="true").length,c=(n||[]).length,d=[{title:"Ventas del Mes",value:`$${a.toLocaleString()}`,change:"",trend:"up",icon:p5,color:"from-green-500 to-green-600"},{title:"Pedidos Pendientes",value:String(i),change:"",trend:i>0?"down":"up",icon:bo,color:"from-blue-500 to-blue-600"},{title:"Clientes Activos",value:String(s),change:"",trend:"up",icon:af,color:"from-purple-500 to-purple-600"},{title:"Devoluciones",value:String(c),change:"",trend:"up",icon:Jd,color:"from-orange-500 to-orange-600"}],f=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],p=new Date,h=[];for(let D=5;D>=0;D--){const I=new Date(p.getFullYear(),p.getMonth()-D,1),z=`${I.getFullYear()}-${I.getMonth()+1}`;h.push({key:z,label:f[I.getMonth()],year:I.getFullYear(),month:I.getMonth()+1})}const y={};h.forEach(D=>{y[D.key]={ventas:0,pedidos:0}}),(e||[]).forEach(D=>{try{const I=D?.fechaVenta?new Date(D.fechaVenta):null;if(!I||isNaN(I.getTime()))return;const z=`${I.getFullYear()}-${I.getMonth()+1}`;y[z]&&(y[z].ventas+=Number(D.total||0),y[z].pedidos+=1)}catch{return}});const g=h.map(D=>({month:D.label,ventas:y[D.key]?.ventas||0,pedidos:y[D.key]?.pedidos||0})),j=JSON.parse(localStorage.getItem("damabella_productos")||"[]"),x=JSON.parse(localStorage.getItem("damabella_categorias")||"[]"),w={};(e||[]).forEach(D=>{(D?.items||[]).forEach(z=>{const W=String(z.productoId??z.producto_id??z.productoId??"");if(!W)return;const ee=Number(z.cantidad??z.quantity??1)||0,G=Number(z.subtotal??(z.precioUnitario?z.precioUnitario*ee:0))||0;w[W]||(w[W]={units:0,revenue:0}),w[W].units+=ee,w[W].revenue+=G})});const S=Object.keys(w).map(D=>{const I=(j||[]).find(z=>String(z.id)===String(D));return{name:I?.nombre||I?.name||`#${D}`,sales:w[D].units,revenue:w[D].revenue}}).sort((D,I)=>I.sales-D.sales).slice(0,5);let C=[];if(Array.isArray(x)&&x.length>0)C=x.map(D=>D.name).filter(Boolean);else if(Array.isArray(j)&&j.length>0){const D=new Set;j.forEach(I=>{const z=I.categoria||I.category||null;z&&D.add(z)}),C=Array.from(D)}const P={};C.forEach(D=>P[D]=0),(e||[]).forEach(D=>{(D?.items||[]).forEach(z=>{const W=z.productoId??z.productoId,ee=(j||[]).find(te=>String(te.id)===String(W)),G=ee?ee.categoria||ee.category:null;if(!G||!P.hasOwnProperty(G))return;const ie=Number(z.subtotal??(z.precioUnitario?z.precioUnitario*(z.cantidad||1):0))||0;P[G]+=ie})}),Object.values(P).reduce((D,I)=>D+I,0);const R=["#6366f1","#8b5cf6","#ec4899","#f59e0b","#34d399","#60a5fa"],L=C.map((D,I)=>({name:D,value:P[D]||0,color:R[I%R.length]})),_=(t||[]).map(D=>{const I=D?.numeroPedido??(typeof D.id<"u"?`PED-${D.id}`:""),z=D?.clienteNombre||D?.cliente?.nombre||"Cliente desconocido",W=Array.isArray(D?.items)&&D.items.length>0?D.items[0]:null,ee=W&&((j||[]).find(ie=>String(ie.id)===String(W.productoId))?.nombre||W.productoNombre||W.nombre)||"",G=Number(D?.total??D?.subtotal??(W?Number(W.subtotal??(W.precioUnitario?W.precioUnitario*(W.cantidad||1):0)):0))||0;return{id:I,customer:z,product:ee,amount:G,status:D?.estado??"Pendiente"}}).filter(D=>D.status==="Pendiente"),B=5,[V,K]=M.useState(1),E=Math.ceil(_.length/B),$=M.useMemo(()=>{const D=(V-1)*B,I=D+B;return _.slice(D,I)},[_,V]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Vista general de tu tienda DAMABELLA"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map((D,I)=>o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${D.color} flex items-center justify-center text-white`,children:o.jsx(D.icon,{size:24})}),o.jsxs("div",{className:`flex items-center gap-1 text-sm ${D.trend==="up"?"text-green-600":"text-red-600"}`,children:[D.trend==="up"?o.jsx(sE,{size:16}):o.jsx(a7,{size:16}),D.change]})]}),o.jsx("div",{className:"text-gray-600 mb-1",children:D.title}),o.jsx("div",{className:"text-gray-900",children:D.value})]})},I))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-gray-900 mb-4",children:"Ventas mensuales (COP)"}),o.jsx(Qb,{width:"100%",height:300,children:o.jsxs(eX,{data:g,margin:{top:20,right:20,left:60,bottom:20},children:[o.jsx($w,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(_f,{dataKey:"month",stroke:"#6b7280",label:{value:"Mes",position:"InsideBottom",offset:-10}}),o.jsx(Of,{stroke:"#6b7280",tickMargin:12,tickFormatter:D=>`$${D.toLocaleString()}`}),o.jsx(hi,{formatter:D=>`$${Number(D).toLocaleString()}`}),o.jsx(_c,{}),o.jsx(Rp,{type:"monotone",dataKey:"ventas",stroke:"#6366f1",strokeWidth:2,name:"Ventas"})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-gray-900 mb-4",children:"Distribucin porcentual de ventas por categora"}),o.jsx(Qb,{width:"100%",height:300,children:o.jsxs(rX,{children:[o.jsx(_l,{data:L,cx:"50%",cy:"50%",labelLine:!1,label:({name:D,percent:I})=>`${D} ${(I*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:L.map((D,I)=>o.jsx(P0,{fill:D.color},`cell-${I}`))}),o.jsx(hi,{})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-gray-900 mb-4",children:"Productos Ms Vendidos"}),o.jsx(Qb,{width:"100%",height:300,children:o.jsxs(tX,{data:S,children:[o.jsx($w,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),o.jsx(_f,{dataKey:"name",stroke:"#6b7280"}),o.jsx(Of,{stroke:"#6b7280"}),o.jsx(hi,{}),o.jsx(_c,{}),o.jsx(Gu,{dataKey:"sales",fill:"#6366f1",name:"Unidades Vendidas"})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-gray-900 mb-4",children:"Pedidos Pendientes"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"ID"}),o.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Cliente"}),o.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Producto"}),o.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Monto"}),o.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Estado"})]})}),o.jsx("tbody",{children:$.map(D=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-3 px-4 text-gray-900",children:D.id}),o.jsx("td",{className:"py-3 px-4 text-gray-600",children:D.customer}),o.jsx("td",{className:"py-3 px-4 text-gray-600",children:D.product}),o.jsxs("td",{className:"py-3 px-4 text-gray-900",children:["$",D.amount]}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${D.status==="Enviado"?"bg-green-100 text-green-700":D.status==="Pendiente"?"bg-yellow-100 text-yellow-700":D.status==="Devolucin"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:D.status})})]},D.id))})]})}),E>1&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t text-sm text-gray-600",children:[o.jsx("span",{className:"text-sm text-gray-500",children:`Mostrando ${Math.min((V-1)*B+1,_.length||0)} a ${Math.min(V*B,_.length)} de ${_.length} pedidos`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>K(D=>Math.max(D-1,1)),disabled:V===1,className:"px-3 py-1.5 rounded-md border text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Anterior"}),Array.from({length:E}).map((D,I)=>{const z=I+1,W=V===z;return o.jsx("button",{onClick:()=>K(z),className:W?"px-3 py-1.5 rounded-md bg-gray-900 text-white text-sm font-semibold":"px-3 py-1.5 rounded-md border text-sm text-gray-700 hover:bg-gray-100 transition",children:z},z)}),o.jsx("button",{onClick:()=>K(D=>Math.min(D+1,E)),disabled:V===E,className:"px-3 py-1.5 rounded-md border text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Siguiente"})]})]})]})]})}const mt=M.forwardRef(({variant:e="primary",size:t="md",className:r="",children:n,...a},i)=>{const s="inline-flex items-center justify-center rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",c={primary:"bg-black text-white hover:bg-gray-800 focus:ring-black",secondary:"bg-gray-200 text-black hover:bg-gray-300 focus:ring-gray-400",outline:"border border-gray-300 bg-transparent hover:bg-gray-100 focus:ring-gray-400",ghost:"bg-transparent hover:bg-gray-100 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3"};return o.jsx("button",{ref:i,className:`${s} ${c[e]} ${d[t]} ${r}`,...a,children:n})});mt.displayName="Button";const wt=M.forwardRef(({className:e="",type:t="text",...r},n)=>o.jsx("input",{type:t,ref:n,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed ${e}`,...r}));wt.displayName="Input";const Er=M.forwardRef(({className:e="",children:t,...r},n)=>o.jsx("label",{ref:n,className:`block text-sm font-medium text-gray-700 mb-1 ${e}`,...r,children:t}));Er.displayName="Label";const Hd=M.forwardRef(({className:e="",children:t,...r},n)=>o.jsx("div",{ref:n,className:`border border-gray-200 rounded-lg shadow-sm bg-white ${e}`,...r,children:t}));Hd.displayName="Card";const tg=M.forwardRef(({className:e="",children:t,...r},n)=>o.jsx("select",{ref:n,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed bg-white ${e}`,...r,children:t}));tg.displayName="Select";const kI=M.createContext(void 0);function II({children:e}){const[t,r]=M.useState([]),n=M.useCallback((c,d)=>{const f=Math.random().toString(36).substr(2,9);r(p=>[...p,{id:f,message:c,type:d}]),setTimeout(()=>{r(p=>p.filter(h=>h.id!==f))},3e3)},[]),a=c=>{r(d=>d.filter(f=>f.id!==c))},i={success:kc,error:Br,info:gT,warning:Bh},s={success:"bg-green-50 border-green-500 text-green-800",error:"bg-red-50 border-red-500 text-red-800",info:"bg-blue-50 border-blue-500 text-blue-800",warning:"bg-yellow-50 border-yellow-500 text-yellow-800"};return o.jsxs(kI.Provider,{value:{showToast:n},children:[e,o.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(c=>{const d=i[c.type];return o.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border-l-4 shadow-lg min-w-[300px] animate-in slide-in-from-right ${s[c.type]}`,children:[o.jsx(d,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("p",{className:"flex-1 text-sm",children:c.message}),o.jsx("button",{onClick:()=>a(c.id),className:"p-1 hover:bg-black/10 rounded-md transition-colors",children:o.jsx(Ji,{className:"h-4 w-4"})})]},c.id)})})]})}function ks(){const e=M.useContext(kI);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function rg({variant:e="default",className:t="",children:r,...n}){const a={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"};return o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a[e]} ${t}`,...n,children:r})}const LI=M.forwardRef(({className:e="",...t},r)=>o.jsx("textarea",{ref:r,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed min-h-[100px] ${e}`,...t}));LI.displayName="Textarea";function nX({className:e="",...t}){return o.jsx("div",{className:"w-full overflow-auto",children:o.jsx("table",{className:`w-full table-fixed border-collapse ${e}`,...t})})}function aX({className:e="",...t}){return o.jsx("thead",{className:`bg-gray-50 ${e}`,...t})}function oX({className:e="",...t}){return o.jsx("tbody",{className:`divide-y divide-gray-200 ${e}`,...t})}function J1({className:e="",...t}){return o.jsx("tr",{className:`hover:bg-gray-50 ${e}`,...t})}function iX({className:e="",...t}){return o.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider ${e}`,...t})}function W_({className:e="",...t}){return o.jsx("td",{className:`px-4 py-3 text-sm ${e}`,...t})}function er({isOpen:e,onClose:t,title:r,children:n,size:a="md",noScroll:i=!1,fullscreen:s=!1}){const c=M.useRef(null);if(M.useEffect(()=>{const p=h=>{h.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",p),document.body.style.overflow=i?"auto":"hidden"),()=>{document.removeEventListener("keydown",p),document.body.style.overflow="unset"}},[e,t,i]),!e)return null;const f=s?"h-[86vh] w-full max-w-6xl rounded-xl":`w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",xxl:"max-w-[95vw]"}[a]} rounded-lg max-h-[95vh]`;return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),o.jsxs("div",{ref:c,className:`relative bg-gray-50 shadow-xl flex flex-col overflow-hidden ${f}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:[o.jsx("h2",{className:"text-base font-semibold",children:r}),o.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 rounded-md transition-colors","aria-label":"Cerrar",type:"button",children:o.jsx(Ji,{className:"h-5 w-5"})})]}),o.jsx("div",{className:`flex-1 min-h-0 bg-white ${i?"overflow-visible":"overflow-y-auto"} text-sm`,children:o.jsx("div",{className:"p-3",children:n})})]})]})}function sX({data:e,columns:t,searchPlaceholder:r="Buscar...",onRowClick:n,itemsPerPage:a=10}){const[i,s]=M.useState(""),[c,d]=M.useState(1),f=e.filter(g=>Object.values(g).some(j=>String(j).toLowerCase().includes(i.toLowerCase()))),p=Math.ceil(f.length/a),h=(c-1)*a,y=f.slice(h,h+a);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative flex-1 w-full",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx(wt,{placeholder:r,value:i,onChange:g=>{s(g.target.value),d(1)},className:"pl-10 w-full h-10 py-0 text-sm"})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[f.length," registro",f.length!==1?"s":""]})]}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs(nX,{children:[o.jsx(aX,{children:o.jsx(J1,{children:t.map(g=>o.jsx(iX,{style:g.width?{width:g.width}:{},className:g.key==="actions"?"text-right pr-6":"",children:g.key==="actions"?o.jsx("span",{className:"float-right",children:g.label}):g.label},g.key))})}),o.jsx(oX,{children:y.length>0?y.map(g=>o.jsx(J1,{onClick:()=>n?.(g),className:n?"cursor-pointer":"",children:t.map(j=>o.jsx(W_,{style:j.width?{width:j.width}:{},children:j.render?j.render(g):String(g[j.key]||"-")},j.key))},g.id)):o.jsx(J1,{children:o.jsx(W_,{colSpan:t.length,className:"text-center text-gray-500",children:"No se encontraron registros"})})})]})}),p>1&&o.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",o.jsx("span",{className:"font-medium",children:Math.min(h+1,f.length)})," a ",o.jsx("span",{className:"font-medium",children:Math.min(h+a,f.length)})," de ",o.jsx("span",{className:"font-medium",children:f.length})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>d(g=>Math.max(g-1,1)),disabled:c===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),o.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:p},(g,j)=>j+1).map(g=>o.jsx("button",{onClick:()=>d(g),className:`px-3 py-2 rounded-lg transition-colors ${c===g?"bg-gray-900 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:g},g))}),o.jsx("button",{onClick:()=>d(g=>Math.min(g+1,p)),disabled:c===p,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]})}const TI=M.createContext(void 0),lX=()=>{const e="damabella_users";if(console.log(" [AuthContext.initializeAuthSystem] Verificando datos de autenticacin..."),localStorage.removeItem("damabella_user"),console.log(" [AuthContext] Sesin local limpiada"),localStorage.getItem(e))console.log(" [AuthContext] Usuarios existentes preservados");else{console.log(" [AuthContext] No existen usuarios, creando admin por defecto...");const r={id:1,nombre:"Administrador Damabella",email:"pabonjuanjose6@gmail.com",password:"Joses421700#",tipoDoc:"CC",numeroDoc:"0000000001",celular:"3001234567",direccion:"Administracin",roleId:1,role:"Administrador",activo:!0,createdAt:new Date().toISOString()};localStorage.setItem(e,JSON.stringify([r])),console.log(" [AuthContext] Admin creado por defecto")}};function cX({children:e}){const[t,r]=M.useState(null);M.useEffect(()=>{lX();const s=localStorage.getItem("damabella_user");s&&r(JSON.parse(s))},[]);const n=async(s,c)=>{console.log(` [AuthContext.login] Intentando login: ${s}`);const f=localStorage.getItem("damabella_users");if(console.log(" [AuthContext.login] usuarios almacenados:",f?JSON.parse(f).length:0),f){const h=JSON.parse(f).find(y=>y.email===s&&y.password===c&&(y.activo||y.estado==="Activo"));if(h){console.log(" [AuthContext.login] Usuario encontrado:",h);const y={id:h.id.toString(),name:h.nombre||h.name,email:h.email,document:h.numeroDoc||h.documento,phone:h.celular||h.phone,address:h.direccion||h.address,role:h.role||h.rol||"Cliente",status:h.activo?"Activo":h.estado||"Inactivo",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop",createdAt:h.createdAt||h.fechaCreacion};return console.log(" [AuthContext.login] Usuario autenticado con rol:",y.role),r(y),localStorage.setItem("damabella_user",JSON.stringify(y)),!0}else console.log(" [AuthContext.login] Usuario no encontrado o credenciales incorrectas")}return!1},a=()=>{r(null),localStorage.removeItem("damabella_user")},i=s=>{if(t){const c={...t,...s};r(c),localStorage.setItem("damabella_user",JSON.stringify(c))}};return o.jsx(TI.Provider,{value:{user:t,login:n,logout:a,updateProfile:i,isAuthenticated:!!t},children:e})}function wN(){const e=M.useContext(TI);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Od="damabella_roles",Fh=["Usuarios","Roles","Clientes","Proveedores","Categorias","Productos","Tallas","Colores","Pedidos","Ventas","Compras","Devoluciones"],H_=[{id:"1",name:"Administrador",description:"Acceso completo al sistema",userCount:2,active:!0,permissions:Fh.map(e=>({module:e,canView:!0,canCreate:!0,canEdit:!0,canDelete:!0}))},{id:"2",name:"Empleado",description:"Puede gestionar ventas y pedidos",userCount:5,active:!0,permissions:Fh.map(e=>({module:e,canView:!0,canCreate:["Pedidos","Ventas","Clientes","Productos"].includes(e),canEdit:["Pedidos","Ventas","Clientes","Productos"].includes(e),canDelete:!1}))},{id:"3",name:"Cliente",description:"Acceso limitado a su perfil",userCount:150,active:!0,permissions:[{module:"Pedidos",canView:!0,canCreate:!0,canEdit:!1,canDelete:!1},{module:"Productos",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1}]}];function uX(){const[e,t]=M.useState(()=>{console.log(" [RolesPage] Inicializando roles...");const I=localStorage.getItem(Od);if(I)try{const z=JSON.parse(I);if(Array.isArray(z)&&z.length>0)return console.log(" [RolesPage] Roles cargados desde localStorage:",z.map(W=>W.name||W.nombre)),z.map(W=>({id:W.id,name:W.name||W.nombre,description:W.description||W.descripcion,permissions:W.permissions||[],userCount:W.userCount||0,active:typeof W.active=="boolean"?W.active:!0}))}catch(z){console.error(" [RolesPage] Error parsing roles:",z)}return console.log(" [RolesPage] Usando roles por defecto"),localStorage.setItem(Od,JSON.stringify(H_)),H_}),[r,n]=M.useState(!1),[a,i]=M.useState(!1),[s,c]=M.useState(!1),[d,f]=M.useState(null),[p,h]=M.useState(null),[y,g]=M.useState(null),[j,x]=M.useState({name:"",description:"",permissions:Fh.map(I=>({module:I,canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}))}),[w,S]=M.useState({}),{showToast:C}=ks(),{user:P}=wN();M.useEffect(()=>{console.log(" [RolesPage] Configurando listeners de sincronizacin...");let I=null;const z=()=>{const ee=localStorage.getItem(Od);if(ee!==I&&(I=ee,ee))try{const G=JSON.parse(ee);Array.isArray(G)&&(console.log(" [RolesPage] Roles actualizados en otro tab/ventana"),t(G.map(ie=>({id:ie.id,name:ie.name||ie.nombre,description:ie.description||ie.descripcion,permissions:ie.permissions||[],userCount:ie.userCount||0,active:typeof ie.active=="boolean"?ie.active:!0}))))}catch(G){console.error("Error updating roles:",G)}};z(),window.addEventListener("storage",z);const W=setInterval(z,500);return()=>{window.removeEventListener("storage",z),clearInterval(W)}},[]),M.useEffect(()=>{if(e&&e.length>0)try{localStorage.setItem(Od,JSON.stringify(e)),console.log(` [RolesPage] ${e.length} roles guardados en localStorage`)}catch(I){console.error("Error guardando roles:",I),C("Error al guardar roles","error")}},[e,C]);const R=(I,z)=>{const W={};return I==="name"&&(z.trim()?z.trim().length<3?W.name="Debe tener al menos 3 caracteres":/^[a-zA-Z0-9\s]+$/.test(z)||(W.name="No puede contener caracteres especiales"):W.name="El nombre es obligatorio"),I==="description"&&(z.trim()?z.trim().length<10&&(W.description="Debe tener al menos 10 caracteres"):W.description="Este campo es obligatorio"),W},L=(I,z)=>{x({...j,[I]:z});const W=R(I,z);S({...w,...W,[I]:W[I]})},q=I=>{I?(f(I),x({name:I.name,description:I.description,permissions:I.permissions.length>0?I.permissions:Fh.map(z=>({module:z,canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}))})):(f(null),x({name:"",description:"",permissions:Fh.map(z=>({module:z,canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}))})),S({}),n(!0)},_=(I,z,W)=>{const ee=[...j.permissions];ee[I]={...ee[I],[z]:W},x({...j,permissions:ee})},B=(I,z)=>{const W=[...j.permissions];W[I]={...W[I],canView:z,canCreate:z,canEdit:z,canDelete:z},x({...j,permissions:W})},V=I=>{I.preventDefault();const z={};if(["name","description"].forEach(W=>{const ee=R(W,j[W]);ee[W]&&(z[W]=ee[W])}),Object.keys(z).length>0){S(z);return}if(d){const W=e.map(ee=>ee.id===d.id?{...ee,...j}:ee);t(W),C("Rol actualizado correctamente","success")}else{const W={id:Date.now().toString(),...j,userCount:0,active:!0};t([...e,W]),C("Rol creado correctamente","success"),console.log(" [RolesPage] Nuevo rol creado:",W)}n(!1)},K=I=>{const z=e.find(W=>W.id===I);if(z&&z.name==="Administrador"){C("No se puede eliminar el rol Administrador","error");return}h(z||null),i(!0)},E=()=>{if(p){const I=e.filter(z=>z.id!==p.id);t(I),C(`Rol "${p.name}" eliminado correctamente`,"success"),i(!1),h(null)}},$=()=>{if(y){const I=e.map(W=>W.id===y.id?{...W,active:!(W.active??!0)}:W);t(I);try{localStorage.setItem(Od,JSON.stringify(I))}catch(W){console.warn("[RolesPage] No se pudo escribir roles en localStorage inmediatamente",W)}const z=y.active??!0?"inactivado":"activado";C(`Rol "${y.name}" ${z} correctamente`,"success"),c(!1),g(null)}},D=[{key:"name",label:"Rol",render:I=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-4 w-4 text-gray-600"}),o.jsx("span",{className:"font-medium",children:I.name})]})},{key:"description",label:"Descripcin"},{key:"userCount",label:"Usuarios",render:I=>o.jsx(rg,{variant:"info",children:I.userCount})},{key:"permissions",label:"Permisos",render:I=>o.jsxs("span",{className:"text-sm text-gray-600",children:[I.permissions.filter(z=>z.canView).length," mdulos"]})},{key:"actions",label:"Acciones",render:I=>o.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[o.jsx("button",{onMouseDown:z=>z.preventDefault(),onClick:()=>{if(I.active===!1){const z=e.map(W=>W.id===I.id?{...W,active:!0}:W);t(z);try{localStorage.setItem(Od,JSON.stringify(z))}catch{}C(`Rol "${I.name}" activado`,"success")}else g(I),c(!0)},"aria-pressed":I.active!==!1,className:`relative w-12 h-6 rounded-full transition-colors ${I.active!==!1?"bg-green-500":"bg-gray-400"}`,title:I.active===!1?"Activar rol":"Inactivar rol",children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${I.active!==!1?"translate-x-6":"translate-x-0"}`})}),o.jsx("button",{onClick:()=>q(I),className:"p-1.5 hover:bg-gray-100 rounded-md transition-colors",title:"Editar rol",children:o.jsx(oE,{className:"h-4 w-4 text-gray-600"})}),I.name!=="Administrador"?o.jsx("button",{onClick:()=>K(I.id),className:"p-1.5 hover:bg-red-50 rounded-md transition-colors",title:"Eliminar rol",children:o.jsx(Uo,{className:"h-4 w-4 text-red-600"})}):o.jsx("span",{className:"p-1.5 rounded-md opacity-0 pointer-events-none select-none",children:o.jsx(Uo,{className:"h-4 w-4"})})]})}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Roles y Permisos"}),o.jsx("p",{className:"text-gray-600",children:"Gestin de roles y permisos del sistema"})]}),o.jsxs(mt,{onClick:()=>q(),children:[o.jsx(No,{className:"h-4 w-4 mr-2"}),"Nuevo Rol"]})]}),o.jsx(Hd,{className:"p-6",children:o.jsx(sX,{data:e,columns:D,searchPlaceholder:"Buscar roles..."})}),o.jsx(er,{isOpen:r,onClose:()=>n(!1),title:d?"Editar Rol":"Nuevo Rol",size:"lg",children:o.jsxs("form",{onSubmit:V,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"name",children:"Nombre del Rol"}),o.jsx(wt,{id:"name",value:j.name,onChange:I=>L("name",I.target.value),placeholder:"Ej: Supervisor, Vendedor",required:!0}),w.name&&o.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:w.name})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"description",children:"Descripcin"}),o.jsx(LI,{id:"description",value:j.description,onChange:I=>L("description",I.target.value),placeholder:"Descripcin del rol",required:!0}),w.description&&o.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:w.description})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Er,{children:"Permisos por Mdulo"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700",children:"Mdulo"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Ver"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Crear"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Editar"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Eliminar"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Todos"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:j.permissions.map((I,z)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:I.module}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:I.canView,onChange:W=>_(z,"canView",W.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:I.canCreate,onChange:W=>_(z,"canCreate",W.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:I.canEdit,onChange:W=>_(z,"canEdit",W.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("input",{type:"checkbox",checked:I.canDelete,onChange:W=>_(z,"canDelete",W.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsxs("div",{className:"flex justify-center gap-1",children:[o.jsx("button",{type:"button",onClick:()=>B(z,!0),className:"p-1 hover:bg-green-50 rounded",title:"Habilitar todos",children:o.jsx(V8,{className:"h-4 w-4 text-green-600"})}),o.jsx("button",{type:"button",onClick:()=>B(z,!1),className:"p-1 hover:bg-red-50 rounded",title:"Deshabilitar todos",children:o.jsx(Ji,{className:"h-4 w-4 text-red-600"})})]})})]},I.module))})]})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx(mt,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),o.jsx(mt,{type:"submit",children:d?"Actualizar":"Crear"})]})]})}),o.jsx(er,{isOpen:s,onClose:()=>{c(!1),g(null)},title:"Confirmar cambio de estado",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Br,{className:"w-6 h-6 text-orange-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 font-medium",children:"Ests seguro de que deseas inactivar este rol?"}),o.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Esta accin deshabilitar el rol ",o.jsx("strong",{children:y?.name})," y puede afectar permisos de usuarios asignados."]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{type:"button",variant:"outline",onClick:()=>{c(!1),g(null)},children:"Cancelar"}),o.jsxs(mt,{type:"button",className:"bg-orange-600 hover:bg-orange-700",onClick:$,children:[o.jsx(Ji,{className:"w-4 h-4 mr-2"}),"Inactivar"]})]})]})}),o.jsx(er,{isOpen:a,onClose:()=>i(!1),title:"Confirmar Eliminacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Br,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 font-medium",children:"Ests seguro de que deseas eliminar este rol?"}),o.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Esta accin no se puede deshacer. El rol ",o.jsx("strong",{children:p?.name})," ser eliminado permanentemente del sistema."]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),o.jsxs(mt,{type:"button",className:"bg-red-600 hover:bg-red-700",onClick:E,children:[o.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})})]})}function kd(e){return e==null||typeof e=="string"&&e.trim()===""}function Gi(e,t){if(e==="nombre"||e==="name")return kd(t)?"Este campo es obligatorio":String(t).trim().length<3?"Debe tener al menos 3 caracteres":/^[a-zA-Z0-9\s\-]+$/.test(String(t))?"":"No se permiten caracteres especiales";if(e==="email")return kd(t)?"Este campo es obligatorio":/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\\.,;:\s@\"]+\.)+[^<>()[\]\\.,;:\s@\"]{2,})$/i.test(String(t).toLowerCase())?"":"Correo invlido";if(e==="password")return kd(t)?"Este campo es obligatorio":String(t).length<6?"La contrasea debe tener al menos 6 caracteres":"";if(e==="documento")return kd(t)?"Este campo es obligatorio":/^[0-9]+$/.test(String(t))?String(t).length<6?"Documento demasiado corto":"":"El documento debe ser numrico";if(e==="price"||e==="precio"||e==="price"){if(kd(t))return"Este campo es obligatorio";const r=parseFloat(t);return isNaN(r)||r<=0?"Debe ser un nmero mayor a 0":""}return e==="hex"||e==="hexCode"||e==="newColorHex"?kd(t)?"Este campo es obligatorio":/^#([0-9A-Fa-f]{3}){1,2}$/.test(String(t))?"":"Cdigo hex invlido":""}function dX(){const[e,t]=M.useState({notificaciones:{email:!0,push:!0,ventas:!0,inventario:!0,pedidos:!0},apariencia:{tema:"claro",idioma:"es"},seguridad:{autenticacionDosFactores:!1,sesionExpira:"30"}}),r=()=>{localStorage.setItem("damabella_config",JSON.stringify(e)),alert("Configuracin guardada exitosamente")};return o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-gray-900 mb-2",children:"Configuracin"}),o.jsx("p",{className:"text-gray-600",children:"Personaliza tu experiencia en el sistema"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx(kh,{className:"text-gray-700",size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900",children:"Notificaciones"}),o.jsx("p",{className:"text-gray-600",children:"Configura cmo deseas recibir notificaciones"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:"Notificaciones por Email"}),o.jsx("div",{className:"text-gray-600",children:"Recibir alertas en tu correo electrnico"})]}),o.jsx("input",{type:"checkbox",checked:e.notificaciones.email,onChange:n=>t({...e,notificaciones:{...e.notificaciones,email:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:"Notificaciones Push"}),o.jsx("div",{className:"text-gray-600",children:"Recibir alertas en tiempo real"})]}),o.jsx("input",{type:"checkbox",checked:e.notificaciones.push,onChange:n=>t({...e,notificaciones:{...e.notificaciones,push:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:"Alertas de Ventas"}),o.jsx("div",{className:"text-gray-600",children:"Notificar cuando se realice una venta"})]}),o.jsx("input",{type:"checkbox",checked:e.notificaciones.ventas,onChange:n=>t({...e,notificaciones:{...e.notificaciones,ventas:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:"Alertas de Inventario"}),o.jsx("div",{className:"text-gray-600",children:"Notificar cuando el stock est bajo"})]}),o.jsx("input",{type:"checkbox",checked:e.notificaciones.inventario,onChange:n=>t({...e,notificaciones:{...e.notificaciones,inventario:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:"Nuevos Pedidos"}),o.jsx("div",{className:"text-gray-600",children:"Notificar cuando llegue un pedido nuevo"})]}),o.jsx("input",{type:"checkbox",checked:e.notificaciones.pedidos,onChange:n=>t({...e,notificaciones:{...e.notificaciones,pedidos:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx(kT,{className:"text-gray-700",size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900",children:"Apariencia"}),o.jsx("p",{className:"text-gray-600",children:"Personaliza la interfaz del sistema"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Tema"}),o.jsxs("select",{value:e.apariencia.tema,onChange:n=>t({...e,apariencia:{...e.apariencia,tema:n.target.value}}),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"claro",children:"Claro"}),o.jsx("option",{value:"oscuro",children:"Oscuro"}),o.jsx("option",{value:"auto",children:"Automtico"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[o.jsx(sT,{size:16}),"Idioma"]}),o.jsxs("select",{value:e.apariencia.idioma,onChange:n=>t({...e,apariencia:{...e.apariencia,idioma:n.target.value}}),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"es",children:"Espaol"}),o.jsx("option",{value:"en",children:"English"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx(Lc,{className:"text-gray-700",size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-gray-900",children:"Seguridad"}),o.jsx("p",{className:"text-gray-600",children:"Protege tu cuenta y datos"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:"Autenticacin de dos factores"}),o.jsx("div",{className:"text-gray-600",children:"Aade una capa extra de seguridad"})]}),o.jsx("input",{type:"checkbox",checked:e.seguridad.autenticacionDosFactores,onChange:n=>t({...e,seguridad:{...e.seguridad,autenticacionDosFactores:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[o.jsx(Kd,{size:16}),"Tiempo de expiracin de sesin (minutos)"]}),o.jsxs("select",{value:e.seguridad.sesionExpira,onChange:n=>t({...e,seguridad:{...e.seguridad,sesionExpira:n.target.value}}),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"15",children:"15 minutos"}),o.jsx("option",{value:"30",children:"30 minutos"}),o.jsx("option",{value:"60",children:"1 hora"}),o.jsx("option",{value:"120",children:"2 horas"})]})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(mt,{onClick:r,variant:"primary",className:"flex items-center gap-2",children:[o.jsx(aE,{size:18}),"Guardar Configuracin"]})})]})}function fX(){const[e,t]=M.useState([{id:1,name:"Crear Usuarios",module:"Usuarios",description:"Permite crear nuevos usuarios en el sistema"},{id:2,name:"Editar Usuarios",module:"Usuarios",description:"Permite editar informacin de usuarios existentes"},{id:3,name:"Eliminar Usuarios",module:"Usuarios",description:"Permite eliminar usuarios del sistema"},{id:4,name:"Ver Productos",module:"Productos",description:"Permite ver el catlogo de productos"},{id:5,name:"Crear Productos",module:"Productos",description:"Permite crear y registrar nuevos productos"},{id:6,name:"Editar Productos",module:"Productos",description:"Permite editar productos existentes"},{id:7,name:"Eliminar Productos",module:"Productos",description:"Permite eliminar productos del catlogo"},{id:8,name:"Ver Ventas",module:"Ventas",description:"Permite ver registros de ventas"},{id:9,name:"Crear Ventas",module:"Ventas",description:"Permite registrar nuevas ventas"},{id:10,name:"Ver Reportes",module:"Reportes",description:"Permite acceder a reportes del sistema"},{id:11,name:"Exportar Datos",module:"Reportes",description:"Permite exportar informacin en diferentes formatos"},{id:12,name:"Gestionar Roles",module:"Configuracin",description:"Permite administrar roles y permisos del sistema"}]),[r,n]=M.useState(!1),[a,i]=M.useState(null),[s,c]=M.useState({name:"",module:"",description:""}),[d,f]=M.useState(""),[p,h]=M.useState("all"),y=["all",...new Set(e.map(P=>P.module))],g=()=>{i(null),c({name:"",module:"",description:""}),n(!0)},j=P=>{i(P),c(P),n(!0)},x=()=>{t(a?e.map(P=>P.id===a.id?{...P,...s}:P):[...e,{id:Date.now(),...s}]),n(!1)},w=P=>{confirm("Est seguro de eliminar este permiso?")&&t(e.filter(R=>R.id!==P))},C=e.filter(P=>p==="all"||P.module===p).filter(P=>P.name.toLowerCase().includes(d.toLowerCase())||P.description.toLowerCase().includes(d.toLowerCase())).reduce((P,R)=>(P[R.module]||(P[R.module]=[]),P[R.module].push(R),P),{});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Permisos"}),o.jsx("p",{className:"text-gray-600",children:"Define y administra los permisos del sistema"})]}),o.jsxs(mt,{onClick:g,variant:"primary",children:[o.jsx(No,{size:20}),"Crear Permiso"]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(wt,{placeholder:"Buscar permisos...",value:d,onChange:P=>f(P.target.value)})}),o.jsx("div",{children:o.jsxs("select",{value:p,onChange:P=>h(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900",children:[o.jsx("option",{value:"all",children:"Todos los mdulos"}),y.filter(P=>P!=="all").map(P=>o.jsx("option",{value:P,children:P},P))]})})]})}),o.jsx("div",{className:"space-y-6",children:Object.keys(C).map(P=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-700 to-gray-900 rounded-lg flex items-center justify-center text-white",children:o.jsx(Lc,{size:20})}),o.jsx("h3",{className:"text-gray-900",children:P}),o.jsxs("span",{className:"text-gray-500",children:["(",C[P].length,")"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Nombre"}),o.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Descripcin"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-600",children:"Acciones"})]})}),o.jsx("tbody",{children:C[P].map(R=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kd,{size:16,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-900",children:R.name})]})}),o.jsx("td",{className:"py-3 px-4 text-gray-600",children:R.description}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>j(R),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",children:o.jsx(Tu,{size:16})}),o.jsx("button",{onClick:()=>w(R.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",children:o.jsx(Uo,{size:16})})]})})]},R.id))})]})})]},P))}),o.jsx(er,{isOpen:r,onClose:()=>n(!1),title:a?"Editar Permiso":"Crear Permiso",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre del Permiso"}),o.jsx(wt,{value:s.name,onChange:P=>c({...s,name:P.target.value}),placeholder:"Ej: Crear Productos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Mdulo"}),o.jsx(wt,{value:s.module,onChange:P=>c({...s,module:P.target.value}),placeholder:"Ej: Productos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Descripcin"}),o.jsx("textarea",{value:s.description,onChange:P=>c({...s,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900",rows:3,placeholder:"Describe qu permite hacer este permiso"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>n(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:x,variant:"primary",children:a?"Guardar Cambios":"Crear Permiso"})]})]})})]})}const G_=[{id:"1",nombre:"Ana Garca",email:"admin@damabella.com",tipoDoc:"CC",documento:"1234567890",celular:"3001234567",direccion:"Calle 123",rol:"Administrador",estado:"Activo",fechaCreacion:"2024-01-15",creadoPor:"Sistema",password:"Admin123!"},{id:"2",nombre:"Mara Lpez",email:"empleado@damabella.com",tipoDoc:"CC",documento:"0987654321",celular:"3107654321",direccion:"Carrera 456",rol:"Empleado",estado:"Activo",fechaCreacion:"2024-02-20",creadoPor:"Ana Garca",password:"Empleado123!"},{id:"3",nombre:"Laura Martnez",email:"cliente@damabella.com",tipoDoc:"CC",documento:"5555555555",celular:"3209876543",direccion:"Avenida 789",rol:"Cliente",estado:"Activo",fechaCreacion:"2024-03-10",creadoPor:"Mara Lpez",password:"Cliente123!"},{id:"4",nombre:"Sofa Ramrez",email:"sofia.r@example.com",tipoDoc:"CE",documento:"1111222233",celular:"3156789012",direccion:"Calle 321",rol:"Cliente",estado:"Activo",fechaCreacion:"2024-06-05",creadoPor:"Mara Lpez",password:"Sofia123!"},{id:"5",nombre:"Carolina Ruiz",email:"carolina.r@example.com",tipoDoc:"TI",documento:"4444555566",celular:"3145678901",direccion:"Carrera 654",rol:"Cliente",estado:"Inactivo",fechaCreacion:"2024-05-12",creadoPor:"Ana Garca",password:"Carolina123!"}];function hX(){const{user:e}=wN(),{showToast:t}=ks(),[r,n]=M.useState(()=>{console.log(" [UsuariosModule] INICIALIZANDO - Verificando localStorage...");const Q=localStorage.getItem("damabella_users");if(console.log(`    damabella_users existe: ${!!Q}`),Q&&console.log(`    Largo de dato: ${Q.length} caracteres`),Q)try{const Ce=JSON.parse(Q);if(console.log("    JSON parseado correctamente"),console.log(`    Total de registros: ${Array.isArray(Ce)?Ce.length:"no es array"}`),Array.isArray(Ce)&&Ce.length>0){const he=Ce.map(je=>({id:je.id?.toString()||String(Date.now()),nombre:je.nombre||je.name||"",email:je.email||"",tipoDoc:je.tipoDoc||"CC",documento:je.documento||je.numeroDoc||"",celular:je.celular||je.phone||"",direccion:je.direccion||je.address||"",rol:je.rol||je.role||"Cliente",estado:je.estado==="Activo"||je.estado==="Inactivo"?je.estado:je.status==="Activo"?"Activo":"Inactivo",fechaCreacion:je.fechaCreacion||je.createdAt||new Date().toISOString().split("T")[0],creadoPor:je.creadoPor||"Sistema",password:je.password||""}));return console.log(` [Init] Cargados ${he.length} usuarios desde localStorage`),console.log("   Usuarios cargados:",he.map(je=>({nombre:je.nombre,rol:je.rol,email:je.email}))),he}}catch(Ce){console.error(" [Init] Error parsing users:",Ce)}return console.log(" [Init] Usando INITIAL_USERS"),localStorage.setItem("damabella_users",JSON.stringify(G_)),G_}),[a,i]=M.useState(()=>{console.log(" [UsuariosModule] Cargando roles desde localStorage...");const Q=localStorage.getItem("damabella_roles");if(console.log("    localStorage.damabella_roles:",Q),Q)try{const he=JSON.parse(Q);if(Array.isArray(he)&&he.length>0)return console.log(" Roles cargados desde localStorage:",he.map(je=>je.name||je.nombre).join(", ")),he}catch(he){console.error(" Error loading roles:",he)}console.log(" Usando roles por defecto");const Ce=[{id:"1",name:"Administrador",nombre:"Administrador",description:"Acceso completo al sistema",descripcion:"Acceso completo al sistema",userCount:1,usuariosAsociados:1,permissions:[{module:"Usuarios",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Roles",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Categorias",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Productos",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Clientes",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Proveedores",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Tallas",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Colores",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Pedidos",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Ventas",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Compras",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Devoluciones",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0}],permisos:[]},{id:"2",name:"Empleado",nombre:"Empleado",description:"Gestin de ventas y productos",descripcion:"Gestin de ventas y productos",userCount:1,usuariosAsociados:1,permissions:[{module:"Usuarios",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1},{module:"Roles",canView:!1,canCreate:!1,canEdit:!1,canDelete:!1},{module:"Categorias",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1},{module:"Productos",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1}],permisos:[]},{id:"3",name:"Cliente",nombre:"Cliente",description:"Acceso limitado para compras",descripcion:"Acceso limitado para compras",userCount:3,usuariosAsociados:3,permissions:[],permisos:[]}];return console.log("    Guardando roles por defecto en localStorage"),localStorage.setItem("damabella_roles",JSON.stringify(Ce)),Ce}),[s,c]=M.useState(""),[d,f]=M.useState("todos"),[p,h]=M.useState("todos"),[y,g]=M.useState(1),j=10,[x,w]=M.useState(!1),[S,C]=M.useState(!1),[P,R]=M.useState(!1),[L,q]=M.useState(!1),[_,B]=M.useState(null),[V,K]=M.useState({nombre:"",tipoDoc:"CC",email:"",documento:"",celular:"",direccion:"",rol:"Cliente",estado:"Activo",password:"",confirmPassword:""}),[E,$]=M.useState({}),[D,I]=M.useState(!1),[z,W]=M.useState(!1),ee=e?.role==="Administrador",G=Q=>Q.trim()?Q.trim().length<3?"El nombre debe tener al menos 3 caracteres":/^[a-zA-Z0-9\s]+$/.test(Q)?"":"El nombre no puede contener caracteres especiales":"El nombre es obligatorio",ie=Q=>Q.trim()?/^\d+$/.test(Q)?Q.length<8?"El documento debe tener al menos 8 dgitos":"":"El documento solo puede contener nmeros":"El documento es obligatorio",te=Q=>Q.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q)?"":"El email no es vlido":"El email es obligatorio",re=(Q,Ce)=>{if(Ce&&!Q)return"La contrasea es obligatoria";if(Q){const he=[];if(Q.length<8&&he.push("al menos 8 caracteres"),/[A-Z]/.test(Q)||he.push("una letra mayscula"),/[a-z]/.test(Q)||he.push("una letra minscula"),/\d/.test(Q)||he.push("un nmero"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Q)||he.push("un carcter especial"),he.length>0)return`La contrasea debe contener: ${he.join(", ")}`}return""},T=Q=>Q.trim()?/^\d+$/.test(Q)?Q.length!==10?"El celular debe tener exactamente 10 dgitos":"":"El celular solo puede contener nmeros":"El celular es obligatorio";M.useEffect(()=>{if(r&&r.length>0)try{const Q=JSON.stringify(r);localStorage.setItem("damabella_users",Q),localStorage.getItem("damabella_users")===Q?console.log(` [UsuariosModule] Guardados ${r.length} usuarios correctamente`):console.error(" [UsuariosModule] Error: datos no guardados correctamente")}catch(Q){console.error(" [UsuariosModule] Error guardando usuarios:",Q)}},[r]),M.useEffect(()=>{console.log(" [UsuariosModule] useEffect iniciado - Roles actuales:",a.map(_e=>_e.name||_e.nombre));let Q=null;const Ce=()=>{const _e=localStorage.getItem("damabella_roles");if(_e!==Q&&(console.log(" [UsuariosModule] Storage cambi. Antes:",Q?`${Q.length} chars`:"null","Ahora:",_e?`${_e.length} chars`:"null"),Q=_e,_e))try{const we=JSON.parse(_e);Array.isArray(we)&&(console.log(" [UsuariosModule] Roles actualizados:",we.map(le=>le.name||le.nombre)),i(we))}catch(we){console.error(" Error updating roles:",we)}};Ce();const he=()=>{console.log(" [UsuariosModule] Storage cambi en otro tab"),Ce()};window.addEventListener("storage",he);const je=setInterval(Ce,300);return()=>{window.removeEventListener("storage",he),clearInterval(je)}},[]),M.useEffect(()=>{const Q=()=>{try{const Ce=localStorage.getItem("damabella_roles");if(Ce){const he=JSON.parse(Ce),je={};r.forEach(we=>{const le=we.rol;je[le]=(je[le]||0)+1});const _e=he.map(we=>({...we,userCount:je[we.name||we.nombre]||0}));localStorage.setItem("damabella_roles",JSON.stringify(_e)),console.log(" [UsuariosModule] Contadores de usuarios actualizados en roles:",je),i(_e)}}catch(Ce){console.error(" [UsuariosModule] Error actualizando contadores:",Ce)}};r&&r.length>=0&&Q()},[r]);const J=r.length,Y=r.filter(Q=>Q.estado==="Activo").length,H=r.filter(Q=>Q.estado==="Inactivo").length,me=r.filter(Q=>Q.rol==="Administrador").length,pe=r.filter(Q=>{const Ce=s.toLowerCase();return Q.nombre.toLowerCase().includes(Ce)||Q.documento.toLowerCase().includes(Ce)||Q.email.toLowerCase().includes(Ce)}),be=()=>{B(null),K({nombre:"",tipoDoc:"CC",email:"",documento:"",celular:"",direccion:"",rol:"",estado:"Activo",password:"",confirmPassword:""}),$({}),I(!1),W(!1),w(!0)},ge=Q=>{B(Q),K({nombre:Q.nombre,tipoDoc:Q.tipoDoc,email:Q.email,documento:Q.documento,celular:Q.celular,direccion:Q.direccion||"",rol:Q.rol,estado:Q.estado,password:"",confirmPassword:""}),$({}),I(!1),W(!1),w(!0)},Te=Q=>{B(Q),C(!0)},ze=Q=>{if(!ee){t("No tienes permisos para eliminar usuarios","error");return}const Ce=r.find(he=>he.id===Q);B(Ce||null),R(!0)},ue=()=>{if(_)try{const Q=r.filter(Ce=>Ce.id!==_.id);n(Q),localStorage.setItem("damabella_users",JSON.stringify(Q)),t(`Usuario "${_.nombre}" eliminado correctamente`,"success"),R(!1),B(null)}catch(Q){console.error("Error al eliminar usuario:",Q),t("Error al eliminar el usuario","error")}},Fe=Q=>{if(Q.estado==="Inactivo"){try{const Ce=r.map(he=>he.id===Q.id?{...he,estado:"Activo"}:he);n(Ce),localStorage.setItem("damabella_users",JSON.stringify(Ce)),t(`Usuario "${Q.nombre}" activado correctamente`,"success")}catch(Ce){console.error("Error al activar usuario:",Ce),t("Error al activar el usuario","error")}return}B(Q),q(!0)},De=()=>{if(_)try{const Q=_.estado==="Activo"?"Inactivo":"Activo",Ce=r.map(he=>he.id===_.id?{...he,estado:Q}:he);n(Ce),localStorage.setItem("damabella_users",JSON.stringify(Ce)),t(`Usuario "${_.nombre}" ${Q==="Activo"?"activado":"desactivado"} correctamente`,"success"),q(!1),B(null)}catch(Q){console.error("Error al cambiar estado:",Q),t("Error al cambiar el estado del usuario","error")}},Ne=()=>{const Q=pe.map($e=>({ID:$e.id,Nombre:$e.nombre,Email:$e.email,Rol:$e.rol,Estado:$e.estado,"Fecha de Creacin":$e.fechaCreacion})),Ce=["ID","Nombre","Email","Rol","Estado","Fecha de Creacin"],he=Q.map($e=>`  <Row>
${Ce.map(at=>`    <Cell><Data ss:Type="String">${String($e[at]).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</Data></Cell>`).join(`
`)}
  </Row>`).join(`
`),je=`<?xml version="1.0"?>
<?mso-application progid="Excel.Sheet"?>
<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet">
  <Worksheet ss:Name="Usuarios">
    <Table>
      <Row>
${Ce.map($e=>`        <Cell><Data ss:Type="String">${$e}</Data></Cell>`).join(`
`)}
      </Row>
${he}
    </Table>
  </Worksheet>
</Workbook>`,_e=new Blob([je],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),we=document.createElement("a"),le=URL.createObjectURL(_e);we.setAttribute("href",le),we.setAttribute("download",`reporte_usuarios_${new Date().toISOString().split("T")[0]}.xlsx`),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we),t("Reporte descargado correctamente","success")},se=Q=>{Q.preventDefault();const Ce=G(V.nombre),he=ie(V.documento),je=T(V.celular),_e=te(V.email),we=re(V.password,!_),le={};if(Ce&&(le.nombre=Ce),he&&(le.documento=he),je&&(le.celular=je),_e&&(le.email=_e),we&&(le.password=we),r.some(lt=>lt.email.toLowerCase()===V.email.toLowerCase()&&lt.id!==_?.id)&&(le.email="Este email ya est registrado"),r.some(lt=>lt.documento===V.documento&&lt.id!==_?.id)&&(le.documento="Este nmero de documento ya est registrado"),$(le),!(Object.keys(le).length>0))try{if(_){const lt={..._,nombre:V.nombre,tipoDoc:V.tipoDoc,documento:V.documento,email:V.email,celular:V.celular,direccion:V.direccion,rol:V.rol,role:V.rol,estado:_.estado,password:V.password||_.password,fechaCreacion:_.fechaCreacion,creadoPor:_.creadoPor},Ct=r.map(Nt=>Nt.id===_.id?lt:Nt);n(Ct),localStorage.setItem("damabella_users",JSON.stringify(Ct)),t("Usuario actualizado correctamente","success")}else{const lt="Activo";console.log(` [handleSubmit] Creando nuevo usuario con rol: ${V.rol}`);const Ct={id:Date.now().toString(),nombre:V.nombre,tipoDoc:V.tipoDoc,documento:V.documento,email:V.email,celular:V.celular,direccion:V.direccion,rol:V.rol,role:V.rol,estado:lt,password:V.password,fechaCreacion:new Date().toISOString().split("T")[0],creadoPor:e?.name||"Sistema"};console.log(" [handleSubmit] Usuario creado:",JSON.stringify(Ct,null,2)),console.log(`    rol: ${Ct.rol}, role: ${Ct.role}`);const Nt=[...r,Ct];n(Nt),localStorage.setItem("damabella_users",JSON.stringify(Nt)),console.log(" [handleSubmit] Guardados en localStorage:",localStorage.getItem("damabella_users")),t("Usuario creado correctamente","success")}w(!1),K({nombre:"",tipoDoc:"CC",email:"",documento:"",celular:"",direccion:"",rol:"Cliente",estado:"Activo",password:"",confirmPassword:""}),$({}),g(1)}catch(lt){console.error("Error al guardar usuario:",lt),t("Error al guardar el usuario","error")}},ct=(Q,Ce)=>{let he=Ce;Q==="nombre"?he=Ce.split("").filter(_e=>/^[a-zA-Z0-9\s]$/.test(_e)).join(""):Q==="documento"?he=Ce.split("").filter(_e=>/^\d$/.test(_e)).join(""):Q==="celular"?he=Ce.split("").filter(_e=>/^\d$/.test(_e)).join("").slice(0,10):(Q==="password"||Q==="confirmPassword")&&(he=Ce.split("").filter(_e=>!/['"`]/.test(_e)).join("")),K({...V,[Q]:he});let je="";if(Q==="nombre")je=G(he);else if(Q==="documento")je=ie(he);else if(Q==="celular")je=T(he);else if(Q==="email")je=te(he);else if(Q==="password"){if(je=re(he,!_),V.confirmPassword&&he!==V.confirmPassword)$(_e=>({..._e,confirmPassword:"Las contraseas no coinciden"}));else if(V.confirmPassword&&he===V.confirmPassword){const{confirmPassword:_e,...we}=E;$(we)}}else Q==="confirmPassword"?!he&&!_?je="Debes repetir la contrasea":V.password&&he!==V.password&&(je="Las contraseas no coinciden"):Q==="direccion"&&he&&he.trim().length>0&&he.trim().length<5&&(je="La direccin debe tener al menos 5 caracteres");if(je)$({...E,[Q]:je});else{const{[Q]:_e,...we}=E;$(we)}};return o.jsxs("div",{className:"space-y-4 p-2",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-gray-900",children:"Gestin de Usuarios"}),o.jsx("p",{className:"text-gray-600",children:"Administra usuarios, roles y permisos"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(mt,{onClick:Ne,variant:"outline",className:"border-gray-300",children:[o.jsx(yl,{className:"w-4 h-4 mr-2"}),"Descargar Reporte"]}),o.jsxs(mt,{onClick:be,className:"bg-black hover:bg-gray-800",children:[o.jsx(No,{className:"w-4 h-4 mr-2"}),"Agregar Usuario"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white p-4 rounded-lg border border-gray-200",children:[o.jsx(vi,{className:"w-5 h-5 text-gray-400"}),o.jsx(wt,{placeholder:"Buscar por nombre, documento o email...",value:s,onChange:Q=>{c(Q.target.value),g(1)},className:"border-0 focus-visible:ring-0"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Hd,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Usuarios"}),o.jsx("p",{className:"text-3xl",children:J})]}),o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx(af,{className:"w-6 h-6 text-gray-600"})})]})}),o.jsx(Hd,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Activos"}),o.jsx("p",{className:"text-3xl",children:Y})]}),o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(f7,{className:"w-6 h-6 text-green-600"})})]})}),o.jsx(Hd,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Inactivos"}),o.jsx("p",{className:"text-3xl",children:H})]}),o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(v7,{className:"w-6 h-6 text-red-600"})})]})}),o.jsx(Hd,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Administradores"}),o.jsx("p",{className:"text-3xl",children:me})]}),o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Lc,{className:"w-6 h-6 text-blue-600"})})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full min-w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Nombre"}),o.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Documento"}),o.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Email"}),o.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Rol"}),o.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Estado"}),o.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Fecha Creacin"}),o.jsx("th",{className:"text-center py-3 px-4 whitespace-nowrap",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{Math.ceil(pe.length/j);const Q=(y-1)*j,Ce=Q+j,he=pe.slice(Q,Ce);return he.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:[o.jsx(af,{className:"mx-auto mb-2 text-gray-300",size:40}),o.jsx("p",{children:"No se encontraron usuarios"})]})}):he.map(je=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm",children:je.nombre}),o.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm",children:je.documento}),o.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm",children:je.email}),o.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:o.jsx(rg,{variant:"default",className:"bg-gray-100",children:je.rol})}),o.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:o.jsx(rg,{variant:je.estado==="Activo"?"success":"default",children:je.estado})}),o.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm text-gray-600",children:je.fechaCreacion}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex justify-center gap-1",children:[o.jsx("button",{onClick:()=>Te(je),className:"p-1 hover:bg-gray-100 rounded",title:"Ver",children:o.jsx(ma,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Fe(je),className:`p-1 rounded transition-colors ${je.estado==="Activo"?"hover:bg-red-50 text-red-600":"hover:bg-green-50 text-green-600"}`,title:je.estado==="Activo"?"Desactivar usuario":"Activar usuario",children:je.estado==="Activo"?o.jsx(Wj,{className:"w-4 h-4"}):o.jsx(kc,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>ge(je),className:"p-1 hover:bg-gray-100 rounded",title:"Editar",children:o.jsx(oE,{className:"w-4 h-4"})}),ee&&o.jsx("button",{onClick:()=>ze(je.id),className:"p-1 hover:bg-red-50 rounded text-red-600",title:"Eliminar",children:o.jsx(Uo,{className:"w-4 h-4"})})]})})]},je.id))})()})]})}),o.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",o.jsx("span",{className:"font-medium",children:Math.min((y-1)*j+1,pe.length)})," a ",o.jsx("span",{className:"font-medium",children:Math.min(y*j,pe.length)})," de ",o.jsx("span",{className:"font-medium",children:pe.length})," usuarios"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g(Q=>Math.max(Q-1,1)),disabled:y===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),o.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.ceil(pe.length/j)},(Q,Ce)=>Ce+1).map(Q=>o.jsx("button",{onClick:()=>g(Q),className:`px-3 py-2 rounded-lg transition-colors ${y===Q?"bg-gray-900 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:Q},Q))}),o.jsx("button",{onClick:()=>g(Q=>Math.min(Q+1,Math.ceil(pe.length/j))),disabled:y===Math.ceil(pe.length/j)||pe.length===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]}),o.jsx(er,{isOpen:x,onClose:()=>w(!1),title:_?"Editar Usuario":"Nuevo Usuario",children:o.jsxs("form",{onSubmit:se,className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"nombre",children:"Nombre completo"}),o.jsx(wt,{id:"nombre",value:V.nombre,onChange:Q=>ct("nombre",Q.target.value),placeholder:"Ej: Juan Prez",className:V.nombre&&!E.nombre?"border-green-500":E.nombre?"border-red-500":"",required:!0}),E.nombre&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:E.nombre})]}),V.nombre&&!E.nombre&&o.jsx("p",{className:"text-green-600 text-xs",children:" Nombre vlido"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"tipoDoc",children:"Tipo de Documento"}),o.jsxs(tg,{value:V.tipoDoc,onChange:Q=>K({...V,tipoDoc:Q.target.value}),children:[o.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),o.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),o.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),o.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"documento",children:"Documento (nmeros)"}),o.jsx(wt,{id:"documento",value:V.documento,onChange:Q=>ct("documento",Q.target.value),placeholder:"Ej: 1234567890",className:V.documento&&!E.documento?"border-green-500":E.documento?"border-red-500":"",required:!0}),E.documento&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:E.documento})]}),V.documento&&!E.documento&&o.jsx("p",{className:"text-green-600 text-xs",children:" Documento vlido"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"celular",children:"Celular"}),o.jsx(wt,{id:"celular",value:V.celular,onChange:Q=>ct("celular",Q.target.value),placeholder:"Ej: 3001234567",className:V.celular&&!E.celular?"border-green-500":E.celular?"border-red-500":"",required:!0}),E.celular&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:E.celular})]}),V.celular&&!E.celular&&o.jsx("p",{className:"text-green-600 text-xs",children:" Celular vlido"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"rol",children:"Rol"}),o.jsxs(tg,{value:V.rol,onChange:Q=>K({...V,rol:Q.target.value}),className:V.rol&&!E.rol?"border-green-500":E.rol?"border-red-500":"",children:[o.jsx("option",{value:"",children:"Seleccione un rol"}),a.map(Q=>o.jsx("option",{value:Q.name||Q.nombre,children:Q.name||Q.nombre},Q.id))]}),V.rol&&!E.rol&&o.jsx("p",{className:"text-green-600 text-xs",children:" Rol seleccionado"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"email",children:"Email"}),o.jsx(wt,{id:"email",type:"email",value:V.email,onChange:Q=>ct("email",Q.target.value),placeholder:"Ej: usuario@ejemplo.com",className:V.email&&!E.email?"border-green-500":E.email?"border-red-500":"",required:!0}),E.email&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:E.email})]}),V.email&&!E.email&&o.jsx("p",{className:"text-green-600 text-xs",children:" Email vlido"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"direccion",children:"Direccin"}),o.jsx(wt,{id:"direccion",value:V.direccion,onChange:Q=>ct("direccion",Q.target.value),placeholder:"Ej: Calle 123 # 45-67",className:V.direccion&&!E.direccion?"border-green-500":E.direccion?"border-red-500":""}),E.direccion&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:E.direccion})]}),V.direccion&&!E.direccion&&o.jsx("p",{className:"text-green-600 text-xs",children:" Direccin vlida"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"password",children:_?"Contrasea (dejar en blanco para no cambiar)":"Contrasea"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{id:"password",type:D?"text":"password",value:V.password,onChange:Q=>ct("password",Q.target.value),placeholder:_?"Dejar en blanco para no cambiar":"Mnimo 6 caracteres",className:V.password&&!E.password?"border-green-500":E.password?"border-red-500":"",required:!_}),o.jsx("button",{type:"button",onClick:()=>I(!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:D?o.jsx(Pc,{size:20}):o.jsx(ma,{size:20})})]}),E.password&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:E.password})]}),V.password&&!E.password&&o.jsx("p",{className:"text-green-600 text-xs",children:" Contrasea vlida"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"confirmPassword",children:"Repetir Contrasea"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{id:"confirmPassword",type:z?"text":"password",value:V.confirmPassword,onChange:Q=>ct("confirmPassword",Q.target.value),placeholder:"Repetir contrasea",className:V.confirmPassword&&!E.confirmPassword&&V.password===V.confirmPassword?"border-green-500":E.confirmPassword?"border-red-500":"",required:!_}),o.jsx("button",{type:"button",onClick:()=>W(!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:z?o.jsx(Pc,{size:20}):o.jsx(ma,{size:20})})]}),E.confirmPassword&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Br,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-red-500 text-sm",children:E.confirmPassword})]}),V.password&&V.confirmPassword&&!E.confirmPassword&&o.jsx("p",{className:"text-green-600 text-xs",children:" Las contraseas coinciden"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Er,{htmlFor:"estado",children:"Estado"}),o.jsxs(tg,{value:V.estado,onChange:Q=>K({...V,estado:Q.target.value}),children:[o.jsx("option",{value:"Activo",children:"Activo"}),o.jsx("option",{value:"Inactivo",children:"Inactivo"})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancelar"}),o.jsx(mt,{type:"submit",className:"bg-black hover:bg-gray-800",children:_?"Actualizar":"Crear"})]})]})}),o.jsx(er,{isOpen:S,onClose:()=>C(!1),title:"Detalles del Usuario",children:_&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Er,{className:"text-gray-600",children:"Nombre"}),o.jsx("p",{className:"text-gray-900",children:_.nombre})]}),o.jsxs("div",{children:[o.jsx(Er,{className:"text-gray-600",children:"Documento"}),o.jsx("p",{className:"text-gray-900",children:_.documento})]}),o.jsxs("div",{children:[o.jsx(Er,{className:"text-gray-600",children:"Email"}),o.jsx("p",{className:"text-gray-900",children:_.email})]}),o.jsxs("div",{children:[o.jsx(Er,{className:"text-gray-600",children:"Rol"}),o.jsx("p",{className:"text-gray-900",children:_.rol})]}),o.jsxs("div",{children:[o.jsx(Er,{className:"text-gray-600",children:"Estado"}),o.jsx(rg,{variant:_.estado==="Activo"?"success":"default",children:_.estado})]}),o.jsxs("div",{children:[o.jsx(Er,{className:"text-gray-600",children:"Fecha de Creacin"}),o.jsx("p",{className:"text-gray-900",children:_.fechaCreacion})]}),o.jsxs("div",{children:[o.jsx(Er,{className:"text-gray-600",children:"Creado por"}),o.jsx("p",{className:"text-gray-900",children:_.creadoPor})]})]})}),o.jsx(er,{isOpen:P,onClose:()=>R(!1),title:"Confirmar Eliminacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Br,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 font-medium",children:"Deseas eliminar este usuario?"}),o.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Esta accin no se puede deshacer. El usuario ",o.jsx("strong",{children:_?.nombre})," ser eliminado permanentemente del sistema."]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Cancelar"}),o.jsxs(mt,{type:"button",className:"bg-red-600 hover:bg-red-700",onClick:ue,children:[o.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})}),o.jsx(er,{isOpen:L,onClose:()=>q(!1),title:_?.estado==="Activo"?"Desactivar Usuario":"Activar Usuario",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Br,{className:`w-6 h-6 flex-shrink-0 mt-0.5 ${_?.estado==="Activo"?"text-orange-500":"text-blue-500"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 font-medium",children:_?.estado==="Activo"?"Ests seguro de que deseas desactivar este usuario?":"Ests seguro de que deseas activar este usuario?"}),o.jsx("p",{className:"text-gray-600 text-sm mt-2",children:_?.estado==="Activo"?o.jsxs(o.Fragment,{children:["El usuario ",o.jsx("strong",{children:_?.nombre})," ser desactivado y no podr acceder al sistema."]}):o.jsxs(o.Fragment,{children:["El usuario ",o.jsx("strong",{children:_?.nombre})," ser activado y podr acceder al sistema nuevamente."]})}),_?.estado==="Activo"&&o.jsx("p",{className:"text-orange-600 text-xs mt-2 bg-orange-50 p-2 rounded",children:" Esta accin desactivar el usuario temporalmente. Podrs reactivarlo en cualquier momento."})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{type:"button",variant:"outline",onClick:()=>q(!1),children:"Cancelar"}),o.jsx(mt,{type:"button",className:_?.estado==="Activo"?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700",onClick:De,children:_?.estado==="Activo"?o.jsxs(o.Fragment,{children:[o.jsx(Wj,{className:"w-4 h-4 mr-2"}),"Desactivar Usuario"]}):o.jsxs(o.Fragment,{children:[o.jsx(kc,{className:"w-4 h-4 mr-2"}),"Activar Usuario"]})})]})]})})]})}function K_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function NN(...e){return t=>{let r=!1;const n=e.map(a=>{const i=K_(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():K_(e[a],null)}}}}function Ku(...e){return M.useCallback(NN(...e),e)}const pX=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},mX=(e,t)=>({classGroupId:e,validator:t}),DI=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),l0="-",J_=[],gX="arbitrary..",vX=e=>{const t=xX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return yX(s);const c=s.split(l0),d=c[0]===""&&c.length>1?1:0;return MI(c,d,t)},getConflictingClassGroupIds:(s,c)=>{if(c){const d=n[s],f=r[s];return d?f?pX(f,d):d:f||J_}return r[s]||J_}}},MI=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const f=MI(e,t+1,i);if(f)return f}const s=r.validators;if(s===null)return;const c=t===0?e.join(l0):e.slice(t).join(l0),d=s.length;for(let f=0;f<d;f++){const p=s[f];if(p.validator(c))return p.classGroupId}},yX=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?gX+n:void 0})(),xX=e=>{const{theme:t,classGroups:r}=e;return bX(r,t)},bX=(e,t)=>{const r=DI();for(const n in e){const a=e[n];jN(a,r,n,t)}return r},jN=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const s=e[i];wX(s,t,r,n)}},wX=(e,t,r,n)=>{if(typeof e=="string"){NX(e,t,r);return}if(typeof e=="function"){jX(e,t,r,n);return}SX(e,t,r,n)},NX=(e,t,r)=>{const n=e===""?t:RI(t,e);n.classGroupId=r},jX=(e,t,r,n)=>{if(CX(e)){jN(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(mX(r,e))},SX=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let s=0;s<i;s++){const[c,d]=a[s];jN(d,RI(t,c),r,n)}},RI=(e,t)=>{let r=e;const n=t.split(l0),a=n.length;for(let i=0;i<a;i++){const s=n[i];let c=r.nextPart.get(s);c||(c=DI(),r.nextPart.set(s,c)),r=c}return r},CX=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,AX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,s)=>{r[i]=s,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let s=r[i];if(s!==void 0)return s;if((s=n[i])!==void 0)return a(i,s),s},set(i,s){i in r?r[i]=s:a(i,s)}}},Yw="!",Y_=":",PX=[],X_=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),_X=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let s=0,c=0,d=0,f;const p=a.length;for(let x=0;x<p;x++){const w=a[x];if(s===0&&c===0){if(w===Y_){i.push(a.slice(d,x)),d=x+1;continue}if(w==="/"){f=x;continue}}w==="["?s++:w==="]"?s--:w==="("?c++:w===")"&&c--}const h=i.length===0?a:a.slice(d);let y=h,g=!1;h.endsWith(Yw)?(y=h.slice(0,-1),g=!0):h.startsWith(Yw)&&(y=h.slice(1),g=!0);const j=f&&f>d?f-d:void 0;return X_(i,g,y,j)};if(t){const a=t+Y_,i=n;n=s=>s.startsWith(a)?i(s.slice(a.length)):X_(PX,!1,s,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},EX=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const s=r[i],c=s[0]==="[",d=t.has(s);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(s)):a.push(s)}return a.length>0&&(a.sort(),n.push(...a)),n}},OX=e=>({cache:AX(e.cacheSize),parseClassName:_X(e),sortModifiers:EX(e),...vX(e)}),kX=/\s+/,IX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],c=e.trim().split(kX);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:h,modifiers:y,hasImportantModifier:g,baseClassName:j,maybePostfixModifierPosition:x}=r(p);if(h){d=p+(d.length>0?" "+d:d);continue}let w=!!x,S=n(w?j.substring(0,x):j);if(!S){if(!w){d=p+(d.length>0?" "+d:d);continue}if(S=n(j),!S){d=p+(d.length>0?" "+d:d);continue}w=!1}const C=y.length===0?"":y.length===1?y[0]:i(y).join(":"),P=g?C+Yw:C,R=P+S;if(s.indexOf(R)>-1)continue;s.push(R);const L=a(S,w);for(let q=0;q<L.length;++q){const _=L[q];s.push(P+_)}d=p+(d.length>0?" "+d:d)}return d},LX=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=$I(r))&&(a&&(a+=" "),a+=n);return a},$I=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$I(e[n]))&&(r&&(r+=" "),r+=t);return r},TX=(e,...t)=>{let r,n,a,i;const s=d=>{const f=t.reduce((p,h)=>h(p),e());return r=OX(f),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const f=n(d);if(f)return f;const p=IX(d,r);return a(d,p),p};return i=s,(...d)=>i(LX(...d))},DX=[],Qn=e=>{const t=r=>r[e]||DX;return t.isThemeGetter=!0,t},FI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,MX=/^\d+\/\d+$/,RX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$X=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Id=e=>MX.test(e),Nr=e=>!!e&&!Number.isNaN(Number(e)),yc=e=>!!e&&Number.isInteger(Number(e)),Y1=e=>e.endsWith("%")&&Nr(e.slice(0,-1)),fl=e=>RX.test(e),qX=()=>!0,UX=e=>$X.test(e)&&!FX.test(e),BI=()=>!1,VX=e=>zX.test(e),WX=e=>BX.test(e),HX=e=>!qt(e)&&!Ut(e),GX=e=>Bf(e,VI,BI),qt=e=>FI.test(e),bu=e=>Bf(e,WI,UX),X1=e=>Bf(e,ZX,Nr),Z_=e=>Bf(e,qI,BI),KX=e=>Bf(e,UI,WX),Lm=e=>Bf(e,HI,VX),Ut=e=>zI.test(e),xh=e=>qf(e,WI),JX=e=>qf(e,QX),Q_=e=>qf(e,qI),YX=e=>qf(e,VI),XX=e=>qf(e,UI),Tm=e=>qf(e,HI,!0),Bf=(e,t,r)=>{const n=FI.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},qf=(e,t,r=!1)=>{const n=zI.exec(e);return n?n[1]?t(n[1]):r:!1},qI=e=>e==="position"||e==="percentage",UI=e=>e==="image"||e==="url",VI=e=>e==="length"||e==="size"||e==="bg-size",WI=e=>e==="length",ZX=e=>e==="number",QX=e=>e==="family-name",HI=e=>e==="shadow",eZ=()=>{const e=Qn("color"),t=Qn("font"),r=Qn("text"),n=Qn("font-weight"),a=Qn("tracking"),i=Qn("leading"),s=Qn("breakpoint"),c=Qn("container"),d=Qn("spacing"),f=Qn("radius"),p=Qn("shadow"),h=Qn("inset-shadow"),y=Qn("text-shadow"),g=Qn("drop-shadow"),j=Qn("blur"),x=Qn("perspective"),w=Qn("aspect"),S=Qn("ease"),C=Qn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...R(),Ut,qt],q=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],B=()=>[Ut,qt,d],V=()=>[Id,"full","auto",...B()],K=()=>[yc,"none","subgrid",Ut,qt],E=()=>["auto",{span:["full",yc,Ut,qt]},yc,Ut,qt],$=()=>[yc,"auto",Ut,qt],D=()=>["auto","min","max","fr",Ut,qt],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...B()],ee=()=>[Id,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],G=()=>[e,Ut,qt],ie=()=>[...R(),Q_,Z_,{position:[Ut,qt]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",YX,GX,{size:[Ut,qt]}],T=()=>[Y1,xh,bu],J=()=>["","none","full",f,Ut,qt],Y=()=>["",Nr,xh,bu],H=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[Nr,Y1,Q_,Z_],be=()=>["","none",j,Ut,qt],ge=()=>["none",Nr,Ut,qt],Te=()=>["none",Nr,Ut,qt],ze=()=>[Nr,Ut,qt],ue=()=>[Id,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fl],breakpoint:[fl],color:[qX],container:[fl],"drop-shadow":[fl],ease:["in","out","in-out"],font:[HX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fl],shadow:[fl],spacing:["px",Nr],text:[fl],"text-shadow":[fl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Id,qt,Ut,w]}],container:["container"],columns:[{columns:[Nr,qt,Ut,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[yc,"auto",Ut,qt]}],basis:[{basis:[Id,"full","auto",c,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Nr,Id,"auto","initial","none",qt]}],grow:[{grow:["",Nr,Ut,qt]}],shrink:[{shrink:["",Nr,Ut,qt]}],order:[{order:[yc,"first","last","none",Ut,qt]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[s]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",r,xh,bu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ut,X1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Y1,qt]}],"font-family":[{font:[JX,qt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ut,qt]}],"line-clamp":[{"line-clamp":[Nr,"none",Ut,X1]}],leading:[{leading:[i,...B()]}],"list-image":[{"list-image":["none",Ut,qt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ut,qt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[Nr,"from-font","auto",Ut,bu]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Nr,"auto",Ut,qt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut,qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut,qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},yc,Ut,qt],radial:["",Ut,qt],conic:[yc,Ut,qt]},XX,KX]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Nr,Ut,qt]}],"outline-w":[{outline:["",Nr,xh,bu]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",p,Tm,Lm]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",h,Tm,Lm]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Nr,bu]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",y,Tm,Lm]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Nr,Ut,qt]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Nr]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ut,qt]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Nr]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ut,qt]}],filter:[{filter:["","none",Ut,qt]}],blur:[{blur:be()}],brightness:[{brightness:[Nr,Ut,qt]}],contrast:[{contrast:[Nr,Ut,qt]}],"drop-shadow":[{"drop-shadow":["","none",g,Tm,Lm]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Nr,Ut,qt]}],"hue-rotate":[{"hue-rotate":[Nr,Ut,qt]}],invert:[{invert:["",Nr,Ut,qt]}],saturate:[{saturate:[Nr,Ut,qt]}],sepia:[{sepia:["",Nr,Ut,qt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ut,qt]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Nr,Ut,qt]}],"backdrop-contrast":[{"backdrop-contrast":[Nr,Ut,qt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Nr,Ut,qt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Nr,Ut,qt]}],"backdrop-invert":[{"backdrop-invert":["",Nr,Ut,qt]}],"backdrop-opacity":[{"backdrop-opacity":[Nr,Ut,qt]}],"backdrop-saturate":[{"backdrop-saturate":[Nr,Ut,qt]}],"backdrop-sepia":[{"backdrop-sepia":["",Nr,Ut,qt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ut,qt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Nr,"initial",Ut,qt]}],ease:[{ease:["linear","initial",S,Ut,qt]}],delay:[{delay:[Nr,Ut,qt]}],animate:[{animate:["none",C,Ut,qt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ut,qt]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Ut,qt,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut,qt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut,qt]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Nr,xh,bu,X1]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tZ=TX(eZ);function rZ(...e){return tZ(br(e))}function Oc(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function nZ(e,t){const r=M.createContext(t),n=i=>{const{children:s,...c}=i,d=M.useMemo(()=>c,Object.values(c));return o.jsx(r.Provider,{value:d,children:s})};n.displayName=e+"Provider";function a(i){const s=M.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function aZ(e,t=[]){let r=[];function n(i,s){const c=M.createContext(s),d=r.length;r=[...r,s];const f=h=>{const{scope:y,children:g,...j}=h,x=y?.[e]?.[d]||c,w=M.useMemo(()=>j,Object.values(j));return o.jsx(x.Provider,{value:w,children:g})};f.displayName=i+"Provider";function p(h,y){const g=y?.[e]?.[d]||c,j=M.useContext(g);if(j)return j;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[f,p]}const a=()=>{const i=r.map(s=>M.createContext(s));return function(c){const d=c?.[e]||i;return M.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,oZ(a,...t)]}function oZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((c,{useScope:d,scopeName:f})=>{const h=d(i)[`__scope${f}`];return{...c,...h}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var e6=globalThis?.document?M.useLayoutEffect:()=>{};function iZ(e){const t=sZ(e),r=M.forwardRef((n,a)=>{const{children:i,...s}=n,c=M.Children.toArray(i),d=c.find(cZ);if(d){const f=d.props.children,p=c.map(h=>h===d?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function sZ(e){const t=M.forwardRef((r,n)=>{const{children:a,...i}=r;if(M.isValidElement(a)){const s=dZ(a),c=uZ(i,a.props);return a.type!==M.Fragment&&(c.ref=n?NN(n,s):s),M.cloneElement(a,c)}return M.Children.count(a)>1?M.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lZ=Symbol("radix.slottable");function cZ(e){return M.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lZ}function uZ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function dZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zc=fZ.reduce((e,t)=>{const r=iZ(`Primitive.${t}`),n=M.forwardRef((a,i)=>{const{asChild:s,...c}=a,d=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hZ(e,t){e&&yW.flushSync(()=>e.dispatchEvent(t))}function jp(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...r)=>t.current?.(...r),[])}function pZ(e,t=globalThis?.document){const r=jp(e);M.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mZ="DismissableLayer",Xw="dismissableLayer.update",gZ="dismissableLayer.pointerDownOutside",vZ="dismissableLayer.focusOutside",t6,GI=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),KI=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:c,...d}=e,f=M.useContext(GI),[p,h]=M.useState(null),y=p?.ownerDocument??globalThis?.document,[,g]=M.useState({}),j=Ku(t,_=>h(_)),x=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(w),C=p?x.indexOf(p):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,R=C>=S,L=bZ(_=>{const B=_.target,V=[...f.branches].some(K=>K.contains(B));!R||V||(a?.(_),s?.(_),_.defaultPrevented||c?.())},y),q=wZ(_=>{const B=_.target;[...f.branches].some(K=>K.contains(B))||(i?.(_),s?.(_),_.defaultPrevented||c?.())},y);return pZ(_=>{C===f.layers.size-1&&(n?.(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},y),M.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(t6=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),r6(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=t6)}},[p,y,r,f]),M.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),r6())},[p,f]),M.useEffect(()=>{const _=()=>g({});return document.addEventListener(Xw,_),()=>document.removeEventListener(Xw,_)},[]),o.jsx(zc.div,{...d,ref:j,style:{pointerEvents:P?R?"auto":"none":void 0,...e.style},onFocusCapture:Oc(e.onFocusCapture,q.onFocusCapture),onBlurCapture:Oc(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:Oc(e.onPointerDownCapture,L.onPointerDownCapture)})});KI.displayName=mZ;var yZ="DismissableLayerBranch",xZ=M.forwardRef((e,t)=>{const r=M.useContext(GI),n=M.useRef(null),a=Ku(t,n);return M.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(zc.div,{...e,ref:a})});xZ.displayName=yZ;function bZ(e,t=globalThis?.document){const r=jp(e),n=M.useRef(!1),a=M.useRef(()=>{});return M.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){JI(gZ,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wZ(e,t=globalThis?.document){const r=jp(e),n=M.useRef(!1);return M.useEffect(()=>{const a=i=>{i.target&&!n.current&&JI(vZ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function r6(){const e=new CustomEvent(Xw);document.dispatchEvent(e)}function JI(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?hZ(a,i):a.dispatchEvent(i)}var Z1="focusScope.autoFocusOnMount",Q1="focusScope.autoFocusOnUnmount",n6={bubbles:!1,cancelable:!0},NZ="FocusScope",YI=M.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[c,d]=M.useState(null),f=jp(a),p=jp(i),h=M.useRef(null),y=Ku(t,x=>d(x)),g=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let x=function(P){if(g.paused||!c)return;const R=P.target;c.contains(R)?h.current=R:Nc(h.current,{select:!0})},w=function(P){if(g.paused||!c)return;const R=P.relatedTarget;R!==null&&(c.contains(R)||Nc(h.current,{select:!0}))},S=function(P){if(document.activeElement===document.body)for(const L of P)L.removedNodes.length>0&&Nc(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const C=new MutationObserver(S);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),C.disconnect()}}},[n,c,g.paused]),M.useEffect(()=>{if(c){o6.add(g);const x=document.activeElement;if(!c.contains(x)){const S=new CustomEvent(Z1,n6);c.addEventListener(Z1,f),c.dispatchEvent(S),S.defaultPrevented||(jZ(_Z(XI(c)),{select:!0}),document.activeElement===x&&Nc(c))}return()=>{c.removeEventListener(Z1,f),setTimeout(()=>{const S=new CustomEvent(Q1,n6);c.addEventListener(Q1,p),c.dispatchEvent(S),S.defaultPrevented||Nc(x??document.body,{select:!0}),c.removeEventListener(Q1,p),o6.remove(g)},0)}}},[c,f,p,g]);const j=M.useCallback(x=>{if(!r&&!n||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(w&&S){const C=x.currentTarget,[P,R]=SZ(C);P&&R?!x.shiftKey&&S===R?(x.preventDefault(),r&&Nc(P,{select:!0})):x.shiftKey&&S===P&&(x.preventDefault(),r&&Nc(R,{select:!0})):S===C&&x.preventDefault()}},[r,n,g.paused]);return o.jsx(zc.div,{tabIndex:-1,...s,ref:y,onKeyDown:j})});YI.displayName=NZ;function jZ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Nc(n,{select:t}),document.activeElement!==r)return}function SZ(e){const t=XI(e),r=a6(t,e),n=a6(t.reverse(),e);return[r,n]}function XI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function a6(e,t){for(const r of e)if(!CZ(r,{upTo:t}))return r}function CZ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AZ(e){return e instanceof HTMLInputElement&&"select"in e}function Nc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&AZ(e)&&t&&e.select()}}var o6=PZ();function PZ(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=i6(e,t),e.unshift(t)},remove(t){e=i6(e,t),e[0]?.resume()}}}function i6(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _Z(e){return e.filter(t=>t.tagName!=="A")}function EZ(e,t){return M.useReducer((r,n)=>t[r][n]??r,e)}var SN=e=>{const{present:t,children:r}=e,n=OZ(t),a=typeof r=="function"?r({present:n.isPresent}):M.Children.only(r),i=Ku(n.ref,kZ(a));return typeof r=="function"||n.isPresent?M.cloneElement(a,{ref:i}):null};SN.displayName="Presence";function OZ(e){const[t,r]=M.useState(),n=M.useRef(null),a=M.useRef(e),i=M.useRef("none"),s=e?"mounted":"unmounted",[c,d]=EZ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const f=Dm(n.current);i.current=c==="mounted"?f:"none"},[c]),e6(()=>{const f=n.current,p=a.current;if(p!==e){const y=i.current,g=Dm(f);e?d("MOUNT"):g==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&y!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),e6(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,h=g=>{const x=Dm(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&x&&(d("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},y=g=>{g.target===t&&(i.current=Dm(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:M.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Dm(e){return e?.animationName||"none"}function kZ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var e2=0;function IZ(){M.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??s6()),document.body.insertAdjacentElement("beforeend",e[1]??s6()),e2++,()=>{e2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),e2--}},[])}function s6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ws=function(){return ws=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ws.apply(this,arguments)};function ZI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function LZ(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ng="right-scroll-bar-position",ag="width-before-scroll-bar",TZ="with-scroll-bars-hidden",DZ="--removed-body-scroll-bar-size";function t2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function MZ(e,t){var r=M.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var RZ=typeof window<"u"?M.useLayoutEffect:M.useEffect,l6=new WeakMap;function $Z(e,t){var r=MZ(null,function(n){return e.forEach(function(a){return t2(a,n)})});return RZ(function(){var n=l6.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(c){i.has(c)||t2(c,null)}),i.forEach(function(c){a.has(c)||t2(c,s)})}l6.set(r,e)},[e]),r}function FZ(e){return e}function zZ(e,t){t===void 0&&(t=FZ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(c){return c!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var c=r;r=[],c.forEach(i),s=r}var d=function(){var p=s;s=[],p.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(p){s.push(p),f()},filter:function(p){return s=s.filter(p),r}}}};return a}function BZ(e){e===void 0&&(e={});var t=zZ(null);return t.options=ws({async:!0,ssr:!1},e),t}var QI=function(e){var t=e.sideCar,r=ZI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,ws({},r))};QI.isSideCarExport=!0;function qZ(e,t){return e.useMedium(t),QI}var eL=BZ(),r2=function(){},Z0=M.forwardRef(function(e,t){var r=M.useRef(null),n=M.useState({onScrollCapture:r2,onWheelCapture:r2,onTouchMoveCapture:r2}),a=n[0],i=n[1],s=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,h=e.shards,y=e.sideCar,g=e.noRelative,j=e.noIsolation,x=e.inert,w=e.allowPinchZoom,S=e.as,C=S===void 0?"div":S,P=e.gapMode,R=ZI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=y,q=$Z([r,t]),_=ws(ws({},R),a);return M.createElement(M.Fragment,null,p&&M.createElement(L,{sideCar:eL,removeScrollBar:f,shards:h,noRelative:g,noIsolation:j,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:P}),s?M.cloneElement(M.Children.only(c),ws(ws({},_),{ref:q})):M.createElement(C,ws({},_,{className:d,ref:q}),c))});Z0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Z0.classNames={fullWidth:ag,zeroRight:ng};var UZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VZ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UZ();return t&&e.setAttribute("nonce",t),e}function WZ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var GZ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=VZ())&&(WZ(t,r),HZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KZ=function(){var e=GZ();return function(t,r){M.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},tL=function(){var e=KZ(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},JZ={left:0,top:0,right:0,gap:0},n2=function(e){return parseInt(e||"",10)||0},YZ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[n2(r),n2(n),n2(a)]},XZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JZ;var t=YZ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ZZ=tL(),Qd="data-scroll-locked",QZ=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(TZ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Qd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ng,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(ag,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(ng," .").concat(ng,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ag," .").concat(ag,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Qd,`] {
    `).concat(DZ,": ").concat(c,`px;
  }
`)},c6=function(){var e=parseInt(document.body.getAttribute(Qd)||"0",10);return isFinite(e)?e:0},eQ=function(){M.useEffect(function(){return document.body.setAttribute(Qd,(c6()+1).toString()),function(){var e=c6()-1;e<=0?document.body.removeAttribute(Qd):document.body.setAttribute(Qd,e.toString())}},[])},tQ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;eQ();var i=M.useMemo(function(){return XZ(a)},[a]);return M.createElement(ZZ,{styles:QZ(i,!t,a,r?"":"!important")})},Zw=!1;if(typeof window<"u")try{var Mm=Object.defineProperty({},"passive",{get:function(){return Zw=!0,!0}});window.addEventListener("test",Mm,Mm),window.removeEventListener("test",Mm,Mm)}catch{Zw=!1}var Ld=Zw?{passive:!1}:!1,rQ=function(e){return e.tagName==="TEXTAREA"},rL=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!rQ(e)&&r[t]==="visible")},nQ=function(e){return rL(e,"overflowY")},aQ=function(e){return rL(e,"overflowX")},u6=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=nL(e,n);if(a){var i=aL(e,n),s=i[1],c=i[2];if(s>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oQ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},iQ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},nL=function(e,t){return e==="v"?nQ(t):aQ(t)},aL=function(e,t){return e==="v"?oQ(t):iQ(t)},sQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},lQ=function(e,t,r,n,a){var i=sQ(e,window.getComputedStyle(t).direction),s=i*n,c=r.target,d=t.contains(c),f=!1,p=s>0,h=0,y=0;do{if(!c)break;var g=aL(e,c),j=g[0],x=g[1],w=g[2],S=x-w-i*j;(j||S)&&nL(e,c)&&(h+=S,y+=j);var C=c.parentNode;c=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(p&&Math.abs(h)<1||!p&&Math.abs(y)<1)&&(f=!0),f},Rm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},d6=function(e){return[e.deltaX,e.deltaY]},f6=function(e){return e&&"current"in e?e.current:e},cQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dQ=0,Td=[];function fQ(e){var t=M.useRef([]),r=M.useRef([0,0]),n=M.useRef(),a=M.useState(dQ++)[0],i=M.useState(tL)[0],s=M.useRef(e);M.useEffect(function(){s.current=e},[e]),M.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=LZ([e.lockRef.current],(e.shards||[]).map(f6),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=M.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var S=Rm(x),C=r.current,P="deltaX"in x?x.deltaX:C[0]-S[0],R="deltaY"in x?x.deltaY:C[1]-S[1],L,q=x.target,_=Math.abs(P)>Math.abs(R)?"h":"v";if("touches"in x&&_==="h"&&q.type==="range")return!1;var B=u6(_,q);if(!B)return!0;if(B?L=_:(L=_==="v"?"h":"v",B=u6(_,q)),!B)return!1;if(!n.current&&"changedTouches"in x&&(P||R)&&(n.current=L),!L)return!0;var V=n.current||L;return lQ(V,w,x,V==="h"?P:R)},[]),d=M.useCallback(function(x){var w=x;if(!(!Td.length||Td[Td.length-1]!==i)){var S="deltaY"in w?d6(w):Rm(w),C=t.current.filter(function(L){return L.name===w.type&&(L.target===w.target||w.target===L.shadowParent)&&cQ(L.delta,S)})[0];if(C&&C.should){w.cancelable&&w.preventDefault();return}if(!C){var P=(s.current.shards||[]).map(f6).filter(Boolean).filter(function(L){return L.contains(w.target)}),R=P.length>0?c(w,P[0]):!s.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),f=M.useCallback(function(x,w,S,C){var P={name:x,delta:w,target:S,should:C,shadowParent:hQ(S)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(R){return R!==P})},1)},[]),p=M.useCallback(function(x){r.current=Rm(x),n.current=void 0},[]),h=M.useCallback(function(x){f(x.type,d6(x),x.target,c(x,e.lockRef.current))},[]),y=M.useCallback(function(x){f(x.type,Rm(x),x.target,c(x,e.lockRef.current))},[]);M.useEffect(function(){return Td.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Ld),document.addEventListener("touchmove",d,Ld),document.addEventListener("touchstart",p,Ld),function(){Td=Td.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Ld),document.removeEventListener("touchmove",d,Ld),document.removeEventListener("touchstart",p,Ld)}},[]);var g=e.removeScrollBar,j=e.inert;return M.createElement(M.Fragment,null,j?M.createElement(i,{styles:uQ(a)}):null,g?M.createElement(tQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pQ=qZ(eL,fQ);var oL=M.forwardRef(function(e,t){return M.createElement(Z0,ws({},e,{ref:t,sideCar:pQ}))});oL.classNames=Z0.classNames;var mQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dd=new WeakMap,$m=new WeakMap,Fm={},a2=0,iL=function(e){return e&&(e.host||iL(e.parentNode))},gQ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=iL(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},vQ=function(e,t,r,n){var a=gQ(t,Array.isArray(e)?e:[e]);Fm[r]||(Fm[r]=new WeakMap);var i=Fm[r],s=[],c=new Set,d=new Set(a),f=function(h){!h||c.has(h)||(c.add(h),f(h.parentNode))};a.forEach(f);var p=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(y){if(c.has(y))p(y);else try{var g=y.getAttribute(n),j=g!==null&&g!=="false",x=(Dd.get(y)||0)+1,w=(i.get(y)||0)+1;Dd.set(y,x),i.set(y,w),s.push(y),x===1&&j&&$m.set(y,!0),w===1&&y.setAttribute(r,"true"),j||y.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",y,S)}})};return p(t),c.clear(),a2++,function(){s.forEach(function(h){var y=Dd.get(h)-1,g=i.get(h)-1;Dd.set(h,y),i.set(h,g),y||($m.has(h)||h.removeAttribute(n),$m.delete(h)),g||h.removeAttribute(r)}),a2--,a2||(Dd=new WeakMap,Dd=new WeakMap,$m=new WeakMap,Fm={})}},yQ=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=mQ(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),vQ(n,a,r,"aria-hidden")):function(){return null}};function xQ(e){const t=bQ(e),r=M.forwardRef((n,a)=>{const{children:i,...s}=n,c=M.Children.toArray(i),d=c.find(NQ);if(d){const f=d.props.children,p=c.map(h=>h===d?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:h);return o.jsx(t,{...s,ref:a,children:M.isValidElement(f)?M.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function bQ(e){const t=M.forwardRef((r,n)=>{const{children:a,...i}=r;if(M.isValidElement(a)){const s=SQ(a),c=jQ(i,a.props);return a.type!==M.Fragment&&(c.ref=n?NN(n,s):s),M.cloneElement(a,c)}return M.Children.count(a)>1?M.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wQ=Symbol("radix.slottable");function NQ(e){return M.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wQ}function jQ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function SQ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sL="Dialog",[lL]=aZ(sL),[nre,Is]=lL(sL),cL="DialogTrigger",CQ=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Is(cL,r),i=Ku(t,a.triggerRef);return o.jsx(zc.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":AN(a.open),...n,ref:i,onClick:Oc(e.onClick,a.onOpenToggle)})});CQ.displayName=cL;var AQ="DialogPortal",[are,uL]=lL(AQ,{forceMount:void 0}),c0="DialogOverlay",dL=M.forwardRef((e,t)=>{const r=uL(c0,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Is(c0,e.__scopeDialog);return i.modal?o.jsx(SN,{present:n||i.open,children:o.jsx(_Q,{...a,ref:t})}):null});dL.displayName=c0;var PQ=xQ("DialogOverlay.RemoveScroll"),_Q=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Is(c0,r);return o.jsx(oL,{as:PQ,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(zc.div,{"data-state":AN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Bu="DialogContent",EQ=M.forwardRef((e,t)=>{const r=uL(Bu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Is(Bu,e.__scopeDialog);return o.jsx(SN,{present:n||i.open,children:i.modal?o.jsx(OQ,{...a,ref:t}):o.jsx(kQ,{...a,ref:t})})});EQ.displayName=Bu;var OQ=M.forwardRef((e,t)=>{const r=Is(Bu,e.__scopeDialog),n=M.useRef(null),a=Ku(t,r.contentRef,n);return M.useEffect(()=>{const i=n.current;if(i)return yQ(i)},[]),o.jsx(fL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oc(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Oc(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&i.preventDefault()}),onFocusOutside:Oc(e.onFocusOutside,i=>i.preventDefault())})}),kQ=M.forwardRef((e,t)=>{const r=Is(Bu,e.__scopeDialog),n=M.useRef(!1),a=M.useRef(!1);return o.jsx(fL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;r.triggerRef.current?.contains(s)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),fL=M.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,c=Is(Bu,r),d=M.useRef(null),f=Ku(t,d);return IZ(),o.jsxs(o.Fragment,{children:[o.jsx(YI,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(KI,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":AN(c.open),...s,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(DQ,{titleId:c.titleId}),o.jsx(RQ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),CN="DialogTitle",IQ=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Is(CN,r);return o.jsx(zc.h2,{id:a.titleId,...n,ref:t})});IQ.displayName=CN;var hL="DialogDescription",LQ=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Is(hL,r);return o.jsx(zc.p,{id:a.descriptionId,...n,ref:t})});LQ.displayName=hL;var pL="DialogClose",TQ=M.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Is(pL,r);return o.jsx(zc.button,{type:"button",...n,ref:t,onClick:Oc(e.onClick,()=>a.onOpenChange(!1))})});TQ.displayName=pL;function AN(e){return e?"open":"closed"}var mL="DialogTitleWarning",[ore,gL]=nZ(mL,{contentName:Bu,titleName:CN,docsSlug:"dialog"}),DQ=({titleId:e})=>{const t=gL(mL),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return M.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},MQ="DialogDescriptionWarning",RQ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gL(MQ).contentName}}.`;return M.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},$Q=dL;function FQ({className:e,...t},r){return o.jsx($Q,{ref:r,"data-slot":"dialog-overlay",className:rZ("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[999998] bg-black/50",e),...t})}M.forwardRef(FQ);function zQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let Qw=1;class BQ{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Qw++,s=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,s;const c=a.then(async f=>{if(s=["resolve",f],Pe.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(UQ(f)&&!f.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,j=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:y,...j})}else if(f instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,y=typeof r.description=="function"?await r.description(f):r.description,j=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:y,...j})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(f):r.success,y=typeof r.description=="function"?await r.description(f):r.description,j=typeof h=="object"&&!Pe.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:y,...j})}}).catch(async f=>{if(s=["reject",f],r.error!==void 0){i=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,g=typeof p=="object"&&!Pe.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,...g})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,p)=>c.then(()=>s[0]==="reject"?p(s[1]):f(s[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||Qw++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const fi=new BQ,qQ=(e,t)=>{const r=t?.id||Qw++;return fi.addToast({title:e,...t,id:r}),r},UQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",VQ=qQ,WQ=()=>fi.toasts,HQ=()=>fi.getActiveToasts();Object.assign(VQ,{success:fi.success,info:fi.info,warning:fi.warning,error:fi.error,custom:fi.custom,message:fi.message,promise:fi.promise,dismiss:fi.dismiss,loading:fi.loading},{getHistory:WQ,getToasts:HQ});zQ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();function GQ(){const{user:e}=wN(),[t,r]=M.useState(null),[n,a]=M.useState(!0),[i,s]=M.useState(""),c=M.useCallback(g=>g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),[]),d=M.useCallback(()=>{if(i)return i;if(e?.role)return console.log(" [usePermissions.getUserRole] User role from AuthContext:",e.role),e.role;const g=localStorage.getItem("damabella_user");if(g)try{const j=JSON.parse(g);if(j.role)return console.log(" [usePermissions.getUserRole] User role from localStorage['damabella_user']:",j.role),j.role}catch(j){console.error("Error parsing saved user:",j)}try{const j=localStorage.getItem("damabella_users");if(j&&JSON.parse(j).find(S=>(S.nombre==="Administrador Damabella"||S.name==="Administrador Damabella")&&(S.activo===!0||S.estado==="Activo")))return console.log(" [usePermissions.getUserRole] Detected admin from damabella_users"),"Administrador"}catch(j){console.error("Error detecting admin:",j)}return console.warn(" [usePermissions.getUserRole] No role found anywhere"),""},[i,e?.role]);M.useEffect(()=>{const g=()=>{try{console.log(" [usePermissions.loadUserRole] INICIANDO - user?.role:",e?.role);let x="";if(e?.role)x=e.role,console.log(" [usePermissions.loadUserRole] Rol desde AuthContext:",x);else{const S=localStorage.getItem("damabella_user");if(S)try{const C=JSON.parse(S);C.role&&(x=C.role,console.log(" [usePermissions.loadUserRole] Rol desde localStorage['damabella_user']:",x))}catch(C){console.error(" [usePermissions.loadUserRole] Error parsing saved user:",C)}}if(!x){console.warn(" [usePermissions.loadUserRole] No se encontr rol de usuario, buscando en damabella_users...");const S=localStorage.getItem("damabella_users");if(S)try{const P=JSON.parse(S).find(R=>R.activo===!0||R.estado==="Activo");P?.role&&(x=P.role,console.log(" [usePermissions.loadUserRole] Rol desde damabella_users:",x))}catch(C){console.error(" Error parsing users:",C)}}if(s(x),!x){console.warn(" [usePermissions.loadUserRole] FINAL: No se encontr rol de usuario en ningn lado"),r(null),a(!1);return}if(x==="Administrador"){console.log(" [usePermissions.loadUserRole] Usuario es Administrador - Acceso Total"),r(null),a(!1);return}const w=localStorage.getItem("damabella_roles");if(w){const S=JSON.parse(w);console.log(" [usePermissions.loadUserRole] Roles disponibles:",S.map(P=>P.name));const C=S.find(P=>P.name===x);C?(console.log(` [usePermissions.loadUserRole] Permisos cargados para rol: ${x}`,C),r(C)):(console.warn(` [usePermissions.loadUserRole] Rol "${x}" no encontrado en damabella_roles`),r(null))}else console.warn(" [usePermissions.loadUserRole] No hay roles definidos en localStorage['damabella_roles']"),r(null)}catch(x){console.error(" [usePermissions.loadUserRole] Error cargando permisos:",x),r(null)}finally{a(!1)}};g();const j=x=>{(x.key==="damabella_roles"||x.key==="damabella_user")&&x.newValue&&(console.log(" [usePermissions] Roles/Usuario actualizados desde otro tab, recargando..."),g())};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[e?.role]);const f=M.useCallback((g,j)=>{const x=j.replace("can","").toLowerCase();if(i==="Administrador")return console.log(` [usePermissions.hasPermission] ADMIN: Acceso total a ${g}.${j}`),!0;if(!t)return i?(console.warn(" [usePermissions.hasPermission] No hay rol cargado"),!1):(console.warn(` [usePermissions.hasPermission] No hay rol, asumiendo Administrador por fallback para ${g}.${j}`),!0);const w=c(g),S=t.permissions.find(R=>c(R.module)===w);if(!S)return console.warn(` [usePermissions.hasPermission] Mdulo no encontrado: ${g}`),!1;const C=`can${x.charAt(0).toUpperCase()}${x.slice(1)}`,P=S[C]===!0;return console.log(` [usePermissions.hasPermission] ${g}.${j} = ${P}`),P},[t,i,c]),p=M.useCallback(()=>i==="Administrador"?["Usuarios","Roles","Categorias","Productos","Clientes","Proveedores","Tallas","Colores","Pedidos","Ventas","Compras","Devoluciones"]:t?t.permissions.filter(g=>g.canView).map(g=>g.module):[],[t,i]),h=M.useCallback(g=>{if(i==="Administrador")return!0;if(!t||!i)return!1;const j=c(g),x=t.permissions.find(w=>c(w.module)===j);return x?x.canView||x.canCreate||x.canEdit||x.canDelete:!1},[t,i,c]),y=M.useCallback(g=>{if(console.log(` [usePermissions.getModulePermissions] Buscando permisos para: ${g}, currentUserRole: ${i}, userRole: ${t?"loaded":"null"}`),i==="Administrador")return console.log(` [usePermissions.getModulePermissions] ADMIN: Acceso total a ${g}`),{canView:!0,canCreate:!0,canEdit:!0,canDelete:!0};if(!t)return i?(console.warn(` [usePermissions.getModulePermissions] No hay rol cargado para ${g}`),{canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}):(console.warn(` [usePermissions.getModulePermissions] No hay rol cargado para ${g}, asumiendo Administrador por fallback`),{canView:!0,canCreate:!0,canEdit:!0,canDelete:!0});const j=c(g),x=t.permissions.find(w=>c(w.module)===j);return x?(console.log(` [usePermissions.getModulePermissions] ${g}:`,x),{canView:x.canView,canCreate:x.canCreate,canEdit:x.canEdit,canDelete:x.canDelete}):(console.warn(` [usePermissions.getModulePermissions] Mdulo no encontrado: ${g}`),{canView:!1,canCreate:!1,canEdit:!1,canDelete:!1})},[t,i,c]);return{userRole:t,isLoading:n,getUserRole:d,hasPermission:f,getVisibleModules:p,canAccessModule:h,getModulePermissions:y}}const o2="damabella_categorias",bh="damabella_productos",i2="damabella_disabled_products_by_category",KQ=[{id:1,name:"Vestidos Largos",description:"Vestidos elegantes de largo completo",active:!0},{id:2,name:"Vestidos Cortos",description:"Vestidos casuales y formales cortos",active:!0},{id:3,name:"Sets",description:"Conjuntos de dos piezas",active:!0},{id:4,name:"Enterizos",description:"Prendas de una sola pieza",active:!0}];function JQ(){const[e,t]=M.useState(()=>{const we=localStorage.getItem(o2);return we?JSON.parse(we).map($e=>({id:$e.id,name:$e.name||$e.nombre,description:$e.description||$e.descripcion,active:$e.active!==void 0?$e.active:$e.activo})):KQ}),[r,n]=M.useState(()=>{const we=localStorage.getItem(bh);return we?JSON.parse(we):[]}),[a,i]=M.useState(()=>{const we=localStorage.getItem(i2);return we?JSON.parse(we):{}}),{showToast:s}=ks(),{hasPermission:c,getModulePermissions:d}=GQ(),[f,p]=M.useState(!1),[h,y]=M.useState(null),[g,j]=M.useState({name:"",description:""}),[x,w]=M.useState({}),[S,C]=M.useState(""),[P,R]=M.useState(1),[L,q]=M.useState(!1),[_,B]=M.useState(!1),[V,K]=M.useState(null),[E,$]=M.useState(null),[D,I]=M.useState(!1),[z,W]=M.useState(!1),[ee,G]=M.useState(null),[ie,te]=M.useState("grid"),re=10,T=d("Categorias"),J=T.canView,Y=T.canCreate,H=T.canEdit,me=c("Categorias","delete");M.useEffect(()=>{console.log(" [CategoriasManager] Permisos del usuario:",{canViewCategorias:J,canCreateCategorias:Y,canEditCategorias:H});const we=le=>{le.key==="damabella_roles"&&(console.log(" [CategoriasManager] Roles actualizados en otro tab/mdulo, recalculando permisos"),window.location.reload())};return window.addEventListener("storage",we),()=>window.removeEventListener("storage",we)},[J,Y,H]),M.useEffect(()=>{localStorage.setItem(o2,JSON.stringify(e))},[e]),M.useEffect(()=>{const we=()=>{const le=localStorage.getItem(bh);le&&n(JSON.parse(le))};return window.addEventListener("storage",we),()=>window.removeEventListener("storage",we)},[]);const pe=we=>r.filter(le=>le.categoria===we&&le.activo===!0).length,be=we=>r.filter(le=>le.categoria===we&&le.activo===!0),ge=we=>{$(we),I(!0)},Te=(we,le)=>{let $e=le;$e=le.split("").filter(lt=>/^[a-zA-Z0-9\s\-]$/.test(lt)).join(""),j({...g,[we]:$e});const at={};$e.trim()||(at.name="El nombre de la categora es requerido"),w({...x,...at})},ze=()=>{y(null),j({name:"",description:""}),w({name:""}),p(!0)},ue=we=>{y(we),j({name:we.name,description:we.description}),w({name:""}),p(!0)},Fe=()=>{const we={};if(g.name.trim()||(we.name="El nombre de la categora es requerido"),Object.keys(we).length>0){w(we);return}h?(t(e.map(le=>le.id===h.id?{...le,...g}:le)),s(` Categora "${g.name}" actualizada correctamente`,"success")):(t([...e,{id:Date.now(),...g,active:!0,productos:0}]),s(` Categora "${g.name}" creada correctamente`,"success")),p(!1)},De=we=>{const le=e.find($e=>$e.id===we);le&&le.active?(K(le),q(!0)):le&&!le.active&&(K(le),B(!0))},Ne=()=>{if(V){const we=V.name;if(t(e.map(le=>le.id===V.id?{...le,active:!0}:le)),a[we]){const le=r.map(at=>a[we].includes(at.id)?{...at,activo:!0}:at);n(le),localStorage.setItem(bh,JSON.stringify(le));const $e={...a};delete $e[we],i($e),localStorage.setItem(i2,JSON.stringify($e)),console.log(` Categora "${we}" activada. Se reactivaron ${a[we].length} producto(s)`)}else console.log(` Categora "${we}" activada (sin productos desactivados)`)}B(!1),K(null)},se=()=>{if(V){const we=V.name;t(e.map(lt=>lt.id===V.id?{...lt,active:!1}:lt));const le=[],$e=r.map(lt=>lt.categoria===we?(le.push(lt.id),{...lt,activo:!1}):lt),at={...a};at[we]=le,i(at),localStorage.setItem(i2,JSON.stringify(at)),n($e),localStorage.setItem(bh,JSON.stringify($e)),console.log(` Categora "${we}" desactivada. Se guardaron ${le.length} producto(s) para futura reactivacin`)}q(!1),K(null)},ct=we=>{try{const le=e.find(Ct=>Ct.id===we);if(!le)return;const $e=localStorage.getItem(bh);if(($e?JSON.parse($e):[]).some(Ct=>Ct.categoryId!==void 0&&String(Ct.categoryId)===String(le.id)||Ct.categoria!==void 0&&String(Ct.categoria)===String(le.name))){s("No se puede eliminar la categora porque tiene productos asociados","error");return}G(le),W(!0)}catch(le){console.error("Error al intentar eliminar categora:",le),s("Error verificando productos asociados","error")}},Q=()=>{if(ee){try{const we=e.filter(le=>le.id!==ee.id);t(we);try{localStorage.setItem(o2,JSON.stringify(we))}catch(le){console.warn("No se pudo actualizar damabella_categorias en localStorage",le)}s("Categora eliminada correctamente","success")}catch(we){console.error("Error al eliminar categora:",we),s("Error al eliminar la categora","error")}W(!1),G(null)}},Ce=e.filter(we=>{const le=S.toLowerCase();return we.id.toString().includes(S)||(we.name?.toLowerCase()??"").includes(le)||(we.description?.toLowerCase()??"").includes(le)||(we.active?"activa":"inactiva").includes(le)}),he=Math.ceil(Ce.length/re),je=(P-1)*re,_e=Ce.slice(je,je+re);return M.useEffect(()=>{R(1)},[S]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Categoras de Productos"}),o.jsx("p",{className:"text-gray-600",children:"Gestiona las categoras: Vestidos Largos, Vestidos Cortos, Sets y Enterizos"})]}),o.jsxs(mt,{onClick:ze,variant:"primary",disabled:!Y,title:Y?"":"No tienes permiso para crear categoras",children:[o.jsx(No,{size:20}),"Nueva Categora"]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:'Buscar por nombre, descripcin o escribe "activa" / "inactiva"',value:S,onChange:we=>C(we.target.value),className:"pl-10"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>te("grid"),className:`p-2 rounded-lg transition-colors ${ie==="grid"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Vista de cuadrcula",children:o.jsx(cT,{size:20})}),o.jsx("button",{onClick:()=>te("list"),className:`p-2 rounded-lg transition-colors ${ie==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Vista de lista",children:o.jsx(wT,{size:20})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>C("activa"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="activa"?"bg-green-600 text-white":"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"}`,children:" Activas"}),o.jsx("button",{onClick:()=>C("inactiva"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="inactiva"?"bg-gray-600 text-white":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:" Inactivas"}),S&&o.jsx("button",{onClick:()=>C(""),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 transition-colors ml-auto",children:"Limpiar filtro"})]})]})}),Ce.length===0?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 py-16 text-center",children:[o.jsx(bo,{className:"mx-auto mb-4 text-gray-300",size:64}),o.jsx("h3",{className:"text-gray-900 text-xl mb-2",children:"No se encontraron categoras"}),o.jsx("p",{className:"text-gray-600",children:"Intenta con otro trmino de bsqueda"})]}):o.jsxs(o.Fragment,{children:[ie==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_e.map(we=>o.jsxs("div",{className:"bg-gray-50 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200",children:[o.jsxs("div",{className:"bg-white p-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-2xl flex items-center justify-center",children:o.jsx(oT,{size:28,className:"text-gray-600"})}),o.jsx("button",{onClick:()=>De(we.id),className:`relative w-14 h-7 rounded-full transition-colors ${we.active?"bg-green-500":"bg-gray-400"}`,children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full transition-transform ${we.active?"translate-x-7":"translate-x-0"}`})})]}),o.jsx("h3",{className:"text-gray-900 text-xl",children:we.name})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-600 mb-4 min-h-[3rem]",children:we.description}),o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-200",children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Productos"}),o.jsxs("button",{onClick:()=>ge(we),className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 transition-colors cursor-pointer",title:"Ver productos",children:[o.jsx(bo,{size:16}),o.jsx("span",{className:"font-semibold",children:pe(we.name)})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`text-sm font-medium ${we.active?"text-green-600":"text-gray-400"}`,children:we.active?"Activa":"Inactiva"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>ge(we),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Ver productos",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:()=>ue(we),disabled:!H,className:`p-2 rounded-lg transition-colors ${H?"hover:bg-white text-gray-600":"opacity-50 cursor-not-allowed text-gray-400"}`,title:H?"Editar":"No tienes permiso para editar",children:o.jsx(Tu,{size:18})}),me&&o.jsx("button",{onClick:()=>ct(we.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Eliminar",children:o.jsx(Uo,{size:18})})]})]})]})]},we.id))}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Nombre"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Descripcin"}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Productos"}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Estado"}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Acciones"})]})}),o.jsx("tbody",{children:_e.map((we,le)=>o.jsxs("tr",{className:le!==_e.length-1?"border-b border-gray-200":"",children:[o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:we.name}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:we.description}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("button",{onClick:()=>ge(we),className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 transition-colors text-sm font-medium",children:[o.jsx(bo,{size:14}),pe(we.name)]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>De(we.id),className:`relative w-14 h-7 rounded-full transition-colors ${we.active?"bg-green-500":"bg-gray-400"}`,title:we.active?"Desactivar categora":"Activar categora",children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full transition-transform ${we.active?"translate-x-7":"translate-x-0"}`})})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsx("button",{onClick:()=>ge(we),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Ver productos",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:()=>ue(we),disabled:!H,className:`p-2 rounded-lg transition-colors ${H?"hover:bg-gray-100 text-gray-600":"opacity-50 cursor-not-allowed text-gray-400"}`,title:H?"Editar":"No tienes permiso para editar",children:o.jsx(Tu,{size:18})}),me&&o.jsx("button",{onClick:()=>ct(we.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Eliminar",children:o.jsx(Uo,{size:18})})]})})]},we.id))})]})})}),he>1&&o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8 pb-6",children:[o.jsx("button",{onClick:()=>R(Math.max(1,P-1)),disabled:P===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),o.jsx("div",{className:"flex gap-1",children:Array.from({length:he},(we,le)=>le+1).map(we=>o.jsx("button",{onClick:()=>R(we),className:`px-3 py-2 rounded-lg transition-colors ${P===we?"bg-blue-600 text-white":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:we},we))}),o.jsx("button",{onClick:()=>R(Math.min(he,P+1)),disabled:P===he,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"}),o.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Pgina ",P," de ",he]})]})]}),o.jsx(er,{isOpen:f,onClose:()=>p(!1),title:h?"Editar Categora":"Nueva Categora",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre de la Categora *"}),o.jsx(wt,{value:g.name,onChange:we=>Te("name",we.target.value),placeholder:"Ej: Vestidos Largos",required:!0}),x.name&&o.jsx("p",{className:"text-red-500 text-sm",children:x.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Descripcin"}),o.jsx("textarea",{value:g.description,onChange:we=>j({...g,description:we.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:3,placeholder:"Describe esta categora"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>p(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:Fe,variant:"primary",children:h?"Guardar Cambios":"Crear Categora"})]})]})}),o.jsx(er,{isOpen:z,onClose:()=>{W(!1),G(null)},title:"Confirmar Eliminacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-gray-700 mb-2",children:["Ests seguro de que deseas eliminar la categora ",o.jsx("strong",{children:ee?.name}),"?"]}),o.jsx("p",{className:"text-red-800 font-semibold text-sm mb-2",children:" Esta accin es irreversible y eliminar la categora."}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Antes de eliminar se verifica que no existan productos asociados. Si no hay productos, la categora ser eliminada permanentemente."})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>{W(!1),G(null)},variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:Q,variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Eliminar Categora"})]})]})}),o.jsx(er,{isOpen:D,onClose:()=>{I(!1),$(null)},title:`Productos de ${E?.name}`,children:o.jsx("div",{className:"space-y-4",children:E&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:o.jsx("p",{className:"text-gray-700",children:E.description})}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:be(E.name).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(bo,{className:"mx-auto mb-2 text-gray-400",size:48}),o.jsx("p",{className:"text-gray-600",children:"No hay productos en esta categora"})]}):be(E.name).map((we,le)=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:we.nombre}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Proveedor: ",o.jsx("span",{className:"font-medium",children:we.proveedor})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Precio Venta: ",o.jsxs("span",{className:"font-semibold text-green-600",children:["$",Number(we.precioVenta).toLocaleString("es-CO")]})]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-50 border border-green-200",children:[o.jsx("span",{className:"w-2 h-2 bg-green-600 rounded-full"}),o.jsx("span",{className:"text-xs font-medium text-green-700",children:"Activo"})]})})]})},le))}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(mt,{onClick:()=>I(!1),variant:"secondary",children:"Cerrar"})})]})})}),o.jsx(er,{isOpen:L,onClose:()=>{q(!1),K(null)},title:"Confirmar Desactivacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-gray-700 mb-2",children:["Est seguro de que desea desactivar la categora ",o.jsx("strong",{children:V?.name}),"?"]}),o.jsxs("p",{className:"text-yellow-800 font-semibold text-sm mb-2",children:[" Se desactivarn ",pe(V?.name||"")," producto(s) relacionado(s)"]}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Esta categora y sus productos no sern visibles en el catlogo. Puede reactivarlos en cualquier momento."})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>{q(!1),K(null)},variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:se,variant:"primary",children:"Desactivar Categora y Productos"})]})]})}),o.jsx(er,{isOpen:_,onClose:()=>{B(!1),K(null)},title:"Confirmar Activacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("p",{className:"text-gray-700 mb-2",children:["Est seguro de que desea activar la categora ",o.jsx("strong",{children:V?.name}),"?"]}),o.jsxs("p",{className:"text-green-800 font-semibold text-sm mb-2",children:[" Se activarn ",a[V?.name]?.length||0," producto(s) relacionado(s)"]}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Esta categora y sus productos volvern a ser visibles en el catlogo."})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>{B(!1),K(null)},variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:Ne,variant:"primary",className:"bg-green-600 hover:bg-green-700",children:"Activar Categora y Productos"})]})]})})]})}const zm="damabella_productos",s2="damabella_categorias",h6="damabella_proveedores",p6="damabella_tallas",m6="damabella_colores";function YQ(){const e=()=>[{nombre:"Negro",hex:"#000000"},{nombre:"Blanco",hex:"#FFFFFF"},{nombre:"Gris",hex:"#808080"},{nombre:"Azul",hex:"#0000FF"},{nombre:"Rojo",hex:"#FF0000"},{nombre:"Verde",hex:"#008000"},{nombre:"Amarillo",hex:"#FFFF00"},{nombre:"Rosa",hex:"#FFC0CB"},{nombre:"Naranja",hex:"#FFA500"},{nombre:"Prpura",hex:"#800080"},{nombre:"Beige",hex:"#F5F5DC"},{nombre:"Marrn",hex:"#A52A2A"},{nombre:"Azul Marino",hex:"#000080"},{nombre:"Turquesa",hex:"#40E0D0"},{nombre:"Dorado",hex:"#FFD700"}],[t,r]=M.useState(()=>{const he=localStorage.getItem(zm);let je=he?JSON.parse(he):[];const _e=(()=>{const le=localStorage.getItem(s2);return le?JSON.parse(le):[{id:1,name:"Vestidos Largos"},{id:2,name:"Vestidos Cortos"},{id:3,name:"Sets"},{id:4,name:"Enterizos"}]})(),we=je.map(le=>{if(le.categoryId&&!le.categoria){const $e=_e.find(at=>String(at.id)===String(le.categoryId)||at.name===le.categoryId)?.name;if($e)return console.log(` [ProductosManager-INIT] Migrando ${le.nombre}: categoryId="${le.categoryId}"  categoria="${$e}"`),{...le,categoria:$e}}return le});return JSON.stringify(je)!==JSON.stringify(we)&&(console.log(" [ProductosManager-INIT] Guardando productos migrados..."),localStorage.setItem(zm,JSON.stringify(we))),we}),[n,a]=M.useState(()=>{const he=localStorage.getItem(s2);return he?JSON.parse(he):[{id:1,name:"Vestidos Largos"},{id:2,name:"Vestidos Cortos"},{id:3,name:"Sets"},{id:4,name:"Enterizos"}]});M.useEffect(()=>{const he=setInterval(()=>{const je=localStorage.getItem(s2);if(je)try{const _e=JSON.parse(je);a(_e),console.log("[ProductosManager]  Categoras actualizadas:",_e.length),r(we=>{const le=we.map($e=>{if($e.categoryId&&!$e.categoria){const at=_e.find(lt=>String(lt.id)===String($e.categoryId)||lt.name===$e.categoryId)?.name;if(at)return console.log(` [ProductosManager-SYNC] Resolviendo categora: ${$e.nombre} = "${at}"`),{...$e,categoria:at}}return $e});return JSON.stringify(we)!==JSON.stringify(le)&&localStorage.setItem(zm,JSON.stringify(le)),le})}catch(_e){console.error("[ProductosManager] Error al actualizar categoras:",_e)}},1e3);return()=>clearInterval(he)},[]);const[i,s]=M.useState(()=>{const he=localStorage.getItem(h6);return he?JSON.parse(he):[]});M.useEffect(()=>{const he=setInterval(()=>{const je=localStorage.getItem(h6);if(je)try{const _e=JSON.parse(je);s(_e)}catch(_e){console.error("[ProductosManager] Error al actualizar proveedores:",_e)}},1e3);return()=>clearInterval(he)},[]);const[c,d]=M.useState(()=>{const he=localStorage.getItem(p6);if(he)try{const _e=JSON.parse(he).map(we=>we.abbreviation||we.name||we).filter(Boolean);if(_e.length>0)return _e}catch{}return["XS","S","M","L","XL","XXL"]});M.useEffect(()=>{const he=setInterval(()=>{const je=localStorage.getItem(p6);if(je)try{const we=JSON.parse(je).map(le=>le.abbreviation||le.name||le).filter(Boolean);we.length>0&&d(we)}catch(_e){console.error("[ProductosManager] Error al actualizar tallas:",_e)}},1e3);return()=>clearInterval(he)},[]);const[f,p]=M.useState(()=>{const he=localStorage.getItem(m6);if(he)try{const _e=JSON.parse(he).map(we=>({nombre:we.name||we.nombre||"",hex:we.hexCode||we.hex||"#000000"})).filter(we=>we.nombre);if(_e.length>0)return _e}catch{}return e()});M.useEffect(()=>{const he=setInterval(()=>{const je=localStorage.getItem(m6);if(je)try{const we=JSON.parse(je).map(le=>({nombre:le.name||le.nombre||"",hex:le.hexCode||le.hex||"#000000"})).filter(le=>le.nombre);we.length>0&&p(we)}catch(_e){console.error("[ProductosManager] Error al actualizar colores:",_e)}},1e3);return()=>clearInterval(he)},[]);const[h,y]=M.useState(!1),[g,j]=M.useState(!1),[x,w]=M.useState(!1),[S,C]=M.useState(null),[P,R]=M.useState(null),[L,q]=M.useState(""),[_,B]=M.useState(1),V=10,[K,E]=M.useState({nombre:"",proveedor:"",categoria:"",precioVenta:"",imagen:"",variantes:[]}),[$,D]=M.useState({}),[I,z]=M.useState(!1),[W,ee]=M.useState(null),[G,ie]=M.useState(!1),[te,re]=M.useState(null),[T,J]=M.useState({visible:!1,message:"",type:"error"}),[Y,H]=M.useState({talla:"",colores:[{color:"",cantidad:0}]});M.useEffect(()=>{localStorage.setItem(zm,JSON.stringify(t))},[t]);const me=he=>{R(he),j(!0),E({nombre:he.nombre||"",proveedor:he.proveedor||"",categoria:he.categoria||"",precioVenta:he.precioVenta?he.precioVenta.toString():"",imagen:he.imagen||"",variantes:he.variantes&&he.variantes.length>0?he.variantes:[]}),H({talla:"",colores:[{color:"",cantidad:0}]}),D({}),y(!0)},pe=he=>{C(he),w(!0)},be=()=>{const he={},je=Gi("nombre",K.nombre);je&&(he.nombre=je),K.proveedor||(he.proveedor="Este campo es obligatorio"),K.categoria||(he.categoria="Este campo es obligatorio");const _e=Gi("price",K.precioVenta);if(_e&&(he.precioVenta=_e),!P){J({visible:!0,message:" No se pueden crear nuevos productos desde este mdulo. Solo editar metadatos de productos existentes.",type:"error"});return}if(Object.keys(he).length>0){D(he);return}const we={nombre:K.nombre,proveedor:K.proveedor,categoria:K.categoria,precioVenta:parseFloat(K.precioVenta),activo:P?P.activo:!0,variantes:P.variantes,imagen:K.imagen,createdAt:P?P.createdAt:new Date().toISOString()};if(P){const le={...P,...we,id:P.id,variantes:P.variantes,categoryId:P.categoryId};console.log(" [ProductosManager] Actualizando metadatos del producto:",{id:le.id,nombre:le.nombre,categoria:le.categoria,precioVenta:le.precioVenta,variantesMantenidas:le.variantes.length,camposEditados:["nombre","categoria","precioVenta","proveedor","imagen"],camposProtegidos:["categoryId","variantes","referencia","precioCompra"]}),r(t.map($e=>$e.id===P.id?le:$e)),J({visible:!0,message:" Metadatos del producto actualizados. Las variantes se crean desde Compras.",type:"success"})}y(!1),j(!1),D({}),H({talla:"",colores:[{color:"",cantidad:0}]})},ge=(he,je)=>{E({...K,[he]:je});let _e="";if(he==="nombre"?_e=Gi("nombre",je):he==="precioVenta"?_e=Gi("price",je):(he==="proveedor"||he==="categoria")&&(_e=je?"":"Este campo es obligatorio"),_e)D({...$,[he]:_e});else{const{[he]:we,...le}=$;D(le)}},Te=he=>{ee(he),z(!0)},ze=()=>{W&&(r(t.filter(he=>he.id!==W)),J({visible:!0,message:"Producto eliminado exitosamente",type:"success"})),z(!1),ee(null)},ue=he=>{re(he),ie(!0)},Fe=()=>{if(te){const he=t.find(_e=>_e.id===te);r(t.map(_e=>_e.id===te?{..._e,activo:!_e.activo}:_e));const je=he?.activo?"desactivado":"activado";J({visible:!0,message:`Producto ${je} exitosamente`,type:"success"})}ie(!1),re(null)},De=he=>{const je=he.target.files?.[0];if(je){const _e=new FileReader;_e.onloadend=()=>{E({...K,imagen:_e.result})},_e.readAsDataURL(je)}},Ne=t.filter(he=>{const je=L.toLowerCase();return(he.nombre?.toLowerCase()??"").includes(je)||(he.categoria?.toLowerCase()??"").includes(je)||(he.proveedor?.toLowerCase()??"").includes(je)||(he.activo?"activo":"inactivo").includes(je)||he.precioVenta.toString().includes(je)||(he.variantes||[]).some(_e=>(_e.talla?.toLowerCase()??"").includes(je)||(_e.colores||[]).some(we=>(we.color?.toLowerCase()??"").includes(je)))}),se=he=>!he.variantes||!Array.isArray(he.variantes)?0:he.variantes.reduce((je,_e)=>!_e.colores||!Array.isArray(_e.colores)?je:je+_e.colores.reduce((we,le)=>we+(le.cantidad||0),0),0),ct=()=>{const he=["Nombre","Categora","Proveedor","Precio","Estado","Stock Total","Tallas","Colores"],je=t.map($e=>[$e.nombre,$e.categoria,$e.proveedor,$e.precioVenta,$e.activo?"Activo":"Inactivo",se($e),($e.variantes||[]).map(at=>at.talla).join(" / ")||"Sin tallas",($e.variantes||[]).flatMap(at=>at.colores.map(lt=>lt.color)).join(" / ")||"Sin colores"]),_e=[he.join("	"),...je.map($e=>$e.join("	"))].join(`
`),we=new Blob([_e],{type:"text/plain;charset=utf-8;"}),le=document.createElement("a");le.href=URL.createObjectURL(we),le.download=`productos_${new Date().toISOString().split("T")[0]}.xlsx`,le.click()},Q=Math.ceil(Ne.length/V),Ce=Ne.slice((_-1)*V,_*V);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(er,{isOpen:T.visible,onClose:()=>J({...T,visible:!1}),title:T.type==="error"?"Error":T.type==="success"?"xito":"Informacin",size:"sm",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[T.type==="error"&&o.jsx(Br,{className:"text-red-600",size:24}),T.type==="success"&&o.jsx(kc,{className:"text-green-600",size:24}),o.jsx("p",{className:"text-gray-700",children:T.message})]}),o.jsx("div",{className:"flex justify-end gap-2 mt-4",children:o.jsx(mt,{onClick:()=>J({...T,visible:!1}),variant:"primary",children:"Aceptar"})})]}),o.jsx(er,{isOpen:I,onClose:()=>z(!1),title:"Confirmar Eliminacin",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700",children:"Est seguro de que desea eliminar este producto? Esta accin no se puede deshacer."}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(mt,{onClick:()=>z(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:ze,variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),o.jsx(er,{isOpen:G,onClose:()=>ie(!1),title:"Confirmar Cambio de Estado",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700",children:"Desea cambiar el estado de este producto?"}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(mt,{onClick:()=>ie(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:Fe,variant:"primary",children:"Confirmar"})]})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Productos"}),o.jsx("p",{className:"text-gray-600",children:"Administra el inventario con mltiples tallas y colores por producto"})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(mt,{onClick:ct,variant:"secondary",children:[o.jsx(yl,{size:20}),"Descargar Excel"]})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:"Buscar productos...",value:L,onChange:he=>q(he.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Ce.length===0?o.jsxs("div",{className:"col-span-full py-12 text-center text-gray-500",children:[o.jsx(bo,{className:"mx-auto mb-4 text-gray-300",size:48}),o.jsx("p",{children:"No se encontraron productos"})]}):Ce.map(he=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"h-48 bg-gray-100 relative",children:[he.imagen?o.jsx("img",{src:he.imagen,alt:he.nombre,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(pT,{className:"text-gray-300",size:48})}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("button",{onMouseDown:je=>je.preventDefault(),onClick:()=>ue(he.id),"aria-pressed":he.activo,title:he.activo?"Inactivar producto":"Activar producto",className:`relative w-12 h-6 rounded-full transition-colors ${he.activo?"bg-green-500":"bg-gray-400"}`,children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${he.activo?"translate-x-6":"translate-x-0"}`})})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-gray-900 mb-1",children:he.nombre}),o.jsx("p",{className:"text-sm text-gray-500 mb-3",children:he.categoria}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",(he.precioVenta||0).toLocaleString()]}),o.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Stock total: ",o.jsx("span",{className:"font-semibold",children:se(he)})," unidades"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>pe(he),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-gray-700 flex items-center justify-center gap-2 text-sm",children:[o.jsx(ma,{size:16}),"Ver Detalle"]}),o.jsx("button",{onClick:()=>me(he),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-gray-700",children:o.jsx(Tu,{size:16})}),o.jsx("button",{onClick:()=>Te(he.id),className:"px-3 py-2 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-red-600",children:o.jsx(Uo,{size:16})})]})]})]},he.id))}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("button",{onClick:()=>B(_-1),disabled:_===1,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-gray-700",children:"Anterior"}),o.jsxs("div",{className:"text-gray-600",children:["Pgina ",_," de ",Q]}),o.jsx("button",{onClick:()=>B(_+1),disabled:_===Q,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-gray-700",children:"Siguiente"})]}),o.jsx(er,{isOpen:x,onClose:()=>w(!1),title:"Detalle del Producto",size:"lg",children:S&&o.jsxs("div",{className:"space-y-6",children:[S.imagen&&o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:S.imagen,alt:S.nombre,className:"w-full max-w-md h-64 object-cover rounded-lg"})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Nombre"}),o.jsx("p",{className:"text-xl font-semibold text-gray-900",children:S.nombre})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Categora"}),o.jsx("p",{className:"font-medium text-gray-900",children:S.categoria})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Precio"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",S.precioVenta.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${S.activo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:S.activo?"Activo":"Inactivo"})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Tallas y Colores Disponibles"}),!S.variantes||S.variantes.length===0?o.jsx("p",{className:"text-sm text-gray-600",children:"No hay variantes configuradas"}):o.jsx("div",{className:"space-y-4",children:S.variantes.map((he,je)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Talla: ",he.talla]}),he.colores.length===0?o.jsx("p",{className:"text-sm text-gray-600",children:"No hay colores disponibles"}):o.jsx("div",{className:"space-y-2",children:he.colores.map((_e,we)=>{const le=f.find($e=>$e.nombre===_e.color);return o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:le?.hex||"#000000"}}),o.jsx("span",{className:"font-medium text-gray-900",children:_e.color})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Stock"}),o.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${_e.cantidad>20?"bg-green-100 text-green-700":_e.cantidad>10?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[_e.cantidad," unidades"]})]})]},we)})})]},je))})]}),S.variantes&&S.variantes.length>0&&o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Stock Total:"}),o.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[se(S)," unidades"]})]})})]})}),o.jsx(er,{isOpen:h,onClose:()=>{y(!1),j(!1),D({}),R(null),E({nombre:"",proveedor:"",categoria:"",precioVenta:"",imagen:"",variantes:[]}),H({talla:"",colores:[{color:"",cantidad:0}]})},title:P?"Editar Producto":"Nuevo Producto",size:"lg",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre del Producto *"}),o.jsx(wt,{value:K.nombre,onChange:he=>ge("nombre",he.target.value),placeholder:"Ej: Vestido Elegante",required:!0}),$.nombre&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:$.nombre})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Precio de Venta *"}),o.jsx(wt,{type:"number",value:K.precioVenta,onChange:he=>ge("precioVenta",he.target.value),placeholder:"0",required:!0}),$.precioVenta&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:$.precioVenta})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Categora *"}),o.jsxs("select",{value:K.categoria,onChange:he=>ge("categoria",he.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar..."}),n.map(he=>o.jsx("option",{value:he.name,children:he.name},he.id))]}),$.categoria&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:$.categoria})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Imagen del Producto"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:K.imagen?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:K.imagen,alt:"Preview",className:"w-full h-48 object-cover rounded-lg mb-2"}),o.jsx("button",{type:"button",onClick:()=>E({...K,imagen:""}),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:o.jsx(Ji,{size:16})})]}):o.jsxs("label",{className:"cursor-pointer",children:[o.jsx(u7,{className:"mx-auto text-gray-400 mb-2",size:32}),o.jsx("p",{className:"text-gray-600",children:"Haz clic para subir una imagen"}),o.jsx("input",{type:"file",accept:"image/*",onChange:De,className:"hidden"})]})})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"text-gray-900 mb-3",children:"Variantes Actuales"}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 text-sm text-red-700",children:[o.jsx("strong",{children:" Variantes en modo lectura:"})," Las variantes solo se crean desde el mdulo ",o.jsx("strong",{children:"Compras"}),". El inventario se gestiona automticamente desde all."]}),K.variantes.length>0&&o.jsx("div",{className:"space-y-2",children:K.variantes.map((he,je)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[o.jsxs("div",{className:"font-medium text-gray-900 mb-2",children:["Talla ",he.talla]}),o.jsx("div",{className:"text-sm text-gray-600",children:he.colores.map((_e,we)=>o.jsxs("span",{children:[_e.color,": ",_e.cantidad," unid.",we<he.colores.length-1?" | ":""]},we))})]},je))}),K.variantes.length===0&&o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm text-amber-700",children:["Este producto an no tiene variantes. Se crean automticamente desde el mdulo ",o.jsx("strong",{children:"Compras"}),"."]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>{y(!1),D({}),R(null),E({nombre:"",proveedor:"",categoria:"",precioVenta:"",imagen:"",variantes:[]}),H({talla:"",colores:[{color:"",cantidad:0}]})},variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:be,variant:"primary",children:P?"Guardar Cambios":"Crear Producto"})]})]})})]})}const Md="damabella_proveedores",Bm="damabella_compras";function vL({onlyModal:e=!1,openOnMount:t=!1}){const[r,n]=M.useState(()=>{const Q=localStorage.getItem(Md);return Q?JSON.parse(Q):[]}),[a,i]=M.useState(()=>{const Q=localStorage.getItem(Bm);return Q?JSON.parse(Q):[]}),[s,c]=M.useState(!1),[d,f]=M.useState(!1),[p,h]=M.useState(!1),[y,g]=M.useState(null),[j,x]=M.useState(null),[w,S]=M.useState(""),[C,P]=M.useState(1),[R,L]=M.useState(!1),[q,_]=M.useState(null),[B,V]=M.useState(!1),[K,E]=M.useState(!1),[$,D]=M.useState(null),I=10,[z,W]=M.useState({numeroDoc:"",tipoDoc:"NIT",nombre:"",contacto:"",telefono:"",email:"",direccion:"",publicado:!1}),[ee,G]=M.useState({});M.useEffect(()=>{localStorage.setItem(Md,JSON.stringify(r))},[r]),M.useEffect(()=>{if(d){const Q=localStorage.getItem(Bm);if(Q)try{i(JSON.parse(Q))}catch(Ce){console.error("Error al cargar compras:",Ce)}}},[d]),M.useEffect(()=>{const Q=()=>{const Ce=localStorage.getItem(Bm);Ce&&i(JSON.parse(Ce))};return window.addEventListener("storage",Q),()=>window.removeEventListener("storage",Q)},[]),M.useEffect(()=>{const Q=Ce=>re();return window.addEventListener("proveedor:abrir",Q),()=>window.removeEventListener("proveedor:abrir",Q)},[]),M.useEffect(()=>{t&&(g(null),W({numeroDoc:"",tipoDoc:"NIT",nombre:"",contacto:"",telefono:"",email:"",direccion:"",publicado:!1}),G({}),c(!0))},[t]);const ie=(Q,Ce)=>{const he={};return Q==="nombre"&&(Ce.trim()?/^[a-zA-Z\s&.,-]+$/.test(Ce)||(he.nombre="Solo letras, espacios y caracteres & . , -"):he.nombre="Este campo es obligatorio"),Q==="contacto"&&(Ce.trim()?/^[a-zA-Z\s]+$/.test(Ce)||(he.contacto="Solo se permiten letras y espacios"):he.contacto="Este campo es obligatorio"),Q==="numeroDoc"&&(Ce.trim()?/^\d{6,15}$/.test(Ce)||(he.numeroDoc="Debe tener entre 6 y 15 dgitos"):he.numeroDoc="Este campo es obligatorio"),Q==="telefono"&&Ce&&!/^\d{10}$/.test(Ce)&&(he.telefono="Debe tener exactamente 10 dgitos"),Q==="email"&&Ce&&!/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(Ce)&&(he.email="Email invlido (debe iniciar con letra)"),he},te=(Q,Ce)=>{Q==="numeroDoc"&&(Ce=Ce.replace(/\D/g,"")),Q==="telefono"&&(Ce=Ce.replace(/\D/g,"")),W({...z,[Q]:Ce});const he=ie(Q,Ce);G({...ee,[Q]:he[Q]})},re=()=>{g(null),W({numeroDoc:"",tipoDoc:"NIT",nombre:"",contacto:"",telefono:"",email:"",direccion:"",publicado:!1}),G({}),c(!0)},T=Q=>{g(Q),W({numeroDoc:Q.numeroDoc||"",tipoDoc:Q.tipoDoc||"NIT",nombre:Q.nombre||"",contacto:Q.contacto||"",telefono:Q.telefono||"",email:Q.email||"",direccion:Q.direccion||"",publicado:Q.publicado||!1}),G({}),c(!0)},J=()=>{const Q={};if(["nombre","contacto","numeroDoc","telefono","email"].forEach(he=>{const je=ie(he,z[he]);je[he]&&(Q[he]=je[he])}),Object.keys(Q).length>0){G(Q);return}if(y){if(r.find(he=>he.numeroDoc===z.numeroDoc&&he.id!==y.id)){G({...ee,numeroDoc:"Ya existe un proveedor con este documento"});return}if(z.email&&r.find(he=>(he.email?.toLowerCase()??"")===(z.email?.toLowerCase()??"")&&he.id!==y.id)){G({...ee,email:"Ya existe un proveedor con este email"});return}}else{if(r.find(he=>he.numeroDoc===z.numeroDoc)){G({...ee,numeroDoc:"Ya existe un proveedor con este documento"});return}if(z.email&&r.find(he=>(he.email?.toLowerCase()??"")===(z.email?.toLowerCase()??""))){G({...ee,email:"Ya existe un proveedor con este email"});return}}const Ce={...z,activo:y?.activo??!0,createdAt:y?.createdAt??new Date().toISOString()};if(y){const he=r.map(je=>je.id===y.id?{...je,...Ce}:je);n(he);try{localStorage.setItem(Md,JSON.stringify(he))}catch(je){console.warn("No se pudo escribir proveedores en localStorage",je)}window.dispatchEvent(new CustomEvent("proveedor:guardado",{detail:{proveedor:Ce}}))}else{const he={id:Date.now(),...Ce},je=[...r,he];n(je);try{localStorage.setItem(Md,JSON.stringify(je))}catch(_e){console.warn("No se pudo escribir proveedores en localStorage",_e)}window.dispatchEvent(new CustomEvent("proveedor:creado",{detail:{proveedor:he}}))}c(!1)},Y=Q=>{const Ce=r.find(he=>he.id===Q);if(Ce)if(Ce.activo===!1){const he=r.map(je=>je.id===Q?{...je,activo:!0}:je);n(he);try{localStorage.setItem(Md,JSON.stringify(he))}catch(je){console.warn("No se pudo escribir proveedores en localStorage",je)}}else _(Ce),L(!0)},H=Q=>{try{const Ce=r.find(we=>we.id===Q);if(!Ce)return;const he=localStorage.getItem(Bm);if((he?JSON.parse(he):[]).some(we=>we.proveedorId===Q||we.proveedorId===String(Q)||we.proveedor&&(we.proveedor.id===Q||String(we.proveedor.id)===String(Q)))){D(Ce),E(!0);return}D(Ce),V(!0)}catch(Ce){console.error("Error al intentar eliminar proveedor:",Ce),D(null),E(!0)}},me=()=>{if($){try{const Q=r.filter(Ce=>Ce.id!==$.id);n(Q);try{localStorage.setItem(Md,JSON.stringify(Q))}catch(Ce){console.warn("No se pudo actualizar proveedores en localStorage",Ce)}}catch(Q){console.error("Error al eliminar proveedor:",Q)}V(!1),D(null)}},pe=()=>{q&&n(r.map(Q=>Q.id===q.id?{...Q,activo:!Q.activo}:Q)),L(!1),_(null)},be=Q=>{x(Q),f(!0)},ge=Q=>{x(Q),h(!0)},Te=Q=>!a||!Array.isArray(a)?[]:a.filter(he=>he.proveedorId===Q||he.proveedorId===String(Q)).sort((he,je)=>{const _e=new Date(he.fechaCompra||he.fechaRegistro||0).getTime();return new Date(je.fechaCompra||je.fechaRegistro||0).getTime()-_e}),ze=Q=>Te(Q).reduce((Ce,he)=>Ce+(he.total||0),0),ue=Q=>Te(Q).reduce((Ce,he)=>{const je=(he.items||[]).reduce((_e,we)=>_e+(we.cantidad||0),0);return Ce+je},0),Fe=Q=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Q),De=r.filter(Q=>{const Ce=w.toLowerCase();return(Q.nombre?.toLowerCase()??"").includes(Ce)||(Q.numeroDoc??"").includes(w)||(Q.email?.toLowerCase()??"").includes(Ce)||(Q.activo?"activo":"inactivo").includes(Ce)}),Ne=Math.ceil(De.length/I),se=(C-1)*I,ct=De.slice(se,se+I);return M.useEffect(()=>{P(1)},[w]),e?o.jsx(o.Fragment,{children:o.jsx(er,{isOpen:s,onClose:()=>c(!1),title:y?"Editar Proveedor":"Nuevo Proveedor",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo de Documento *"}),o.jsxs("select",{value:z.tipoDoc,onChange:Q=>W({...z,tipoDoc:Q.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[o.jsx("option",{value:"NIT",children:"NIT"}),o.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),o.jsx("option",{value:"CE",children:"Cdula de Extranjera"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero de Documento *"}),o.jsx(wt,{value:z.numeroDoc,onChange:Q=>te("numeroDoc",Q.target.value),placeholder:"900123456",maxLength:15,required:!0}),ee.numeroDoc&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.numeroDoc})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre del Proveedor *"}),o.jsx(wt,{value:z.nombre,onChange:Q=>te("nombre",Q.target.value),placeholder:"Distribuidora XYZ",required:!0}),ee.nombre&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.nombre})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Persona de Contacto *"}),o.jsx(wt,{value:z.contacto,onChange:Q=>te("contacto",Q.target.value),placeholder:"Nombre del contacto",required:!0}),ee.contacto&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.contacto})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono"}),o.jsx(wt,{value:z.telefono,onChange:Q=>te("telefono",Q.target.value),placeholder:"3001234567",maxLength:10}),ee.telefono&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.telefono})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),o.jsx(wt,{type:"email",value:z.email,onChange:Q=>te("email",Q.target.value),placeholder:"proveedor@ejemplo.com"}),ee.email&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.email})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin"}),o.jsx(wt,{value:z.direccion,onChange:Q=>W({...z,direccion:Q.target.value}),placeholder:"Calle 123 # 45-67"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>c(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:J,variant:"primary",children:y?"Guardar Cambios":"Crear Proveedor"})]})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-1",children:"Gestin de Proveedores"}),o.jsx("p",{className:"text-gray-600",children:"Administra los proveedores y su informacin de contacto"})]}),o.jsxs(mt,{onClick:re,variant:"primary",children:[o.jsx(No,{size:20}),"Nuevo Proveedor"]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-3",children:o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:"Buscar proveedores...",value:w,onChange:Q=>S(Q.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Proveedor"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Contacto"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Documento"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Telfono"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:ct.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[o.jsx(P2,{className:"mx-auto mb-4 text-gray-300",size:48}),o.jsx("p",{children:"No se encontraron proveedores"})]})}):ct.map(Q=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-3 px-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center text-white",children:Q.nombre[0]?.toUpperCase()}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-900",children:Q.nombre}),o.jsx("div",{className:"text-gray-500 text-sm",children:Q.email})]})]})}),o.jsx("td",{className:"py-3 px-6",children:o.jsx("div",{className:"text-gray-700",children:Q.contacto||"-"})}),o.jsxs("td",{className:"py-3 px-6",children:[o.jsx("div",{className:"text-gray-700",children:Q.tipoDoc}),o.jsx("div",{className:"text-gray-500",children:Q.numeroDoc})]}),o.jsxs("td",{className:"py-3 px-6",children:[o.jsx("div",{className:"text-gray-700",children:Q.telefono||"-"}),o.jsx("div",{className:"text-gray-500 text-sm",children:Q.direccion||"-"})]}),o.jsx("td",{className:"py-3 px-6",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{onMouseDown:Ce=>Ce.preventDefault(),onClick:()=>Y(Q.id),"aria-pressed":Q.activo!==!1,title:Q.activo===!1?"Activar proveedor":"Inactivar proveedor",className:`relative w-12 h-6 rounded-full transition-colors ${Q.activo!==!1?"bg-green-500":"bg-gray-400"}`,children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${Q.activo!==!1?"translate-x-6":"translate-x-0"}`})})})}),o.jsx("td",{className:"py-3 px-6",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>ge(Q),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver proveedor",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:()=>be(Q),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver historial",children:o.jsx(fT,{size:18})}),o.jsx("button",{onClick:()=>T(Q),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Editar",children:o.jsx(Tu,{size:18})}),o.jsx("button",{onClick:()=>H(Q.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Eliminar",children:o.jsx(Uo,{size:18})})]})})]},Q.id))})]})})}),Ne>1&&o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[o.jsx("button",{onClick:()=>P(Math.max(1,C-1)),disabled:C===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),o.jsx("div",{className:"flex gap-1",children:Array.from({length:Ne},(Q,Ce)=>Ce+1).map(Q=>o.jsx("button",{onClick:()=>P(Q),className:`px-3 py-2 rounded-lg transition-colors ${C===Q?"bg-blue-600 text-white":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:Q},Q))}),o.jsx("button",{onClick:()=>P(Math.min(Ne,C+1)),disabled:C===Ne,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"}),o.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Pgina ",C," de ",Ne]})]}),o.jsx(er,{isOpen:s,onClose:()=>c(!1),title:y?"Editar Proveedor":"Nuevo Proveedor",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo de Documento *"}),o.jsxs("select",{value:z.tipoDoc,onChange:Q=>W({...z,tipoDoc:Q.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[o.jsx("option",{value:"NIT",children:"NIT"}),o.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),o.jsx("option",{value:"CE",children:"Cdula de Extranjera"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero de Documento *"}),o.jsx(wt,{value:z.numeroDoc,onChange:Q=>te("numeroDoc",Q.target.value),placeholder:"900123456",maxLength:15,required:!0}),ee.numeroDoc&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.numeroDoc})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre del Proveedor *"}),o.jsx(wt,{value:z.nombre,onChange:Q=>te("nombre",Q.target.value),placeholder:"Distribuidora XYZ",required:!0}),ee.nombre&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.nombre})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Persona de Contacto *"}),o.jsx(wt,{value:z.contacto,onChange:Q=>te("contacto",Q.target.value),placeholder:"Nombre del contacto",required:!0}),ee.contacto&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.contacto})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono"}),o.jsx(wt,{value:z.telefono,onChange:Q=>te("telefono",Q.target.value),placeholder:"3001234567",maxLength:10}),ee.telefono&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.telefono})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),o.jsx(wt,{type:"email",value:z.email,onChange:Q=>te("email",Q.target.value),placeholder:"proveedor@ejemplo.com"}),ee.email&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ee.email})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin"}),o.jsx(wt,{value:z.direccion,onChange:Q=>W({...z,direccion:Q.target.value}),placeholder:"Calle 123 # 45-67"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>c(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:J,variant:"primary",children:y?"Guardar Cambios":"Crear Proveedor"})]})]})}),o.jsx(er,{isOpen:d,onClose:()=>f(!1),title:`Historial de Compras  ${j?.nombre}`,children:o.jsx("div",{className:"space-y-6",children:j&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-blue-600 text-sm font-medium mb-1",children:"Total Compras"}),o.jsx("div",{className:"text-3xl font-bold text-blue-900",children:Te(j.id).length})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-blue-600 text-sm font-medium mb-1",children:"Productos Recibidos"}),o.jsx("div",{className:"text-3xl font-bold text-blue-900",children:ue(j.id)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-blue-600 text-sm font-medium mb-1",children:"Monto Acumulado"}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:Fe(ze(j.id))})]})]})}),Te(j.id).length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(P2,{className:"mx-auto mb-4 text-gray-300",size:48}),o.jsx("p",{className:"text-lg font-medium",children:"Este proveedor an no tiene compras registradas."}),o.jsx("p",{className:"text-sm mt-2",children:"Las compras aparecern aqu cuando se registren en el mdulo de Compras."})]}):o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Fecha"}),o.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"N Compra"}),o.jsx("th",{className:"text-center py-3 px-4 text-gray-700 font-semibold",children:"Cantidad"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"Subtotal"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"IVA"}),o.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"Total"}),o.jsx("th",{className:"text-center py-3 px-4 text-gray-700 font-semibold",children:"Estado"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:Te(j.id).map(Q=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4 text-gray-900",children:new Date(Q.fechaCompra||Q.fechaRegistro).toLocaleDateString("es-CO")}),o.jsx("td",{className:"py-3 px-4 text-gray-900 font-medium",children:Q.numeroCompra}),o.jsx("td",{className:"py-3 px-4 text-center text-gray-700",children:(Q.items||[]).reduce((Ce,he)=>Ce+(he.cantidad||0),0)}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:Fe(Q.subtotal||0)}),o.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:Fe(Q.iva||0)}),o.jsx("td",{className:"py-3 px-4 text-right font-semibold text-gray-900",children:Fe(Q.total||0)}),o.jsx("td",{className:"py-3 px-4 text-center",children:o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${Q.estado==="Recibida"?"bg-green-100 text-green-700":Q.estado==="Pendiente"?"bg-yellow-100 text-yellow-700":Q.estado==="Anulada"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:Q.estado||"Confirmada"})})]},Q.id))})]})})]})})}),o.jsx(er,{isOpen:p,onClose:()=>h(!1),title:`Ver Proveedor - ${j?.nombre}`,children:o.jsx("div",{className:"space-y-4",children:j&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Nombre"}),o.jsx("div",{className:"text-gray-900 font-semibold",children:j.nombre})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Documento"}),o.jsxs("div",{className:"text-gray-900 font-semibold",children:[j.tipoDoc,": ",j.numeroDoc]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Contacto"}),o.jsx("div",{className:"text-gray-900",children:j.contacto})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Telfono"}),o.jsx("div",{className:"text-gray-900",children:j.telefono||"-"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Email"}),o.jsx("div",{className:"text-gray-900",children:j.email||"-"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Direccin"}),o.jsx("div",{className:"text-gray-900",children:j.direccion||"-"})]})]})}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Estado"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${j.activo?"bg-green-500":"bg-gray-400"}`}),o.jsx("span",{className:"text-gray-900 font-semibold",children:j.activo?"Activo":"Inactivo"})]})]})}),o.jsxs("div",{className:"bg-gray-100 rounded-lg p-3",children:[o.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Fecha de Creacin"}),o.jsx("div",{className:"text-gray-900",children:new Date(j.createdAt).toLocaleDateString("es-ES")})]}),o.jsx("div",{className:"flex gap-3 justify-end pt-4 border-t",children:o.jsx(mt,{onClick:()=>h(!1),variant:"primary",children:"Cerrar"})})]})})}),o.jsx(er,{isOpen:R,onClose:()=>{L(!1),_(null)},title:"Confirmar Cambio de Estado",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[o.jsx(Bh,{className:"text-yellow-600 flex-shrink-0",size:24}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-800 font-semibold",children:"Cambio de estado"}),o.jsx("p",{className:"text-yellow-700 text-sm",children:"Esta accin modificar el estado del proveedor"})]})]}),o.jsxs("p",{className:"text-gray-700",children:["Est seguro de que desea ",o.jsx("strong",{children:q?.activo?"inactivar":"activar"})," el proveedor ",o.jsx("strong",{children:q?.nombre}),"?"]}),q?.activo&&o.jsx("p",{className:"text-gray-600 text-sm",children:"Al inactivar este proveedor, no podr realizar nuevas compras hasta que sea reactivado."}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>{L(!1),_(null)},variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:pe,variant:"primary",children:q?.activo?"Inactivar":"Activar"})]})]})}),o.jsx(er,{isOpen:K,onClose:()=>{E(!1),D(null)},title:"No se puede eliminar",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[o.jsx(Bh,{className:"text-yellow-600 flex-shrink-0",size:24}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-800 font-semibold",children:"Operacin no permitida"}),o.jsxs("p",{className:"text-yellow-700 text-sm",children:["El proveedor ",o.jsx("strong",{children:$?.nombre})," tiene compras asociadas y no puede ser eliminado. Puedes inactivarlo desde el estado."]})]})]}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsx(mt,{onClick:()=>{E(!1),D(null)},variant:"primary",children:"Aceptar"})})]})}),o.jsx(er,{isOpen:B,onClose:()=>{V(!1),D(null)},title:"Confirmar Eliminacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-700",children:["Ests seguro de que deseas eliminar al proveedor ",o.jsx("strong",{children:$?.nombre}),"? Esta accin no se puede deshacer."]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[o.jsx(mt,{onClick:()=>{V(!1),D(null)},variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:me,variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})})]})}function XQ({value:e,onChange:t,accept:r="image/*",maxSizeMB:n=5}){const[a,i]=M.useState(e||null),[s,c]=M.useState(!1),d=M.useRef(null);M.useEffect(()=>{i(e||null)},[e]);const f=M.useCallback(j=>new Promise((x,w)=>{const S=new FileReader;S.onload=()=>{const C=S.result;x(C)},S.onerror=C=>w(C),S.readAsDataURL(j)}),[]),p=M.useCallback(async j=>{if(!j||j.length===0)return;const x=j[0];if(n&&x.size>n*1024*1024){console.warn(`ImageUploader: file too large (>${n}MB)`);return}try{const w=await f(x);i(w),t(w)}catch(w){console.error("ImageUploader: error reading file",w)}},[n,t,f]),h=M.useCallback(j=>{j.preventDefault(),j.stopPropagation(),c(!1),p(j.dataTransfer.files)},[p]),y=M.useCallback(j=>{j.preventDefault(),j.stopPropagation(),c(!0)},[]),g=M.useCallback(j=>{j.preventDefault(),j.stopPropagation(),c(!1)},[]);return o.jsxs("div",{children:[o.jsx("div",{onDrop:h,onDragOver:y,onDragLeave:g,className:`w-full flex items-center gap-3 p-2 border rounded-lg ${s?"border-blue-300 bg-blue-50":"border-gray-200"} `,style:{minHeight:56},"data-testid":"image-uploader-dropzone",children:o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Arrastra la imagen aqu o"}),o.jsx("button",{type:"button",className:"text-sm text-gray-700 hover:underline",onClick:()=>d.current?.click(),children:"selecciona un archivo"}),o.jsx("input",{ref:d,type:"file",accept:r,className:"hidden",onChange:j=>p(j.target.files)})]}),o.jsx("div",{children:a?o.jsx("div",{className:"w-20 h-20 rounded-md overflow-hidden border border-gray-200",children:o.jsx("img",{src:a,alt:"preview",className:"w-full h-full object-cover"})}):o.jsx("div",{className:"w-20 h-20 rounded-md bg-gray-100 border border-dashed border-gray-200 flex items-center justify-center text-xs text-gray-400",children:"Previsualizacin"})})]})})}),a&&o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.jsx("button",{type:"button",className:"text-xs text-gray-600 hover:underline",onClick:()=>{i(null),t(""),d.current&&(d.current.value="")},children:"Eliminar imagen"}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Se guardar como Base64)"})]})]})}const qm="damabella_compras",Um="damabella_proveedores",wu="damabella_productos",l2="damabella_categorias",g6={Negro:"#000000",Blanco:"#FFFFFF",Rojo:"#DC2626",Azul:"#2563EB",Verde:"#16A34A",Rosa:"#EC4899",Gris:"#6B7280",Beige:"#D4A574"},Ba=e=>e.trim().toLowerCase();function v6(e){const t=new Map;e.forEach(n=>{const a=Ba(n.nombre);t.has(a)?t.get(a).duplicados.push(n):t.set(a,{base:n,duplicados:[]})});const r=[];return t.forEach(n=>{const{base:a,duplicados:i}=n;let s=[...a.variantes||[]];i.forEach(c=>{c.variantes&&c.variantes.length>0&&c.variantes.forEach(d=>{const f=s.find(p=>p.talla===d.talla);f?d.colores.forEach(p=>{const h=f.colores.find(y=>y.color===p.color);h?h.cantidad+=p.cantidad:f.colores.push(p)}):s.push(d)})}),r.push({...a,variantes:s,updatedAt:new Date().toISOString(),lastUpdatedFrom:"Unificacin de duplicados"})}),r}function ZQ(e,t){if(!e.categoriaId||String(e.categoriaId).trim()==="")return console.error(` [agregarOActualizarProducto] ABORTADO: categoryId faltante o vaco para ${e.productoNombre}`),console.error("   Recibido:",{categoriaId:e.categoriaId,categoriaNombre:e.categoriaNombre}),t;const r=Ba(e.productoNombre),n=t.find(a=>Ba(a.nombre)===r);if(n)return console.log(` [agregarOActualizarProducto] Producto existente encontrado por nombre: ${n.nombre}`),console.log("   Reutilizando:",{id:n.id,nombre:n.nombre,SKU:n.referencia,variantesActuales:n.variantes?.length||0}),t.map(i=>{if(Ba(i.nombre)===r){let s=i.variantes||[],c=s.find(f=>f.talla===e.talla);if(c){let f=c.colores.find(p=>p.color===e.color);f?(f.cantidad+=e.cantidad||0,console.log(`    Color existente actualizado: ${e.color} += ${e.cantidad}`)):(c.colores.push({color:e.color,cantidad:e.cantidad||0}),console.log(`    Nuevo color agregado: ${e.color} = ${e.cantidad}`))}else s.push({talla:e.talla,colores:e.color?[{color:e.color,cantidad:e.cantidad||0}]:[]}),console.log(`    Nueva talla agregada: ${e.talla}`);const d={...i,variantes:s,precioCompra:e.precioCompra&&e.precioCompra>0?e.precioCompra:i.precioCompra,precioVenta:e.precioVenta&&e.precioVenta>0?e.precioVenta:i.precioVenta,imagen:e.imagen&&e.imagen.trim()!==""?e.imagen:i.imagen,categoryId:e.categoriaId&&String(e.categoriaId).trim()!==""?e.categoriaId:i.categoryId||e.categoriaId||"",categoria:e.categoriaNombre||i.categoria||"",updatedAt:new Date().toISOString(),lastUpdatedFrom:`Compra - ${i.referencia}`};return d.categoryId||console.warn(` [agregarOActualizarProducto] ADVERTENCIA: Producto ${i.nombre} qued sin categoryId despus de actualizar`),console.log(` [agregarOActualizarProducto] ${i.nombre} actualizado:`),console.log(`   Talla: ${e.talla}, Color: ${e.color}, Cantidad: ${e.cantidad}`),console.log(`   Precios mantenidos - Compra: $${d.precioCompra}, Venta: $${d.precioVenta}`),console.log(`   Category ID: ${d.categoryId}`),console.log(`   Imagen mantenida: ${d.imagen?"S":"No"}`),d}return i});{console.log(` [agregarOActualizarProducto] Creando nuevo producto: ${e.productoNombre}`),console.log(`   Category ID capturado: "${e.categoriaId}"`);const a=e.referencia||`SKU_${Date.now()}_${Math.random().toString(36).substr(2,5).toUpperCase()}`,i=[];if(e.talla){const c={talla:e.talla,colores:e.color?[{color:e.color,cantidad:Math.round((e.cantidad||0)*100)/100}]:[]};i.push(c)}const s={id:Date.now(),nombre:e.productoNombre,proveedor:"Compras",categoryId:e.categoriaId,categoria:e.categoriaNombre||"",precioVenta:e.precioVenta||0,precioCompra:e.precioCompra||0,activo:!0,variantes:i,imagen:e.imagen||"",createdAt:new Date().toISOString(),referencia:a,createdFromSKU:a};return console.log(" [agregarOActualizarProducto] Nuevo producto creado:"),console.log(`   Nombre: ${s.nombre}`),console.log(`   SKU: ${a}`),console.log(`   Category ID: ${s.categoryId}`),console.log(`   Precio Compra: $${s.precioCompra}`),console.log(`   Precio Venta: $${s.precioVenta}`),console.log(`   Imagen: ${s.imagen?" S":" No"}`),console.log(`   Variantes: ${JSON.stringify(i)}`),[...t,s]}}function QQ(){const[e,t]=M.useState(()=>{const Ae=localStorage.getItem(qm);return Ae?JSON.parse(Ae).map(Ye=>({...Ye,estado:Ye.estado==="Pendiente"?"Recibida":Ye.estado||"Recibida"})):[]}),[r,n]=M.useState(()=>{const Ae=localStorage.getItem(Um);return Ae?JSON.parse(Ae):[]}),[a,i]=M.useState(()=>{const Ae=localStorage.getItem(wu);if(Ae){const He=JSON.parse(Ae);return v6(He)}return[]}),[s,c]=M.useState(()=>{const Ae=localStorage.getItem("damabella_tallas");if(Ae)try{return JSON.parse(Ae).map(Ye=>Ye.abbreviation||Ye.name||Ye).filter(Boolean)}catch{return["XS","S","M","L","XL","XXL"]}return["XS","S","M","L","XL","XXL"]}),[d,f]=M.useState(()=>{const Ae=localStorage.getItem("damabella_colores");if(Ae)try{return JSON.parse(Ae).map(Ye=>Ye.name||Ye.nombre||"").filter(Boolean)}catch{return[]}return[]}),[p,h]=M.useState(()=>{const Ae=localStorage.getItem(l2);if(Ae)try{const He=JSON.parse(Ae);return Array.isArray(He)&&typeof He[0]=="string"?He.map(Ye=>({id:Ye.toLowerCase().replace(/\s+/g,"_"),name:Ye,active:!0})):He.map(Ye=>({id:Ye.id||Ye.name?.toLowerCase().replace(/\s+/g,"_")||"",name:Ye.name||Ye.nombre||"",active:Ye.active!==!1}))}catch(He){return console.error("Error cargando categoras:",He),[]}return[]}),[y,g]=M.useState(!1),[j,x]=M.useState(!1),[w,S]=M.useState(null),[C,P]=M.useState(!1),[R,L]=M.useState(""),[q,_]=M.useState(""),[B,V]=M.useState(""),[K,E]=M.useState(!1),$=Pe.useRef(null),[D,I]=M.useState(!1),[z,W]=M.useState(!1),[ee,G]=M.useState(""),[ie,te]=M.useState("error"),[re,T]=M.useState(!1),[J,Y]=M.useState(""),[H,me]=M.useState(null),[pe,be]=M.useState({proveedorId:"",proveedorNombre:"",fechaCompra:new Date().toISOString().split("T")[0],iva:"19",observaciones:"",items:[]}),[ge,Te]=M.useState({}),[ze,ue]=M.useState(""),[Fe,De]=M.useState(""),[Ne,se]=M.useState({productoId:"",productoNombre:"",categoriaId:"",categoriaNombre:"",talla:"",color:"",cantidad:"",precioCompra:"",precioVenta:"",imagen:"",referencia:""}),[ct,Q]=M.useState(()=>{const Ae=localStorage.getItem("damabella_compra_counter");return Ae?parseInt(Ae):1});M.useEffect(()=>{localStorage.setItem(qm,JSON.stringify(e))},[e]),M.useEffect(()=>{const Ae=localStorage.getItem(qm);if(Ae)try{const He=JSON.parse(Ae),Ye=He.filter(it=>{const vt=String(it.proveedorNombre||"").toLowerCase().trim();return!/^proveedor\s+[a-z]$/i.test(vt)&&vt!==""&&it.numeroCompra&&it.items&&Array.isArray(it.items)});Ye.length!==He.length&&(console.log(` [ComprasManager] Limpiando ${He.length-Ye.length} compras ficticias`),localStorage.setItem(qm,JSON.stringify(Ye)),t(Ye))}catch(He){console.error(" [ComprasManager] Error limpiando datos ficticios:",He)}},[]),M.useEffect(()=>{localStorage.setItem("damabella_compra_counter",ct.toString())},[ct]),M.useEffect(()=>{const Ae=()=>{const it=localStorage.getItem(Um);if(it)try{const vt=JSON.parse(it);n(vt),console.log(" [ComprasManager] Proveedores sincronizados:",vt.map(xt=>xt.nombre))}catch(vt){console.error(" [ComprasManager] Error cargando proveedores:",vt)}};Ae();const He=it=>{it.key===Um&&it.newValue&&(console.log(" [ComprasManager] Proveedores actualizados desde otro tab"),Ae())};window.addEventListener("storage",He);const Ye=setInterval(Ae,500);return()=>{window.removeEventListener("storage",He),clearInterval(Ye)}},[]),M.useEffect(()=>{const Ae=He=>{try{const Ye=He.detail?.proveedor;if(Ye){const it=localStorage.getItem(Um);if(it)try{n(JSON.parse(it))}catch{}be(vt=>({...vt,proveedorId:String(Ye.id),proveedorNombre:Ye.nombre||""})),_(Ye.nombre||""),E(!1);try{P(!1)}catch{}}}catch(Ye){console.warn("Error manejando proveedor:creado",Ye)}};return window.addEventListener("proveedor:creado",Ae),()=>window.removeEventListener("proveedor:creado",Ae)},[]),M.useEffect(()=>{const Ae=()=>{const it=localStorage.getItem(wu);if(it)try{const vt=JSON.parse(it);i(vt),console.log(" [ComprasManager] Productos sincronizados:",vt.map(xt=>xt.nombre))}catch(vt){console.error(" [ComprasManager] Error cargando productos:",vt)}};Ae();const He=it=>{it.key===wu&&it.newValue&&(console.log(" [ComprasManager] Productos actualizados desde otro tab"),Ae())};window.addEventListener("storage",He);const Ye=setInterval(Ae,500);return()=>{window.removeEventListener("storage",He),clearInterval(Ye)}},[]),M.useEffect(()=>{const Ae=()=>{const it=localStorage.getItem("damabella_tallas");if(it)try{const xt=JSON.parse(it).map(bt=>bt.abbreviation||bt.name||bt).filter(Boolean);c(xt),console.log(" [ComprasManager] Tallas sincronizadas:",xt)}catch(vt){console.error(" [ComprasManager] Error cargando tallas:",vt)}};Ae();const He=it=>{it.key==="damabella_tallas"&&it.newValue&&(console.log(" [ComprasManager] Tallas actualizadas desde otro tab"),Ae())};window.addEventListener("storage",He);const Ye=setInterval(Ae,500);return()=>{window.removeEventListener("storage",He),clearInterval(Ye)}},[]),M.useEffect(()=>{const Ae=()=>{const it=localStorage.getItem("damabella_colores");if(it)try{const xt=JSON.parse(it).map(bt=>bt.name||bt.nombre||"").filter(Boolean);f(xt),console.log(" [ComprasManager] Colores sincronizados:",xt)}catch(vt){console.error(" [ComprasManager] Error cargando colores:",vt)}};Ae();const He=it=>{it.key==="damabella_colores"&&it.newValue&&(console.log(" [ComprasManager] Colores actualizados desde otro tab"),Ae())};window.addEventListener("storage",He);const Ye=setInterval(Ae,500);return()=>{window.removeEventListener("storage",He),clearInterval(Ye)}},[]),M.useEffect(()=>{const Ae=()=>{const it=localStorage.getItem(l2);if(it)try{const xt=JSON.parse(it).filter(bt=>bt.active!==!1).map(bt=>typeof bt=="string"?{id:bt.toLowerCase().replace(/\s+/g,"_"),name:bt,active:!0}:{id:bt.id||bt.name?.toLowerCase().replace(/\s+/g,"_")||"",name:bt.name||bt.nombre||"",active:bt.active!==!1});h(xt),console.log(" [ComprasManager] Categoras sincronizadas:",xt.map(bt=>bt.name))}catch(vt){console.error(" [ComprasManager] Error cargando categoras:",vt)}};Ae();const He=it=>{it.key===l2&&it.newValue&&(console.log(" [ComprasManager] Categoras actualizadas desde otro tab"),Ae())};window.addEventListener("storage",He);const Ye=setInterval(Ae,500);return()=>{window.removeEventListener("storage",He),clearInterval(Ye)}},[]);const Ce=(Ae,He)=>{const Ye={};return Ae==="proveedorId"&&(He||(Ye.proveedorId="Debes seleccionar un proveedor")),Ae==="fechaCompra"&&(He||(Ye.fechaCompra="La fecha es obligatoria")),Ae==="iva"&&(!He||parseFloat(He)<0)&&(Ye.iva="El IVA debe ser mayor o igual a 0"),Ye},he=(Ae,He)=>{be({...pe,[Ae]:He});const Ye=Ce(Ae,He);Te({...ge,[Ae]:Ye[Ae]})},je=()=>{be({proveedorId:"",proveedorNombre:"",fechaCompra:new Date().toISOString().split("T")[0],iva:"19",observaciones:"",items:[]}),se({productoId:"",productoNombre:"",talla:"",color:"",cantidad:"",precioCompra:"",precioVenta:"",categoriaId:"",categoriaNombre:"",imagen:"",referencia:""}),Te({}),ue(""),_(""),V(""),g(!0)},_e=Ae=>{S(Ae),x(!0)};r.filter(Ae=>Ae.activo&&(Ae.nombre?.toLowerCase()??"").includes(q.toLowerCase())),a.filter(Ae=>Ae.activo&&(Ae.nombre?.toLowerCase()??"").includes(B.toLowerCase()));const we=()=>{let Ae=Ne.categoriaId,He=Ne.categoriaNombre;if(!Ae){const ar=$.current?.value;ar&&(Ae=ar,console.log(" [agregarItem] Fallback 1: Categora obtenida del select:",Ae))}if(!Ae){const ar=a.find(Xt=>Ba(Xt.nombre)===Ba(Ne.productoNombre));ar&&ar.categoryId&&(Ae=ar.categoryId,console.log(" [agregarItem] Fallback 2: Categora obtenida del producto en BD:",Ae))}Ae&&!He&&(He=p.find(Xt=>String(Xt.id)===String(Ae))?.name||"",console.log(" [agregarItem] Resolviendo nombre desde categoryId:",{categoryId:Ae,categoriaNombre:He})),console.log(" [ComprasManager] agregarItem - Estado final:",{productoId:Ne.productoId,productoNombre:Ne.productoNombre,categoriaId:Ae,categoriaNombre:He,color:Ne.color,cantidad:Ne.cantidad,precioCompra:Ne.precioCompra,precioVenta:Ne.precioVenta});const Ye=Ne.productoNombre||(Ne.productoId?a.find(ar=>String(ar.id)===String(Ne.productoId))?.nombre:"");if(!Ye||!Ne.color||!Ne.cantidad||!Ne.precioCompra||!Ne.precioVenta){G("Por favor completa: nombre del producto, color, cantidad, precios"),te("error"),W(!0);return}if(!Ae){console.warn(" [ComprasManager] Error: Categora no seleccionada. categoriaId=",Ae),G("Por favor selecciona una categora para el producto"),te("error"),W(!0);return}console.log(" [ComprasManager] Validaciones OK - Producto:",Ye,"Categora:",He);const it=parseFloat(Ne.cantidad),vt=parseFloat(Ne.precioCompra),xt=parseFloat(Ne.precioVenta),bt=it*vt;console.log(" Creando item:",{productoNombre:Ne.productoNombre,cantidad:it,precioCompra:vt,precioVenta:xt,subtotal:bt,cantidadEsNumero:typeof it=="number",precioCompraEsNumero:typeof vt=="number"});const wr={id:Date.now().toString(),productoId:Ne.productoId,productoNombre:Ye,talla:Ne.talla,color:Ne.color,cantidad:it,precioCompra:vt,precioVenta:xt,subtotal:bt,categoriaId:Ae,categoriaNombre:He,imagen:Ne.imagen,referencia:Ne.referencia};console.log(` Item agregado a tabla. Total items ahora: ${pe.items.length+1}`),be({...pe,items:[...pe.items,wr]}),se({productoId:"",productoNombre:"",talla:"",color:"",cantidad:"",precioCompra:"",precioVenta:"",categoriaId:Ae,categoriaNombre:He,imagen:"",referencia:""}),V("")},le=Ae=>{be({...pe,items:pe.items.filter(He=>He.id!==Ae)})},$e=()=>{const Ae=pe.items.reduce((He,Ye)=>{const it=Ye.subtotal||0;return console.log(` Item: ${Ye.productoNombre}, Cant: ${Ye.cantidad}, P.Compra: ${Ye.precioCompra}, Subtotal: ${it}`),He+it},0);return console.log(` SUBTOTAL TOTAL DE COMPRA: $${Ae}`),Ae},at=()=>{const Ae=$e(),He=parseFloat(pe.iva)||0;return Ae*He/100},lt=()=>$e()+at(),Ct=Ae=>Ae?e.filter(He=>He.proveedorId===Ae):[],Nt=Ae=>Ae.length,At=Ae=>Ae.reduce((He,Ye)=>{const it=(Ye.items||[]).reduce((vt,xt)=>vt+(xt.cantidad||0),0);return He+it},0),pt=Ae=>Ae.reduce((He,Ye)=>He+(Ye.total||0),0),Or=Ae=>[...Ae].sort((He,Ye)=>{const it=new Date(He.fechaCompra||"").getTime();return new Date(Ye.fechaCompra||"").getTime()-it}),Yt=Ae=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Ae),Lr=()=>{const Ae={};if(["proveedorId","fechaCompra","iva"].forEach(Ht=>{const Dt=Ce(Ht,pe[Ht]);Dt[Ht]&&(Ae[Ht]=Dt[Ht])}),Object.keys(Ae).length>0){Te(Ae);return}if(pe.items.length===0){ue("Debes agregar al menos un producto a la compra");return}const He=pe.items.filter(Ht=>!Ht.categoriaId||String(Ht.categoriaId).trim()==="");if(He.length>0){const Dt=` CRTICO: Los siguientes productos NO tienen categora asignada:
${He.map(de=>de.productoNombre).join(", ")}

Todos los productos DEBEN tener una categora. No se puede continuar.`;ue(Dt),G(Dt),te("error"),W(!0);return}ue("");let Ye=pe.proveedorNombre;Ye||(Ye=r.find(Dt=>String(Dt.id)===String(pe.proveedorId))?.nombre||pe.proveedorId);const it=$e(),vt=at(),xt=lt(),bt=`COMP-${ct.toString().padStart(3,"0")}`,wr={id:Date.now(),numeroCompra:bt,proveedorId:pe.proveedorId,proveedorNombre:Ye,fechaCompra:pe.fechaCompra,fechaRegistro:new Date().toISOString().split("T")[0],items:pe.items,subtotal:it,iva:vt,total:xt,estado:"Recibida",observaciones:pe.observaciones,createdAt:new Date().toISOString()};let Xt=[...a.map(Ht=>{const Dt=pe.items.filter(de=>String(de.productoId)===String(Ht.id));if(Dt.length>0){const de=Dt.reduce((ut,Rt)=>ut+(Number(Rt.cantidad)||0),0),Je=(Ht.stock||0)+de;return console.log(` [Producto] ${Ht.nombre}: Stock ${Ht.stock||0} + ${de} = ${Je}`),{...Ht,stock:Je}}return Ht})];const vr=[],Et=[];pe.items.forEach(Ht=>{const Dt=Xt.some(de=>Ba(de.nombre)===Ba(Ht.productoNombre));Xt=ZQ(Ht,Xt),Dt?Et.push(Ht.productoNombre):vr.push(Ht.productoNombre)}),console.log(" [ComprasManager] Verificando productos duplicados...");const Vr=v6(Xt);Vr.length<Xt.length&&console.log(` [ComprasManager] ${Xt.length-Vr.length} productos duplicados fueron unificados`),Xt=Vr,Xt=nr(Xt),localStorage.setItem(wu,JSON.stringify(Xt)),console.log(" [ComprasManager] Estado actual de productos en localStorage:"),console.log(`   Total de productos: ${Xt.length}`),Xt.forEach((Ht,Dt)=>{console.log(`   ${Dt+1}. ${Ht.nombre} (SKU: ${Ht.referencia}) - Variantes: ${Ht.variantes?.length||0} - Activo: ${Ht.activo}`)}),i(Xt),window.dispatchEvent(new StorageEvent("storage",{key:wu,newValue:JSON.stringify(Xt),oldValue:null,url:window.location.href})),vr.length>0&&console.log(` [ComprasManager] Se crearon ${vr.length} nuevos productos: ${vr.join(", ")}`),Et.length>0&&console.log(` [ComprasManager] Se actualizaron ${Et.length} productos: ${Et.join(", ")}`),console.log(" [ComprasManager] Productos sincronizados correctamente con el mdulo Productos"),t([...e,wr]),Q(ct+1);let Pr=" Compra guardada correctamente";vr.length>0&&(Pr+=` |  ${vr.length} nuevo(s)`),Et.length>0&&(Pr+=` |  ${Et.length} actualizado(s)`),Pr+=" en Productos",G(Pr),te("success"),W(!0),be({proveedorId:"",proveedorNombre:"",fechaCompra:new Date().toISOString().split("T")[0],items:[],iva:"0",observaciones:""}),Te({}),ue(""),g(!1)},nr=Ae=>Ae.map(He=>{let Ye=0;He.variantes&&Array.isArray(He.variantes)&&(Ye=He.variantes.reduce((bt,wr)=>{const ar=(wr.colores||[]).reduce((Xt,vr)=>Xt+(vr.cantidad||0),0);return bt+ar},0));const it=Ye>0,vt=He.activo!==!1,xt=Ye>0?"Activo":"Inactivo";return it!==vt||He.estado!==xt?(console.log(` [actualizarEstadoProductoSegunStock] ${He.nombre}: Stock Total = ${Ye}, Activo: ${vt}  ${it}, Estado: "${He.estado}"  "${xt}"`),{...He,activo:it,estado:xt}):He}),jr=(Ae,He)=>{console.log(`
 [revertirStockCompra] INICIANDO reversin para compra: ${Ae.numeroCompra}`),console.log(`   Compra tiene ${Ae.items.length} item(s)`);let Ye=[...He];return Ae.items.forEach((vt,xt)=>{console.log(`
   Item ${xt+1}: ${vt.productoNombre} (Talla: ${vt.talla}, Color: ${vt.color}, Qty: ${vt.cantidad})`);const bt=Ba(vt.productoNombre),wr=Ye.findIndex(de=>Ba(de.nombre)===bt);if(wr===-1){console.warn(`     Producto NO encontrado: ${vt.productoNombre}`);return}const ar=Ye[wr];if(console.log(`    Producto encontrado: ID ${ar.id}`),!ar.variantes||ar.variantes.length===0){console.warn(`     Producto sin variantes: ${ar.nombre}`);return}const Xt=ar.variantes.findIndex(de=>de.talla===vt.talla);if(Xt===-1){console.warn(`     Talla NO encontrada: ${vt.talla}`);return}const vr=ar.variantes[Xt];console.log(`    Talla encontrada: ${vr.talla}`);const Et=vr.colores.findIndex(de=>de.color===vt.color);if(Et===-1){console.warn(`     Color NO encontrado: ${vt.color}`);return}const Vr=vr.colores[Et],Pr=Vr.cantidad,Ht=vt.cantidad||0,Dt=Math.max(0,Pr-Ht);console.log(`    Stock: ${Pr} - ${Ht} = ${Dt}`),Dt<0&&console.warn(`     ADVERTENCIA: Stock sera negativo (${Dt}). Ajustando a 0`),Vr.cantidad=Dt,console.log(`    Stock actualizado: ${vt.color} ahora tiene ${Dt} unidades`)}),console.log(`
 [revertirStockCompra] Reversin completada para ${Ae.numeroCompra}
`),nr(Ye)},rn=Ae=>{const He=e.find(Ye=>Ye.id===Ae);if(!He){G(" Compra no encontrada"),te("error"),W(!0);return}if(He.estado==="Anulada"){G(" Esta compra ya fue anulada"),te("error"),W(!0);return}if(!He.items||He.items.length===0){G(" Compra sin items - no se puede anular"),te("error"),W(!0);return}Y(`Est seguro de anular esta compra?

 Se revertir el stock exactamente.
 Esta accin no se puede deshacer.`),me(()=>()=>{console.log(`
 [anularCompra] INICIANDO ANULACIN de compra: ${He.numeroCompra}`),console.log(`   Items en compra: ${He.items.length}`),console.log(`
 Step 1: Revertiendo stock en productos...`);const Ye=jr(He,a);Ye.some((xt,bt)=>{const wr=a[bt];return JSON.stringify(xt)!==JSON.stringify(wr)})||console.warn(`
  Advertencia: No hubo cambios en el stock`),console.log(`
 Step 2: Guardando productos actualizados en localStorage...`),localStorage.setItem(wu,JSON.stringify(Ye)),i(Ye),window.dispatchEvent(new StorageEvent("storage",{key:wu,newValue:JSON.stringify(Ye),oldValue:null,url:window.location.href})),console.log(`
 Step 3: Marcando compra como ANULADA...`);const vt=e.map(xt=>xt.id===Ae?{...xt,estado:"Anulada"}:xt);t(vt),console.log(`
 [anularCompra] ANULACIN COMPLETADA para ${He.numeroCompra}
`),T(!1),G(` Compra ${He.numeroCompra} anulada. Stock revertido correctamente.`),te("success"),W(!0)}),T(!0)},pr=e.filter(Ae=>(Ae.numeroCompra?.toLowerCase()??"").includes(R.toLowerCase())||(Ae.proveedorNombre?.toLowerCase()??"").includes(R.toLowerCase()));return o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Compras"}),o.jsx("p",{className:"text-gray-600",children:"Administra las compras a proveedores"})]}),o.jsxs(mt,{onClick:je,variant:"primary",children:[o.jsx(No,{size:20}),"Nueva Compra"]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-gray-900 font-semibold mb-2",children:"Historial de Compras por Proveedor"}),o.jsxs("div",{className:"mb-2",children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Seleccionar proveedor"}),o.jsxs("select",{value:Fe,onChange:Ae=>De(Ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Seleccionar un proveedor --"}),r.map(Ae=>o.jsx("option",{value:Ae.id,children:Ae.nombre},Ae.id))]})]}),Fe&&(()=>{const Ae=Ct(Fe),He=Or(Ae),Ye=r.find(bt=>bt.id===Fe)?.nombre||"",it=Nt(Ae),vt=At(Ae),xt=pt(Ae);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-gray-800 font-semibold",children:["Historial de Compras  ",Ye]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total de compras"}),o.jsx("p",{className:"text-xl font-semibold text-gray-900",children:it})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Cantidad total de productos"}),o.jsx("p",{className:"text-xl font-semibold text-gray-900",children:vt})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Monto total acumulado"}),o.jsx("p",{className:"text-xl font-semibold text-gray-900",children:Yt(xt)})]})]}),He.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Qm,{className:"mx-auto mb-2 text-gray-300",size:32}),o.jsx("p",{children:"Este proveedor an no tiene compras registradas."})]}):o.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Fecha"}),o.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"N Compra"}),o.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Cantidad de Productos"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Subtotal"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"IVA"}),o.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Total"}),o.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Estado"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:He.map(bt=>{const wr=(bt.items||[]).reduce((ar,Xt)=>ar+(Xt.cantidad||0),0);return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:new Date(bt.fechaCompra).toLocaleDateString("es-CO")}),o.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:bt.numeroCompra}),o.jsx("td",{className:"py-3 px-4 text-sm text-center text-gray-700",children:wr}),o.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-700",children:Yt(bt.subtotal||0)}),o.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-700",children:Yt(bt.iva||0)}),o.jsx("td",{className:"py-3 px-4 text-sm text-right font-semibold text-gray-900",children:Yt(bt.total||0)}),o.jsx("td",{className:"py-3 px-4 text-sm text-center",children:o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${bt.estado==="Recibida"?"bg-green-100 text-green-800":bt.estado==="Pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:bt.estado})})]},bt.id)})})]})})]})})()]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:"Buscar compras...",value:R,onChange:Ae=>L(Ae.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"N Compra"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Proveedor"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Fecha Compra"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Items"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Total"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:pr.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[o.jsx(Qm,{className:"mx-auto mb-2 text-gray-300",size:48}),o.jsx("p",{children:"No se encontraron compras"})]})}):pr.map(Ae=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qm,{size:16,className:"text-gray-400"}),o.jsx("span",{className:"text-gray-900 font-medium",children:Ae.numeroCompra})]})}),o.jsx("td",{className:"py-4 px-6 text-gray-700",children:Ae.proveedorNombre}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:Ae.fechaCompra}),o.jsx("td",{className:"py-4 px-6 text-center",children:o.jsxs("button",{onClick:()=>_e(Ae),className:"text-gray-600 hover:text-gray-900 underline",children:[Ae.items.length," items"]})}),o.jsxs("td",{className:"py-4 px-6 text-right text-gray-900 font-semibold",children:["$",Ae.total.toLocaleString()]}),o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>_e(Ae),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver detalles",children:o.jsx(ma,{size:18})}),(()=>{const He=Ae.estado==="Anulada";return o.jsx("button",{onClick:()=>{He||rn(Ae.id)},className:`p-2 rounded-lg transition-colors ${He?"text-red-400 opacity-50 cursor-not-allowed":"hover:bg-red-50 text-red-600"}`,title:"Anular compra",disabled:He,"aria-disabled":He,children:o.jsx(h5,{size:18})})})()]})})]},Ae.id))})]})})}),o.jsx(er,{isOpen:y,onClose:()=>g(!1),title:"Nueva Compra",size:"xxl",children:o.jsxs("div",{className:"space-y-2.5",style:{fontSize:"12px"},children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-start justify-items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-center",children:"Proveedor *"}),o.jsxs("select",{value:pe.proveedorId,onChange:Ae=>{const He=Ae.target.value,Ye=r.find(vt=>String(vt.id)===String(He)),it=Ye?Ye.nombre:"";it&&(be({...pe,proveedorId:He,proveedorNombre:it}),_(it)),Te({...ge,proveedorId:void 0})},disabled:!!Ne.productoId,className:`w-56 px-2.5 py-1.5 border rounded-lg focus:outline-none text-sm ${ge.proveedorId?"border-red-500":"border-gray-300"}`,children:[o.jsx("option",{value:"",children:"Seleccionar proveedor..."}),pe.proveedorId&&!r.some(Ae=>String(Ae.id)===String(pe.proveedorId))&&o.jsx("option",{value:String(pe.proveedorId),children:pe.proveedorNombre||pe.proveedorId}),r.filter(Ae=>Ae.activo&&Ae.nombre).map(Ae=>o.jsx("option",{value:String(Ae.id),children:Ae.nombre},Ae.id))]}),o.jsx("div",{className:"mt-1",children:o.jsx("button",{type:"button",onClick:()=>P(!0),className:"text-sm text-gray-700 text-center underline underline-offset-2",children:"Agregar nuevo proveedor"})}),ge.proveedorId&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ge.proveedorId})]}),C&&o.jsx(vL,{onlyModal:!0,openOnMount:!0}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-center",children:"Fecha de Compra *"}),o.jsx("div",{className:"w-56",children:o.jsx(wt,{type:"date",value:pe.fechaCompra,onChange:Ae=>he("fechaCompra",Ae.target.value),className:`${ge.fechaCompra?"border-red-500":""} text-sm px-2.5 py-1.5`,required:!0,readOnly:!0})}),ge.fechaCompra&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ge.fechaCompra})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-center",children:"IVA (%) *"}),o.jsx("div",{className:"w-56",children:o.jsx(wt,{type:"number",value:pe.iva,onChange:Ae=>he("iva",Ae.target.value),placeholder:"19",className:`${ge.iva?"border-red-500":""} text-sm px-2.5 py-1.5`,required:!0})}),ge.iva&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ge.iva})]})]}),o.jsxs("div",{className:"border-t pt-3",children:[o.jsx("h4",{className:"text-gray-900 mb-3 text-2xl font-bold text-center w-full",children:"Agregar productos a la compra"}),ze&&o.jsxs("div",{className:"mb-3 p-2.5 bg-red-50 border border-red-200 rounded-lg text-red-700 text-xs flex items-center gap-2",children:[o.jsx(Bh,{size:16}),ze]}),o.jsxs("div",{className:"space-y-3 mb-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3 items-start",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Nombre del Producto *"}),o.jsxs("div",{className:"w-56",children:[o.jsx("input",{type:"text",list:"productos-existentes",placeholder:"Escribe o selecciona un producto existente",value:Ne.productoNombre,onChange:Ae=>{const He=Ae.target.value,Ye=a.find(Ht=>Ht.activo&&Ba(Ht.nombre)===Ba(He));if(!Ye){se({...Ne,productoId:"",productoNombre:He,referencia:""});return}const it=String(Ye.id);let vt=Ye.categoryId||"",xt="";vt&&(xt=p.find(Dt=>String(Dt.id)===String(vt))?.name||"");let bt="",wr="",ar=Ye.imagen||Ye.image||Ye.imagenUrl||"",Xt="",vr="",Et="",Vr="";try{const Ht=e.slice().sort((Dt,de)=>{const Je=new Date(Dt.createdAt||Dt.fechaRegistro||0).getTime();return new Date(de.createdAt||de.fechaRegistro||0).getTime()-Je});for(const Dt of Ht){const de=(Dt.items||[]).find(Je=>String(Je.productoId)===String(it)||Ba(Je.productoNombre)===Ba(Ye.nombre));if(de&&(!Xt&&de.talla&&(Xt=de.talla),!vr&&de.color&&(vr=de.color),Et||(Et=Dt.proveedorId||"",Vr=Dt.proveedorNombre||r.find(Je=>String(Je.id)===String(Dt.proveedorId))?.nombre||""),de.precioCompra&&!bt)){bt=String(de.precioCompra);break}}if(!bt){const Dt=e.flatMap(de=>(de.items||[]).filter(Je=>String(Je.productoId)===String(it)||Ba(Je.productoNombre)===Ba(Ye.nombre)).map(Je=>Number(Je.precioCompra)||0)).filter(de=>de>0);if(Dt.length>0){const de=Dt.reduce((Je,ut)=>Je+ut,0)/Dt.length;bt=String(Math.round(de*100)/100)}}!bt&&Ye.precioCompra&&(bt=String(Ye.precioCompra)),Ye.precioVenta?wr=String(Ye.precioVenta):Ye.precio&&(wr=String(Ye.precio))}catch(Ht){console.warn("Error calculando precios previos para producto seleccionado",Ht)}let Pr={...Ne,productoId:it,productoNombre:Ye.nombre,categoriaId:vt,categoriaNombre:xt,referencia:Ye.referencia||"",precioCompra:bt,precioVenta:wr,imagen:ar||""};typeof Xt<"u"&&Xt&&(Pr.talla=Xt),typeof vr<"u"&&vr&&(Pr.color=vr),se(Pr),typeof Et<"u"&&Et&&(be({...pe,proveedorId:Et,proveedorNombre:Vr}),_(Vr||""))},className:"w-56 px-2.5 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"}),o.jsx("datalist",{id:"productos-existentes",children:a.filter(Ae=>Ae.activo).map(Ae=>o.jsx("option",{value:Ae.nombre,children:Ae.referencia?`${Ae.nombre} (${Ae.referencia})`:Ae.nombre},Ae.id))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Talla *"}),o.jsx("div",{className:"w-56",children:(()=>{const Ae=(Ne.talla||"").trim().toUpperCase(),He=!!Ae&&s.includes(Ae),Ye=()=>{if(!Ae||He)return;const it=[...s,Ae];c(it),localStorage.setItem("damabella_tallas",JSON.stringify(it)),se({...Ne,talla:Ae})};return o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",list:"tallas-existentes",placeholder:"Escribe o selecciona talla",value:Ne.talla,onChange:it=>se({...Ne,talla:it.target.value.toUpperCase()}),onKeyDown:it=>{it.key==="Enter"&&(it.preventDefault(),Ye())},className:"w-56 px-2.5 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"}),o.jsx("datalist",{id:"tallas-existentes",children:s.map(it=>o.jsx("option",{value:it},it))}),Ae&&He&&o.jsx("p",{className:"mt-1 text-[11px] text-emerald-700",children:" Talla ya existente"})]})})()}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tallas globales disponibles: ",s.join(", ")]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Color *"}),o.jsxs("div",{className:"w-56",children:[o.jsx("input",{type:"text",list:"colores-existentes",placeholder:"Escribe o selecciona color",value:Ne.color,onChange:Ae=>se({...Ne,color:Ae.target.value}),onKeyDown:Ae=>{if(Ae.key==="Enter"){Ae.preventDefault();const He=(Ne.color||"").trim(),Ye=!!He&&d.some(vt=>vt.toLowerCase()===He.toLowerCase());if(!He||Ye)return;const it=[...d,He];f(it),localStorage.setItem("damabella_colores",JSON.stringify(it.map(vt=>({name:vt}))))}},className:`w-56 px-2.5 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm ${ge?.color?"border-red-500":""}`}),o.jsx("datalist",{id:"colores-existentes",children:Array.from(new Set([...Object.keys(g6),...d])).map(Ae=>o.jsx("option",{value:Ae},Ae))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Cantidad"}),o.jsx("div",{className:"w-56",children:o.jsx(wt,{type:"number",value:Ne.cantidad,onChange:Ae=>se({...Ne,cantidad:Ae.target.value}),placeholder:"0",className:"text-sm px-2.5 py-1.5"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Precio Compra"}),o.jsx("div",{className:"w-56",children:o.jsx(wt,{type:"number",value:Ne.precioCompra,onChange:Ae=>se({...Ne,precioCompra:Ae.target.value}),placeholder:"0",readOnly:!!Ne.productoId,className:"text-sm px-2.5 py-1.5"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Precio Venta"}),o.jsx("div",{className:"w-56",children:o.jsx(wt,{type:"number",value:Ne.precioVenta,onChange:Ae=>se({...Ne,precioVenta:Ae.target.value}),placeholder:"0",className:"text-sm px-2.5 py-1.5"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Categora del Producto"}),o.jsxs("select",{ref:$,value:Ne.categoriaId||"",onChange:Ae=>{const He=Ae.target.value,Ye=p.find(it=>it.id===He);console.log(" [ComprasManager] Categora seleccionada en onChange:",{id:He,nombre:Ye?.name}),se(it=>({...it,categoriaId:He,categoriaNombre:Ye?.name||""}))},className:"w-56 px-2.5 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm",children:[o.jsx("option",{value:"",children:"Seleccionar categora..."}),p.map(Ae=>o.jsx("option",{value:Ae.id,children:Ae.name},Ae.id))]}),!Ne.categoriaId&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"La categora debe ir para ordenar los productos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Imagen del Producto"}),o.jsx("div",{className:"w-56 max-w-full",children:o.jsx(XQ,{value:Ne.imagen,onChange:Ae=>se({...Ne,imagen:Ae})})})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 mt-3",children:"..."})]}),o.jsx("div",{className:"flex justify-center",children:o.jsxs(mt,{onClick:()=>{const Ae=$.current?.value||"",He=p.find(Ye=>Ye.id===Ae);if(console.log(" [ComprasManager] ANTES de agregarItem:",{categoriaId_state:Ne.categoriaId,categoriaId_select:Ae,categoriaNombre_select:He?.name,nuevoItem:JSON.stringify(Ne,null,2)}),Ae&&!Ne.categoriaId){console.log(" [ComprasManager] Actualizando estado con categora del select...");const Ye={...Ne,categoriaId:Ae,categoriaNombre:He?.name||""};se(Ye),setTimeout(()=>we(),50)}else if(Ae&&Ne.categoriaId!==Ae){console.log(" [ComprasManager] Sincronizando categora del select...");const Ye={...Ne,categoriaId:Ae,categoriaNombre:He?.name||""};se(Ye),setTimeout(()=>we(),50)}else we()},variant:"primary",className:"w-96 mb-2 text-lg py-3",children:[o.jsx(No,{size:18}),"Agregar Producto"]})}),pe.items.length>0&&o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Producto"}),o.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Categora"}),o.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Talla"}),o.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Color"}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Cant."}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Compra"}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Venta"}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Subtotal"}),o.jsx("th",{className:"py-2 px-3"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:pe.items.map(Ae=>{const He=g6[Ae.color]||Ae.color;return o.jsxs("tr",{children:[o.jsx("td",{className:"py-2 px-3 text-gray-900",children:Ae.productoNombre}),o.jsx("td",{className:"py-2 px-3 text-gray-700",children:o.jsx("span",{className:"inline-block bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:Ae.categoriaNombre||" ERROR: Sin asignar"})}),o.jsx("td",{className:"py-2 px-3 text-gray-700",children:Ae.talla||"-"}),o.jsx("td",{className:"py-2 px-3 text-gray-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[Ae.color&&o.jsx("div",{className:"w-6 h-6 rounded-md border border-gray-300 shadow-sm",style:{backgroundColor:He},title:Ae.color}),o.jsx("span",{children:Ae.color||"-"})]})}),o.jsx("td",{className:"py-2 px-3 text-right text-gray-700",children:Ae.cantidad}),o.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",(Ae.precioCompra||0).toLocaleString()]}),o.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",(Ae.precioVenta||0).toLocaleString()]}),o.jsxs("td",{className:"py-2 px-3 text-right text-gray-900",children:["$",(Ae.subtotal||0).toLocaleString()]}),o.jsx("td",{className:"py-2 px-3",children:o.jsx("button",{onClick:()=>le(Ae.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(Ji,{size:14})})})]},Ae.id)})})]})}),pe.items.length>0&&o.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",$e().toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsxs("span",{children:["IVA (",pe.iva,"%):"]}),o.jsxs("span",{children:["$",at().toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-900 pt-2 border-t border-gray-300",children:[o.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),o.jsxs("span",{className:"text-lg font-semibold",children:["$",lt().toLocaleString()]})]})]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-3 border-t",children:[o.jsx(mt,{onClick:()=>g(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:Lr,variant:"primary",children:"Crear Compra"})]})]})}),o.jsx(er,{isOpen:j,onClose:()=>x(!1),title:`Detalles de la Compra ${w?.numeroCompra}`,children:w&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Proveedor"}),o.jsx("div",{className:"text-gray-900 font-medium",children:w.proveedorNombre})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Estado"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs ${w.estado==="Recibida"?"bg-green-100 text-green-700":w.estado==="Pendiente"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:w.estado})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Fecha de Compra"}),o.jsx("div",{className:"text-gray-900",children:w.fechaCompra})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Fecha de Registro"}),o.jsx("div",{className:"text-gray-900",children:w.fechaRegistro})]})]}),w.observaciones&&o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Observaciones"}),o.jsx("div",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:w.observaciones})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"text-gray-900 font-semibold mb-3",children:"Productos"}),o.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Producto"}),o.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Talla"}),o.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Color"}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Cant."}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Compra"}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Venta"}),o.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Subtotal"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:w.items.map(Ae=>o.jsxs("tr",{children:[o.jsx("td",{className:"py-2 px-3 text-gray-900",children:Ae.productoNombre}),o.jsx("td",{className:"py-2 px-3 text-gray-700",children:Ae.talla||"-"}),o.jsx("td",{className:"py-2 px-3 text-gray-700",children:Ae.color||"-"}),o.jsx("td",{className:"py-2 px-3 text-right text-gray-700",children:Ae.cantidad}),o.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",Ae.precioCompra.toLocaleString()]}),o.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",Ae.precioVenta.toLocaleString()]}),o.jsxs("td",{className:"py-2 px-3 text-right text-gray-900",children:["$",Ae.subtotal.toLocaleString()]})]},Ae.id))})]})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",w.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"IVA:"}),o.jsxs("span",{children:["$",w.iva.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-900 pt-2 border-t border-gray-300",children:[o.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),o.jsxs("span",{className:"text-lg font-semibold",children:["$",w.total.toLocaleString()]})]})]})]})}),o.jsx(er,{isOpen:z,onClose:()=>W(!1),title:ie==="error"?"Error":ie==="success"?"xito":"Advertencia",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border ${ie==="error"?"bg-red-50 border-red-200":ie==="success"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center font-bold text-white ${ie==="error"?"bg-red-600":ie==="success"?"bg-green-600":"bg-yellow-600"}`,children:ie==="error"?"!":ie==="success"?"":""}),o.jsx("p",{className:ie==="error"?"text-red-800":ie==="success"?"text-green-800":"text-yellow-800",children:ee})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(mt,{onClick:()=>W(!1),variant:"primary",children:"Aceptar"})})]})}),o.jsx(er,{isOpen:re,onClose:()=>T(!1),title:"Confirmar accin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700",children:J}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(mt,{onClick:()=>T(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:()=>H&&H(),variant:"primary",children:"Confirmar"})]})]})})]})}const Vm="damabella_clientes",Wm="damabella_ventas",eee="damabella_devoluciones",tee="damabella_cambios";function ree(){const[e,t]=M.useState(()=>{const ue=localStorage.getItem(Vm);return ue?JSON.parse(ue):[]}),[r,n]=M.useState(!1),[a,i]=M.useState(null),[s,c]=M.useState(""),[d,f]=M.useState({}),[p,h]=M.useState(!1),[y,g]=M.useState(""),[j,x]=M.useState("error"),[w,S]=M.useState(!1),[C,P]=M.useState(""),[R,L]=M.useState(null),[q,_]=M.useState(!1),[B,V]=M.useState(null),[K,E]=M.useState(1),[$,D]=M.useState(10),[I,z]=M.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:"",ciudad:""}),W=2e3,ee=Pe.useRef(null);M.useEffect(()=>(p?(ee.current&&window.clearTimeout(ee.current),ee.current=window.setTimeout(()=>{h(!1),ee.current=null},W)):ee.current&&(window.clearTimeout(ee.current),ee.current=null),()=>{ee.current&&(window.clearTimeout(ee.current),ee.current=null)}),[p]);const G=ue=>JSON.parse(localStorage.getItem(Wm)||"[]").some(De=>De.clienteId===ue&&(De.estado==="Aplicada"||De.estado==="APLICADA"||De.estado==="Completada"||De.estado==="COMPLETADA")),ie=ue=>ue.map(Fe=>G(Fe.id)&&!Fe.activo?(console.log(` [ClientesManager] Cliente "${Fe.nombre}" activado automticamente (tiene venta APLICADA)`),{...Fe,activo:!0}):Fe);M.useEffect(()=>{const ue=ie(e);localStorage.setItem(Vm,JSON.stringify(ue)),JSON.stringify(ue)!==JSON.stringify(e)&&t(ue)},[e]);const te=ue=>{const Fe={...ue,activo:!ue.activo},De=e.map(se=>se.id?.toString()===ue.id?.toString()?Fe:se);t(De),localStorage.setItem(Vm,JSON.stringify(De));const Ne=Fe.activo?"activado":"desactivado";console.log(` Cliente "${ue.nombre}" ${Ne}`),g(`Cliente "${ue.nombre}" ha sido ${Ne}`),x("success"),h(!0)},re=(ue,Fe)=>{if((ue==="numeroDoc"||ue==="telefono")&&(Fe=Fe.replace(/\D/g,"")),ue==="nombre"&&(Fe=Fe.replace(/[^a-zA-Z\s]/g,"")),z({...I,[ue]:Fe}),ue==="nombre"){const De=Gi("nombre",Fe);if(De)f({...d,nombre:De});else{const{nombre:Ne,...se}=d;f(se)}return}if(ue==="numeroDoc"){if(Fe.length<6||Fe.length>10)f({...d,numeroDoc:"Debe tener entre 6 y 10 dgitos"});else{const{numeroDoc:De,...Ne}=d;f(Ne)}return}if(ue==="telefono"){if(Fe.trim()&&Fe.length!==10)f({...d,telefono:"Debe tener exactamente 10 dgitos"});else{const{telefono:De,...Ne}=d;f(Ne)}return}if(ue==="email"){if(Fe.trim()){const De=Gi("email",Fe);if(De)f({...d,email:De});else if(e.some(se=>(se.email?.toLowerCase()??"")===(Fe?.toLowerCase()??"")&&se.id!==a?.id))f({...d,email:"Este correo electrnico ya est registrado"});else{const{email:se,...ct}=d;f(ct)}}else{const{email:De,...Ne}=d;f(Ne)}return}},T=()=>{I.numeroDoc.trim()&&e.some(Fe=>Fe.numeroDoc===I.numeroDoc&&Fe.id!==a?.id)&&(g("Este cliente ya est registrado en el sistema"),x("warning"),h(!0))},J=()=>{i(null),z({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:"",ciudad:""}),n(!0)},Y=ue=>{i(ue),z({nombre:ue.nombre||"",tipoDoc:ue.tipoDoc||"CC",numeroDoc:ue.numeroDoc||"",telefono:ue.telefono||"",email:ue.email||"",direccion:ue.direccion||"",ciudad:ue.ciudad||""}),n(!0)},H=()=>{const ue={};if(I.nombre.trim()?/^[a-zA-Z\s]+$/.test(I.nombre)||(ue.nombre="Solo se permiten letras y espacios"):ue.nombre="El nombre es obligatorio",I.numeroDoc.trim()?/^\d{6,12}$/.test(I.numeroDoc)||(ue.numeroDoc="Debe tener entre 6 y 12 dgitos"):ue.numeroDoc="El nmero de documento es obligatorio",I.telefono.trim()?/^\d{10}$/.test(I.telefono)||(ue.telefono="Debe tener exactamente 10 dgitos"):ue.telefono="El telfono es obligatorio",I.ciudad.trim()||(ue.ciudad="La ciudad es obligatoria"),I.email.trim()?/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(I.email)?e.some(Ne=>(Ne.email?.toLowerCase()??"")===(I.email?.toLowerCase()??"")&&Ne.id!==a?.id)&&(ue.email="Este correo electrnico ya est registrado"):ue.email="Email invlido (debe iniciar con letra)":ue.email="El correo es obligatorio",I.direccion.trim()||(ue.direccion="La direccin es obligatoria"),f(ue),Object.keys(ue).length>0){g("Por favor completa todos los campos requeridos"),x("error"),h(!0);return}const Fe={...I,activo:a?a.activo:!1,createdAt:a?.createdAt||new Date().toISOString()};t(a?e.map(De=>De.id===a.id?{...De,...Fe}:De):[...e,{id:Date.now(),...Fe}]),n(!1)},me=()=>{if(!B)return;const ue=e.filter(Fe=>Fe.id?.toString()!==B.id?.toString());t(ue),localStorage.setItem(Vm,JSON.stringify(ue)),S(!1),V(null),g("Cliente eliminado correctamente"),x("success"),h(!0)},pe=e.filter(ue=>{const Fe=s.toLowerCase();return(ue.nombre?.toLowerCase()??"").includes(Fe)||(ue.numeroDoc??"").includes(s)||(ue.email?.toLowerCase()??"").includes(Fe)||(ue.telefono??"").includes(s)||(ue.tipoDoc?.toLowerCase()??"").includes(Fe)||(ue.ciudad?.toLowerCase()??"").includes(Fe)||(ue.direccion?.toLowerCase()??"").includes(Fe)}),be=pe.length,ge=Math.max(1,Math.ceil(be/$)),Te=pe.slice((K-1)*$,K*$);M.useEffect(()=>{E(1)},[s]),M.useEffect(()=>{K>ge&&E(ge)},[ge]);const ze=ue=>{const Fe=JSON.parse(localStorage.getItem(Wm)||"[]"),De=JSON.parse(localStorage.getItem(eee)||"[]"),Ne=JSON.parse(localStorage.getItem(tee)||"[]"),se=ue.toString(),ct=Fe.filter(le=>le.clienteId===ue||le.clienteId?.toString()===se||le.clienteId===se),Q=ct.reduce((le,$e)=>le+($e.total||0),0),Ce=De.filter(le=>le.clienteId===ue||le.clienteId?.toString()===se||le.clienteId===se),he=Ce.reduce((le,$e)=>le+($e.total||0),0),je=Ne.filter(le=>le.clienteId===ue||le.clienteId?.toString()===se||le.clienteId===se),_e=je.reduce((le,$e)=>le+($e.diferencia||0),0);return{totalVentas:Q,totalDevoluciones:he,totalCambios:_e,saldoAFavor:he,ventasCliente:ct,devolucionesCliente:Ce,cambiosCliente:je}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Clientes"}),o.jsx("p",{className:"text-gray-600",children:"Administra la informacin de tus clientes"})]}),o.jsxs(mt,{onClick:J,variant:"primary",children:[o.jsx(No,{size:20}),"Nuevo Cliente"]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:"Buscar clientes...",value:s,onChange:ue=>c(ue.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Cliente"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Documento"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Contacto"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Ciudad"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Saldo a favor"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:Te.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:[o.jsx(af,{className:"mx-auto mb-4 text-gray-300",size:48}),o.jsx("p",{children:"No se encontraron clientes"})]})}):Te.map(ue=>{const Fe=ze(ue.id);return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center text-white",children:ue.nombre[0]?.toUpperCase()}),o.jsx("div",{children:o.jsx("div",{className:"text-gray-900",children:ue.nombre})})]})}),o.jsxs("td",{className:"py-4 px-6",children:[o.jsx("div",{className:"text-gray-700",children:ue.tipoDoc}),o.jsx("div",{className:"text-gray-500",children:ue.numeroDoc})]}),o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"space-y-1",children:[ue.telefono&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(p0,{size:14,className:"text-gray-400"}),ue.telefono]}),ue.email&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(h0,{size:14,className:"text-gray-400"}),ue.email]})]})}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:ue.ciudad||"N/A"}),o.jsx("td",{className:"py-4 px-6 text-center",children:o.jsxs("span",{className:`inline-block min-w-[90px] ${(Fe.saldoAFavor||0)>0?"text-emerald-700 font-semibold":"text-gray-500"}`,children:["$",(Fe.saldoAFavor||0).toLocaleString()]})}),o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${ue.activo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:ue.activo?"Activo":"Inactivo"})})}),o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>{if(!ue||!ue.id){console.error(" [ClientesManager] Error: Cliente sin ID",ue),g("Error: No se puede abrir el detalle del cliente"),x("error"),h(!0);return}sessionStorage.setItem("cliente_detalle_actual",JSON.stringify(ue)),window.dispatchEvent(new CustomEvent("navigate-cliente-detalle",{detail:ue}))},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Ver detalle",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:()=>Y(ue),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Editar",children:o.jsx(Tu,{size:18})}),o.jsx("button",{onClick:()=>{if(JSON.parse(localStorage.getItem(Wm)||"[]").some(se=>se.clienteId===ue.id||se.clienteId?.toString()===ue.id.toString())){V(ue),_(!0);return}V(ue),P(`Deseas eliminar al cliente "${ue.nombre}"? Esta accin no se puede deshacer.`),L(()=>()=>me()),S(!0)},className:"p-1.5 hover:bg-red-50 rounded-md transition-colors",title:"Eliminar cliente",children:o.jsx(Uo,{className:"h-4 w-4 text-red-600"})}),o.jsx("button",{onMouseDown:De=>De.preventDefault(),onClick:()=>{if(ue.activo===!1)te(ue);else{if(JSON.parse(localStorage.getItem(Wm)||"[]").some(se=>se.clienteId===ue.id||se.clienteId?.toString()===ue.id.toString())){V(ue),_(!0);return}P(`Deseas desactivar al cliente "${ue.nombre}"?`),L(()=>()=>te(ue)),S(!0)}},"aria-pressed":ue.activo!==!1,className:`relative w-12 h-6 rounded-full transition-colors ${ue.activo!==!1?"bg-green-500":"bg-gray-400"}`,title:ue.activo===!1?"Activar cliente":"Inactivar cliente",children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${ue.activo!==!1?"translate-x-6":"translate-x-0"}`})})]})})]},ue.id)})})]})})}),o.jsx(er,{isOpen:r,onClose:()=>n(!1),title:a?"Editar Cliente":"Nuevo Cliente",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo de Documento *"}),o.jsxs("select",{value:I.tipoDoc,onChange:ue=>z({...I,tipoDoc:ue.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[o.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),o.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),o.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),o.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero de Documento *"}),o.jsx(wt,{value:I.numeroDoc,onChange:ue=>re("numeroDoc",ue.target.value),onBlur:T,placeholder:"1234567890",maxLength:10,required:!0}),d.numeroDoc&&o.jsx("p",{className:"text-red-500 text-sm",children:d.numeroDoc})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre Completo *"}),o.jsx(wt,{value:I.nombre,onChange:ue=>re("nombre",ue.target.value),placeholder:"Juan Prez",required:!0}),d.nombre&&o.jsx("p",{className:"text-red-500 text-sm",children:d.nombre})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono *"}),o.jsx(wt,{value:I.telefono,onChange:ue=>re("telefono",ue.target.value),placeholder:"3001234567",maxLength:10,required:!0}),d.telefono&&o.jsx("p",{className:"text-red-500 text-sm",children:d.telefono})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Ciudad *"}),o.jsxs("select",{value:I.ciudad,onChange:ue=>z({...I,ciudad:ue.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[o.jsx("option",{value:"",children:"Seleccionar ciudad..."}),o.jsx("option",{value:"Bogot",children:"Bogot"}),o.jsx("option",{value:"Medelln",children:"Medelln"}),o.jsx("option",{value:"Cali",children:"Cali"}),o.jsx("option",{value:"Barranquilla",children:"Barranquilla"}),o.jsx("option",{value:"Bucaramanga",children:"Bucaramanga"})]}),d.ciudad&&o.jsx("p",{className:"text-red-500 text-sm",children:d.ciudad})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Correo Electrnico *"}),o.jsx(wt,{type:"email",value:I.email,onChange:ue=>re("email",ue.target.value),placeholder:"cliente@ejemplo.com",required:!0}),d.email&&o.jsx("p",{className:"text-red-500 text-sm",children:d.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin *"}),o.jsx(wt,{value:I.direccion,onChange:ue=>z({...I,direccion:ue.target.value}),placeholder:"Calle 123 # 45-67",required:!0}),d.direccion&&o.jsx("p",{className:"text-red-500 text-sm",children:d.direccion})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>n(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:H,variant:"primary",children:a?"Guardar Cambios":"Crear Cliente"})]})]})}),o.jsx(er,{isOpen:p,onClose:()=>h(!1),title:j==="error"?"Error":j==="success"?"xito":"Advertencia",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border ${j==="error"?"bg-red-50 border-red-200":j==="success"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center font-bold text-white ${j==="error"?"bg-red-600":j==="success"?"bg-green-600":"bg-yellow-600"}`,children:j==="error"?"!":j==="success"?"":""}),o.jsx("p",{className:j==="error"?"text-red-800":j==="success"?"text-green-800":"text-yellow-800",children:y})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(mt,{onClick:()=>h(!1),variant:"primary",children:"Aceptar"})})]})}),o.jsx(er,{isOpen:w,onClose:()=>S(!1),title:"Confirmar accin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700",children:C}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx(mt,{onClick:()=>S(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:()=>{S(!1),R&&R()},variant:"primary",children:"Confirmar"})]})]})}),o.jsx(er,{isOpen:q,onClose:()=>_(!1),title:"No se puede completar la accin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-700",children:"No puedes eliminar ni desactivar este cliente porque tiene ventas asociadas. Si necesitas ayuda, contacta al administrador."}),o.jsx("div",{className:"flex gap-3 justify-end",children:o.jsx(mt,{onClick:()=>_(!1),variant:"secondary",children:"Cerrar"})})]})}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",Math.min((K-1)*$+1,be)," - ",Math.min(K*$,be)," de ",be," clientes"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{disabled:K===1,onClick:()=>E(ue=>Math.max(1,ue-1)),className:"px-3 py-1 border rounded disabled:opacity-40",children:"Anterior"}),[...Array(ge)].map((ue,Fe)=>o.jsx("button",{onClick:()=>E(Fe+1),className:`px-3 py-1 border rounded ${K===Fe+1?"bg-gray-100":""}`,children:Fe+1},Fe)),o.jsx("button",{disabled:K===ge,onClick:()=>E(ue=>Math.min(ge,ue+1)),className:"px-3 py-1 border rounded disabled:opacity-40",children:"Siguiente"}),o.jsxs("select",{value:$,onChange:ue=>{D(Number(ue.target.value)),E(1)},className:"ml-2 border rounded px-2 py-1",children:[o.jsx("option",{value:5,children:"5"}),o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:20,children:"20"})]})]})]})]})}const nee="/assets/f9980eafb084086314287418c2277481f2448928-ECCEFK_G.png";new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0];const aee=[{id:1,codigo:"VL001",nombre:"Vestido Largo Elegante Rosa",descripcion:"Hermoso vestido largo en tono rosa pastel, perfecto para eventos especiales. Confeccionado en tela de alta calidad con cada suave y elegante.",categoria:"Vestidos Largos",proveedor:"Textiles del Valle",precioVenta:189e3,imagen:"https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=800",material:"Polister Premium",variantes:[{talla:"XS",colores:[{color:"Rosa",cantidad:10},{color:"Blanco",cantidad:8}]},{talla:"S",colores:[{color:"Rosa",cantidad:15},{color:"Blanco",cantidad:12}]},{talla:"M",colores:[{color:"Rosa",cantidad:20},{color:"Blanco",cantidad:15}]},{talla:"L",colores:[{color:"Rosa",cantidad:12},{color:"Blanco",cantidad:10}]},{talla:"XL",colores:[{color:"Rosa",cantidad:8},{color:"Blanco",cantidad:6}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:2,codigo:"VL002",nombre:"Vestido Largo Floral Elegante",descripcion:"Vestido largo con estampado floral delicado. Ideal para eventos de da y ocasiones especiales.",categoria:"Vestidos Largos",proveedor:"Modas y Diseos S.A.S",precioVenta:215e3,imagen:"https://images.unsplash.com/photo-1566174053879-31528523f8ae?w=800",material:"Seda Sinttica",variantes:[{talla:"XS",colores:[{color:"Azul",cantidad:8},{color:"Verde",cantidad:6}]},{talla:"S",colores:[{color:"Azul",cantidad:12},{color:"Verde",cantidad:10}]},{talla:"M",colores:[{color:"Azul",cantidad:18},{color:"Verde",cantidad:15}]},{talla:"L",colores:[{color:"Azul",cantidad:10},{color:"Verde",cantidad:8}]},{talla:"XL",colores:[{color:"Azul",cantidad:6},{color:"Verde",cantidad:5}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:3,codigo:"VL003",nombre:"Vestido Largo Negro Sofisticado",descripcion:"Vestido largo negro de corte elegante. Perfecto para eventos nocturnos y ocasiones formales.",categoria:"Vestidos Largos",proveedor:"Telas Importadas Premium",precioVenta:245e3,imagen:"https://images.unsplash.com/photo-1539008835657-9e8e9680c956?w=800",material:"Algodn Premium",variantes:[{talla:"XS",colores:[{color:"Negro",cantidad:12}]},{talla:"S",colores:[{color:"Negro",cantidad:18}]},{talla:"M",colores:[{color:"Negro",cantidad:25}]},{talla:"L",colores:[{color:"Negro",cantidad:15}]},{talla:"XL",colores:[{color:"Negro",cantidad:10}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:4,codigo:"VC001",nombre:"Vestido Corto Rosa Casual",descripcion:"Vestido corto en tono rosa vibrante, ideal para salidas casuales y eventos diurnos.",categoria:"Vestidos Cortos",proveedor:"Textiles del Valle",precioVenta:135e3,imagen:"https://images.unsplash.com/photo-1612336307429-8a898d10e223?w=800",material:"Algodn",variantes:[{talla:"XS",colores:[{color:"Rosa",cantidad:15},{color:"Beige",cantidad:10}]},{talla:"S",colores:[{color:"Rosa",cantidad:20},{color:"Beige",cantidad:15}]},{talla:"M",colores:[{color:"Rosa",cantidad:25},{color:"Beige",cantidad:20}]},{talla:"L",colores:[{color:"Rosa",cantidad:15},{color:"Beige",cantidad:12}]},{talla:"XL",colores:[{color:"Rosa",cantidad:10},{color:"Beige",cantidad:8}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:5,codigo:"VC002",nombre:"Vestido Corto Estampado Verano",descripcion:"Vestido corto con estampado tropical, perfecto para el verano y ocasiones informales.",categoria:"Vestidos Cortos",proveedor:"Modas y Diseos S.A.S",precioVenta:125e3,imagen:"https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?w=800",material:"Lino",variantes:[{talla:"XS",colores:[{color:"Amarillo",cantidad:10},{color:"Blanco",cantidad:12}]},{talla:"S",colores:[{color:"Amarillo",cantidad:18},{color:"Blanco",cantidad:20}]},{talla:"M",colores:[{color:"Amarillo",cantidad:22},{color:"Blanco",cantidad:25}]},{talla:"L",colores:[{color:"Amarillo",cantidad:12},{color:"Blanco",cantidad:15}]},{talla:"XL",colores:[{color:"Amarillo",cantidad:8},{color:"Blanco",cantidad:10}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:6,codigo:"VC003",nombre:"Vestido Corto Azul Marino",descripcion:"Vestido corto en tono azul marino con detalles elegantes. Verstil para diferentes ocasiones.",categoria:"Vestidos Cortos",proveedor:"Telas Importadas Premium",precioVenta:149e3,imagen:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=800",material:"Polister",variantes:[{talla:"XS",colores:[{color:"Azul",cantidad:12}]},{talla:"S",colores:[{color:"Azul",cantidad:18}]},{talla:"M",colores:[{color:"Azul",cantidad:22}]},{talla:"L",colores:[{color:"Azul",cantidad:14}]},{talla:"XL",colores:[{color:"Azul",cantidad:10}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:7,codigo:"SET001",nombre:"Set Blusa y Pantaln Elegante",descripcion:"Conjunto de dos piezas: blusa con mangas acampanadas y pantaln de tiro alto. Perfecto para la oficina.",categoria:"Sets",proveedor:"Textiles del Valle",precioVenta:175e3,imagen:"https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=800",material:"Algodn-Polister",variantes:[{talla:"XS",colores:[{color:"Blanco",cantidad:10},{color:"Negro",cantidad:12}]},{talla:"S",colores:[{color:"Blanco",cantidad:15},{color:"Negro",cantidad:18}]},{talla:"M",colores:[{color:"Blanco",cantidad:20},{color:"Negro",cantidad:22}]},{talla:"L",colores:[{color:"Blanco",cantidad:12},{color:"Negro",cantidad:15}]},{talla:"XL",colores:[{color:"Blanco",cantidad:8},{color:"Negro",cantidad:10}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:8,codigo:"SET002",nombre:"Set Deportivo Rosa",descripcion:"Conjunto deportivo de dos piezas en tono rosa. Ideal para hacer ejercicio con estilo.",categoria:"Sets",proveedor:"Modas y Diseos S.A.S",precioVenta:145e3,imagen:"https://images.unsplash.com/photo-1556906918-5ccce0dd6966?w=800",material:"Lycra Deportiva",variantes:[{talla:"XS",colores:[{color:"Rosa",cantidad:15},{color:"Gris",cantidad:12}]},{talla:"S",colores:[{color:"Rosa",cantidad:22},{color:"Gris",cantidad:18}]},{talla:"M",colores:[{color:"Rosa",cantidad:28},{color:"Gris",cantidad:25}]},{talla:"L",colores:[{color:"Rosa",cantidad:18},{color:"Gris",cantidad:15}]},{talla:"XL",colores:[{color:"Rosa",cantidad:12},{color:"Gris",cantidad:10}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:9,codigo:"SET003",nombre:"Set Casual Verano",descripcion:"Conjunto casual de top y falda midi. Perfecto para das soleados.",categoria:"Sets",proveedor:"Telas Importadas Premium",precioVenta:165e3,imagen:"https://images.unsplash.com/photo-1611312449412-6cefac5dc94e?w=800",material:"Lino",variantes:[{talla:"XS",colores:[{color:"Beige",cantidad:10},{color:"Blanco",cantidad:8}]},{talla:"S",colores:[{color:"Beige",cantidad:15},{color:"Blanco",cantidad:12}]},{talla:"M",colores:[{color:"Beige",cantidad:20},{color:"Blanco",cantidad:18}]},{talla:"L",colores:[{color:"Beige",cantidad:12},{color:"Blanco",cantidad:10}]},{talla:"XL",colores:[{color:"Beige",cantidad:8},{color:"Blanco",cantidad:6}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:10,codigo:"ENT001",nombre:"Enterizo Elegante Negro",descripcion:"Enterizo sofisticado en color negro con piernas anchas. Ideal para eventos formales.",categoria:"Enterizos",proveedor:"Textiles del Valle",precioVenta:195e3,imagen:"https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?w=800",material:"Crepe",variantes:[{talla:"XS",colores:[{color:"Negro",cantidad:12},{color:"Rojo",cantidad:8}]},{talla:"S",colores:[{color:"Negro",cantidad:18},{color:"Rojo",cantidad:12}]},{talla:"M",colores:[{color:"Negro",cantidad:25},{color:"Rojo",cantidad:15}]},{talla:"L",colores:[{color:"Negro",cantidad:15},{color:"Rojo",cantidad:10}]},{talla:"XL",colores:[{color:"Negro",cantidad:10},{color:"Rojo",cantidad:6}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:11,codigo:"ENT002",nombre:"Enterizo Casual Denim",descripcion:"Enterizo en tela denim con cinturn. Perfecto para un look casual pero elegante.",categoria:"Enterizos",proveedor:"Modas y Diseos S.A.S",precioVenta:168e3,imagen:"https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?w=800",material:"Denim",variantes:[{talla:"XS",colores:[{color:"Azul",cantidad:10}]},{talla:"S",colores:[{color:"Azul",cantidad:18}]},{talla:"M",colores:[{color:"Azul",cantidad:22}]},{talla:"L",colores:[{color:"Azul",cantidad:15}]},{talla:"XL",colores:[{color:"Azul",cantidad:10}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]},{id:12,codigo:"ENT003",nombre:"Enterizo Floral Verano",descripcion:"Enterizo con estampado floral delicado. Perfecto para la temporada de verano.",categoria:"Enterizos",proveedor:"Telas Importadas Premium",precioVenta:185e3,imagen:"https://images.unsplash.com/photo-1583496661160-fb5886a0aaaa?w=800",material:"Viscosa",variantes:[{talla:"XS",colores:[{color:"Rosa",cantidad:8},{color:"Verde",cantidad:6}]},{talla:"S",colores:[{color:"Rosa",cantidad:15},{color:"Verde",cantidad:12}]},{talla:"M",colores:[{color:"Rosa",cantidad:20},{color:"Verde",cantidad:15}]},{talla:"L",colores:[{color:"Rosa",cantidad:12},{color:"Verde",cantidad:10}]},{talla:"XL",colores:[{color:"Rosa",cantidad:8},{color:"Verde",cantidad:6}]}],activo:!0,fechaCreacion:new Date().toISOString().split("T")[0]}],oee=Object.assign({"../../assets/f9980eafb084086314287418c2277481f2448928.png":nee}),iee=Object.fromEntries(Object.entries(oee).map(([e,t])=>[e.split("/").pop()||e,t]));function og(e){if(!e||typeof e!="string")return"";const t=e.trim();if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//"))return t;const r=t.split("/").pop()||t;return iee[r]||t}const PN=M.createContext(void 0);function yL(e){return{Negro:"#000000",Blanco:"#FFFFFF",Rosa:"#FFB6C1",Azul:"#4169E1",Rojo:"#DC143C",Verde:"#32CD32",Amarillo:"#FFD700",Morado:"#9370DB",Naranja:"#FF8C00",Gris:"#808080",Beige:"#F5F5DC",Caf:"#8B4513",Turquesa:"#40E0D0",Lavanda:"#E6E6FA",Coral:"#FF7F50",Menta:"#98FF98"}[e]||"#000000"}const y6=()=>aee.map(e=>({id:`p${e.id}`,name:e.nombre,description:e.descripcion,price:e.precioVenta,image:og(e.imagen),category:e.categoria,featured:Math.random()>.5,new:Math.random()>.7,variants:e.variantes?.map(t=>({color:t.colores?.[0]?.color||t.color||"Negro",colorHex:yL(t.colores?.[0]?.color||t.color||"Negro"),sizes:t.colores?.map(r=>({size:t.talla,stock:r.cantidad||0}))||[{size:t.talla,stock:t.cantidad||0}]}))||[{color:"Negro",colorHex:"#000000",sizes:[{size:"S",stock:10},{size:"M",stock:15},{size:"L",stock:10}]}]}));function see({children:e}){const[t,r]=M.useState([]),[n,a]=M.useState([]),[i,s]=M.useState([]),[c,d]=M.useState([]),[f,p]=M.useState([]),[h,y]=M.useState([]),{showToast:g}=ks();M.useEffect(()=>{const K=localStorage.getItem("damabella_cart"),E=localStorage.getItem("damabella_favorites"),$=localStorage.getItem("damabella_recently_viewed"),I=localStorage.getItem("damabella_productos")||localStorage.getItem("damabella_ecommerce_products"),z=localStorage.getItem("damabella_orders");if(K&&s(JSON.parse(K)),E&&d(JSON.parse(E)),$&&p(JSON.parse($)),z&&y(JSON.parse(z)),I)try{const G=JSON.parse(I).filter(ie=>ie&&(ie.activo===!0||ie.activo===1||ie.activo==="1"||ie.activo==="true")).map(ie=>{const te={id:ie.id!==void 0&&ie.id!==null?Number(ie.id):NaN,name:ie.nombre||ie.name||"Producto sin nombre",description:ie.descripcion||ie.description||"",price:ie.precioVenta||ie.price||0,image:og(ie.imagen||ie.image||""),category:ie.categoria||ie.category||"Sin categora",featured:ie.destacado||!1,new:ie.nuevo||!1,variants:[],rating:ie.rating||0},re=ie.variantes||[],T=[];return re.forEach(J=>{const Y=J.talla||J.size||"";(J.colores||[]).forEach(me=>{const pe=me.color||"Negro",be=Number(me.cantidad||me.stock||0);let ge=T.find(Te=>Te.color===pe);ge||(ge={color:pe,colorHex:yL(pe),sizes:[]},T.push(ge)),ge.sizes.push({size:Y,stock:be})})}),T.length===0&&T.push({color:"Negro",colorHex:"#000000",sizes:[{size:"S",stock:0}]}),te.variants=T,te});r(G)}catch(W){console.error("[EcommerceContext] Error parsing saved products:",W),r(y6())}else r(y6());try{const W=localStorage.getItem("damabella_categorias");if(W){const G=JSON.parse(W).map(ie=>({id:ie.id??ie.name,name:ie.name}));a(G)}}catch(W){console.warn("[EcommerceContext] No se pudieron cargar categoras desde localStorage",W)}},[]),M.useEffect(()=>{localStorage.setItem("damabella_cart",JSON.stringify(i))},[i]),M.useEffect(()=>{localStorage.setItem("damabella_favorites",JSON.stringify(c))},[c]),M.useEffect(()=>{localStorage.setItem("damabella_recently_viewed",JSON.stringify(f))},[f]),M.useEffect(()=>{localStorage.setItem("damabella_ecommerce_products",JSON.stringify(t.filter(K=>!String(K.id).startsWith("p"))))},[t]),M.useEffect(()=>{localStorage.setItem("damabella_orders",JSON.stringify(h))},[h]);const j=K=>{try{const E=_(K.productId,K.color,K.size),$=Math.max(0,Number(K.quantity||0));if(s(D=>{const I=D.findIndex(W=>W.productId===K.productId&&W.color===K.color&&W.size===K.size);if(I>-1){const W=[...D],ee=Math.min(W[I].quantity+$,E);return W[I].quantity=ee,W}const z=Math.min($,E);return[...D,{...K,quantity:z}]}),$>E)try{g("Cantidad ajustada al stock disponible","info")}catch{}else try{g("Producto agregado al carrito","success")}catch{}}catch{s($=>{const D=$.findIndex(I=>I.productId===K.productId&&I.color===K.color&&I.size===K.size);if(D>-1){const I=[...$];return I[D].quantity+=K.quantity,I}return[...$,K]});try{g("Producto agregado al carrito","success")}catch{}}},x=(K,E,$)=>{s(D=>D.filter(I=>!(I.productId===K&&I.color===E&&I.size===$)))},w=(K,E,$,D)=>{if(D<=0)return x(K,E,$);try{const I=_(K,E,$),z=Math.min(D,Math.max(0,I));if(z<=0){s(W=>{if(!W.find(G=>G.productId===K&&G.color===E&&G.size===$))return W;try{g("Este producto ya no tiene stock disponible","error")}catch{}return W});return}if(z!==D)try{g("Cantidad ajustada al stock disponible","info")}catch{}s(W=>W.map(ee=>ee.productId===K&&ee.color===E&&ee.size===$?{...ee,quantity:z}:ee))}catch{s(z=>z.map(W=>W.productId===K&&W.color===E&&W.size===$?{...W,quantity:D}:W))}},S=()=>s([]),C=K=>d(E=>E.includes(K)?E.filter($=>$!==K):[...E,K]),P=K=>p(E=>[K,...E.filter($=>$!==K)].slice(0,10)),R=K=>r(E=>[...E,{...K,image:og(K.image)}]),L=(K,E)=>{const $=E.image?{...E,image:og(E.image)}:E;r(D=>D.map(I=>I.id===K?{...I,...$}:I))},q=K=>r(E=>E.filter($=>$.id!==K)),_=(K,E,$)=>{try{const D=localStorage.getItem("damabella_productos");if(!D)return 0;const I=JSON.parse(D),z=(K||"").toString(),W=z.match(/\d+/),ee=W?W[0]:z;console.log("[EcommerceContext] getProductStock called",{productId:z,prodDigits:ee,color:E,size:$});const G=I.find(re=>{const T=re?.id,J=T!=null?T.toString():"",Y=J.match(/\d+/),H=Y?Y[0]:J,me=J===z||H===ee||`p${J}`===z||`admin_${J}`===z||`admin-${J}`===z;return me&&console.log("[EcommerceContext] getProductStock matched product",{storageId:J,pidDigits:H}),me});if(!G)return console.log("[EcommerceContext] getProductStock: adminProduct not found for",K),0;const ie=G.variantes?.find(re=>re.talla===$)||G.variantes?.[0];if(!ie)return 0;const te=ie.colores?.find(re=>re.color===E||re.color&&re.color.toString().trim().toLowerCase()===(E||"").toString().trim().toLowerCase());return te&&te.cantidad||0}catch(D){return console.error("[EcommerceContext] getProductStock error",D),0}},B=K=>y(E=>[...E,K]),V=(K,E)=>{y($=>$.map(D=>D.id===K?{...D,status:E}:D))};return o.jsx(PN.Provider,{value:{products:t,cart:i,favorites:c,recentlyViewed:f,orders:h,categories:n,categoriesForHome:n.slice(0,4),addToCart:j,removeFromCart:x,updateCartQuantity:w,clearCart:S,toggleFavorite:C,addToRecentlyViewed:P,getProductStock:_,addProduct:R,updateProduct:L,deleteProduct:q,addOrder:B,updateOrderStatus:V},children:e})}function Bc(){const e=M.useContext(PN);if(!e)throw new Error("useEcommerce debe estar dentro de un EcommerceProvider");return e}function lee({onNavigate:e,currentUser:t}){const{orders:r}=Bc(),[n,a]=M.useState([]);M.useEffect(()=>{try{console.log("[OrdersPage] useEffect start - component mounted")}catch{}const s=localStorage.getItem("damabella_current_user"),c=localStorage.getItem("damabella_user");try{console.log('[OrdersPage] localStorage.getItem("damabella_current_user") =>',s===null?"NULL":s)}catch{}try{console.log('[OrdersPage] localStorage.getItem("damabella_user") =>',c===null?"NULL":c)}catch{}const d=s||c;if(!d){try{console.log("[OrdersPage] no damabella_current_user or damabella_user found; aborting filter")}catch{}a([]);return}let f=null;try{f=JSON.parse(d)}catch(_){try{console.log("[OrdersPage] error parsing stored user (current_user or user)",_)}catch{}a([]);return}const p=f?.id??f?.userId??f?.clienteId??f?.cliente?.id??f?.data?.id??null;try{console.log("[OrdersPage] resolved storedUser id candidates ->",{id:f?.id,userId:f?.userId,clienteId:f?.clienteId})}catch{}if(p==null){try{console.log("[OrdersPage] stored user has no identifiable id; aborting filter")}catch{}a([]);return}const h=String(p);try{console.log("[OrdersPage] mounted - clientId (from damabella_user):",h);const _=localStorage.getItem("orders"),B=localStorage.getItem("sales"),V=localStorage.getItem("damabella_orders"),K=localStorage.getItem("damabella_ventas");console.log('[OrdersPage] localStorage.getItem("orders") =>',_===null?"NULL":_),console.log('[OrdersPage] localStorage.getItem("sales") =>',B===null?"NULL":B),console.log('[OrdersPage] localStorage.getItem("damabella_orders") =>',V===null?"NULL":V),console.log('[OrdersPage] localStorage.getItem("damabella_ventas") =>',K===null?"NULL":K);const E=_?JSON.parse(_):[],$=B?JSON.parse(B):[],D=V?JSON.parse(V):[],I=K?JSON.parse(K):[];console.log('[OrdersPage] parsed - orders (key "orders"):',Array.isArray(E)&&E.length?E:"EMPTY_OR_NOT_ARRAY"),console.log('[OrdersPage] parsed - sales (key "sales"):',Array.isArray($)&&$.length?$:"EMPTY_OR_NOT_ARRAY"),console.log("[OrdersPage] parsed - damabella_orders:",Array.isArray(D)&&D.length?D:"EMPTY_OR_NOT_ARRAY"),console.log("[OrdersPage] parsed - damabella_ventas:",Array.isArray(I)&&I.length?I:"EMPTY_OR_NOT_ARRAY")}catch(_){console.error("[OrdersPage] error logging localStorage contents",_)}const y=localStorage.getItem("damabella_pedidos"),g=localStorage.getItem("damabella_ventas");try{console.log('[OrdersPage] localStorage.getItem("damabella_pedidos") =>',y===null?"NULL":y)}catch{}try{console.log('[OrdersPage] localStorage.getItem("damabella_ventas") =>',g===null?"NULL":g)}catch{}const j=y?JSON.parse(y):[],x=g?JSON.parse(g):[],w=(_,B)=>{try{if(B==null)return!1;const V=String(B),K=(_.match(/\d+/)||[_])[0],E=(V.match(/\d+/)||[V])[0];return K===E||V.includes(K)||String(_).includes(E)}catch{return!1}},S=Array.isArray(j)?j.filter(_=>w(h,_.clienteId??_.cliente_id??_.clientId??_.client??_.cliente)):[],C=Array.isArray(x)?x.filter(_=>w(h,_.clienteId??_.cliente_id??_.clientId??_.client??_.cliente)):[];try{console.log("[OrdersPage] pedidosFiltrados ->",S.length?S:"EMPTY")}catch{}try{console.log("[OrdersPage] ventasFiltradas ->",C.length?C:"EMPTY")}catch{}const P=_=>(_||[]).map(B=>({productName:B.productoNombre||B.productName||B.name||"",color:B.color||B.colorName||"",size:B.talla||B.size||B.sizeName||"",quantity:B.cantidad||B.quantity||1,price:B.precioUnitario||B.price||0})),R=S.map(_=>({id:String(_.id||_.numeroPedido||Date.now()),origin:"pedido",items:P(_.items||_.productos||_.productosPedido||[]),subtotal:_.subtotal||0,iva:_.iva||0,total:_.total||_.subtotal||0,paymentMethod:_.metodoPago||_.paymentMethod||"unknown",clientName:_.clienteNombre||_.clientName||"",clientEmail:_.clienteEmail||_.email||"",clientPhone:_.clienteTelefono||_.telefono||"",clientAddress:_.direccion||_.clientAddress||"",date:_.fechaPedido||_.date||_.createdAt||new Date().toISOString(),status:_.estado||_.status||"Pendiente",createdAt:_.createdAt||new Date().toISOString()})),L=C.map(_=>({id:String(_.id||_.numeroVenta||Date.now()),origin:"venta",items:P(_.items||[]),subtotal:_.subtotal||0,iva:_.iva||0,total:_.total||_.subtotal||0,paymentMethod:_.metodoPago||_.paymentMethod||"unknown",clientName:_.clienteNombre||_.clientName||"",clientEmail:_.clienteEmail||_.email||"",clientPhone:_.clienteTelefono||_.telefono||"",clientAddress:_.direccion||_.clientAddress||"",date:_.fechaVenta||_.date||_.createdAt||new Date().toISOString(),status:_.estado||_.status||"Completada",createdAt:_.createdAt||new Date().toISOString()})),q=[...R,...L];a(q)},[r]);const i=s=>{if(!s)return!1;const c=s.toString().toLowerCase();return c==="completado"||c==="entregado"||c==="pagado"||c==="confirmado"};return o.jsxs("div",{className:"min-h-screen bg-[#F5F6F7]",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3 sticky top-0 z-40",children:[o.jsx("button",{onClick:()=>e("profile"),children:o.jsx(D8,{size:24})}),o.jsx("h1",{className:"text-lg font-bold",children:"Mis Pedidos"})]}),n.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[o.jsx(bo,{size:64,className:"text-gray-300 mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"An no tienes pedidos"}),o.jsx("button",{onClick:()=>e("home"),className:"bg-[#FFB6C1] text-white px-6 py-2 rounded-lg hover:bg-[#FF9EB1]",children:"Explorar Productos"})]}):o.jsx("div",{className:"p-4 space-y-3",children:n.map(s=>o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-lg",children:s.id}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.date||s.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${i(s.status)?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i(s.status)?"Compra completada":"Pedido"}),o.jsx("span",{className:"text-xs text-gray-600 mt-1",children:s.status})]})]}),o.jsx("div",{className:"space-y-2 mb-3",children:s.items.map((c,d)=>o.jsx("div",{className:"flex gap-3",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium line-clamp-1",children:c.productName}),o.jsxs("p",{className:"text-xs text-gray-600",children:[c.color," | Talla: ",c.size," | x",c.quantity]}),o.jsxs("p",{className:"text-sm font-bold",children:["$",c.price.toLocaleString()]})]})},d))}),o.jsxs("div",{className:"pt-3 border-t border-gray-200 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),o.jsxs("p",{className:"text-lg font-bold text-[#FFB6C1]",children:["$",s.total.toLocaleString()]})]}),o.jsx("p",{className:"text-xs text-gray-600",children:s.paymentMethod})]})]},`${s.origin}-${s.id}`))})]})}const c2="damabella_productos",x6="damabella_ventas",b6="damabella_venta_counter",cee=(e,t)=>{try{const r=localStorage.getItem(c2);if(!r)return{exitoso:!1,error:" Error crtico: No hay productos en localStorage"};const a=JSON.parse(r).map(d=>{const f=t.filter(h=>String(h.productoId)===String(d.id));if(f.length===0)return d;if(!d.variantes||d.variantes.length===0)throw new Error(` CRTICO: Producto "${d.nombre}" no tiene variantes. Stock no puede descontarse.`);const p=d.variantes.map(h=>({...h,colores:h.colores.map(y=>{const g=f.reduce((j,x)=>x.talla===h.talla&&x.color===y.color?j+x.cantidad:j,0);if(g>0){if(y.cantidad<g)throw new Error(` Stock insuficiente para ${d.nombre} (${h.talla}, ${y.color}).
Disponible: ${y.cantidad} | Solicitado: ${g}`);const j=Math.max(0,y.cantidad-g);return console.log(` [finalizarVenta] ${d.nombre} - ${h.talla} ${y.color}: ${y.cantidad} - ${g} = ${j}`),{...y,cantidad:j}}return y})}));return{...d,variantes:p}}),i={...e,movimientosStock:{salidaEjecutada:!0,devolucionEjecutada:!1}},c=[...JSON.parse(localStorage.getItem(x6)||"[]"),i];return localStorage.setItem(x6,JSON.stringify(c)),localStorage.setItem(c2,JSON.stringify(a)),window.dispatchEvent(new StorageEvent("storage",{key:c2,newValue:JSON.stringify(a),oldValue:r,url:window.location.href})),window.dispatchEvent(new Event("ventaFinalizada")),window.dispatchEvent(new Event("salesUpdated")),console.log(` [finalizarVenta] Venta ${e.numeroVenta} finalizada - Stock descargado`),{exitoso:!0}}catch(r){const n=r.message||"Error desconocido al finalizar venta";return console.error(` [finalizarVenta] ${n}`),{exitoso:!1,error:n}}},uee=()=>{const e=parseInt(localStorage.getItem(b6)||"1",10),t=`VEN-${e.toString().padStart(3,"0")}`;return localStorage.setItem(b6,String(e+1)),t},w6="damabella_pedidos";function dee(e){return e==="Pendiente"}function fee(e){return e==="Anulado"}function hee(e,t,r){const n=r?.onLog||console.log,a=r?.onNotificar||(()=>{});try{if(n(`
 [cambiarEstadoCentralizado] Iniciando transicin: ${e.estado}  ${t}`,"log"),fee(e.estado)){const i=" No se puede cambiar estado de un pedido ANULADO. Estado terminal.";return n(i,"warn"),{exitoso:!1,error:i,mensaje:"Un pedido anulado no puede cambiar de estado"}}if(t==="Completada"&&!dee(e.estado)){const i=` No se puede pasar de ${e.estado} a Completada. Solo Pendiente puede completarse.`;return n(i,"warn"),{exitoso:!1,error:i,mensaje:"Solo pedidos Pendientes pueden completarse"}}if(t==="Completada"&&e.estado==="Pendiente"){n(`
 [Completada] Creando venta y descontando stock...`,"log");const i=uee(),s={id:Date.now(),numeroVenta:i,clienteId:e.clienteId,clienteNombre:e.clienteNombre,fechaVenta:e.fechaPedido,estado:"Completada",items:e.items,subtotal:e.subtotal,iva:e.iva,total:e.total,metodoPago:e.metodoPago||"Efectivo",observaciones:e.observaciones||"",anulada:!1,createdAt:new Date().toISOString(),pedido_id:e.numeroPedido,movimientosStock:{salidaEjecutada:!1,devolucionEjecutada:!1}},c=cee(s,e.items);if(!c.exitoso){const y=` Error al crear venta: ${c.error}`;if(n(y,"error"),a("Error",c.error||"Error al crear venta","error"),!r?.continuarSiError)return{exitoso:!1,error:y,mensaje:"No se pudo descontar stock. Verifique disponibilidad."}}const d={...e,estado:"Completada",venta_id:i},p=JSON.parse(localStorage.getItem(w6)||"[]").map(y=>y.id===e.id?d:y);localStorage.setItem(w6,JSON.stringify(p)),window.dispatchEvent(new CustomEvent("pedidoConvertidoAVenta",{detail:{pedido:d}})),window.dispatchEvent(new Event("ventaFinalizada")),window.dispatchEvent(new Event("salesUpdated"));const h=` Pedido ${e.numeroPedido} completado. Venta ${i} creada.`;return n(h,"log"),a("xito",h,"success"),r?.onVentaCreada&&r.onVentaCreada(s),{exitoso:!0,mensaje:h,pedidoActualizado:d,ventaCreada:s}}return{exitoso:!1,error:` Transicin no implementada: ${e.estado}  ${t}`,mensaje:"Transicin de estado no soportada"}}catch(i){const s=i.message||"Error desconocido";return n(` [ERROR] ${s}`,"error"),a("Error",s,"error"),{exitoso:!1,error:s,mensaje:"Error al cambiar el estado del pedido"}}}const N6="damabella_pedidos",u2="damabella_ventas",d2="damabella_productos";function pee(e){try{const t=localStorage.getItem(d2);if(!t)return{exitoso:!1,error:" Error crtico: No hay productos en localStorage"};const n=JSON.parse(t).map(a=>{const i=e.filter(c=>String(c.productoId)===String(a.id));if(i.length===0)return a;if(!a.variantes||a.variantes.length===0)throw new Error(` CRTICO: Producto "${a.nombre}" no tiene variantes. No se puede devolver stock.`);const s=a.variantes.map(c=>({...c,colores:c.colores.map(d=>{const f=i.reduce((p,h)=>h.talla===c.talla&&h.color===d.color?p+h.cantidad:p,0);if(f>0){const p=d.cantidad,h=p+f;return console.log(` [devolverStock] ${a.nombre} - ${c.talla} ${d.color}: ${p} + ${f} = ${h}`),{...d,cantidad:h}}return d})}));return{...a,variantes:s}});return localStorage.setItem(d2,JSON.stringify(n)),window.dispatchEvent(new StorageEvent("storage",{key:d2,newValue:JSON.stringify(n),oldValue:t,url:window.location.href})),{exitoso:!0,productosActualizados:n}}catch(t){return{exitoso:!1,error:t.message||"Error desconocido devolviendo stock"}}}function mee(e){try{const t=localStorage.getItem(u2);if(!t)return!0;const r=JSON.parse(t),n=r.findIndex(a=>a.pedido_id===e);return n===-1?(console.log(` No hay venta asociada al pedido ${e}`),!0):(r[n]={...r[n],estado:"Anulada",anulada:!0,fechaAnulacion:new Date().toISOString()},localStorage.setItem(u2,JSON.stringify(r)),window.dispatchEvent(new StorageEvent("storage",{key:u2,newValue:JSON.stringify(r),oldValue:t,url:window.location.href})),!0)}catch(t){return console.error(" Error anulando venta:",t),!1}}function gee(e,t){const r=t?.onLog||console.log,n=t?.onNotificar||(()=>{});try{if(r(`
 [anularPedidoCentralizado] Iniciando anulacin del pedido ${e.numeroPedido}`,"log"),e.estado==="Anulado"){const f=` El pedido ${e.numeroPedido} ya est en estado ANULADO. No hay nada que hacer.`;return r(f,"warn"),{exitoso:!0,mensaje:f,pedidoAnulado:e}}let a=[];if(e.estado==="Completada"){r(`
 Pedido estaba COMPLETADA. Devolviendo stock...`,"log");const f=pee(e.items);if(!f.exitoso){const p=` Error al devolver stock: ${f.error}`;return r(p,"error"),n("Error",`No se pudo devolver el stock: ${f.error}`,"error"),{exitoso:!1,error:p,mensaje:"Error al devolver stock"}}e.items.forEach(p=>{a.push({productoId:p.productoId,nombreProducto:p.productoNombre,talla:p.talla,color:p.color,cantidad:p.cantidad})}),r(` Stock devuelto para ${a.length} items`,"log")}else e.estado==="Pendiente"&&r(" Pedido estaba PENDIENTE. Stock ya estaba en inventario (sin cambios).","log");const i={...e,estado:"Anulado"},c=JSON.parse(localStorage.getItem(N6)||"[]").map(f=>f.id===e.id?i:f);localStorage.setItem(N6,JSON.stringify(c)),r(" Pedido actualizado a estado ANULADO en mdulo Pedidos","log"),e.venta_id?(r(`
 [Sincronizacin Ventas] Marcando venta ${e.venta_id} como anulada...`,"log"),mee(e.numeroPedido)?r(" Venta marcada como anulada en mdulo Ventas","log"):r(" No se pudo actualizar la venta asociada. Continuando de todas formas...","warn")):r(" El pedido no tiene venta asociada. No hay ventas que anular.","log"),window.dispatchEvent(new CustomEvent("pedidoAnulado",{detail:{pedido:i,stockDevuelto:a}})),window.dispatchEvent(new Event("pedidosActualizados"));const d=` Pedido ${e.numeroPedido} anulado correctamente${a.length>0?` (Stock devuelto: ${a.length} productos)`:""}`;return r(d,"log"),n("xito",d,"success"),t?.onAnulado&&t.onAnulado(i),{exitoso:!0,mensaje:d,pedidoAnulado:i,stockDevuelto:a.length>0?a:void 0}}catch(a){const i=a.message||"Error desconocido";return r(` [ERROR] ${i}`,"error"),n("Error",i,"error"),{exitoso:!1,error:i,mensaje:"Error al anular el pedido"}}}function Hm(e){return e==="Pendiente"}function Oh(e,t){return e==="Anulado"?!1:e==="Pendiente"?t==="Completada"||t==="Anulado":e==="Completada"?t==="Anulado":!1}function vee(e,t){return t==="Completada"&&e==="Pendiente"?"completar":t==="Anulado"&&(e==="Pendiente"||e==="Completada")?"anular":null}function j6(e,t,r){const n=r?.onLog||console.log,a=r?.onNotificar||(()=>{});try{if(n(`
 [cambiarEstadoPedidoCentralizado] ${e.numeroPedido}: ${e.estado}  ${t}`,"log"),!Oh(e.estado,t)){const d=` Transicin no permitida: ${e.estado}  ${t}`;return n(d,"error"),a("Error","No puedes hacer este cambio de estado","error"),{exitoso:!1,error:d,mensaje:`No se puede pasar de ${e.estado} a ${t}`,tipo:"cambiar-estado"}}const s=vee(e.estado,t);if(!s){const d=" Tipo de transicin no identificado";return n(d,"error"),{exitoso:!1,error:d,mensaje:"Error al procesar el cambio de estado",tipo:"cambiar-estado"}}n(` Tipo de transicin: ${s}`,"log");let c;if(s==="completar"?(n(`
 Ejecutando: COMPLETAR PEDIDO`,"log"),c=hee(e,"Completada",{onNotificar:a,onLog:n})):s==="anular"&&(n(`
 Ejecutando: ANULAR PEDIDO`,"log"),c=gee(e,{onNotificar:a,onLog:n})),c.exitoso){const d={exitoso:!0,mensaje:c.mensaje,tipo:s,pedidoActualizado:c.pedidoActualizado||c.pedidoAnulado,ventaCreada:c.ventaCreada,stockDevuelto:c.stockDevuelto};return r?.onExitoso&&r.onExitoso(d),d}else{const d={exitoso:!1,error:c.error,mensaje:c.mensaje,tipo:s};return r?.onError&&r.onError(c.error),d}}catch(i){const s=i.message||"Error desconocido";return n(` [ERROR] ${s}`,"error"),a("Error",s,"error"),{exitoso:!1,error:s,mensaje:"Error al cambiar el estado del pedido",tipo:"cambiar-estado"}}}function S6(e){switch(e){case"Pendiente":return"Pendiente de procesamiento";case"Completada":return"Convertido a venta";case"Anulado":return"Anulado";default:return"Estado desconocido"}}function C6(e){switch(e){case"Pendiente":return"bg-yellow-100 text-yellow-800 border border-yellow-300";case"Completada":return"bg-green-100 text-green-800 border border-green-300";case"Anulado":return"bg-red-100 text-red-800 border border-red-300";default:return"bg-gray-100 text-gray-800 border border-gray-300"}}const A6="damabella_pedidos",Gm="damabella_clientes",f2="damabella_productos";function yee(){const[e,t]=M.useState(()=>{const de=localStorage.getItem(A6);return de?JSON.parse(de):[]}),[r,n]=M.useState(()=>{const de=localStorage.getItem(Gm);return de?JSON.parse(de):[]}),[a,i]=M.useState(()=>{const de=localStorage.getItem(f2);if(de)return JSON.parse(de);const Je=[{id:"1",nombre:"Vestido Corto Casual",referencia:"VES-CORTA-001",codigoInterno:"VCC-001",precioVenta:65e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Rojo","Negro","Blanco","Azul","Rosa"]},{id:"2",nombre:"Vestido Largo Elegante",referencia:"VES-LARGO-002",codigoInterno:"VLE-002",precioVenta:95e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Rojo","Champagne","Azul Marino"]},{id:"3",nombre:"Enterizo Ejecutivo",referencia:"ENT-EJE-003",codigoInterno:"ENE-003",precioVenta:85e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Beige","Azul Marino","Gris"]},{id:"4",nombre:"Enterizo Casual Denim",referencia:"ENT-CAS-004",codigoInterno:"ECD-004",precioVenta:75e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Azul Claro","Azul Oscuro","Negro"]},{id:"5",nombre:"Vestido Corto de Fiesta",referencia:"VES-FIESTA-005",codigoInterno:"VCF-005",precioVenta:78e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Dorado","Plata","Negro","Rojo"]},{id:"6",nombre:"Vestido Largo de Gala",referencia:"VES-GALA-006",codigoInterno:"VLG-006",precioVenta:12e4,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Blanco","Negro","Azul Marino","Vino"]},{id:"7",nombre:"Enterizo Premium",referencia:"ENT-PREM-007",codigoInterno:"EPR-007",precioVenta:105e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Blanco","Rosa Palo","Azul Cielo"]}];return localStorage.setItem(f2,JSON.stringify(Je)),Je}),[s,c]=M.useState(!1),[d,f]=M.useState(!1),[p,h]=M.useState(!1),[y,g]=M.useState(!1),[j,x]=M.useState(!1),[w,S]=M.useState(null),[C,P]=M.useState(null),[R,L]=M.useState(null),[q,_]=M.useState(""),[B,V]=M.useState(""),[K,E]=M.useState(!1),[$,D]=M.useState(""),[I,z]=M.useState("info"),[W,ee]=M.useState(!1),[G,ie]=M.useState(null),[te,re]=M.useState(""),[T,J]=M.useState("Pendiente"),[Y,H]=M.useState(""),[me,pe]=M.useState(!1),[be,ge]=M.useState(""),[Te,ze]=M.useState(""),[ue,Fe]=M.useState(!1),[De,Ne]=M.useState({tipo:"Pedido",clienteId:"",fechaPedido:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[],direccionEnvio:"",personaRecibe:""}),[se,ct]=M.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),[Q,Ce]=M.useState({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),[he,je]=M.useState(null),[_e,we]=M.useState({}),le=(de,Je)=>{Ne({...De,[de]:Je});const ut={};de==="clienteId"&&(Je||(ut.clienteId="Debes seleccionar un cliente")),de==="fechaPedido"&&(Je||(ut.fechaPedido="La fecha del pedido es obligatoria")),we(Rt=>({...Rt,...ut,[de]:ut[de]}))},$e=(de,Je)=>{Ce(ye=>{let Ge=ye;if(de==="productoId")Ge={...ye,productoId:Je,talla:"",color:"",cantidad:"1",precioUnitario:""},je(null);else if(de==="talla")Ge={...ye,talla:Je,color:""},je(null);else if(de==="color"){Ge={...ye,color:Je};const Ze=a.find(st=>st.id.toString()===ye.productoId);if(Ze&&Ze.variantes){const st=Ze.variantes.find(Ot=>Ot.talla===ye.talla);if(st){const Ot=st.colores?.find(kt=>kt.color===Je);je(Ot?Ot.cantidad:0)}else je(0)}else je(null)}else Ge={...ye,[de]:Je};return Ge});const ut=`nuevoItem_${de}`;let Rt="";if((de==="productoId"||de==="talla"||de==="color")&&!Je&&(Rt="Campo obligatorio"),de==="cantidad"){const ye=parseInt(Je);(isNaN(ye)||ye<1)&&(Rt="Cantidad invlida")}we(ye=>({...ye,[ut]:Rt}))},at=(de,Je)=>{ct({...se,[de]:Je});let ut="";if(de==="nombre"&&(ut=Gi("nombre",Je)||""),de==="numeroDoc"&&(ut=Gi("documento",Je)||""),de==="email"){if(!Je)return"";/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(Je)||(ut="Correo electrnico invlido")}de==="telefono"&&(Je?/^\d+$/.test(Je)||(ut="El telfono solo debe contener nmeros"):ut="Telfono obligatorio"),we(Rt=>({...Rt,[`nuevoCliente_${de}`]:ut}))};M.useEffect(()=>{localStorage.setItem(A6,JSON.stringify(e))},[e]),M.useEffect(()=>{const de=()=>{const Je=localStorage.getItem(f2),ut=localStorage.getItem(Gm);Je&&i(JSON.parse(Je)),ut&&n(JSON.parse(ut))};return window.addEventListener("storage",de),window.addEventListener("salesUpdated",de),()=>window.removeEventListener("storage",de)},[]),M.useEffect(()=>{const de=()=>{pe(!1),Fe(!1)};return window.addEventListener("click",de),()=>window.removeEventListener("click",de)},[]);const lt=()=>`PED-${((e.length>0?Math.max(...e.map(ut=>parseInt(ut.numeroPedido.split("-")[1]))):0)+1).toString().padStart(3,"0")}`,Ct=de=>{const Je=de.reduce((ye,Ge)=>ye+Ge.subtotal,0),ut=Je*.19,Rt=Je+ut;return{subtotal:Je,iva:ut,total:Rt}},Nt=()=>{S(null),Ne({tipo:"Pedido",clienteId:"",fechaPedido:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[],direccionEnvio:"",personaRecibe:""}),Ce({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),H(""),ze(""),pe(!1),Fe(!1),c(!0)},At=de=>{if(!Hm(de.estado)){D(`No puedes editar un pedido en estado "${de.estado}".`),z("error"),E(!0);return}S(de),Ne({tipo:de.tipo,clienteId:de.clienteId,fechaPedido:de.fechaPedido,metodoPago:de.metodoPago,observaciones:de.observaciones,direccionEnvio:de.direccionEnvio||"",personaRecibe:de.personaRecibe||"",items:de.items});const Je=r.find(Rt=>Rt.id.toString()===de.clienteId?.toString());H(Je?`${Je.nombre} - ${Je.numeroDoc}`:de.clienteNombre||"");const ut=Je?`${Je.nombre} - ${Je.numeroDoc}`:de.clienteNombre||"";H(ut),ge(ut),ze(""),pe(!1),Fe(!1),c(!0)},pt=()=>a.find(de=>de.id.toString()===Q.productoId),Or=()=>{const de=pt();return de?de.variantes?de.variantes.map(Je=>Je.talla):de.tallas?de.tallas:[]:[]},Yt=()=>{const de=pt();if(!de)return[];if(de.variantes&&Q.talla){const Je=de.variantes.find(ut=>ut.talla===Q.talla);return Je?Je.colores.map(ut=>ut.color):[]}return de.colores?de.colores:[]},Lr=()=>{const de={};Q.productoId||(de.nuevoItem_productoId="Selecciona un producto"),Q.talla||(de.nuevoItem_talla="Selecciona una talla"),Q.color||(de.nuevoItem_color="Selecciona un color");const Je=parseInt(Q.cantidad);if((isNaN(Je)||Je<1)&&(de.nuevoItem_cantidad="Cantidad invlida"),Object.keys(de).length>0){we(st=>({...st,...de})),D("Completa todos los campos del producto"),z("error"),E(!0);return}const ut=a.find(st=>st.id.toString()===Q.productoId);if(!ut)return;const Rt=parseInt(Q.cantidad);if(ut.variantes&&ut.variantes.length>0){const st=ut.variantes.find(kt=>kt.talla===Q.talla);if(!st){D(` Talla ${Q.talla} no tiene stock definido. Debe crearse desde Compras.`),z("error"),E(!0);return}const Ot=st.colores?.find(kt=>kt.color===Q.color);if(!Ot){D(` Color ${Q.color} no tiene stock definido. Debe crearse desde Compras.`),z("error"),E(!0);return}if(Ot.cantidad<Rt){D(` Stock insuficiente para ${ut.nombre} (${Q.talla}, ${Q.color}).
Disponible: ${Ot.cantidad} unidades
Solicitado: ${Rt} unidades`),z("error"),E(!0);return}console.log(` [PedidosManager] Stock validado: ${ut.nombre} - ${Q.talla} - ${Q.color}: ${Ot.cantidad} disponible`)}else{console.warn(` [PedidosManager] Producto sin variantes: ${ut.nombre}. Stock no puede validarse.`),D(` El producto ${ut.nombre} no tiene variantes definidas. Debe crearse desde Compras.`),z("error"),E(!0);return}const ye=ut.precioVenta,Ge=Rt*ye,Ze={id:Date.now().toString(),productoId:Q.productoId,productoNombre:ut.nombre,talla:Q.talla,color:Q.color,cantidad:Rt,precioUnitario:ye,subtotal:Ge};Ne({...De,items:[...De.items,Ze]}),Ce({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),ze(""),Fe(!1),we(st=>({...st,nuevoItem_productoId:"",nuevoItem_talla:"",nuevoItem_color:"",nuevoItem_cantidad:""})),we(st=>({...st,nuevoItem_productoId:"",nuevoItem_talla:"",nuevoItem_color:"",nuevoItem_cantidad:""}))},nr=de=>{Ne({...De,items:De.items.filter(Je=>Je.id!==de)})},jr=()=>{if(w&&(w.estado==="Completada"||w.estado==="Anulado")){D(`No puedes editar un pedido en estado "${w.estado}".`),z("error"),E(!0);return}const de={};if(De.clienteId||(de.clienteId="Debes seleccionar un cliente"),De.fechaPedido||(de.fechaPedido="La fecha del pedido es obligatoria"),Object.keys(de).length>0){we(de),D("Por favor completa todos los campos obligatorios"),z("error"),E(!0);return}if(De.items.length===0){D("Agrega al menos un producto"),z("error"),E(!0);return}const Je=r.find(ye=>ye.id.toString()===De.clienteId);if(!Je)return;const ut=Ct(De.items),Rt={id:w?.id||Date.now(),numeroPedido:w?.numeroPedido||lt(),tipo:De.tipo,clienteId:De.clienteId,clienteNombre:Je.nombre,fechaPedido:De.fechaPedido,estado:w?.estado||"Pendiente",items:De.items,subtotal:ut.subtotal,iva:ut.iva,total:ut.total,metodoPago:De.metodoPago,observaciones:De.observaciones,direccionEnvio:De.direccionEnvio||"",personaRecibe:De.personaRecibe||"",createdAt:w?.createdAt||new Date().toISOString()};w?(t(e.map(ye=>ye.id===w.id?Rt:ye)),D(`Pedido ${Rt.numeroPedido} actualizado correctamente`)):(t([...e,Rt]),D(`Pedido ${Rt.numeroPedido} creado correctamente`)),z("success"),E(!0),c(!1)},rn=de=>{re(`Seguro que deseas ANULAR este pedido ${de.numeroPedido}? Esta accin no se puede deshacer.`),ie(()=>()=>{pr(de)}),ee(!0)},pr=de=>{const Je=j6(de,"Anulado",{onNotificar:(ut,Rt,ye)=>{D(Rt),z(ye),E(!0)},onExitoso:ut=>{console.log(" Anulacin completada:",ut),ut.stockDevuelto&&ut.stockDevuelto.length>0&&console.log(` Stock devuelto: ${ut.stockDevuelto.length} productos`)},onLog:(ut,Rt)=>{Rt==="error"?console.error(ut):Rt==="warn"?console.warn(ut):console.log(ut)}});Je.exitoso&&Je.pedidoActualizado&&t(e.map(ut=>ut.id===de.id?Je.pedidoActualizado:ut)),ee(!1)},Ae=(de,Je)=>{const ut=j6(de,Je,{onNotificar:(Rt,ye,Ge)=>{D(ye),z(Ge),E(!0)},onExitoso:Rt=>{console.log(` Transicin completada (${Rt.tipo}):`,Rt)},onLog:(Rt,ye)=>{ye==="error"?console.error(Rt):ye==="warn"?console.warn(Rt):console.log(Rt)}});ut.exitoso&&ut.pedidoActualizado&&t(e.map(Rt=>Rt.id===de.id?ut.pedidoActualizado:Rt))},He=()=>{const de={},Je=Gi("nombre",se.nombre);Je&&(de.nuevoCliente_nombre=Je);const ut=Gi("documento",se.numeroDoc);ut&&(de.nuevoCliente_numeroDoc=ut);const Rt=se.telefono?"":"Telfono obligatorio";Rt&&(de.nuevoCliente_telefono=Rt);const ye=se.email?Gi("email",se.email):"";if(ye&&(de.nuevoCliente_email=ye),Object.keys(de).length>0){we(st=>({...st,...de})),D("Completa los campos obligatorios correctamente"),z("error"),E(!0);return}const Ge={id:Date.now(),...se,activo:!0,createdAt:new Date().toISOString()},Ze=JSON.parse(localStorage.getItem(Gm)||"[]");localStorage.setItem(Gm,JSON.stringify([...Ze,Ge])),n([...r,Ge]),Ne({...De,clienteId:Ge.id.toString()}),ge(`${Ge.nombre} - ${Ge.numeroDoc}`),H(`${Ge.nombre} - ${Ge.numeroDoc}`),pe(!1),h(!1),ct({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),D(`Cliente ${Ge.nombre} creado correctamente`),z("success"),E(!0)},Ye=de=>{const Je=`
=================================
${de.tipo.toUpperCase()}
${de.numeroPedido}
=================================

Fecha: ${new Date(de.fechaPedido).toLocaleDateString()}
Cliente: ${de.clienteNombre}
Estado: ${de.estado}
  Direccin de Envo: ${de.direccionEnvio||"-"}
  Persona que recibe: ${de.personaRecibe||"-"}

---------------------------------
PRODUCTOS
---------------------------------
${de.items.map(Ge=>`
${Ge.productoNombre}
Talla: ${Ge.talla} | Color: ${Ge.color}
Cantidad: ${Ge.cantidad} x $${Ge.precioUnitario.toLocaleString()}
Subtotal: $${Ge.subtotal.toLocaleString()}
`).join(`
`)}

---------------------------------
TOTALES
---------------------------------
Subtotal: $${de.subtotal.toLocaleString()}
IVA (19%): $${de.iva.toLocaleString()}
TOTAL: $${de.total.toLocaleString()}

Mtodo de Pago: ${de.metodoPago}

${de.observaciones?`Observaciones:
${de.observaciones}`:""}

=================================
DAMABELLA - Moda Femenina
=================================
    `.trim(),ut=new Blob([Je],{type:"text/plain"}),Rt=URL.createObjectURL(ut),ye=document.createElement("a");ye.href=Rt,ye.download=`${de.numeroPedido}.txt`,ye.click()},it=e.filter(de=>{if(de.estado!=="Pendiente")return!1;const Je=q.toLowerCase(),ut=(de.numeroPedido?.toLowerCase()??"").includes(Je),Rt=(de.clienteNombre?.toLowerCase()??"").includes(Je),ye=(de.estado?.toLowerCase()??"").includes(Je),Ge=new Date(de.fechaPedido).toLocaleDateString().includes(q),Ze=de.total.toString().includes(q),st=de.items.some(Ot=>{const kt=a.find(gt=>gt.id.toString()===Ot.productoId);return Ot.productoNombre?.toLowerCase().includes(Je)||Ot.talla?.toLowerCase().includes(Je)||Ot.color?.toLowerCase().includes(Je)||kt?.referencia?.toLowerCase().includes(Je)||kt?.codigoInterno?.toLowerCase().includes(Je)});return ut||Rt||ye||Ge||Ze||st}),vt=5,[xt,bt]=M.useState(1),wr=Math.ceil(it.length/vt),ar=M.useMemo(()=>{const de=(xt-1)*vt,Je=de+vt;return it.slice(de,Je)},[it,xt]);r.filter(de=>(de.nombre?.toLowerCase()??"").includes(B.toLowerCase())||(de.numeroDoc??"").includes(B)||de.telefono&&de.telefono.includes(B));const Xt=r.filter(de=>de.activo!==!1).filter(de=>{const Je=Y.toLowerCase();return(de.nombre?.toLowerCase()??"").includes(Je)||(de.numeroDoc??"").includes(Y)||(de.telefono??"").includes(Y)}),vr=a.filter(de=>de.activo).filter(de=>{const Je=Te.toLowerCase(),ut=de.nombre?.toLowerCase()??"",Rt=de.referencia?.toLowerCase()??"",ye=de.codigoInterno?.toLowerCase()??"";return ut.includes(Je)||Rt.includes(Je)||ye.includes(Je)}),Et=de=>{switch(de){case"Pendiente":return"bg-yellow-100 text-yellow-700";case"Completada":return"bg-green-100 text-green-700";case"Anulado":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},Vr=()=>{try{const de=it.map(Ze=>({"Nmero Pedido":Ze.numeroPedido,Fecha:new Date(Ze.fechaPedido).toLocaleDateString(),Cliente:Ze.clienteNombre,Productos:Ze.items.map(st=>`${st.productoNombre} (Talla: ${st.talla}, Color: ${st.color}, Cant: ${st.cantidad})`).join("; "),Cantidades:Ze.items.map(st=>st.cantidad).join("; "),"Valores Unitarios":Ze.items.map(st=>`$${st.precioUnitario.toLocaleString()}`).join("; "),Subtotales:Ze.items.map(st=>`$${st.subtotal.toLocaleString()}`).join("; "),Subtotal:`$${Ze.subtotal.toLocaleString()}`,"IVA (19%)":`$${Ze.iva.toLocaleString()}`,Total:`$${Ze.total.toLocaleString()}`,Estado:Ze.estado,"Mtodo Pago":Ze.metodoPago,"Direccin Envo":Ze.direccionEnvio||"","Persona recibe":Ze.personaRecibe||""})),Je=Object.keys(de[0]||{}),ut=[Je.join("	"),...de.map(Ze=>Je.map(st=>{const Ot=Ze[st];return String(Ot||"").replace(/\t/g," ").replace(/\r?\n/g," ")}).join("	"))].join(`
`),Rt=new Blob([ut],{type:"text/plain;charset=utf-8;"}),ye=document.createElement("a"),Ge=URL.createObjectURL(Rt);ye.setAttribute("href",Ge),ye.setAttribute("download",`pedidos_${new Date().toLocaleDateString().replace(/\//g,"-")}.xlsx`),ye.click(),URL.revokeObjectURL(Ge),D("Pedidos exportados correctamente"),z("success"),E(!0)}catch{D("Error al exportar pedidos"),z("error"),E(!0)}},Pr=Ct(De.items),Ht=r.find(de=>de.id?.toString()===De.clienteId?.toString()),Dt=Number(Ht?.saldoAFavor||0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Pedidos"}),o.jsx("p",{className:"text-gray-600",children:"Administra pedidos y cotizaciones con IVA incluido"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(mt,{onClick:Vr,variant:"secondary",className:"flex items-center gap-2",children:[o.jsx(yl,{size:20}),"Descargar Pedidos"]}),o.jsxs(mt,{onClick:Nt,variant:"primary",className:"flex items-center gap-2",children:[o.jsx(No,{size:20}),"Nuevo Pedido"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:"Buscar por nmero, cliente o estado...",value:q,onChange:de=>_(de.target.value),className:"pl-10"})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Nmero"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Cliente"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Fecha"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Total"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:it.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[o.jsx(Ap,{className:"mx-auto mb-4 text-gray-300",size:48}),o.jsx("p",{children:"No se encontraron pedidos"})]})}):ar.map(de=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"text-gray-900",children:de.numeroPedido})}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:de.clienteNombre}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:new Date(de.fechaPedido).toLocaleDateString()}),o.jsxs("td",{className:"py-4 px-6 text-right text-gray-900",children:["$",de.total.toLocaleString()]}),o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm ${Et(de.estado)}`,children:de.estado})})}),o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>{P(de),f(!0)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver detalle",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:()=>Ye(de),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Descargar",children:o.jsx(yl,{size:18})}),o.jsx("button",{onClick:()=>{L(de),J(de.estado),x(!0)},className:"p-2 hover:bg-purple-50 rounded-lg transition-colors text-purple-600",title:"Cambiar estado",children:o.jsx(zT,{size:18})}),o.jsx("button",{onClick:()=>At(de),disabled:!Hm(de.estado)||!!de.venta_id,className:`p-2 rounded-lg transition-colors ${!Hm(de.estado)||de.venta_id?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100 text-gray-600"}`,title:de.venta_id?"Este pedido tiene una venta asociada":Hm(de.estado)?"Editar":`No se puede editar en estado ${de.estado}`,children:o.jsx(TT,{size:18})}),o.jsx("button",{onClick:()=>rn(de),disabled:!Oh(de.estado,"Anulado")||!!de.venta_id,className:`p-2 rounded-lg transition-colors ${!Oh(de.estado,"Anulado")||de.venta_id?"text-gray-300 cursor-not-allowed":"hover:bg-red-50 text-red-600"}`,title:de.venta_id?"Pedido bloqueado: tiene una venta asociada":Oh(de.estado,"Anulado")?"Anular":`No se puede anular en estado ${de.estado}`,children:o.jsx(h5,{size:18})})]})})]},de.id))})]})}),wr>1&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t text-sm text-gray-600",children:[o.jsx("span",{className:"text-sm text-gray-500",children:`Mostrando ${Math.min((xt-1)*vt+1,it.length||0)} a ${Math.min(xt*vt,it.length)} de ${it.length} pedidos`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>bt(de=>Math.max(de-1,1)),disabled:xt===1,className:"px-3 py-1.5 rounded-md border text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Anterior"}),Array.from({length:wr}).map((de,Je)=>{const ut=Je+1,Rt=xt===ut;return o.jsx("button",{onClick:()=>bt(ut),className:Rt?"px-3 py-1.5 rounded-md bg-gray-900 text-white text-sm font-semibold":"px-3 py-1.5 rounded-md border text-sm text-gray-700 hover:bg-gray-100 transition",children:ut},ut)}),o.jsx("button",{onClick:()=>bt(de=>Math.min(de+1,wr)),disabled:xt===wr,className:"px-3 py-1.5 rounded-md border text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Siguiente"})]})]})]}),o.jsx(er,{isOpen:s,onClose:()=>c(!1),title:w?"Editar Pedido":"Nuevo Pedido",children:o.jsxs("div",{className:"space-y-0 p-0 -mt-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("label",{className:"block text-gray-700",children:"Cliente *"}),o.jsxs("button",{onClick:()=>h(!0),className:"text-gray-600 hover:text-gray-900 flex items-center gap-1 text-sm",children:[o.jsx(cE,{size:14}),"Nuevo Cliente"]})]}),o.jsxs("div",{className:"relative",onClick:de=>de.stopPropagation(),children:[o.jsx(wt,{value:Y,onChange:de=>{const Je=de.target.value;H(Je),pe(!0),Je.trim()===be.trim()||(le("clienteId",""),ge("")),Je.trim()===""&&(le("clienteId",""),ge(""))},onFocus:()=>pe(!0),placeholder:"Buscar cliente por nombre, documento o telfono..."}),me&&o.jsx("div",{className:"absolute z-[9999] mt-1 w-full max-h-[40vh] bg-white border border-gray-200 rounded-lg shadow-lg",children:Xt.length===0?o.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No hay resultados"}):Xt.map(de=>o.jsxs("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-gray-50",onClick:()=>{le("clienteId",de.id.toString());const Je=`${de.nombre} - ${de.numeroDoc}`;H(Je),ge(Je),pe(!1)},children:[o.jsx("div",{className:"text-sm text-gray-900",children:de.nombre}),o.jsxs("div",{className:"text-xs text-gray-500",children:[de.numeroDoc," ",de.telefono?` ${de.telefono}`:""]})]},de.id))})]}),_e.clienteId&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_e.clienteId})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Fecha *"}),o.jsx(wt,{type:"date",value:De.fechaPedido,onChange:de=>le("fechaPedido",de.target.value),required:!0,disabled:!!w}),_e.fechaPedido&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_e.fechaPedido})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Mtodo de Pago *"}),Dt>0&&De.clienteId&&o.jsx("div",{className:"mb-2 rounded-lg border border-green-300 bg-green-50 p-2 text-sm",children:o.jsxs("div",{className:"text-green-800 font-semibold",children:[" Este cliente tiene saldo a favor: $",Dt.toLocaleString()]})}),o.jsxs("select",{value:De.metodoPago,onChange:de=>Ne({...De,metodoPago:de.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[o.jsx("option",{value:"Efectivo",children:"Efectivo"}),o.jsx("option",{value:"Transferencia",children:"Transferencia"}),o.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"Nequi",children:"Nequi"}),o.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Direccin de Envo"}),o.jsx(wt,{value:De.direccionEnvio,onChange:de=>le("direccionEnvio",de.target.value),placeholder:"Direccin de envo (opcional)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Persona que recibe"}),o.jsx(wt,{value:De.personaRecibe,onChange:de=>le("personaRecibe",de.target.value),placeholder:"Nombre de la persona que recibe (opcional)"})]})]}),o.jsxs("div",{className:"border-t pt-1",children:[o.jsx("h4",{className:"text-gray-900 mb-1",children:"Agregar Productos"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-1 mb-1 space-y-1",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Producto"}),o.jsxs("div",{className:"relative",onClick:de=>de.stopPropagation(),children:[o.jsx(wt,{value:Te,onChange:de=>{const Je=de.target.value;ze(Je),Fe(!0),Je===""&&$e("productoId","")},onFocus:()=>Fe(!0),placeholder:"Buscar producto por nombre, ref o cdigo..."}),ue&&o.jsx("div",{className:"absolute z-[9999] mt-1 w-full max-h-[40vh] bg-white border border-gray-200 rounded-lg shadow-lg",children:vr.length===0?o.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No hay resultados"}):vr.map(de=>o.jsxs("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-gray-50",onClick:()=>{$e("productoId",de.id.toString());const Je=`${de.nombre}${de.referencia?` (REF: ${de.referencia})`:""}${de.codigoInterno?` [${de.codigoInterno}]`:""} - $${(de.precioVenta||0).toLocaleString()}`;ze(Je),Fe(!1)},children:[o.jsx("div",{className:"text-sm text-gray-900",children:de.nombre}),o.jsxs("div",{className:"text-xs text-gray-500",children:[de.referencia?`REF: ${de.referencia}`:"REF: N/A",de.codigoInterno?`  ${de.codigoInterno}`:"",`  $${(de.precioVenta||0).toLocaleString()}`]})]},de.id))})]})]}),Q.productoId&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 gap-1",children:o.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Talla"}),o.jsxs("select",{value:Q.talla,onChange:de=>$e("talla",de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"",children:"Seleccionar..."}),Or().map(de=>o.jsx("option",{value:de,children:de},de))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Color"}),o.jsxs("select",{value:Q.color,onChange:de=>$e("color",de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:!Q.talla,children:[o.jsx("option",{value:"",children:"Seleccionar..."}),Yt().map(de=>o.jsx("option",{value:de,children:de},de))]})]})]})}),Q.color&&he!==null&&o.jsx("div",{className:`rounded-lg p-3 text-sm ${he>0?"bg-blue-50 border border-blue-200 text-blue-800":"bg-red-50 border border-red-200 text-red-800"}`,children:he>0?o.jsxs("div",{children:[o.jsx("strong",{children:" Stock disponible:"})," ",he," unidades"]}):o.jsxs("div",{children:[o.jsx("strong",{children:" Sin stock:"})," No hay disponibilidad para este producto"]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Cantidad"}),o.jsx(wt,{type:"number",min:"1",max:he||void 0,value:Q.cantidad,onChange:de=>$e("cantidad",de.target.value),placeholder:"1",disabled:!Q.color||he===0}),_e.nuevoItem_cantidad&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_e.nuevoItem_cantidad})]})]}),o.jsxs(mt,{onClick:Lr,variant:"secondary",className:"w-full",children:[o.jsx(No,{size:16}),"Agregar Producto"]})]}),De.items.length>0&&o.jsx("div",{className:"space-y-1",children:De.items.map(de=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-1 bg-white flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-gray-900",children:de.productoNombre}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",de.talla," | Color: ",de.color," | Cant: ",de.cantidad," x $",de.precioUnitario.toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-gray-900",children:["$",de.subtotal.toLocaleString()]}),o.jsx("button",{onClick:()=>nr(de.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(Ji,{size:16})})]})]},de.id))})]}),De.items.length>0&&o.jsx("div",{className:"border-t pt-2 bg-gray-50 rounded-lg p-2",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-gray-600",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",Pr.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-600",children:[o.jsx("span",{children:"IVA (19%):"}),o.jsxs("span",{children:["$",Pr.iva.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-900 pt-1 border-t",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",Pr.total.toLocaleString()]})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Observaciones"}),o.jsx("textarea",{value:De.observaciones,onChange:de=>Ne({...De,observaciones:de.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:2,placeholder:"Notas adicionales..."})]}),o.jsxs("div",{className:"flex gap-2 justify-end pt-2 border-t",children:[o.jsx(mt,{onClick:()=>c(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:jr,variant:"primary",children:w?"Guardar Cambios":`Crear ${De.tipo}`})]})]})}),C&&o.jsx(er,{isOpen:d,onClose:()=>f(!1),title:`Detalle ${C.tipo} ${C.numeroPedido}`,children:o.jsxs("div",{className:"space-y-0 p-0 -mt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-1 p-1 bg-gray-50 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Cliente"}),o.jsx("div",{className:"text-gray-900",children:C.clienteNombre})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Fecha"}),o.jsx("div",{className:"text-gray-900",children:new Date(C.fechaPedido).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Estado"}),o.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm ${Et(C.estado)}`,children:C.estado})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Mtodo de Pago"}),o.jsx("div",{className:"text-gray-900",children:C.metodoPago})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Direccin de Envo"}),o.jsx("div",{className:"text-gray-900",children:C.direccionEnvio||"-"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Persona que recibe"}),o.jsx("div",{className:"text-gray-900",children:C.personaRecibe||"-"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-900 mb-1",children:"Productos"}),o.jsx("div",{className:"grid grid-cols-2 gap-1",children:C.items.map((de,Je)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("div",{className:"text-gray-900",children:de.productoNombre}),o.jsxs("div",{className:"text-gray-900",children:["$",de.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",de.talla," | Color: ",de.color," | Cantidad: ",de.cantidad," x $",de.precioUnitario.toLocaleString()]})]},Je))})]}),o.jsx("div",{className:"border-t pt-2 bg-gray-50 rounded-lg p-2",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-gray-600",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",C.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-600",children:[o.jsx("span",{children:"IVA (19%):"}),o.jsxs("span",{children:["$",C.iva.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-900 pt-1 border-t",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",C.total.toLocaleString()]})]})]})}),C.observaciones&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Observaciones"}),o.jsx("div",{className:"text-gray-900 bg-gray-50 p-2 rounded-lg",children:C.observaciones})]}),o.jsxs("div",{className:"border-t pt-2",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Estado Actual"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium ${C6(C.estado)}`,children:S6(C.estado)})})]})]})}),o.jsx(er,{isOpen:p,onClose:()=>h(!1),title:"Nuevo Cliente",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Tipo de Documento *"}),o.jsxs("select",{value:se.tipoDoc,onChange:de=>ct({...se,tipoDoc:de.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),o.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),o.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),o.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Nmero de Documento *"}),o.jsx(wt,{value:se.numeroDoc,onChange:de=>at("numeroDoc",de.target.value),placeholder:"1234567890",required:!0}),_e.nuevoCliente_numeroDoc&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_e.nuevoCliente_numeroDoc})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Nombre Completo *"}),o.jsx(wt,{value:se.nombre,onChange:de=>at("nombre",de.target.value),placeholder:"Nombre del cliente",required:!0}),_e.nuevoCliente_nombre&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_e.nuevoCliente_nombre})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Telfono *"}),o.jsx(wt,{value:se.telefono,onChange:de=>at("telefono",de.target.value),placeholder:"3001234567",required:!0}),_e.nuevoCliente_telefono&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_e.nuevoCliente_telefono})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Correo Electrnico"}),o.jsx(wt,{type:"email",value:se.email,onChange:de=>at("email",de.target.value),placeholder:"correo@ejemplo.com"}),_e.nuevoCliente_email&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:_e.nuevoCliente_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Direccin"}),o.jsx(wt,{value:se.direccion,onChange:de=>at("direccion",de.target.value),placeholder:"Calle 123 # 45-67"})]}),o.jsxs("div",{className:"flex gap-2 justify-end pt-2 border-t",children:[o.jsx(mt,{onClick:()=>h(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:He,variant:"primary",children:"Crear Cliente"})]})]})}),o.jsx(er,{isOpen:K,onClose:()=>E(!1),title:I==="success"?"xito":I==="error"?"Error":"Informacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[I==="success"&&o.jsx(kc,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),I==="error"&&o.jsx(Br,{className:"text-red-600 flex-shrink-0 mt-1",size:24}),I==="info"&&o.jsx(Br,{className:"text-blue-600 flex-shrink-0 mt-1",size:24}),o.jsx("p",{className:"text-gray-700 text-base",children:$})]}),o.jsx("div",{className:"flex justify-end pt-2 border-t",children:o.jsx(mt,{onClick:()=>E(!1),variant:"primary",children:"Aceptar"})})]})}),o.jsx(er,{isOpen:W,onClose:()=>ee(!1),title:"Confirmar Accin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Br,{className:"text-yellow-600 flex-shrink-0 mt-1",size:24}),o.jsx("p",{className:"text-gray-700 text-base",children:te})]}),o.jsxs("div",{className:"flex gap-2 justify-end pt-2 border-t",children:[o.jsx(mt,{onClick:()=>ee(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:()=>{G&&G()},variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Confirmar"})]})]})}),o.jsx(er,{isOpen:j,onClose:()=>x(!1),title:"Cambiar Estado del Pedido",children:o.jsx("div",{className:"space-y-4",children:R&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-semibold",children:"Pedido:"})," ",R.numeroPedido]}),o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",R.clienteNombre]}),o.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[o.jsx("span",{className:"font-semibold",children:"Estado Actual:"})," ",o.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${C6(R.estado)}`,children:S6(R.estado)})]})]}),(()=>{const de=R.estado?.toLowerCase?.()?.includes("convertido")||R.estado==="Convertido a venta"||R.venta_id!==null;return o.jsxs(o.Fragment,{children:[de&&o.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-300 space-y-3",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Br,{className:"text-yellow-600 flex-shrink-0 mt-1",size:20}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"text-yellow-900 font-semibold mb-2",children:"Este pedido ya fue convertido en una venta"}),o.jsx("p",{className:"text-yellow-800",children:"Cualquier modificacin debe realizarse desde el mdulo de Ventas."})]})]})}),!de&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-3 font-semibold",children:"Nuevo Estado"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Pendiente","Completada","Anulado"].map(Je=>{const ut=Oh(R.estado,Je);return o.jsx("button",{onClick:()=>{ut&&J(Je)},disabled:!ut,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${ut?T===Je?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:ut?void 0:`No puedes pasar de ${R.estado} a ${Je}`,children:Je},Je)})})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>x(!1),variant:"secondary",children:de?"Cerrar":"Cancelar"}),!de&&o.jsx(mt,{onClick:()=>{R&&(Ae(R,T),x(!1))},variant:"primary",children:"Guardar Cambio"})]})]})})()]})})})]})}const xee="modulepreload",bee=function(e){return"/"+e},P6={},e5=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=s(r.map(f=>{if(f=bee(f),f in P6)return;P6[f]=!0;const p=f.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":xee,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((g,j)=>{y.addEventListener("load",g),y.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return a.then(s=>{for(const c of s||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(e)}var Va=Uint8Array,qo=Uint16Array,_N=Int32Array,Q0=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ev=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),t5=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xL=function(e,t){for(var r=new qo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new _N(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},bL=xL(Q0,2),wL=bL.b,r5=bL.r;wL[28]=258,r5[258]=28;var NL=xL(ev,0),wee=NL.b,_6=NL.r,n5=new qo(32768);for(var yn=0;yn<32768;++yn){var xc=(yn&43690)>>1|(yn&21845)<<1;xc=(xc&52428)>>2|(xc&13107)<<2,xc=(xc&61680)>>4|(xc&3855)<<4,n5[yn]=((xc&65280)>>8|(xc&255)<<8)>>1}var As=(function(e,t,r){for(var n=e.length,a=0,i=new qo(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new qo(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var c;if(r){c=new qo(1<<t);var d=15-t;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],p=t-e[a],h=s[e[a]-1]++<<p,y=h|(1<<p)-1;h<=y;++h)c[n5[h]>>d]=f}else for(c=new qo(n),a=0;a<n;++a)e[a]&&(c[a]=n5[s[e[a]-1]++]>>15-e[a]);return c}),Tc=new Va(288);for(var yn=0;yn<144;++yn)Tc[yn]=8;for(var yn=144;yn<256;++yn)Tc[yn]=9;for(var yn=256;yn<280;++yn)Tc[yn]=7;for(var yn=280;yn<288;++yn)Tc[yn]=8;var Sp=new Va(32);for(var yn=0;yn<32;++yn)Sp[yn]=5;var Nee=As(Tc,9,0),jee=As(Tc,9,1),See=As(Sp,5,0),Cee=As(Sp,5,1),h2=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Bi=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},p2=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},EN=function(e){return(e+7)/8|0},jL=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Va(e.subarray(t,r))},Aee=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ui=function(e,t,r){var n=new Error(t||Aee[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ui),!r)throw n;return n},Pee=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Va(0);var s=!r,c=s||t.i!=2,d=t.i;s&&(r=new Va(a*3));var f=function(ze){var ue=r.length;if(ze>ue){var Fe=new Va(Math.max(ue*2,ze));Fe.set(r),r=Fe}},p=t.f||0,h=t.p||0,y=t.b||0,g=t.l,j=t.d,x=t.m,w=t.n,S=a*8;do{if(!g){p=Bi(e,h,1);var C=Bi(e,h+1,3);if(h+=3,C)if(C==1)g=jee,j=Cee,x=9,w=5;else if(C==2){var q=Bi(e,h,31)+257,_=Bi(e,h+10,15)+4,B=q+Bi(e,h+5,31)+1;h+=14;for(var V=new Va(B),K=new Va(19),E=0;E<_;++E)K[t5[E]]=Bi(e,h+E*3,7);h+=_*3;for(var $=h2(K),D=(1<<$)-1,I=As(K,$,1),E=0;E<B;){var z=I[Bi(e,h,D)];h+=z&15;var P=z>>4;if(P<16)V[E++]=P;else{var W=0,ee=0;for(P==16?(ee=3+Bi(e,h,3),h+=2,W=V[E-1]):P==17?(ee=3+Bi(e,h,7),h+=3):P==18&&(ee=11+Bi(e,h,127),h+=7);ee--;)V[E++]=W}}var G=V.subarray(0,q),ie=V.subarray(q);x=h2(G),w=h2(ie),g=As(G,x,1),j=As(ie,w,1)}else Ui(1);else{var P=EN(h)+4,R=e[P-4]|e[P-3]<<8,L=P+R;if(L>a){d&&Ui(0);break}c&&f(y+R),r.set(e.subarray(P,L),y),t.b=y+=R,t.p=h=L*8,t.f=p;continue}if(h>S){d&&Ui(0);break}}c&&f(y+131072);for(var te=(1<<x)-1,re=(1<<w)-1,T=h;;T=h){var W=g[p2(e,h)&te],J=W>>4;if(h+=W&15,h>S){d&&Ui(0);break}if(W||Ui(2),J<256)r[y++]=J;else if(J==256){T=h,g=null;break}else{var Y=J-254;if(J>264){var E=J-257,H=Q0[E];Y=Bi(e,h,(1<<H)-1)+wL[E],h+=H}var me=j[p2(e,h)&re],pe=me>>4;me||Ui(3),h+=me&15;var ie=wee[pe];if(pe>3){var H=ev[pe];ie+=p2(e,h)&(1<<H)-1,h+=H}if(h>S){d&&Ui(0);break}c&&f(y+131072);var be=y+Y;if(y<ie){var ge=i-ie,Te=Math.min(ie,be);for(ge+y<0&&Ui(3);y<Te;++y)r[y]=n[ge+y]}for(;y<be;++y)r[y]=r[y-ie]}}t.l=g,t.p=T,t.b=y,t.f=p,g&&(p=1,t.m=x,t.d=j,t.n=w)}while(!p);return y!=r.length&&s?jL(r,0,y):r.subarray(0,y)},hl=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},wh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},m2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:CL,l:0};if(a==1){var s=new Va(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(L,q){return L.f-q.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],f=0,p=1,h=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};p!=a-1;)c=r[r[f].f<r[h].f?f++:h++],d=r[f!=p&&r[f].f<r[h].f?f++:h++],r[p++]={s:-1,f:c.f+d.f,l:c,r:d};for(var y=i[0].s,n=1;n<a;++n)i[n].s>y&&(y=i[n].s);var g=new qo(y+1),j=a5(r[p-1],g,0);if(j>t){var n=0,x=0,w=j-t,S=1<<w;for(i.sort(function(q,_){return g[_.s]-g[q.s]||q.f-_.f});n<a;++n){var C=i[n].s;if(g[C]>t)x+=S-(1<<j-g[C]),g[C]=t;else break}for(x>>=w;x>0;){var P=i[n].s;g[P]<t?x-=1<<t-g[P]++-1:++n}for(;n>=0&&x;--n){var R=i[n].s;g[R]==t&&(--g[R],++x)}j=t}return{t:new Va(g),l:j}},a5=function(e,t,r){return e.s==-1?Math.max(a5(e.l,t,r+1),a5(e.r,t,r+1)):t[e.s]=r},E6=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new qo(++t),n=0,a=e[0],i=1,s=function(d){r[n++]=d},c=1;c<=t;++c)if(e[c]==a&&c!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[c]}return{c:r.subarray(0,n),n:t}},Nh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},SL=function(e,t,r){var n=r.length,a=EN(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},O6=function(e,t,r,n,a,i,s,c,d,f,p){hl(t,p++,r),++a[256];for(var h=m2(a,15),y=h.t,g=h.l,j=m2(i,15),x=j.t,w=j.l,S=E6(y),C=S.c,P=S.n,R=E6(x),L=R.c,q=R.n,_=new qo(19),B=0;B<C.length;++B)++_[C[B]&31];for(var B=0;B<L.length;++B)++_[L[B]&31];for(var V=m2(_,7),K=V.t,E=V.l,$=19;$>4&&!K[t5[$-1]];--$);var D=f+5<<3,I=Nh(a,Tc)+Nh(i,Sp)+s,z=Nh(a,y)+Nh(i,x)+s+14+3*$+Nh(_,K)+2*_[16]+3*_[17]+7*_[18];if(d>=0&&D<=I&&D<=z)return SL(t,p,e.subarray(d,d+f));var W,ee,G,ie;if(hl(t,p,1+(z<I)),p+=2,z<I){W=As(y,g,0),ee=y,G=As(x,w,0),ie=x;var te=As(K,E,0);hl(t,p,P-257),hl(t,p+5,q-1),hl(t,p+10,$-4),p+=14;for(var B=0;B<$;++B)hl(t,p+3*B,K[t5[B]]);p+=3*$;for(var re=[C,L],T=0;T<2;++T)for(var J=re[T],B=0;B<J.length;++B){var Y=J[B]&31;hl(t,p,te[Y]),p+=K[Y],Y>15&&(hl(t,p,J[B]>>5&127),p+=J[B]>>12)}}else W=Nee,ee=Tc,G=See,ie=Sp;for(var B=0;B<c;++B){var H=n[B];if(H>255){var Y=H>>18&31;wh(t,p,W[Y+257]),p+=ee[Y+257],Y>7&&(hl(t,p,H>>23&31),p+=Q0[Y]);var me=H&31;wh(t,p,G[me]),p+=ie[me],me>3&&(wh(t,p,H>>5&8191),p+=ev[me])}else wh(t,p,W[H]),p+=ee[H]}return wh(t,p,W[256]),p+ee[256]},_ee=new _N([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CL=new Va(0),Eee=function(e,t,r,n,a,i){var s=i.z||e.length,c=new Va(n+s+5*(1+Math.ceil(s/7e3))+a),d=c.subarray(n,c.length-a),f=i.l,p=(i.r||0)&7;if(t){p&&(d[0]=i.r>>3);for(var h=_ee[t-1],y=h>>13,g=h&8191,j=(1<<r)-1,x=i.p||new qo(32768),w=i.h||new qo(j+1),S=Math.ceil(r/3),C=2*S,P=function(De){return(e[De]^e[De+1]<<S^e[De+2]<<C)&j},R=new _N(25e3),L=new qo(288),q=new qo(32),_=0,B=0,V=i.i||0,K=0,E=i.w||0,$=0;V+2<s;++V){var D=P(V),I=V&32767,z=w[D];if(x[I]=z,w[D]=I,E<=V){var W=s-V;if((_>7e3||K>24576)&&(W>423||!f)){p=O6(e,d,0,R,L,q,B,K,$,V-$,p),K=_=B=0,$=V;for(var ee=0;ee<286;++ee)L[ee]=0;for(var ee=0;ee<30;++ee)q[ee]=0}var G=2,ie=0,te=g,re=I-z&32767;if(W>2&&D==P(V-re))for(var T=Math.min(y,W)-1,J=Math.min(32767,V),Y=Math.min(258,W);re<=J&&--te&&I!=z;){if(e[V+G]==e[V+G-re]){for(var H=0;H<Y&&e[V+H]==e[V+H-re];++H);if(H>G){if(G=H,ie=re,H>T)break;for(var me=Math.min(re,H-2),pe=0,ee=0;ee<me;++ee){var be=V-re+ee&32767,ge=x[be],Te=be-ge&32767;Te>pe&&(pe=Te,z=be)}}}I=z,z=x[I],re+=I-z&32767}if(ie){R[K++]=268435456|r5[G]<<18|_6[ie];var ze=r5[G]&31,ue=_6[ie]&31;B+=Q0[ze]+ev[ue],++L[257+ze],++q[ue],E=V+G,++_}else R[K++]=e[V],++L[e[V]]}}for(V=Math.max(V,E);V<s;++V)R[K++]=e[V],++L[e[V]];p=O6(e,d,f,R,L,q,B,K,$,V-$,p),f||(i.r=p&7|d[p/8|0]<<3,p-=7,i.h=w,i.p=x,i.i=V,i.w=E)}else{for(var V=i.w||0;V<s+f;V+=65535){var Fe=V+65535;Fe>=s&&(d[p/8|0]=f,Fe=s),p=SL(d,p+1,e.subarray(V,Fe))}i.i=s}return jL(c,0,n+EN(p)+a)},AL=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var c=Math.min(s+2655,i);s<c;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Oee=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Va(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Eee(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},PL=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},kee=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=AL();a.p(t.dictionary),PL(e,2,a.d())}},Iee=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ui(6,"invalid zlib data"),(e[1]>>5&1)==1&&Ui(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function o5(e,t){t||(t={});var r=AL();r.p(e);var n=Oee(e,t,t.dictionary?6:2,4);return kee(n,t),PL(n,n.length-4,r.d()),n}function Lee(e,t){return Pee(e.subarray(Iee(e),-4),{i:2},t,t)}var Tee=typeof TextDecoder<"u"&&new TextDecoder,Dee=0;try{Tee.decode(CL,{stream:!0}),Dee=1}catch{}var sr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function g2(){sr.console&&typeof sr.console.log=="function"&&sr.console.log.apply(sr.console,arguments)}var on={log:g2,warn:function(e){sr.console&&(typeof sr.console.warn=="function"?sr.console.warn.apply(sr.console,arguments):g2.call(null,arguments))},error:function(e){sr.console&&(typeof sr.console.error=="function"?sr.console.error.apply(sr.console,arguments):g2(e))}};function v2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Su(n.response,t,r)},n.onerror=function(){on.error("could not download file")},n.send()}function k6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Km(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zh,i5,Su=sr.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=sr.URL||sr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?k6(a.href)?v2(e,t,r):Km(a,a.target="_blank"):Km(a)):(a.href=n.createObjectURL(e),setTimeout((function(){n.revokeObjectURL(a.href)}),4e4),setTimeout((function(){Km(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(k6(e))v2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout((function(){Km(n)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:en(i)!=="object"&&(on.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return v2(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(sr.HTMLElement)||sr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},c.readAsDataURL(e)}else{var d=sr.URL||sr.webkitURL,f=d.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _L(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+c+d+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y2(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ra(r,n,a,i,t[0],7,-680876936),i=Ra(i,r,n,a,t[1],12,-389564586),a=Ra(a,i,r,n,t[2],17,606105819),n=Ra(n,a,i,r,t[3],22,-1044525330),r=Ra(r,n,a,i,t[4],7,-176418897),i=Ra(i,r,n,a,t[5],12,1200080426),a=Ra(a,i,r,n,t[6],17,-1473231341),n=Ra(n,a,i,r,t[7],22,-45705983),r=Ra(r,n,a,i,t[8],7,1770035416),i=Ra(i,r,n,a,t[9],12,-1958414417),a=Ra(a,i,r,n,t[10],17,-42063),n=Ra(n,a,i,r,t[11],22,-1990404162),r=Ra(r,n,a,i,t[12],7,1804603682),i=Ra(i,r,n,a,t[13],12,-40341101),a=Ra(a,i,r,n,t[14],17,-1502002290),r=$a(r,n=Ra(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=$a(i,r,n,a,t[6],9,-1069501632),a=$a(a,i,r,n,t[11],14,643717713),n=$a(n,a,i,r,t[0],20,-373897302),r=$a(r,n,a,i,t[5],5,-701558691),i=$a(i,r,n,a,t[10],9,38016083),a=$a(a,i,r,n,t[15],14,-660478335),n=$a(n,a,i,r,t[4],20,-405537848),r=$a(r,n,a,i,t[9],5,568446438),i=$a(i,r,n,a,t[14],9,-1019803690),a=$a(a,i,r,n,t[3],14,-187363961),n=$a(n,a,i,r,t[8],20,1163531501),r=$a(r,n,a,i,t[13],5,-1444681467),i=$a(i,r,n,a,t[2],9,-51403784),a=$a(a,i,r,n,t[7],14,1735328473),r=Fa(r,n=$a(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Fa(i,r,n,a,t[8],11,-2022574463),a=Fa(a,i,r,n,t[11],16,1839030562),n=Fa(n,a,i,r,t[14],23,-35309556),r=Fa(r,n,a,i,t[1],4,-1530992060),i=Fa(i,r,n,a,t[4],11,1272893353),a=Fa(a,i,r,n,t[7],16,-155497632),n=Fa(n,a,i,r,t[10],23,-1094730640),r=Fa(r,n,a,i,t[13],4,681279174),i=Fa(i,r,n,a,t[0],11,-358537222),a=Fa(a,i,r,n,t[3],16,-722521979),n=Fa(n,a,i,r,t[6],23,76029189),r=Fa(r,n,a,i,t[9],4,-640364487),i=Fa(i,r,n,a,t[12],11,-421815835),a=Fa(a,i,r,n,t[15],16,530742520),r=za(r,n=Fa(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=za(i,r,n,a,t[7],10,1126891415),a=za(a,i,r,n,t[14],15,-1416354905),n=za(n,a,i,r,t[5],21,-57434055),r=za(r,n,a,i,t[12],6,1700485571),i=za(i,r,n,a,t[3],10,-1894986606),a=za(a,i,r,n,t[10],15,-1051523),n=za(n,a,i,r,t[1],21,-2054922799),r=za(r,n,a,i,t[8],6,1873313359),i=za(i,r,n,a,t[15],10,-30611744),a=za(a,i,r,n,t[6],15,-1560198380),n=za(n,a,i,r,t[13],21,1309151649),r=za(r,n,a,i,t[4],6,-145523070),i=za(i,r,n,a,t[11],10,-1120210379),a=za(a,i,r,n,t[2],15,718787259),n=za(n,a,i,r,t[9],21,-343485551),e[0]=Ac(r,e[0]),e[1]=Ac(n,e[1]),e[2]=Ac(a,e[2]),e[3]=Ac(i,e[3])}function tv(e,t,r,n,a,i){return t=Ac(Ac(t,e),Ac(n,i)),Ac(t<<a|t>>>32-a,r)}function Ra(e,t,r,n,a,i,s){return tv(t&r|~t&n,e,t,a,i,s)}function $a(e,t,r,n,a,i,s){return tv(t&n|r&~n,e,t,a,i,s)}function Fa(e,t,r,n,a,i,s){return tv(t^r^n,e,t,a,i,s)}function za(e,t,r,n,a,i,s){return tv(r^(t|~n),e,t,a,i,s)}function EL(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)y2(n,Mee(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(y2(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,y2(n,a),n}function Mee(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}zh=sr.atob.bind(sr),i5=sr.btoa.bind(sr);var I6="0123456789abcdef".split("");function Ree(e){for(var t="",r=0;r<4;r++)t+=I6[e>>8*r+4&15]+I6[e>>8*r&15];return t}function $ee(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function s5(e){return EL(e).map($ee).join("")}var Fee=(function(e){for(var t=0;t<e.length;t++)e[t]=Ree(e[t]);return e.join("")})(EL("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ac(e,t){if(Fee){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function l5(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),c=[],d=0;d<256;d++)c[d]=d;var f=0;for(d=0;d<256;d++){var p=c[d];f=(f+p+s.charCodeAt(d))%256,c[d]=c[f],c[f]=p}r=e,n=c}else c=n;var h=t.length,y=0,g=0,j="";for(d=0;d<h;d++)g=(g+(p=c[y=(y+1)%256]))%256,c[y]=c[g],c[g]=p,s=c[(c[y]+c[g])%256],j+=String.fromCharCode(t.charCodeAt(d)^s);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var L6={print:4,modify:8,copy:16,"annot-forms":32};function Fd(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach((function(c){if(L6.perm!==void 0)throw new Error("Invalid permission: "+c);a+=L6[c]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=s5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=l5(this.encryptionKey,this.padding)}function zd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function T6(e){if(en(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(c){sr.console&&on.error("jsPDF PubSub Error",c.message,c)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function u0(e){if(!(this instanceof u0))return new u0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function OL(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Au(e,t,r,n,a){if(!(this instanceof Au))return new Au(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,OL.call(this,n,a)}function Gd(e,t,r,n,a){if(!(this instanceof Gd))return new Gd(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,OL.call(this,n,a)}function ir(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],c=1,d=16,f="S",p=null;en(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),f=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=T6;var j="1.3",x=g.__private__.getPdfVersion=function(){return j};g.__private__.setPdfVersion=function(A){j=A};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return w};var S=g.__private__.getPageFormat=function(A){return w[A]};a=a||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},P=C.COMPAT;function R(){this.saveGraphicsState(),se(new Et(pt,0,0,-pt,0,ls()*pt).toString()+" cm"),this.setFontSize(this.getFontSize()/pt),f="n",P=C.ADVANCED}function L(){this.restoreGraphicsState(),f="S",P=C.COMPAT}var q=g.__private__.combineFontStyleAndFontWeight=function(A,Z){if(A=="bold"&&Z=="normal"||A=="bold"&&Z==400||A=="normal"&&Z=="italic"||A=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(A=Z==400||Z==="normal"?A==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||A!=="normal"?(Z==700?"bold":Z)+""+A:"bold"),A};g.advancedAPI=function(A){var Z=P===C.COMPAT;return Z&&R.call(this),typeof A!="function"||(A(this),Z&&L.call(this)),this},g.compatAPI=function(A){var Z=P===C.ADVANCED;return Z&&L.call(this),typeof A!="function"||(A(this),Z&&R.call(this)),this},g.isAdvancedAPI=function(){return P===C.ADVANCED};var _,B=function(A){if(P!==C.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=g.roundToPrecision=g.__private__.roundToPrecision=function(A,Z){var xe=t||Z;if(isNaN(A)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(xe).replace(/0+$/,"")};_=g.hpf=g.__private__.hpf=typeof d=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,d)}:d==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return V(A,16)};var K=g.f2=g.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return V(A,2)},E=g.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return V(A,3)},$=g.scale=g.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return P===C.COMPAT?A*pt:P===C.ADVANCED?A:void 0},D=function(A){return P===C.COMPAT?ls()-A:P===C.ADVANCED?A:void 0},I=function(A){return $(D(A))};g.__private__.setPrecision=g.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var z,W="00000000000000000000000000000000",ee=g.__private__.getFileId=function(){return W},G=g.__private__.setFileId=function(A){return W=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():W.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),p!==null&&(fn=new Fd(p.userPermissions,p.userPassword,p.ownerPassword,W)),W};g.setFileId=function(A){return G(A),this},g.getFileId=function(){return ee()};var ie=g.__private__.convertDateToPDFDate=function(A){var Z=A.getTimezoneOffset(),xe=Z<0?"+":"-",Ee=Math.floor(Math.abs(Z/60)),Be=Math.abs(Z%60),Qe=[xe,Y(Ee),"'",Y(Be),"'"].join("");return["D:",A.getFullYear(),Y(A.getMonth()+1),Y(A.getDate()),Y(A.getHours()),Y(A.getMinutes()),Y(A.getSeconds()),Qe].join("")},te=g.__private__.convertPDFDateToDate=function(A){var Z=parseInt(A.substr(2,4),10),xe=parseInt(A.substr(6,2),10)-1,Ee=parseInt(A.substr(8,2),10),Be=parseInt(A.substr(10,2),10),Qe=parseInt(A.substr(12,2),10),dt=parseInt(A.substr(14,2),10);return new Date(Z,xe,Ee,Be,Qe,dt,0)},re=g.__private__.setCreationDate=function(A){var Z;if(A===void 0&&(A=new Date),A instanceof Date)Z=ie(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=A}return z=Z},T=g.__private__.getCreationDate=function(A){var Z=z;return A==="jsDate"&&(Z=te(z)),Z};g.setCreationDate=function(A){return re(A),this},g.getCreationDate=function(A){return T(A)};var J,Y=g.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},H=g.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},me=0,pe=[],be=[],ge=0,Te=[],ze=[],ue=!1,Fe=be,De=function(){me=0,ge=0,be=[],pe=[],Te=[],Rt=de(),ye=de()};g.__private__.setCustomOutputDestination=function(A){ue=!0,Fe=A};var Ne=function(A){ue||(Fe=A)};g.__private__.resetCustomOutputDestination=function(){ue=!1,Fe=be};var se=g.__private__.out=function(A){return A=A.toString(),ge+=A.length+1,Fe.push(A),Fe},ct=g.__private__.write=function(A){return se(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Q=g.__private__.getArrayBuffer=function(A){for(var Z=A.length,xe=new ArrayBuffer(Z),Ee=new Uint8Array(xe);Z--;)Ee[Z]=A.charCodeAt(Z);return xe},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ce};var he=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(A){return he=P===C.ADVANCED?A/pt:A,this};var je,_e=g.__private__.getFontSize=g.getFontSize=function(){return P===C.COMPAT?he:he*pt},we=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(A){return we=A,this},g.__private__.getR2L=g.getR2L=function(){return we};var le,$e=g.__private__.setZoomMode=function(A){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))je=A;else if(isNaN(A)){if(Z.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');je=A}else je=parseInt(A,10)};g.__private__.getZoomMode=function(){return je};var at,lt=g.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');le=A};g.__private__.getPageMode=function(){return le};var Ct=g.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');at=A};g.__private__.getLayoutMode=function(){return at},g.__private__.setDisplayMode=g.setDisplayMode=function(A,Z,xe){return $e(A),Ct(Z),lt(xe),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(A){if(Object.keys(Nt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[A]},g.__private__.getDocumentProperties=function(){return Nt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(A){for(var Z in Nt)Nt.hasOwnProperty(Z)&&A[Z]&&(Nt[Z]=A[Z]);return this},g.__private__.setDocumentProperty=function(A,Z){if(Object.keys(Nt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[A]=Z};var At,pt,Or,Yt,Lr,nr={},jr={},rn=[],pr={},Ae={},He={},Ye={},it=null,vt=0,xt=[],bt=new T6(g),wr=e.hotfixes||[],ar={},Xt={},vr=[],Et=function A(Z,xe,Ee,Be,Qe,dt){if(!(this instanceof A))return new A(Z,xe,Ee,Be,Qe,dt);isNaN(Z)&&(Z=1),isNaN(xe)&&(xe=0),isNaN(Ee)&&(Ee=0),isNaN(Be)&&(Be=1),isNaN(Qe)&&(Qe=0),isNaN(dt)&&(dt=0),this._matrix=[Z,xe,Ee,Be,Qe,dt]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(A)},Et.prototype.multiply=function(A){var Z=A.sx*this.sx+A.shy*this.shx,xe=A.sx*this.shy+A.shy*this.sy,Ee=A.shx*this.sx+A.sy*this.shx,Be=A.shx*this.shy+A.sy*this.sy,Qe=A.tx*this.sx+A.ty*this.shx+this.tx,dt=A.tx*this.shy+A.ty*this.sy+this.ty;return new Et(Z,xe,Ee,Be,Qe,dt)},Et.prototype.decompose=function(){var A=this.sx,Z=this.shy,xe=this.shx,Ee=this.sy,Be=this.tx,Qe=this.ty,dt=Math.sqrt(A*A+Z*Z),It=(A/=dt)*xe+(Z/=dt)*Ee;xe-=A*It,Ee-=Z*It;var Kt=Math.sqrt(xe*xe+Ee*Ee);return It/=Kt,A*(Ee/=Kt)<Z*(xe/=Kt)&&(A=-A,Z=-Z,It=-It,dt=-dt),{scale:new Et(dt,0,0,Kt,0,0),translate:new Et(1,0,0,1,Be,Qe),rotate:new Et(A,Z,-Z,A,0,0),skew:new Et(1,0,It,1,0,0)}},Et.prototype.toString=function(A){return this.join(" ")},Et.prototype.inversed=function(){var A=this.sx,Z=this.shy,xe=this.shx,Ee=this.sy,Be=this.tx,Qe=this.ty,dt=1/(A*Ee-Z*xe),It=Ee*dt,Kt=-Z*dt,hr=-xe*dt,fr=A*dt;return new Et(It,Kt,hr,fr,-It*Be-hr*Qe,-Kt*Be-fr*Qe)},Et.prototype.applyToPoint=function(A){var Z=A.x*this.sx+A.y*this.shx+this.tx,xe=A.x*this.shy+A.y*this.sy+this.ty;return new Xo(Z,xe)},Et.prototype.applyToRectangle=function(A){var Z=this.applyToPoint(A),xe=this.applyToPoint(new Xo(A.x+A.w,A.y+A.h));return new ss(Z.x,Z.y,xe.x-Z.x,xe.y-Z.y)},Et.prototype.clone=function(){var A=this.sx,Z=this.shy,xe=this.shx,Ee=this.sy,Be=this.tx,Qe=this.ty;return new Et(A,Z,xe,Ee,Be,Qe)},g.Matrix=Et;var Vr=g.matrixMult=function(A,Z){return Z.multiply(A)},Pr=new Et(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Pr;var Ht=function(A,Z){if(!Ae[A]){var xe=(Z instanceof Au?"Sh":"P")+(Object.keys(pr).length+1).toString(10);Z.id=xe,Ae[A]=xe,pr[xe]=Z,bt.publish("addPattern",Z)}};g.ShadingPattern=Au,g.TilingPattern=Gd,g.addShadingPattern=function(A,Z){return B("addShadingPattern()"),Ht(A,Z),this},g.beginTilingPattern=function(A){B("beginTilingPattern()"),ad(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},g.endTilingPattern=function(A,Z){B("endTilingPattern()"),Z.stream=ze[J].join(`
`),Ht(A,Z),bt.publish("endTilingPattern",Z),vr.pop().restore()};var Dt=g.__private__.newObject=function(){var A=de();return Je(A,!0),A},de=g.__private__.newObjectDeferred=function(){return me++,pe[me]=function(){return ge},me},Je=function(A,Z){return Z=typeof Z=="boolean"&&Z,pe[A]=ge,Z&&se(A+" 0 obj"),A},ut=g.__private__.newAdditionalObject=function(){var A={objId:de(),content:""};return Te.push(A),A},Rt=de(),ye=de(),Ge=g.__private__.decodeColorString=function(A){var Z=A.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var xe=parseFloat(Z[0]);Z=[xe,xe,xe,"r"]}for(var Ee="#",Be=0;Be<3;Be++)Ee+=("0"+Math.floor(255*parseFloat(Z[Be])).toString(16)).slice(-2);return Ee},Ze=g.__private__.encodeColorString=function(A){var Z;typeof A=="string"&&(A={ch1:A});var xe=A.ch1,Ee=A.ch2,Be=A.ch3,Qe=A.ch4,dt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var It=new _L(xe);if(It.ok)xe=It.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var Kt=parseInt(xe.substr(1),16);xe=Kt>>16&255,Ee=Kt>>8&255,Be=255&Kt}if(Ee===void 0||Qe===void 0&&xe===Ee&&Ee===Be)if(typeof xe=="string")Z=xe+" "+dt[0];else switch(A.precision){case 2:Z=K(xe/255)+" "+dt[0];break;case 3:default:Z=E(xe/255)+" "+dt[0]}else if(Qe===void 0||en(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return Z=["1.","1.","1.",dt[1]].join(" ");if(typeof xe=="string")Z=[xe,Ee,Be,dt[1]].join(" ");else switch(A.precision){case 2:Z=[K(xe/255),K(Ee/255),K(Be/255),dt[1]].join(" ");break;default:case 3:Z=[E(xe/255),E(Ee/255),E(Be/255),dt[1]].join(" ")}}else if(typeof xe=="string")Z=[xe,Ee,Be,Qe,dt[2]].join(" ");else switch(A.precision){case 2:Z=[K(xe),K(Ee),K(Be),K(Qe),dt[2]].join(" ");break;case 3:default:Z=[E(xe),E(Ee),E(Be),E(Qe),dt[2]].join(" ")}return Z},st=g.__private__.getFilters=function(){return s},Ot=g.__private__.putStream=function(A){var Z=(A=A||{}).data||"",xe=A.filters||st(),Ee=A.alreadyAppliedFilters||[],Be=A.addLength1||!1,Qe=Z.length,dt=A.objectId,It=function(aa){return aa};if(p!==null&&dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(It=fn.encryptor(dt,0));var Kt={};xe===!0&&(xe=["FlateEncode"]);var hr=A.additionalKeyValues||[],fr=(Kt=ir.API.processDataByFilters!==void 0?ir.API.processDataByFilters(Z,xe):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Kt.data.length!==0&&(hr.push({key:"Length",value:Kt.data.length}),Be===!0&&hr.push({key:"Length1",value:Qe})),fr.length!=0)if(fr.split("/").length-1==1)hr.push({key:"Filter",value:fr});else{hr.push({key:"Filter",value:"["+fr+"]"});for(var Ar=0;Ar<hr.length;Ar+=1)if(hr[Ar].key==="DecodeParms"){for(var hn=[],wn=0;wn<Kt.reverseChain.split("/").length-1;wn+=1)hn.push("null");hn.push(hr[Ar].value),hr[Ar].value="["+hn.join(" ")+"]"}}se("<<");for(var _n=0;_n<hr.length;_n++)se("/"+hr[_n].key+" "+hr[_n].value);se(">>"),Kt.data.length!==0&&(se("stream"),se(It(Kt.data)),se("endstream"))},kt=g.__private__.putPage=function(A){var Z=A.number,xe=A.data,Ee=A.objId,Be=A.contentsObjId;Je(Ee,!0),se("<</Type /Page"),se("/Parent "+A.rootDictionaryObjId+" 0 R"),se("/Resources "+A.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(_(A.mediaBox.bottomLeftX))+" "+parseFloat(_(A.mediaBox.bottomLeftY))+" "+_(A.mediaBox.topRightX)+" "+_(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&se("/CropBox ["+_(A.cropBox.bottomLeftX)+" "+_(A.cropBox.bottomLeftY)+" "+_(A.cropBox.topRightX)+" "+_(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&se("/BleedBox ["+_(A.bleedBox.bottomLeftX)+" "+_(A.bleedBox.bottomLeftY)+" "+_(A.bleedBox.topRightX)+" "+_(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&se("/TrimBox ["+_(A.trimBox.bottomLeftX)+" "+_(A.trimBox.bottomLeftY)+" "+_(A.trimBox.topRightX)+" "+_(A.trimBox.topRightY)+"]"),A.artBox!==null&&se("/ArtBox ["+_(A.artBox.bottomLeftX)+" "+_(A.artBox.bottomLeftY)+" "+_(A.artBox.topRightX)+" "+_(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&se("/UserUnit "+A.userUnit),bt.publish("putPage",{objId:Ee,pageContext:xt[Z],pageNumber:Z,page:xe}),se("/Contents "+Be+" 0 R"),se(">>"),se("endobj");var Qe=xe.join(`
`);return P===C.ADVANCED&&(Qe+=`
Q`),Je(Be,!0),Ot({data:Qe,filters:st(),objectId:Be}),se("endobj"),Ee},gt=g.__private__.putPages=function(){var A,Z,xe=[];for(A=1;A<=vt;A++)xt[A].objId=de(),xt[A].contentsObjId=de();for(A=1;A<=vt;A++)xe.push(kt({number:A,data:ze[A],objId:xt[A].objId,contentsObjId:xt[A].contentsObjId,mediaBox:xt[A].mediaBox,cropBox:xt[A].cropBox,bleedBox:xt[A].bleedBox,trimBox:xt[A].trimBox,artBox:xt[A].artBox,userUnit:xt[A].userUnit,rootDictionaryObjId:Rt,resourceDictionaryObjId:ye}));Je(Rt,!0),se("<</Type /Pages");var Ee="/Kids [";for(Z=0;Z<vt;Z++)Ee+=xe[Z]+" 0 R ";se(Ee+"]"),se("/Count "+vt),se(">>"),se("endobj"),bt.publish("postPutPages")},$t=function(A){bt.publish("putFont",{font:A,out:se,newObject:Dt,putStream:Ot}),A.isAlreadyPutted!==!0&&(A.objectNumber=Dt(),se("<<"),se("/Type /Font"),se("/BaseFont /"+zd(A.postScriptName)),se("/Subtype /Type1"),typeof A.encoding=="string"&&se("/Encoding /"+A.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},dr=function(){for(var A in nr)nr.hasOwnProperty(A)&&(h===!1||h===!0&&y.hasOwnProperty(A))&&$t(nr[A])},Rr=function(A){A.objectNumber=Dt();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[_(A.x),_(A.y),_(A.x+A.width),_(A.y+A.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var xe=A.pages[1].join(`
`);Ot({data:xe,additionalKeyValues:Z,objectId:A.objectNumber}),se("endobj")},xn=function(){for(var A in ar)ar.hasOwnProperty(A)&&Rr(ar[A])},Gn=function(A,Z){var xe,Ee=[],Be=1/(Z-1);for(xe=0;xe<1;xe+=Be)Ee.push(xe);if(Ee.push(1),A[0].offset!=0){var Qe={offset:0,color:A[0].color};A.unshift(Qe)}if(A[A.length-1].offset!=1){var dt={offset:1,color:A[A.length-1].color};A.push(dt)}for(var It="",Kt=0,hr=0;hr<Ee.length;hr++){for(xe=Ee[hr];xe>A[Kt+1].offset;)Kt++;var fr=A[Kt].offset,Ar=(xe-fr)/(A[Kt+1].offset-fr),hn=A[Kt].color,wn=A[Kt+1].color;It+=H(Math.round((1-Ar)*hn[0]+Ar*wn[0]).toString(16))+H(Math.round((1-Ar)*hn[1]+Ar*wn[1]).toString(16))+H(Math.round((1-Ar)*hn[2]+Ar*wn[2]).toString(16))}return It.trim()},Cr=function(A,Z){Z||(Z=21);var xe=Dt(),Ee=Gn(A.colors,Z),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+Z+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ot({data:Ee,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),se("endobj"),A.objectNumber=Dt(),se("<< /ShadingType "+A.type),se("/ColorSpace /DeviceRGB");var Qe="/Coords ["+_(parseFloat(A.coords[0]))+" "+_(parseFloat(A.coords[1]))+" ";A.type===2?Qe+=_(parseFloat(A.coords[2]))+" "+_(parseFloat(A.coords[3])):Qe+=_(parseFloat(A.coords[2]))+" "+_(parseFloat(A.coords[3]))+" "+_(parseFloat(A.coords[4]))+" "+_(parseFloat(A.coords[5])),se(Qe+="]"),A.matrix&&se("/Matrix ["+A.matrix.toString()+"]"),se("/Function "+xe+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Ho=function(A,Z){var xe=de(),Ee=Dt();Z.push({resourcesOid:xe,objectOid:Ee}),A.objectNumber=Ee;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+A.boundingBox.map(_).join(" ")+"]"}),Be.push({key:"XStep",value:_(A.xStep)}),Be.push({key:"YStep",value:_(A.yStep)}),Be.push({key:"Resources",value:xe+" 0 R"}),A.matrix&&Be.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ot({data:A.stream,additionalKeyValues:Be,objectId:A.objectNumber}),se("endobj")},yr=function(A){var Z;for(Z in pr)pr.hasOwnProperty(Z)&&(pr[Z]instanceof Au?Cr(pr[Z]):pr[Z]instanceof Gd&&Ho(pr[Z],A))},bn=function(A){for(var Z in A.objectNumber=Dt(),se("<<"),A)switch(Z){case"opacity":se("/ca "+K(A[Z]));break;case"stroke-opacity":se("/CA "+K(A[Z]))}se(">>"),se("endobj")},Co=function(){var A;for(A in He)He.hasOwnProperty(A)&&bn(He[A])},Ts=function(){for(var A in se("/XObject <<"),ar)ar.hasOwnProperty(A)&&ar[A].objectNumber>=0&&se("/"+A+" "+ar[A].objectNumber+" 0 R");bt.publish("putXobjectDict"),se(">>")},Xu=function(){fn.oid=Dt(),se("<<"),se("/Filter /Standard"),se("/V "+fn.v),se("/R "+fn.r),se("/U <"+fn.toHexString(fn.U)+">"),se("/O <"+fn.toHexString(fn.O)+">"),se("/P "+fn.P),se(">>"),se("endobj")},Ds=function(){for(var A in se("/Font <<"),nr)nr.hasOwnProperty(A)&&(h===!1||h===!0&&y.hasOwnProperty(A))&&se("/"+A+" "+nr[A].objectNumber+" 0 R");se(">>")},oo=function(){if(Object.keys(pr).length>0){for(var A in se("/Shading <<"),pr)pr.hasOwnProperty(A)&&pr[A]instanceof Au&&pr[A].objectNumber>=0&&se("/"+A+" "+pr[A].objectNumber+" 0 R");bt.publish("putShadingPatternDict"),se(">>")}},El=function(A){if(Object.keys(pr).length>0){for(var Z in se("/Pattern <<"),pr)pr.hasOwnProperty(Z)&&pr[Z]instanceof g.TilingPattern&&pr[Z].objectNumber>=0&&pr[Z].objectNumber<A&&se("/"+Z+" "+pr[Z].objectNumber+" 0 R");bt.publish("putTilingPatternDict"),se(">>")}},Wa=function(){if(Object.keys(He).length>0){var A;for(A in se("/ExtGState <<"),He)He.hasOwnProperty(A)&&He[A].objectNumber>=0&&se("/"+A+" "+He[A].objectNumber+" 0 R");bt.publish("putGStateDict"),se(">>")}},Cn=function(A){Je(A.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ds(),oo(),El(A.objectOid),Wa(),Ts(),se(">>"),se("endobj")},Zu=function(){var A=[];dr(),Co(),xn(),yr(A),bt.publish("putResources"),A.forEach(Cn),Cn({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),bt.publish("postPutResources")},Qu=function(){bt.publish("putAdditionalObjects");for(var A=0;A<Te.length;A++){var Z=Te[A];Je(Z.objId,!0),se(Z.content),se("endobj")}bt.publish("postPutAdditionalObjects")},Ms=function(A){jr[A.fontName]=jr[A.fontName]||{},jr[A.fontName][A.fontStyle]=A.id},es=function(A,Z,xe,Ee,Be){var Qe={id:"F"+(Object.keys(nr).length+1).toString(10),postScriptName:A,fontName:Z,fontStyle:xe,encoding:Ee,isStandardFont:Be||!1,metadata:{}};return bt.publish("addFont",{font:Qe,instance:this}),nr[Qe.id]=Qe,Ms(Qe),Qe.id},Rs=function(A){for(var Z=0,xe=Ce.length;Z<xe;Z++){var Ee=es.call(this,A[Z][0],A[Z][1],A[Z][2],Ce[Z][3],!0);h===!1&&(y[Ee]=!0);var Be=A[Z][0].split("-");Ms({id:Ee,fontName:Be[0],fontStyle:Be[1]||""})}bt.publish("addFonts",{fonts:nr,dictionary:jr})},Aa=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(Ee){var Z=Ee.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var xe="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!sr.console)throw new Error(xe);sr.console.error(xe,Ee),sr.alert&&alert(xe)}},A.foo.bar=A,A.foo},Ol=function(A,Z){var xe,Ee,Be,Qe,dt,It,Kt,hr,fr;if(Be=(Z=Z||{}).sourceEncoding||"Unicode",dt=Z.outputEncoding,(Z.autoencode||dt)&&nr[At].metadata&&nr[At].metadata[Be]&&nr[At].metadata[Be].encoding&&(Qe=nr[At].metadata[Be].encoding,!dt&&nr[At].encoding&&(dt=nr[At].encoding),!dt&&Qe.codePages&&(dt=Qe.codePages[0]),typeof dt=="string"&&(dt=Qe[dt]),dt)){for(Kt=!1,It=[],xe=0,Ee=A.length;xe<Ee;xe++)(hr=dt[A.charCodeAt(xe)])?It.push(String.fromCharCode(hr)):It.push(A[xe]),It[xe].charCodeAt(0)>>8&&(Kt=!0);A=It.join("")}for(xe=A.length;Kt===void 0&&xe!==0;)A.charCodeAt(xe-1)>>8&&(Kt=!0),xe--;if(!Kt)return A;for(It=Z.noBOM?[]:[254,255],xe=0,Ee=A.length;xe<Ee;xe++){if((fr=(hr=A.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(fr),It.push(hr-(fr<<8))}return String.fromCharCode.apply(void 0,It)},Pa=g.__private__.pdfEscape=g.pdfEscape=function(A,Z){return Ol(A,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$s=g.__private__.beginPage=function(A){ze[++vt]=[],xt[vt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},ts(vt),Ne(ze[J])},qc=function(A,Z){var xe,Ee,Be;switch(r=Z||r,typeof A=="string"&&(xe=S(A.toLowerCase()),Array.isArray(xe)&&(Ee=xe[0],Be=xe[1])),Array.isArray(A)&&(Ee=A[0]*pt,Be=A[1]*pt),isNaN(Ee)&&(Ee=a[0],Be=a[1]),(Ee>14400||Be>14400)&&(on.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Be=Math.min(14400,Be)),a=[Ee,Be],r.substr(0,1)){case"l":Be>Ee&&(a=[Be,Ee]);break;case"p":Ee>Be&&(a=[Be,Ee])}$s(a),Us(Hc),se(_a),Kc!==0&&se(Kc+" J"),Ws!==0&&se(Ws+" j"),bt.publish("addPage",{pageNumber:vt})},Uc=function(A){A>0&&A<=vt&&(ze.splice(A,1),xt.splice(A,1),vt--,J>vt&&(J=vt),this.setPage(J))},ts=function(A){A>0&&A<=vt&&(J=A)},Uf=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ze.length-1},kl=function(A,Z,xe){var Ee,Be=void 0;return xe=xe||{},A=A!==void 0?A:nr[At].fontName,Z=Z!==void 0?Z:nr[At].fontStyle,Ee=A.toLowerCase(),jr[Ee]!==void 0&&jr[Ee][Z]!==void 0?Be=jr[Ee][Z]:jr[A]!==void 0&&jr[A][Z]!==void 0?Be=jr[A][Z]:xe.disableWarning===!1&&on.warn("Unable to look up font label for font '"+A+"', '"+Z+"'. Refer to getFontList() for available fonts."),Be||xe.noFallback||(Be=jr.times[Z])==null&&(Be=jr.times.normal),Be},Tr=g.__private__.putInfo=function(){var A=Dt(),Z=function(Ee){return Ee};for(var xe in p!==null&&(Z=fn.encryptor(A,0)),se("<<"),se("/Producer ("+Pa(Z("jsPDF "+ir.version))+")"),Nt)Nt.hasOwnProperty(xe)&&Nt[xe]&&se("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+Pa(Z(Nt[xe]))+")");se("/CreationDate ("+Pa(Z(z))+")"),se(">>"),se("endobj")},Il=g.__private__.putCatalog=function(A){var Z=(A=A||{}).rootDictionaryObjId||Rt;switch(Dt(),se("<<"),se("/Type /Catalog"),se("/Pages "+Z+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+je;xe.substr(xe.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&se("/OpenAction [3 0 R /XYZ null null "+K(je)+"]")}switch(at||(at="continuous"),at){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}le&&se("/PageMode /"+le),bt.publish("putCatalog"),se(">>"),se("endobj")},ed=g.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(me+1)),se("/Root "+me+" 0 R"),se("/Info "+(me-1)+" 0 R"),p!==null&&se("/Encrypt "+fn.oid+" 0 R"),se("/ID [ <"+W+"> <"+W+"> ]"),se(">>")},Vc=g.__private__.putHeader=function(){se("%PDF-"+j),se("%")},td=g.__private__.putXRef=function(){var A="0000000000";se("xref"),se("0 "+(me+1)),se("0000000000 65535 f ");for(var Z=1;Z<=me;Z++)typeof pe[Z]=="function"?se((A+pe[Z]()).slice(-10)+" 00000 n "):pe[Z]!==void 0?se((A+pe[Z]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Go=g.__private__.buildDocument=function(){De(),Ne(be),bt.publish("buildDocument"),Vc(),gt(),Qu(),Zu(),p!==null&&Xu(),Tr(),Il();var A=ge;return td(),ed(),se("startxref"),se(""+A),se("%%EOF"),Ne(ze[J]),be.join(`
`)},Fs=g.__private__.getBlob=function(A){return new Blob([Q(A)],{type:"application/pdf"})},rs=g.output=g.__private__.output=Aa((function(A,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",A){case void 0:return Go();case"save":g.save(Z.filename);break;case"arraybuffer":return Q(Go());case"blob":return Fs(Go());case"bloburi":case"bloburl":if(sr.URL!==void 0&&typeof sr.URL.createObjectURL=="function")return sr.URL&&sr.URL.createObjectURL(Fs(Go()))||void 0;on.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",Ee=Go();try{xe=i5(Ee)}catch{xe=i5(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+Z.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Be=Z.pdfObjectUrl,Qe="");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",It=sr.open();return It!==null&&It.document.write(dt),It}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',hr=sr.open();if(hr!==null){hr.document.write(Kt);var fr=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=Z.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(fr.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',hn=sr.open();if(hn!==null&&(hn.document.write(Ar),hn.document.title=Z.filename),hn||typeof safari>"u")return hn;break;case"datauri":case"dataurl":return sr.document.location.href=this.output("datauristring",Z);default:return null}})),zs=function(A){return Array.isArray(wr)===!0&&wr.indexOf(A)>-1};switch(n){case"pt":pt=1;break;case"mm":pt=72/25.4;break;case"cm":pt=72/2.54;break;case"in":pt=72;break;case"px":pt=zs("px_scaling")==1?.75:96/72;break;case"pc":case"em":pt=12;break;case"ex":pt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);pt=n}var fn=null;re(),G();var Ko=function(A){return p!==null?fn.encryptor(A,0):function(Z){return Z}},Ao=g.__private__.getPageInfo=g.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[A].objId,pageNumber:A,pageContext:xt[A]}},rr=g.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in xt)if(xt[Z].objId===A)break;return Ao(Z)},Bs=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:xt[J].objId,pageNumber:J,pageContext:xt[J]}};g.addPage=function(){return qc.apply(this,arguments),this},g.setPage=function(){return ts.apply(this,arguments),Ne.call(this,ze[J]),this},g.insertPage=function(A){return this.addPage(),this.movePage(J,A),this},g.movePage=function(A,Z){var xe,Ee;if(A>Z){xe=ze[A],Ee=xt[A];for(var Be=A;Be>Z;Be--)ze[Be]=ze[Be-1],xt[Be]=xt[Be-1];ze[Z]=xe,xt[Z]=Ee,this.setPage(Z)}else if(A<Z){xe=ze[A],Ee=xt[A];for(var Qe=A;Qe<Z;Qe++)ze[Qe]=ze[Qe+1],xt[Qe]=xt[Qe+1];ze[Z]=xe,xt[Z]=Ee,this.setPage(Z)}return this},g.deletePage=function(){return Uc.apply(this,arguments),this},g.__private__.text=g.text=function(A,Z,xe,Ee,Be){var Qe,dt,It,Kt,hr,fr,Ar,hn,wn,_n=(Ee=Ee||{}).scope||this;if(typeof A=="number"&&typeof Z=="number"&&(typeof xe=="string"||Array.isArray(xe))){var aa=xe;xe=Z,Z=A,A=aa}if(arguments[3]instanceof Et?(B("The transform parameter of text() with a Matrix value"),wn=Be):(It=arguments[4],Kt=arguments[5],en(Ar=arguments[3])==="object"&&Ar!==null||(typeof It=="string"&&(Kt=It,It=null),typeof Ar=="string"&&(Kt=Ar,Ar=null),typeof Ar=="number"&&(It=Ar,Ar=null),Ee={flags:Ar,angle:It,align:Kt})),isNaN(Z)||isNaN(xe)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return _n;var Un="",Oo=!1,Ga=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:qs,lo=_n.internal.scaleFactor;function cs(Zr){return Zr=Zr.split("	").join(Array(Ee.TabLen||9).join(" ")),Pa(Zr,Ar)}function Xc(Zr){for(var Wr,jn=Zr.concat(),En=[],ei=jn.length;ei--;)typeof(Wr=jn.shift())=="string"?En.push(Wr):Array.isArray(Zr)&&(Wr.length===1||Wr[1]===void 0&&Wr[2]===void 0)?En.push(Wr[0]):En.push([Wr[0],Wr[1],Wr[2]]);return En}function ql(Zr,Wr){var jn;if(typeof Zr=="string")jn=Wr(Zr)[0];else if(Array.isArray(Zr)){for(var En,ei,Zl=Zr.concat(),Qs=[],eu=Zl.length;eu--;)typeof(En=Zl.shift())=="string"?Qs.push(Wr(En)[0]):Array.isArray(En)&&typeof En[0]=="string"&&(ei=Wr(En[0],En[1],En[2]),Qs.push([ei[0],ei[1],ei[2]]));jn=Qs}return jn}var Hs=!1,Ul=!0;if(typeof A=="string")Hs=!0;else if(Array.isArray(A)){var Vl=A.concat();dt=[];for(var Gs,Nn=Vl.length;Nn--;)(typeof(Gs=Vl.shift())!="string"||Array.isArray(Gs)&&typeof Gs[0]!="string")&&(Ul=!1);Hs=Ul}if(Hs===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Wl=he/_n.internal.scaleFactor,Hl=Wl*(Ga-1);switch(Ee.baseline){case"bottom":xe-=Hl;break;case"top":xe+=Wl-Hl;break;case"hanging":xe+=Wl-2*Hl;break;case"middle":xe+=Wl/2-Hl}if((fr=Ee.maxWidth||0)>0&&(typeof A=="string"?A=_n.splitTextToSize(A,fr):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce((function(Zr,Wr){return Zr.concat(_n.splitTextToSize(Wr,fr))}),[]))),Qe={text:A,x:Z,y:xe,options:Ee,mutex:{pdfEscape:Pa,activeFontKey:At,fonts:nr,activeFontSize:he}},bt.publish("preProcessText",Qe),A=Qe.text,It=(Ee=Qe.options).angle,!(wn instanceof Et)&&It&&typeof It=="number"){It*=Math.PI/180,Ee.rotationDirection===0&&(It=-It),P===C.ADVANCED&&(It=-It);var Gl=Math.cos(It),Kl=Math.sin(It);wn=new Et(Gl,Kl,-Kl,Gl,0,0)}else It&&It instanceof Et&&(wn=It);P!==C.ADVANCED||wn||(wn=Pr),(hr=Ee.charSpace||is)!==void 0&&(Un+=_($(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hn=Ee.horizontalScale)!==void 0&&(Un+=_(100*hn)+` Tz
`),Ee.lang;var va=-1,Ks=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,wi=_n.internal.getCurrentPageInfo().pageContext;switch(Ks){case 0:case!1:case"fill":va=0;break;case 1:case!0:case"stroke":va=1;break;case 2:case"fillThenStroke":va=2;break;case 3:case"invisible":va=3;break;case 4:case"fillAndAddForClipping":va=4;break;case 5:case"strokeAndAddPathForClipping":va=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":va=6;break;case 7:case"addToPathForClipping":va=7}var od=wi.usedRenderingMode!==void 0?wi.usedRenderingMode:-1;va!==-1?Un+=va+` Tr
`:od!==-1&&(Un+=`0 Tr
`),va!==-1&&(wi.usedRenderingMode=va),Kt=Ee.align||"left";var ya,Jl=he*Ga,Zc=_n.internal.pageSize.getWidth(),Yl=nr[At];hr=Ee.charSpace||is,fr=Ee.maxWidth||0,Ar=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Zo=[],us=function(Zr){return _n.getStringUnitWidth(Zr,{font:Yl,charSpace:hr,fontSize:he,doKerning:!1})*he/lo};if(Object.prototype.toString.call(A)==="[object Array]"){var xa;dt=Xc(A),Kt!=="left"&&(ya=dt.map(us));var oa,ds=0;if(Kt==="right"){Z-=ya[0],A=[],Nn=dt.length;for(var Ni=0;Ni<Nn;Ni++)Ni===0?(oa=io(Z),xa=so(xe)):(oa=$(ds-ya[Ni]),xa=-Jl),A.push([dt[Ni],oa,xa]),ds=ya[Ni]}else if(Kt==="center"){Z-=ya[0]/2,A=[],Nn=dt.length;for(var ji=0;ji<Nn;ji++)ji===0?(oa=io(Z),xa=so(xe)):(oa=$((ds-ya[ji])/2),xa=-Jl),A.push([dt[ji],oa,xa]),ds=ya[ji]}else if(Kt==="left"){A=[],Nn=dt.length;for(var Xl=0;Xl<Nn;Xl++)A.push(dt[Xl])}else if(Kt==="justify"&&Yl.encoding==="Identity-H"){A=[],Nn=dt.length,fr=fr!==0?fr:Zc;for(var Si=0,Dr=0;Dr<Nn;Dr++)if(xa=Dr===0?so(xe):-Jl,oa=Dr===0?io(Z):Si,Dr<Nn-1){var Ci=$((fr-ya[Dr])/(dt[Dr].split(" ").length-1)),ia=dt[Dr].split(" ");A.push([ia[0]+" ",oa,xa]),Si=0;for(var Ka=1;Ka<ia.length;Ka++){var Js=(us(ia[Ka-1]+" "+ia[Ka])-us(ia[Ka]))*lo+Ci;Ka==ia.length-1?A.push([ia[Ka],Js,0]):A.push([ia[Ka]+" ",Js,0]),Si-=Js}}else A.push([dt[Dr],oa,xa]);A.push(["",Si,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Nn=dt.length,fr=fr!==0?fr:Zc,Dr=0;Dr<Nn;Dr++)xa=Dr===0?so(xe):-Jl,oa=Dr===0?io(Z):0,Dr<Nn-1?Zo.push(_($((fr-ya[Dr])/(dt[Dr].split(" ").length-1)))):Zo.push(0),A.push([dt[Dr],oa,xa])}}var Qc=typeof Ee.R2L=="boolean"?Ee.R2L:we;Qc===!0&&(A=ql(A,(function(Zr,Wr,jn){return[Zr.split("").reverse().join(""),Wr,jn]}))),Qe={text:A,x:Z,y:xe,options:Ee,mutex:{pdfEscape:Pa,activeFontKey:At,fonts:nr,activeFontSize:he}},bt.publish("postProcessText",Qe),A=Qe.text,Oo=Qe.mutex.isHex||!1;var Ys=nr[At].encoding;Ys!=="WinAnsiEncoding"&&Ys!=="StandardEncoding"||(A=ql(A,(function(Zr,Wr,jn){return[cs(Zr),Wr,jn]}))),dt=Xc(A),A=[];for(var Xs,Zs,Ja,Ai=0,Qo=1,Pi=Array.isArray(dt[0])?Qo:Ai,_i="",fs=function(Zr,Wr,jn){var En="";return jn instanceof Et?(jn=typeof Ee.angle=="number"?Vr(jn,new Et(1,0,0,1,Zr,Wr)):Vr(new Et(1,0,0,1,Zr,Wr),jn),P===C.ADVANCED&&(jn=Vr(new Et(1,0,0,-1,0,0),jn)),En=jn.join(" ")+` Tm
`):En=_(Zr)+" "+_(Wr)+` Td
`,En},Kn=0;Kn<dt.length;Kn++){switch(_i="",Pi){case Qo:Ja=(Oo?"<":"(")+dt[Kn][0]+(Oo?">":")"),Xs=parseFloat(dt[Kn][1]),Zs=parseFloat(dt[Kn][2]);break;case Ai:Ja=(Oo?"<":"(")+dt[Kn]+(Oo?">":")"),Xs=io(Z),Zs=so(xe)}Zo!==void 0&&Zo[Kn]!==void 0&&(_i=Zo[Kn]+` Tw
`),Kn===0?A.push(_i+fs(Xs,Zs,wn)+Ja):Pi===Ai?A.push(_i+Ja):Pi===Qo&&A.push(_i+fs(Xs,Zs,wn)+Ja)}A=Pi===Ai?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ea=`BT
/`;return Ea+=At+" "+he+` Tf
`,Ea+=_(he*Ga)+` TL
`,Ea+=Dn+`
`,Ea+=Un,Ea+=A,se(Ea+="ET"),y[At]=!0,_n};var Jo=g.__private__.clip=g.clip=function(A){return se(A==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Jo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return se("n"),this};var Yo=g.__private__.isValidStyle=function(A){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(Z=!0),Z};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(A){return Yo(A)&&(f=A),this};var Wc=g.__private__.getStyle=g.getStyle=function(A){var Z=f;switch(A){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=A}return Z},ns=g.close=function(){return se("h"),this};g.stroke=function(){return se("S"),this},g.fill=function(A){return Ll("f",A),this},g.fillEvenOdd=function(A){return Ll("f*",A),this},g.fillStroke=function(A){return Ll("B",A),this},g.fillStrokeEvenOdd=function(A){return Ll("B*",A),this};var Ll=function(A,Z){en(Z)==="object"?rd(Z,A):se(A)},Tl=function(A){A===null||P===C.ADVANCED&&A===void 0||(A=Wc(A),se(A))};function Dl(A,Z,xe,Ee,Be){var Qe=new Gd(Z||this.boundingBox,xe||this.xStep,Ee||this.yStep,this.gState,Be||this.matrix);Qe.stream=this.stream;var dt=A+"$$"+this.cloneIndex+++"$$";return Ht(dt,Qe),Qe}var rd=function(A,Z){var xe=Ae[A.key],Ee=pr[xe];if(Ee instanceof Au)se("q"),se(Vf(Z)),Ee.gState&&g.setGState(Ee.gState),se(A.matrix.toString()+" cm"),se("/"+xe+" sh"),se("Q");else if(Ee instanceof Gd){var Be=new Et(1,0,0,-1,0,ls());A.matrix&&(Be=Be.multiply(A.matrix||Pr),xe=Dl.call(Ee,A.key,A.boundingBox,A.xStep,A.yStep,Be).id),se("q"),se("/Pattern cs"),se("/"+xe+" scn"),Ee.gState&&g.setGState(Ee.gState),se(Z),se("Q")}},Vf=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},xi=g.moveTo=function(A,Z){return se(_($(A))+" "+_(I(Z))+" m"),this},Po=g.lineTo=function(A,Z){return se(_($(A))+" "+_(I(Z))+" l"),this},Ha=g.curveTo=function(A,Z,xe,Ee,Be,Qe){return se([_($(A)),_(I(Z)),_($(xe)),_(I(Ee)),_($(Be)),_(I(Qe)),"c"].join(" ")),this};g.__private__.line=g.line=function(A,Z,xe,Ee,Be){if(isNaN(A)||isNaN(Z)||isNaN(xe)||isNaN(Ee)||!Yo(Be))throw new Error("Invalid arguments passed to jsPDF.line");return P===C.COMPAT?this.lines([[xe-A,Ee-Z]],A,Z,[1,1],Be||"S"):this.lines([[xe-A,Ee-Z]],A,Z,[1,1]).stroke()},g.__private__.lines=g.lines=function(A,Z,xe,Ee,Be,Qe){var dt,It,Kt,hr,fr,Ar,hn,wn,_n,aa,Un,Oo;if(typeof A=="number"&&(Oo=xe,xe=Z,Z=A,A=Oo),Ee=Ee||[1,1],Qe=Qe||!1,isNaN(Z)||isNaN(xe)||!Array.isArray(A)||!Array.isArray(Ee)||!Yo(Be)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xi(Z,xe),dt=Ee[0],It=Ee[1],hr=A.length,aa=Z,Un=xe,Kt=0;Kt<hr;Kt++)(fr=A[Kt]).length===2?(aa=fr[0]*dt+aa,Un=fr[1]*It+Un,Po(aa,Un)):(Ar=fr[0]*dt+aa,hn=fr[1]*It+Un,wn=fr[2]*dt+aa,_n=fr[3]*It+Un,aa=fr[4]*dt+aa,Un=fr[5]*It+Un,Ha(Ar,hn,wn,_n,aa,Un));return Qe&&ns(),Tl(Be),this},g.path=function(A){for(var Z=0;Z<A.length;Z++){var xe=A[Z],Ee=xe.c;switch(xe.op){case"m":xi(Ee[0],Ee[1]);break;case"l":Po(Ee[0],Ee[1]);break;case"c":Ha.apply(this,Ee);break;case"h":ns()}}return this},g.__private__.rect=g.rect=function(A,Z,xe,Ee,Be){if(isNaN(A)||isNaN(Z)||isNaN(xe)||isNaN(Ee)||!Yo(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return P===C.COMPAT&&(Ee=-Ee),se([_($(A)),_(I(Z)),_($(xe)),_($(Ee)),"re"].join(" ")),Tl(Be),this},g.__private__.triangle=g.triangle=function(A,Z,xe,Ee,Be,Qe,dt){if(isNaN(A)||isNaN(Z)||isNaN(xe)||isNaN(Ee)||isNaN(Be)||isNaN(Qe)||!Yo(dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-A,Ee-Z],[Be-xe,Qe-Ee],[A-Be,Z-Qe]],A,Z,[1,1],dt,!0),this},g.__private__.roundedRect=g.roundedRect=function(A,Z,xe,Ee,Be,Qe,dt){if(isNaN(A)||isNaN(Z)||isNaN(xe)||isNaN(Ee)||isNaN(Be)||isNaN(Qe)||!Yo(dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var It=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*xe),Qe=Math.min(Qe,.5*Ee),this.lines([[xe-2*Be,0],[Be*It,0,Be,Qe-Qe*It,Be,Qe],[0,Ee-2*Qe],[0,Qe*It,-Be*It,Qe,-Be,Qe],[2*Be-xe,0],[-Be*It,0,-Be,-Qe*It,-Be,-Qe],[0,2*Qe-Ee],[0,-Qe*It,Be*It,-Qe,Be,-Qe]],A+Be,Z,[1,1],dt,!0),this},g.__private__.ellipse=g.ellipse=function(A,Z,xe,Ee,Be){if(isNaN(A)||isNaN(Z)||isNaN(xe)||isNaN(Ee)||!Yo(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*xe,dt=4/3*(Math.SQRT2-1)*Ee;return xi(A+xe,Z),Ha(A+xe,Z-dt,A+Qe,Z-Ee,A,Z-Ee),Ha(A-Qe,Z-Ee,A-xe,Z-dt,A-xe,Z),Ha(A-xe,Z+dt,A-Qe,Z+Ee,A,Z+Ee),Ha(A+Qe,Z+Ee,A+xe,Z+dt,A+xe,Z),Tl(Be),this},g.__private__.circle=g.circle=function(A,Z,xe,Ee){if(isNaN(A)||isNaN(Z)||isNaN(xe)||!Yo(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,Z,xe,xe,Ee)},g.setFont=function(A,Z,xe){return xe&&(Z=q(Z,xe)),At=kl(A,Z,{disableWarning:!1}),this};var Ml=g.__private__.getFont=g.getFont=function(){return nr[kl.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var A,Z,xe={};for(A in jr)if(jr.hasOwnProperty(A))for(Z in xe[A]=[],jr[A])jr[A].hasOwnProperty(Z)&&xe[A].push(Z);return xe},g.addFont=function(A,Z,xe,Ee,Be){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(xe=q(xe,Ee)),Be=Be||"Identity-H",es.call(this,A,Z,xe,Be)};var qs,Hc=e.lineWidth||.200025,as=g.__private__.getLineWidth=g.getLineWidth=function(){return Hc},Us=g.__private__.setLineWidth=g.setLineWidth=function(A){return Hc=A,se(_($(A))+" w"),this};g.__private__.setLineDash=ir.API.setLineDash=ir.API.setLineDashPattern=function(A,Z){if(A=A||[],Z=Z||0,isNaN(Z)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map((function(xe){return _($(xe))})).join(" "),Z=_($(Z)),se("["+A+"] "+Z+" d"),this};var Rl=g.__private__.getLineHeight=g.getLineHeight=function(){return he*qs};g.__private__.getLineHeight=g.getLineHeight=function(){return he*qs};var Gc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(qs=A),this},_o=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return qs};Gc(e.lineHeight);var io=g.__private__.getHorizontalCoordinate=function(A){return $(A)},so=g.__private__.getVerticalCoordinate=function(A){return P===C.ADVANCED?A:xt[J].mediaBox.topRightY-xt[J].mediaBox.bottomLeftY-$(A)},nd=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(A){return _(io(A))},Eo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(A){return _(so(A))},_a=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ge(_a)},g.__private__.setStrokeColor=g.setDrawColor=function(A,Z,xe,Ee){return _a=Ze({ch1:A,ch2:Z,ch3:xe,ch4:Ee,pdfColorType:"draw",precision:2}),se(_a),this};var $l=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ge($l)},g.__private__.setFillColor=g.setFillColor=function(A,Z,xe,Ee){return $l=Ze({ch1:A,ch2:Z,ch3:xe,ch4:Ee,pdfColorType:"fill",precision:2}),se($l),this};var Dn=e.textColor||"0 g",os=g.__private__.getTextColor=g.getTextColor=function(){return Ge(Dn)};g.__private__.setTextColor=g.setTextColor=function(A,Z,xe,Ee){return Dn=Ze({ch1:A,ch2:Z,ch3:xe,ch4:Ee,pdfColorType:"text",precision:3}),this};var is=e.charSpace,Vs=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(is||0)};g.__private__.setCharSpace=g.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return is=A,this};var Kc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(A){var Z=g.CapJoinStyles[A];if(Z===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kc=Z,se(Z+" J"),this};var Ws=0;g.__private__.setLineJoin=g.setLineJoin=function(A){var Z=g.CapJoinStyles[A];if(Z===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ws=Z,se(Z+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(_($(A))+" M"),this},g.GState=u0,g.setGState=function(A){(A=typeof A=="string"?He[Ye[A]]:Fl(null,A)).equals(it)||(se("/"+A.id+" gs"),it=A)};var Fl=function(A,Z){if(!A||!Ye[A]){var xe=!1;for(var Ee in He)if(He.hasOwnProperty(Ee)&&He[Ee].equals(Z)){xe=!0;break}if(xe)Z=He[Ee];else{var Be="GS"+(Object.keys(He).length+1).toString(10);He[Be]=Z,Z.id=Be}return A&&(Ye[A]=Z.id),bt.publish("addGState",Z),Z}};g.addGState=function(A,Z){return Fl(A,Z),this},g.saveGraphicsState=function(){return se("q"),rn.push({key:At,size:he,color:Dn}),this},g.restoreGraphicsState=function(){se("Q");var A=rn.pop();return At=A.key,he=A.size,Dn=A.color,it=null,this},g.setCurrentTransformationMatrix=function(A){return se(A.toString()+" cm"),this},g.comment=function(A){return se("#"+A),this};var Xo=function(A,Z){var xe=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(Qe){isNaN(Qe)||(xe=parseFloat(Qe))}});var Ee=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Qe){isNaN(Qe)||(Ee=parseFloat(Qe))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(Qe){Be=Qe.toString()}}),this},ss=function(A,Z,xe,Ee){Xo.call(this,A,Z),this.type="rect";var Be=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(dt){isNaN(dt)||(Be=parseFloat(dt))}});var Qe=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(dt){isNaN(dt)||(Qe=parseFloat(dt))}}),this},zl=function(){this.page=vt,this.currentPage=J,this.pages=ze.slice(0),this.pagesContext=xt.slice(0),this.x=Or,this.y=Yt,this.matrix=Lr,this.width=bi(J),this.height=ls(J),this.outputDestination=Fe,this.id="",this.objectNumber=-1};zl.prototype.restore=function(){vt=this.page,J=this.currentPage,xt=this.pagesContext,ze=this.pages,Or=this.x,Yt=this.y,Lr=this.matrix,Jc(J,this.width),Yc(J,this.height),Fe=this.outputDestination};var ad=function(A,Z,xe,Ee,Be){vr.push(new zl),vt=J=0,ze=[],Or=A,Yt=Z,Lr=Be,$s([xe,Ee])},Wf=function(A){if(Xt[A])vr.pop().restore();else{var Z=new zl,xe="Xo"+(Object.keys(ar).length+1).toString(10);Z.id=xe,Xt[A]=xe,ar[xe]=Z,bt.publish("addFormObject",Z),vr.pop().restore()}};for(var Bl in g.beginFormObject=function(A,Z,xe,Ee,Be){return ad(A,Z,xe,Ee,Be),this},g.endFormObject=function(A){return Wf(A),this},g.doFormObject=function(A,Z){var xe=ar[Xt[A]];return se("q"),se(Z.toString()+" cm"),se("/"+xe.id+" Do"),se("Q"),this},g.getFormObject=function(A){var Z=ar[Xt[A]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},g.save=function(A,Z){return A=A||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Su(Fs(Go()),A),typeof Su.unload=="function"&&sr.setTimeout&&setTimeout(Su.unload,911),this):new Promise((function(xe,Ee){try{var Be=Su(Fs(Go()),A);typeof Su.unload=="function"&&sr.setTimeout&&setTimeout(Su.unload,911),xe(Be)}catch(Qe){Ee(Qe.message)}}))},ir.API)ir.API.hasOwnProperty(Bl)&&(Bl==="events"&&ir.API.events.length?(function(A,Z){var xe,Ee,Be;for(Be=Z.length-1;Be!==-1;Be--)xe=Z[Be][0],Ee=Z[Be][1],A.subscribe.apply(A,[xe].concat(typeof Ee=="function"?[Ee]:Ee))})(bt,ir.API.events):g[Bl]=ir.API[Bl]);var bi=g.getPageWidth=function(A){return(xt[A=A||J].mediaBox.topRightX-xt[A].mediaBox.bottomLeftX)/pt},Jc=g.setPageWidth=function(A,Z){xt[A].mediaBox.topRightX=Z*pt+xt[A].mediaBox.bottomLeftX},ls=g.getPageHeight=function(A){return(xt[A=A||J].mediaBox.topRightY-xt[A].mediaBox.bottomLeftY)/pt},Yc=g.setPageHeight=function(A,Z){xt[A].mediaBox.topRightY=Z*pt+xt[A].mediaBox.bottomLeftY};return g.internal={pdfEscape:Pa,getStyle:Wc,getFont:Ml,getFontSize:_e,getCharSpace:Vs,getTextColor:os,getLineHeight:Rl,getLineHeightFactor:_o,getLineWidth:as,write:ct,getHorizontalCoordinate:io,getVerticalCoordinate:so,getCoordinateString:nd,getVerticalCoordinateString:Eo,collections:{},newObject:Dt,newAdditionalObject:ut,newObjectDeferred:de,newObjectDeferredBegin:Je,getFilters:st,putStream:Ot,events:bt,scaleFactor:pt,pageSize:{getWidth:function(){return bi(J)},setWidth:function(A){Jc(J,A)},getHeight:function(){return ls(J)},setHeight:function(A){Yc(J,A)}},encryptionOptions:p,encryption:fn,getEncryptor:Ko,output:rs,getNumberOfPages:Uf,pages:ze,out:se,f2:K,f3:E,getPageInfo:Ao,getPageInfoByObjId:rr,getCurrentPageInfo:Bs,getPDFVersion:x,Point:Xo,Rectangle:ss,Matrix:Et,hasHotfix:zs},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return bi(J)},set:function(A){Jc(J,A)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ls(J)},set:function(A){Yc(J,A)},enumerable:!0,configurable:!0}),Rs.call(g,Ce),At="F1",qc(a,r),bt.publish("initialized"),g}Fd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Fd.prototype.toHexString=function(e){return e.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Fd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Fd.prototype.processOwnerPassword=function(e,t){return l5(s5(t).substr(0,5),e)},Fd.prototype.encryptor=function(e,t){var r=s5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return l5(r,n)}},u0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||en(e)!==en(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ir.API={events:[]},ir.version="2.5.2";var Ln=ir.API,ON=1,Ju=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mr=function(e){return e.toFixed(2)},bc=function(e){return e.toFixed(5)};Ln.__acroform__={};var So=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},D6=function(e){return e*ON},bs=function(e){var t=new IL,r=Vt.internal.getHeight(e)||0,n=Vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(mr(n)),Number(mr(r))],t},zee=Ln.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Bee=Ln.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},qee=Ln.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},zn=Ln.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qee(e,t-1)},Bn=Ln.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zee(e,t-1)},qn=Ln.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bee(e,t-1)},Uee=Ln.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],c=e[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(i+c)||0,d.upperRight_X=r(a+s)||0,d.upperRight_Y=n(i)||0,[Number(mr(d.lowerLeft_X)),Number(mr(d.lowerLeft_Y)),Number(mr(d.upperRight_X)),Number(mr(d.upperRight_Y))]},Vee=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=c5(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+mr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=bs(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},c5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map((function(E){return E.split(`
`)})):a.map((function(E){return[E]}));var i=r,s=Vt.internal.getHeight(e)||0;s=s<0?-s:s;var c=Vt.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(E,$,D){if(E+1<a.length){var I=$+" "+a[E+1][0];return Jm(I,e,D).width<=c-4}return!1};i++;e:for(;i>0;){t="",i--;var f,p,h=Jm("3",e,i).height,y=e.multiline?s-i:(s-h)/2,g=y+=2,j=0,x=0,w=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Jm(t,e,i=12).width+", FieldWidth:"+c+`
`;break}for(var S="",C=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var R=!1;if(a[P].length!==1&&w!==a[P].length-1){if((h+2)*(C+2)+2>s)continue e;S+=a[P][w],R=!0,x=P,P--}else{S=(S+=a[P][w]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var L=parseInt(P),q=d(L,S,i),_=P>=a.length-1;if(q&&!_){S+=" ",w=0;continue}if(q||_){if(_)x=L;else if(e.multiline&&(h+2)*(C+2)+2>s)continue e}else{if(!e.multiline||(h+2)*(C+2)+2>s)continue e;x=L}}for(var B="",V=j;V<=x;V++){var K=a[V];if(e.multiline){if(V===x){B+=K[w]+" ",w=(w+1)%K.length;continue}if(V===j){B+=K[K.length-1]+" ";continue}}B+=K[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,p=Jm(B,e,i).width,e.textAlign){case"right":f=c-p-2;break;case"center":f=(c-p)/2;break;case"left":default:f=2}t+=mr(f)+" "+mr(g)+` Td
`,t+="("+Ju(B)+`) Tj
`,t+=-mr(f)+` 0 Td
`,g=-(i+2),p=0,j=R?x:x+1,C++,S=""}break}return n.text=t,n.fontSize=i,n},Jm=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Wee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hee=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Gee=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),en(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},Kee=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Zi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Wee)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ON=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new LL,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)})),e.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Hee(i,r)}})(e)})),e.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)})),e.internal.events.subscribe("postPutPages",(function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var c=n[s],d=[],f=c.Rect;if(c.Rect&&(c.Rect=Uee(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Vt.createDefaultAppearanceStream(c),en(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=f,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=Vee(c);d.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var h="";for(var y in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(y)){var g=c.appearanceStreamContent[y];if(h+="/"+y+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var j=g[s];typeof j=="function"&&(j=j.call(a,c)),h+="/"+s+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=g)=="function"&&(j=j.call(a,c)),h+="/"+s+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);h+=">>"}d.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:c.objId}),a.internal.out("endobj")}i&&Gee(a.internal.acroformPlugin.xForms,a)})(r,e)})),e.internal.acroformPlugin.isInitialized=!0}},kL=Ln.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),en(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Ju(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},x2=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Ju(n(e))+")"},js=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};js.prototype.toString=function(){return this.objId+" 0 R"},js.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},js.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:kL(a,this.objId,this.scope)}):a instanceof js?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var IL=function(){js.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};So(IL,js);var LL=function(){js.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ju(r(e))+")"}},set:function(r){e=r}})};So(LL,js);var Zi=function e(){js.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zn(t,3)},set:function(S){S?this.F=Bn(t,3):this.F=qn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof d0)return;i="FieldObject"+e.FieldNum++}var S=function(C){return C};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Ju(S(i))+")"},set:function(S){i=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(S){i=S}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(S){s=S}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/ON:f},set:function(S){f=S}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(S){p=S}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof d0||this instanceof Lu))return x2(h,this.objId,this.scope)},set:function(S){S=S.toString(),h=S}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ha?y:x2(y,this.objId,this.scope)},set:function(S){S=S.toString(),y=this instanceof ha?S:S.substr(0,1)==="("?Rd(S.substr(1,S.length-2)):Rd(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha?Rd(y.substr(1,y.length-1)):y},set:function(S){S=S.toString(),y=this instanceof ha?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ha?g:x2(g,this.objId,this.scope)},set:function(S){S=S.toString(),g=this instanceof ha?S:S.substr(0,1)==="("?Rd(S.substr(1,S.length-2)):Rd(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha?Rd(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof ha?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(S){S=!!S,x=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(S){j=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,1)},set:function(S){S?this.Ff=Bn(this.Ff,1):this.Ff=qn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,2)},set:function(S){S?this.Ff=Bn(this.Ff,2):this.Ff=qn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,3)},set:function(S){S?this.Ff=Bn(this.Ff,3):this.Ff=qn(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');w=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(w){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};So(Zi,js);var ef=function(){Zi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return kL(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,c){c||(c=1);for(var d,f=[];d=s.exec(i);)f.push(d[c]);return f})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,18)},set:function(r){r?this.Ff=Bn(this.Ff,18):this.Ff=qn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bn(this.Ff,19):this.Ff=qn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,20)},set:function(r){r?(this.Ff=Bn(this.Ff,20),t.sort()):this.Ff=qn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,22)},set:function(r){r?this.Ff=Bn(this.Ff,22):this.Ff=qn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,23)},set:function(r){r?this.Ff=Bn(this.Ff,23):this.Ff=qn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,27)},set:function(r){r?this.Ff=Bn(this.Ff,27):this.Ff=qn(this.Ff,27)}}),this.hasAppearanceStream=!1};So(ef,Zi);var tf=function(){ef.call(this),this.fontName="helvetica",this.combo=!1};So(tf,ef);var rf=function(){tf.call(this),this.combo=!0};So(rf,tf);var ig=function(){rf.call(this),this.edit=!0};So(ig,rf);var ha=function(){Zi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,15)},set:function(r){r?this.Ff=Bn(this.Ff,15):this.Ff=qn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,16)},set:function(r){r?this.Ff=Bn(this.Ff,16):this.Ff=qn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,17)},set:function(r){r?this.Ff=Bn(this.Ff,17):this.Ff=qn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,26)},set:function(r){r?this.Ff=Bn(this.Ff,26):this.Ff=qn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Ju(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){en(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};So(ha,Zi);var sg=function(){ha.call(this),this.pushButton=!0};So(sg,ha);var nf=function(){ha.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};So(nf,ha);var d0=function(){var e,t;Zi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Ju(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){en(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};So(d0,Zi),nf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},nf.prototype.createOption=function(e){var t=new d0;return t.Parent=this,t.optionName=e,this.Kids.push(t),Jee.call(this.scope,t),t};var lg=function(){ha.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Vt.CheckBox.createAppearanceStream()};So(lg,ha);var Lu=function(){Zi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,13)},set:function(t){t?this.Ff=Bn(this.Ff,13):this.Ff=qn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,21)},set:function(t){t?this.Ff=Bn(this.Ff,21):this.Ff=qn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,23)},set:function(t){t?this.Ff=Bn(this.Ff,23):this.Ff=qn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,24)},set:function(t){t?this.Ff=Bn(this.Ff,24):this.Ff=qn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,25)},set:function(t){t?this.Ff=Bn(this.Ff,25):this.Ff=qn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,26)},set:function(t){t?this.Ff=Bn(this.Ff,26):this.Ff=qn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};So(Lu,Zi);var cg=function(){Lu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zn(this.Ff,14)},set:function(e){e?this.Ff=Bn(this.Ff,14):this.Ff=qn(this.Ff,14)}}),this.password=!0};So(cg,Lu);var Vt={CheckBox:{createAppearanceStream:function(){return{N:{On:Vt.CheckBox.YesNormal},D:{On:Vt.CheckBox.YesPushDown,Off:Vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=bs(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=c5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+mr(Vt.internal.getWidth(e))+" "+mr(Vt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+mr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=bs(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Vt.internal.getHeight(e),s=Vt.internal.getWidth(e),c=c5(e,e.caption);return a.push("1 g"),a.push("0 0 "+mr(s)+" "+mr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+mr(s-1)+" "+mr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+mr(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=bs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(Vt.internal.getWidth(e))+" "+mr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Circle.YesNormal,t.D[e]=Vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=bs(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Vt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+bc(Vt.internal.getWidth(e)/2)+" "+bc(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bs(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Vt.internal.Bezier_C).toFixed(5)),s=Number((n*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bc(Vt.internal.getWidth(e)/2)+" "+bc(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+bc(Vt.internal.getWidth(e)/2)+" "+bc(Vt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=bs(e);t.scope=e.scope;var r=[],n=Vt.internal.getWidth(e)<=Vt.internal.getHeight(e)?Vt.internal.getWidth(e)/4:Vt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Vt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+bc(Vt.internal.getWidth(e)/2)+" "+bc(Vt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Vt.RadioButton.Cross.YesNormal,t.D[e]=Vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=bs(e);t.scope=e.scope;var r=[],n=Vt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+mr(Vt.internal.getWidth(e)-2)+" "+mr(Vt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(mr(n.x1.x)+" "+mr(n.x1.y)+" m"),r.push(mr(n.x2.x)+" "+mr(n.x2.y)+" l"),r.push(mr(n.x4.x)+" "+mr(n.x4.y)+" m"),r.push(mr(n.x3.x)+" "+mr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=bs(e);t.scope=e.scope;var r=Vt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+mr(Vt.internal.getWidth(e))+" "+mr(Vt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+mr(Vt.internal.getWidth(e)-2)+" "+mr(Vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(mr(r.x1.x)+" "+mr(r.x1.y)+" m"),n.push(mr(r.x2.x)+" "+mr(r.x2.y)+" l"),n.push(mr(r.x4.x)+" "+mr(r.x4.y)+" m"),n.push(mr(r.x3.x)+" "+mr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=bs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(Vt.internal.getWidth(e))+" "+mr(Vt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Vt.internal.getWidth(e),r=Vt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Vt.internal.getWidth=function(e){var t=0;return en(e)==="object"&&(t=D6(e.Rect[2])),t},Vt.internal.getHeight=function(e){var t=0;return en(e)==="object"&&(t=D6(e.Rect[3])),t};var Jee=Ln.addField=function(e){if(Kee(this,e),!(e instanceof Zi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ln.AcroFormChoiceField=ef,Ln.AcroFormListBox=tf,Ln.AcroFormComboBox=rf,Ln.AcroFormEditBox=ig,Ln.AcroFormButton=ha,Ln.AcroFormPushButton=sg,Ln.AcroFormRadioButton=nf,Ln.AcroFormCheckBox=lg,Ln.AcroFormTextField=Lu,Ln.AcroFormPasswordField=cg,Ln.AcroFormAppearance=Vt,Ln.AcroForm={ChoiceField:ef,ListBox:tf,ComboBox:rf,EditBox:ig,Button:ha,PushButton:sg,RadioButton:nf,CheckBox:lg,TextField:Lu,PasswordField:cg,Appearance:Vt},ir.AcroForm={ChoiceField:ef,ListBox:tf,ComboBox:rf,EditBox:ig,Button:ha,PushButton:sg,RadioButton:nf,CheckBox:lg,TextField:Lu,PasswordField:cg,Appearance:Vt};ir.AcroForm;function TL(e){return e.reduce((function(t,r,n){return t[r]=n,t}),{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,$){var D,I,z,W,ee,G=t;if(($=$||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(q(E))for(ee in r)for(z=r[ee],D=0;D<z.length;D+=1){for(W=!0,I=0;I<z[D].length;I+=1)if(z[D][I]!==void 0&&z[D][I]!==E[I]){W=!1;break}if(W===!0){G=ee;break}}else for(ee in r)for(z=r[ee],D=0;D<z.length;D+=1){for(W=!0,I=0;I<z[D].length;I+=1)if(z[D][I]!==void 0&&z[D][I]!==E.charCodeAt(I)){W=!1;break}if(W===!0){G=ee;break}}return G===t&&$!==t&&(G=$),G},a=function E($){for(var D=this.internal.write,I=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);$.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:$.width}),W.push({key:"Height",value:$.height}),$.colorSpace===w.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+($.palette.length/3-1)+" "+("sMask"in $&&$.sMask!==void 0?$.objectId+2:$.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+$.colorSpace}),$.colorSpace===w.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:$.bitsPerComponent}),"decodeParameters"in $&&$.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+$.decodeParameters+">>"}),"transparency"in $&&Array.isArray($.transparency)){for(var ee="",G=0,ie=$.transparency.length;G<ie;G++)ee+=$.transparency[G]+" "+$.transparency[G]+" ";W.push({key:"Mask",value:"["+ee+"]"})}$.sMask!==void 0&&W.push({key:"SMask",value:$.objectId+1+" 0 R"});var te=$.filter!==void 0?["/"+$.filter]:void 0;if(I({data:$.data,additionalKeyValues:W,alreadyAppliedFilters:te,objectId:$.objectId}),D("endobj"),"sMask"in $&&$.sMask!==void 0){var re="/Predictor "+$.predictor+" /Colors 1 /BitsPerComponent "+$.bitsPerComponent+" /Columns "+$.width,T={width:$.width,height:$.height,colorSpace:"DeviceGray",bitsPerComponent:$.bitsPerComponent,decodeParameters:re,data:$.sMask};"filter"in $&&(T.filter=$.filter),E.call(this,T)}if($.colorSpace===w.INDEXED){var J=this.internal.newObject();I({data:B(new Uint8Array($.palette)),objectId:J}),D("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var $ in E)a.call(this,E[$])},s=function(){var E,$=this.internal.collections.addImage_images,D=this.internal.write;for(var I in $)D("/I"+(E=$[I]).index,E.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},d=function(){var E=this.internal.collections.addImage_images;return c.call(this),E},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(E){return typeof e["process"+E.toUpperCase()]=="function"},h=function(E){return en(E)==="object"&&E.nodeType===1},y=function(E,$){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return zh(unescape(D).split("base64,").pop());var I=e.loadFile(D,!0);if(I!==void 0)return I}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var z;switch($){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return zh(E.toDataURL(z,1).split("base64,").pop())}},g=function(E){var $=this.internal.collections.addImage_images;if($){for(var D in $)if(E===$[D].alias)return $[D]}},j=function(E,$,D){return E||$||(E=-96,$=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),$<0&&($=-1*D.height*72/$/this.internal.scaleFactor),E===0&&(E=$*D.width/D.height),$===0&&($=E*D.height/D.width),[E,$]},x=function(E,$,D,I,z,W){var ee=j.call(this,D,I,z),G=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,te=d.call(this);if(D=ee[0],I=ee[1],te[z.index]=z,W){W*=Math.PI/180;var re=Math.cos(W),T=Math.sin(W),J=function(H){return H.toFixed(4)},Y=[J(re),J(T),J(-1*T),J(re),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,G(E),ie($+I),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([G(D),"0","0",G(I),"0","0","cm"].join(" "))):this.internal.write([G(D),"0","0",G(I),G(E),ie($+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(E){var $,D,I=0;if(typeof E=="string")for(D=E.length,$=0;$<D;$++)I=(I<<5)-I+E.charCodeAt($),I|=0;else if(q(E))for(D=E.byteLength/2,$=0;$<D;$++)I=(I<<5)-I+E[$],I|=0;return I},P=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var $=!0;return E.length===0&&($=!1),E.length%4!=0&&($=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&($=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&($=!1),$},R=e.__addimage__.extractImageFromDataUrl=function(E){var $=(E=E||"").split("base64,"),D=null;if($.length===2){var I=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec($[0]);Array.isArray(I)&&(D={mimeType:I[1],charset:I[2],data:$[1]})}return D},L=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return L()&&E instanceof ArrayBuffer};var q=e.__addimage__.isArrayBufferView=function(E){return L()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(E){for(var $=E.length,D=new Uint8Array($),I=0;I<$;I++)D[I]=E.charCodeAt(I);return D},B=e.__addimage__.arrayBufferToBinaryString=function(E){for(var $="",D=q(E)?E:new Uint8Array(E),I=0;I<D.length;I+=8192)$+=String.fromCharCode.apply(null,D.subarray(I,I+8192));return $};e.addImage=function(){var E,$,D,I,z,W,ee,G,ie;if(typeof arguments[1]=="number"?($=t,D=arguments[1],I=arguments[2],z=arguments[3],W=arguments[4],ee=arguments[5],G=arguments[6],ie=arguments[7]):($=arguments[1],D=arguments[2],I=arguments[3],z=arguments[4],W=arguments[5],ee=arguments[6],G=arguments[7],ie=arguments[8]),en(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var te=E;E=te.imageData,$=te.format||$||t,D=te.x||D||0,I=te.y||I||0,z=te.w||te.width||z,W=te.h||te.height||W,ee=te.alias||ee,G=te.compression||G,ie=te.rotation||te.angle||ie}var re=this.internal.getFilters();if(G===void 0&&re.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(D)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var T=V.call(this,E,$,ee,G);return x.call(this,D,I,z,W,T,ie),this};var V=function(E,$,D,I){var z,W,ee;if(typeof E=="string"&&n(E)===t){E=unescape(E);var G=K(E,!1);(G!==""||(G=e.loadFile(E,!0))!==void 0)&&(E=G)}if(h(E)&&(E=y(E,$)),$=n(E,$),!p($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(((ee=D)==null||ee.length===0)&&(D=(function(ie){return typeof ie=="string"||q(ie)?C(ie):q(ie.data)?C(ie.data):null})(E)),(z=g.call(this,D))||(L()&&(E instanceof Uint8Array||$==="RGBA"||(W=E,E=_(E))),z=this["process"+$.toUpperCase()](E,f.call(this),D,(function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:S.NONE})(I),W)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},K=e.__addimage__.convertBase64ToBinaryString=function(E,$){var D;$=typeof $!="boolean"||$;var I,z="";if(typeof E=="string"){I=(D=R(E))!==null?D.data:E;try{z=zh(I)}catch(W){if($)throw P(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(E){var $,D,I="";if(h(E)&&(E=y(E)),typeof E=="string"&&n(E)===t&&((I=K(E,!1))===""&&(I=e.loadFile(E)||""),E=I),D=n(E),!p(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!L()||E instanceof Uint8Array||(E=_(E)),!($=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return $.fileType=D,$}})(ir.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ir.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,p=!1,h=0;h<f.length&&!p;h++)switch((n=f[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var g=this.internal.pdfEscape,j=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(x.objId),C=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+g(S(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+g(S(C))+") >>",x.content=i;var P=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(x.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+c(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(j(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var L=this.annotations._nameMap[n.options.name];n.options.pageNumber=L.page,n.options.top=L.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(j(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var q=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+q+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:f(n),w:d(r+a),h:f(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,c,d=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var p=this.splitTextToSize(r,c).length;s=Math.ceil(f*p)}else c=d,s=f;return this.text(r,n,a,i),a+=.2*f,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-f,c,s,i),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(ir.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},c=e.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&i(x)&&t[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var w=0,S=r,C="",P=0;for(w=0;w<x.length;w+=1)S[x.charCodeAt(w)]!==void 0?(P++,typeof(S=S[x.charCodeAt(w)])=="number"&&(C+=String.fromCharCode(S),S=r,P=0),w===x.length-1&&(S=r,C+=x.charAt(w-(P-1)),w-=P-1,P=0)):(S=r,C+=x.charAt(w-P),w-=P,P=0);return C};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(x,w,S){return s(x)?i(x)===!1?-1:!f(x)||!s(w)&&!s(S)||!s(S)&&c(w)||c(x)&&!s(w)||c(x)&&d(w)||c(x)&&c(w)?0:p(x)&&s(w)&&!c(w)&&s(S)&&f(S)?3:c(x)||!s(S)?1:2:-1},g=function(x){var w=0,S=0,C=0,P="",R="",L="",q=(x=x||"").split("\\s+"),_=[];for(w=0;w<q.length;w+=1){for(_.push(""),S=0;S<q[w].length;S+=1)P=q[w][S],R=q[w][S-1],L=q[w][S+1],s(P)?(C=y(P,R,L),_[w]+=C!==-1?String.fromCharCode(t[P.charCodeAt(0)][C]):P):_[w]+=P;_[w]=h(_[w])}return _.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var x,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(w)){var C=0;for(S=[],C=0;C<w.length;C+=1)Array.isArray(w[C])?S.push([g(w[C][0]),w[C][1],w[C][2]]):S.push([g(w[C])]);x=S}else x=g(w);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",j])})(ir.API),ir.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(c){s=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(ir.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(x){y=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(x){j=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,f){n.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),h=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,g=0,j=0,x=0,w=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var S=f.maxWidth;S>0?typeof d=="string"?d=this.splitTextToSize(d,S):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce((function(P,R){return P.concat(w.splitTextToSize(R,S))}),[])):d=Array.isArray(d)?d:[d];for(var C=0;C<d.length;C++)g<(x=this.getStringUnitWidth(d[C],{font:h})*p)&&(g=x);return g!==0&&(j=d.length),{w:g/=y,h:Math.max((j*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=h.top,g&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};e.table=function(d,f,p,h,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var g,j,x,w,S=[],C=[],P=[],R={},L={},q=[],_=[],B=(y=y||{}).autoSize||!1,V=y.printHeaders!==!1,K=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,E=y.margins||Object.assign({width:this.getPageWidth()},t),$=typeof y.padding=="number"?y.padding:3,D=y.headerBackgroundColor||"#c8c8c8",I=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=$,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=I,this.setFontSize(K),h==null)C=S=Object.keys(p[0]),P=S.map((function(){return"left"}));else if(Array.isArray(h)&&en(h[0])==="object")for(S=h.map((function(te){return te.name})),C=h.map((function(te){return te.prompt||te.name||""})),P=h.map((function(te){return te.align||"left"})),g=0;g<h.length;g+=1)L[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(C=S=h,P=S.map((function(){return"left"})));if(B||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<S.length;g+=1){for(R[w=S[g]]=p.map((function(te){return te[w]})),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=R[w],this.setFont(void 0,"normal"),x=0;x<j.length;x+=1)q.push(this.getTextDimensions(j[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[w]=Math.max.apply(null,q)+$+$,q=[]}if(V){var z={};for(g=0;g<S.length;g+=1)z[S[g]]={},z[S[g]].text=C[g],z[S[g]].align=P[g];var W=c.call(this,z,L);_=S.map((function(te){return new i(d,f,L[te],W,z[te].text,void 0,z[te].align)})),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var ee=h.reduce((function(te,re){return te[re.name]=re.align,te}),{});for(g=0;g<p.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:p[g]},this);var G=c.call(this,p[g],L);for(x=0;x<S.length;x+=1){var ie=p[g][S[x]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:x,data:ie},this),s.call(this,new i(d,f,L[S[x]],G,ie,g+2,ee[S[x]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var c=function(d,f){var p=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map((function(g){var j=d[g];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,f[g]-p-p)}),this).map((function(g){return this.getLineHeightFactor()*g.length*h/y+p+p}),this).reduce((function(g,j){return Math.max(g,j)}),0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=d;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(j)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}})(ir.API);var DL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ML=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],u5=TL(ML),RL=[100,200,300,400,500,600,700,800,900],Yee=TL(RL);function d5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return DL[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(e.weight),a=(function(i){return typeof u5[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function M6(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Xee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},R6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $6(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Zee(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Xee,r.genericFontFamilies||{}),i=null,s=null,c=0;c<t.length;++c)if(a[(i=d5(t[c])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+$6(i)+"' and default family '"+n+"'.");if(s=(function(d,f){if(f[d])return f[d];var p=u5[d],h=p<=u5.normal?-1:1,y=M6(f,ML,p,h);if(!y)throw new Error("Could not find a matching font-stretch value for "+d);return y})(i.stretch,s),s=(function(d,f){if(f[d])return f[d];for(var p=DL[d],h=0;h<p.length;++h)if(f[p[h]])return f[p[h]];throw new Error("Could not find a matching font-style for "+d)})(i.style,s),!(s=(function(d,f){if(f[d])return f[d];if(d===400&&f[500])return f[500];if(d===500&&f[400])return f[400];var p=Yee[d],h=M6(f,RL,p,d<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+d);return h})(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+$6(i)+"'.");return s}function F6(e){return e.trimLeft()}function Qee(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ete(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ym,z6,B6,b2=["times"];(function(e){var t,r,n,a,i,s,c,d,f,p=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new d,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,f=new p}]);var h=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=T;Object.defineProperty(this,"pdf",{get:function(){return J}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Ne){Y=!!Ne}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(Ne){H=!!Ne}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(Ne){isNaN(Ne)||(me=Ne)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Ne){isNaN(Ne)||(pe=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ne){var se;typeof Ne=="number"?se=[Ne,Ne,Ne,Ne]:((se=new Array(4))[0]=Ne[0],se[1]=Ne.length>=2?Ne[1]:se[0],se[2]=Ne.length>=3?Ne[2]:se[0],se[3]=Ne.length>=4?Ne[3]:se[1]),f.margin=se}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(Ne){be=Ne}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Ne){ge=Ne}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Ne){Te=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ne){Ne instanceof p&&(f=Ne)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ne){f.path=Ne}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Ne){ze=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var se;se=y(Ne),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var se=y(Ne);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var ue=null;function Fe(Ne,se){if(ue===null){var ct=(function(Q){var Ce=[];return Object.keys(Q).forEach((function(he){Q[he].forEach((function(je){var _e=null;switch(je){case"bold":_e={family:he,weight:"bold"};break;case"italic":_e={family:he,style:"italic"};break;case"bolditalic":_e={family:he,weight:"bold",style:"italic"};break;case"":case"normal":_e={family:he}}_e!==null&&(_e.ref={name:he,style:je},Ce.push(_e))}))})),Ce})(Ne.getFontList());ue=(function(Q){for(var Ce={},he=0;he<Q.length;++he){var je=d5(Q[he]),_e=je.family,we=je.stretch,le=je.style,$e=je.weight;Ce[_e]=Ce[_e]||{},Ce[_e][we]=Ce[_e][we]||{},Ce[_e][we][le]=Ce[_e][we][le]||{},Ce[_e][we][le][$e]=je}return Ce})(ct.concat(se))}return ue}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Ne){ue=null,De=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var se;if(this.ctx.font=Ne,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var ct=se[1],Q=(se[2],se[3]),Ce=se[4],he=(se[5],se[6]),je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(je==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var _e=(function(Nt){var At,pt,Or=[],Yt=Nt.trim();if(Yt==="")return b2;if(Yt in R6)return[R6[Yt]];for(;Yt!=="";){switch(pt=null,At=(Yt=F6(Yt)).charAt(0)){case'"':case"'":pt=Qee(Yt.substring(1),At);break;default:pt=ete(Yt)}if(pt===null||(Or.push(pt[0]),(Yt=F6(pt[1]))!==""&&Yt.charAt(0)!==","))return b2;Yt=Yt.replace(/^,/,"")}return Or})(he);if(this.fontFaces){var we=Zee(Fe(this.pdf,this.fontFaces),_e.map((function(Nt){return{family:Nt,stretch:"normal",weight:Q,style:ct}})));this.pdf.setFont(we.ref.name,we.ref.style)}else{var le="";(Q==="bold"||parseInt(Q,10)>=700||ct==="bold")&&(le="bold"),ct==="italic"&&(le+="italic"),le.length===0&&(le="normal");for(var $e="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<_e.length;lt++){if(this.pdf.internal.getFont(_e[lt],le,{noFallback:!0,disableWarning:!0})!==void 0){$e=_e[lt];break}if(le==="bolditalic"&&this.pdf.internal.getFont(_e[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$e=_e[lt],le="bold";else if(this.pdf.internal.getFont(_e[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$e=_e[lt],le="normal";break}}if($e===""){for(var Ct=0;Ct<_e.length;Ct++)if(at[_e[Ct]]){$e=at[_e[Ct]];break}}$e=$e===""?"Times":$e,this.pdf.setFont($e,le)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};h.prototype.setLineDash=function(T){this.lineDash=T},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){R.call(this,"fill",!1)},h.prototype.stroke=function(){R.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(T,J){if(isNaN(T)||isNaN(J))throw on.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new s(T,J));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(T,J)},h.prototype.closePath=function(){var T=new s(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&en(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){T=new s(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},h.prototype.lineTo=function(T,J){if(isNaN(T)||isNaN(J))throw on.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new s(T,J));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},h.prototype.quadraticCurveTo=function(T,J,Y,H){if(isNaN(Y)||isNaN(H)||isNaN(T)||isNaN(J))throw on.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new s(Y,H)),pe=this.ctx.transform.applyToPoint(new s(T,J));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},h.prototype.bezierCurveTo=function(T,J,Y,H,me,pe){if(isNaN(me)||isNaN(pe)||isNaN(T)||isNaN(J)||isNaN(Y)||isNaN(H))throw on.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new s(me,pe)),ge=this.ctx.transform.applyToPoint(new s(T,J)),Te=this.ctx.transform.applyToPoint(new s(Y,H));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Te.x,y2:Te.y,x:be.x,y:be.y}),this.ctx.lastPoint=new s(be.x,be.y)},h.prototype.arc=function(T,J,Y,H,me,pe){if(isNaN(T)||isNaN(J)||isNaN(Y)||isNaN(H)||isNaN(me))throw on.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new s(T,J));T=be.x,J=be.y;var ge=this.ctx.transform.applyToPoint(new s(0,Y)),Te=this.ctx.transform.applyToPoint(new s(0,0));Y=Math.sqrt(Math.pow(ge.x-Te.x,2)+Math.pow(ge.y-Te.y,2))}Math.abs(me-H)>=2*Math.PI&&(H=0,me=2*Math.PI),this.path.push({type:"arc",x:T,y:J,radius:Y,startAngle:H,endAngle:me,counterclockwise:pe})},h.prototype.arcTo=function(T,J,Y,H,me){throw new Error("arcTo not implemented.")},h.prototype.rect=function(T,J,Y,H){if(isNaN(T)||isNaN(J)||isNaN(Y)||isNaN(H))throw on.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,J),this.lineTo(T+Y,J),this.lineTo(T+Y,J+H),this.lineTo(T,J+H),this.lineTo(T,J),this.lineTo(T+Y,J),this.lineTo(T,J)},h.prototype.fillRect=function(T,J,Y,H){if(isNaN(T)||isNaN(J)||isNaN(Y)||isNaN(H))throw on.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,J,Y,H),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},h.prototype.strokeRect=function(T,J,Y,H){if(isNaN(T)||isNaN(J)||isNaN(Y)||isNaN(H))throw on.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(T,J,Y,H),this.stroke())},h.prototype.clearRect=function(T,J,Y,H){if(isNaN(T)||isNaN(J)||isNaN(Y)||isNaN(H))throw on.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,J,Y,H))},h.prototype.save=function(T){T=typeof T!="boolean"||T;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},h.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(J),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(T){var J,Y,H,me;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))J=0,Y=0,H=0,me=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(pe!==null)J=parseInt(pe[1]),Y=parseInt(pe[2]),H=parseInt(pe[3]),me=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)J=parseInt(pe[1]),Y=parseInt(pe[2]),H=parseInt(pe[3]),me=parseFloat(pe[4]);else{if(me=1,typeof T=="string"&&T.charAt(0)!=="#"){var be=new _L(T);T=be.ok?be.toHex():"#000000"}T.length===4?(J=T.substring(1,2),J+=J,Y=T.substring(2,3),Y+=Y,H=T.substring(3,4),H+=H):(J=T.substring(1,3),Y=T.substring(3,5),H=T.substring(5,7)),J=parseInt(J,16),Y=parseInt(Y,16),H=parseInt(H,16)}}return{r:J,g:Y,b:H,a:me,style:T}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(T,J,Y,H){if(isNaN(J)||isNaN(Y)||typeof T!="string")throw on.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!g.call(this)){var me=G(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;$.call(this,{text:T,x:J,y:Y,scale:pe,angle:me,align:this.textAlign,maxWidth:H})}},h.prototype.strokeText=function(T,J,Y,H){if(isNaN(J)||isNaN(Y)||typeof T!="string")throw on.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){H=isNaN(H)?void 0:H;var me=G(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;$.call(this,{text:T,x:J,y:Y,scale:pe,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:H})}},h.prototype.measureText=function(T){if(typeof T!="string")throw on.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,Y=this.pdf.internal.scaleFactor,H=J.internal.getFontSize(),me=J.getStringUnitWidth(T)*H/J.internal.scaleFactor,pe=function(be){var ge=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new pe({width:me*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function(T,J){if(isNaN(T)||isNaN(J))throw on.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new d(T,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function(T){if(isNaN(T))throw on.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new d(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.translate=function(T,J){if(isNaN(T)||isNaN(J))throw on.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new d(1,0,0,1,T,J);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function(T,J,Y,H,me,pe){if(isNaN(T)||isNaN(J)||isNaN(Y)||isNaN(H)||isNaN(me)||isNaN(pe))throw on.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new d(T,J,Y,H,me,pe);this.ctx.transform=this.ctx.transform.multiply(be)},h.prototype.setTransform=function(T,J,Y,H,me,pe){T=isNaN(T)?1:T,J=isNaN(J)?0:J,Y=isNaN(Y)?0:Y,H=isNaN(H)?1:H,me=isNaN(me)?0:me,pe=isNaN(pe)?0:pe,this.ctx.transform=new d(T,J,Y,H,me,pe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(T,J,Y,H,me,pe,be,ge,Te){var ze=this.pdf.getImageProperties(T),ue=1,Fe=1,De=1,Ne=1;H!==void 0&&ge!==void 0&&(De=ge/H,Ne=Te/me,ue=ze.width/H*ge/H,Fe=ze.height/me*Te/me),pe===void 0&&(pe=J,be=Y,J=0,Y=0),H!==void 0&&ge===void 0&&(ge=H,Te=me),H===void 0&&ge===void 0&&(ge=ze.width,Te=ze.height);for(var se,ct=this.ctx.transform.decompose(),Q=G(ct.rotate.shx),Ce=new d,he=(Ce=(Ce=(Ce=Ce.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new c(pe-J*De,be-Y*Ne,H*ue,me*Fe)),je=w.call(this,he),_e=[],we=0;we<je.length;we+=1)_e.indexOf(je[we])===-1&&_e.push(je[we]);if(P(_e),this.autoPaging)for(var le=_e[0],$e=_e[_e.length-1],at=le;at<$e+1;at++){this.pdf.setPage(at);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=at===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=at===1?0:Nt+(at-2)*At;if(this.ctx.clip_path.length!==0){var Or=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(se,this.posX+this.margin[3],-pt+Ct+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Or}var Yt=JSON.parse(JSON.stringify(he));Yt=C([Yt],this.posX+this.margin[3],-pt+Ct+this.ctx.prevPageLastElemOffset)[0];var Lr=(at>le||at<$e)&&x.call(this);Lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,At,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Q),Lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",he.x,he.y,he.w,he.h,null,null,Q)};var w=function(T,J,Y){var H=[];J=J||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":H.push(Math.floor((T.y+me)/Y)+1);break;case"arc":H.push(Math.floor((T.y+me-T.radius)/Y)+1),H.push(Math.floor((T.y+me+T.radius)/Y)+1);break;case"qct":var pe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);H.push(Math.floor((pe.y+me)/Y)+1),H.push(Math.floor((pe.y+pe.h+me)/Y)+1);break;case"bct":var be=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);H.push(Math.floor((be.y+me)/Y)+1),H.push(Math.floor((be.y+be.h+me)/Y)+1);break;case"rect":H.push(Math.floor((T.y+me)/Y)+1),H.push(Math.floor((T.y+T.h+me)/Y)+1)}for(var ge=0;ge<H.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<H[ge];)S.call(this);return H},S=function(){var T=this.fillStyle,J=this.strokeStyle,Y=this.font,H=this.lineCap,me=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=J,this.font=Y,this.lineCap=H,this.lineWidth=me,this.lineJoin=pe},C=function(T,J,Y){for(var H=0;H<T.length;H++)switch(T[H].type){case"bct":T[H].x2+=J,T[H].y2+=Y;case"qct":T[H].x1+=J,T[H].y1+=Y;case"mt":case"lt":case"arc":default:T[H].x+=J,T[H].y+=Y}return T},P=function(T){return T.sort((function(J,Y){return J-Y}))},R=function(T,J){for(var Y,H,me=this.fillStyle,pe=this.strokeStyle,be=this.lineCap,ge=this.lineWidth,Te=Math.abs(ge*this.ctx.transform.scaleX),ze=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),De=[],Ne=0;Ne<Fe.length;Ne++)if(Fe[Ne].x!==void 0)for(var se=w.call(this,Fe[Ne]),ct=0;ct<se.length;ct+=1)De.indexOf(se[ct])===-1&&De.push(se[ct]);for(var Q=0;Q<De.length;Q++)for(;this.pdf.internal.getNumberOfPages()<De[Q];)S.call(this);if(P(De),this.autoPaging)for(var Ce=De[0],he=De[De.length-1],je=Ce;je<he+1;je++){this.pdf.setPage(je),this.fillStyle=me,this.strokeStyle=pe,this.lineCap=be,this.lineWidth=Te,this.lineJoin=ze;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=je===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=je===1?0:le+(je-2)*$e;if(this.ctx.clip_path.length!==0){var lt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Y,this.posX+this.margin[3],-at+we+this.ctx.prevPageLastElemOffset),L.call(this,T,!0),this.path=lt}if(H=JSON.parse(JSON.stringify(ue)),this.path=C(H,this.posX+this.margin[3],-at+we+this.ctx.prevPageLastElemOffset),J===!1||je===0){var Ct=(je>Ce||je<he)&&x.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,$e,null).clip().discardPath()),L.call(this,T,J),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Te,L.call(this,T,J),this.lineWidth=ge;this.path=ue},L=function(T,J){if((T!=="stroke"||J||!j.call(this))&&(T==="stroke"||J||!g.call(this))){for(var Y,H,me=[],pe=this.path,be=0;be<pe.length;be++){var ge=pe[be];switch(ge.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:ge,deltas:[],abs:[]});break;case"lt":var Te=me.length;if(pe[be-1]&&!isNaN(pe[be-1].x)&&(Y=[ge.x-pe[be-1].x,ge.y-pe[be-1].y],Te>0)){for(;Te>=0;Te--)if(me[Te-1].close!==!0&&me[Te-1].begin!==!0){me[Te-1].deltas.push(Y),me[Te-1].abs.push(ge);break}}break;case"bct":Y=[ge.x1-pe[be-1].x,ge.y1-pe[be-1].y,ge.x2-pe[be-1].x,ge.y2-pe[be-1].y,ge.x-pe[be-1].x,ge.y-pe[be-1].y],me[me.length-1].deltas.push(Y);break;case"qct":var ze=pe[be-1].x+2/3*(ge.x1-pe[be-1].x),ue=pe[be-1].y+2/3*(ge.y1-pe[be-1].y),Fe=ge.x+2/3*(ge.x1-ge.x),De=ge.y+2/3*(ge.y1-ge.y),Ne=ge.x,se=ge.y;Y=[ze-pe[be-1].x,ue-pe[be-1].y,Fe-pe[be-1].x,De-pe[be-1].y,Ne-pe[be-1].x,se-pe[be-1].y],me[me.length-1].deltas.push(Y);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(ge)}}H=J?null:T==="stroke"?"stroke":"fill";for(var ct=!1,Q=0;Q<me.length;Q++)if(me[Q].arc)for(var Ce=me[Q].abs,he=0;he<Ce.length;he++){var je=Ce[he];je.type==="arc"?B.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,J,!ct):D.call(this,je.x,je.y),ct=!0}else if(me[Q].close===!0)this.pdf.internal.out("h"),ct=!1;else if(me[Q].begin!==!0){var _e=me[Q].start.x,we=me[Q].start.y;I.call(this,me[Q].deltas,_e,we),ct=!0}H&&V.call(this,H),J&&K.call(this)}},q=function(T){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-Y;case"top":return T+J-Y;case"hanging":return T+J-2*Y;case"middle":return T+J/2-Y;case"ideographic":return T;case"alphabetic":default:return T}},_=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(J,Y){this.colorStops.push([J,Y])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(T,J,Y,H,me,pe,be,ge,Te){for(var ze=W.call(this,Y,H,me,pe),ue=0;ue<ze.length;ue++){var Fe=ze[ue];ue===0&&(Te?E.call(this,Fe.x1+T,Fe.y1+J):D.call(this,Fe.x1+T,Fe.y1+J)),z.call(this,T,J,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ge?K.call(this):V.call(this,be)},V=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(T,J){this.pdf.internal.out(r(T)+" "+n(J)+" m")},$=function(T){var J;switch(T.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var Y=this.pdf.getTextDimensions(T.text),H=q.call(this,T.y),me=_.call(this,H)-Y.h,pe=this.ctx.transform.applyToPoint(new s(T.x,H)),be=this.ctx.transform.decompose(),ge=new d;ge=(ge=(ge=ge.multiply(be.translate)).multiply(be.skew)).multiply(be.scale);for(var Te,ze,ue,Fe=this.ctx.transform.applyToRectangle(new c(T.x,H,Y.w,Y.h)),De=ge.applyToRectangle(new c(T.x,me,Y.w,Y.h)),Ne=w.call(this,De),se=[],ct=0;ct<Ne.length;ct+=1)se.indexOf(Ne[ct])===-1&&se.push(Ne[ct]);if(P(se),this.autoPaging)for(var Q=se[0],Ce=se[se.length-1],he=Q;he<Ce+1;he++){this.pdf.setPage(he);var je=he===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[2],le=we-this.margin[0],$e=this.pdf.internal.pageSize.width-this.margin[1],at=$e-this.margin[3],lt=he===1?0:_e+(he-2)*le;if(this.ctx.clip_path.length!==0){var Ct=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Te,this.posX+this.margin[3],-1*lt+je),L.call(this,"fill",!0),this.path=Ct}var Nt=C([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-lt+je+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*T.scale),ue=this.lineWidth,this.lineWidth=ue*T.scale);var At=this.autoPaging!=="text";if(At||Nt.y+Nt.h<=we){if(At||Nt.y>=je&&Nt.x<=$e){var pt=At?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||$e-Nt.x)[0],Or=C([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-lt+je+this.ctx.prevPageLastElemOffset)[0],Yt=At&&(he>Q||he<Ce)&&x.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,le,null).clip().discardPath()),this.pdf.text(pt,Or.x,Or.y,{angle:T.angle,align:J,renderingMode:T.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else Nt.y<we&&(this.ctx.prevPageLastElemOffset+=we-Nt.y);T.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=ue)}else T.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*T.scale),ue=this.lineWidth,this.lineWidth=ue*T.scale),this.pdf.text(T.text,pe.x+this.posX,pe.y+this.posY,{angle:T.angle,align:J,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=ue)},D=function(T,J,Y,H){Y=Y||0,H=H||0,this.pdf.internal.out(r(T+Y)+" "+n(J+H)+" l")},I=function(T,J,Y){return this.pdf.lines(T,J,Y,null,null)},z=function(T,J,Y,H,me,pe,be,ge){this.pdf.internal.out([t(a(Y+T)),t(i(H+J)),t(a(me+T)),t(i(pe+J)),t(a(be+T)),t(i(ge+J)),"c"].join(" "))},W=function(T,J,Y,H){for(var me=2*Math.PI,pe=Math.PI/2;J>Y;)J-=me;var be=Math.abs(Y-J);be<me&&H&&(be=me-be);for(var ge=[],Te=H?-1:1,ze=J;be>1e-5;){var ue=ze+Te*Math.min(be,pe);ge.push(ee.call(this,T,ze,ue)),be-=Math.abs(ue-ze),ze=ue}return ge},ee=function(T,J,Y){var H=(Y-J)/2,me=T*Math.cos(H),pe=T*Math.sin(H),be=me,ge=-pe,Te=be*be+ge*ge,ze=Te+be*me+ge*pe,ue=4/3*(Math.sqrt(2*Te*ze)-ze)/(be*pe-ge*me),Fe=be-ue*ge,De=ge+ue*be,Ne=Fe,se=-De,ct=H+J,Q=Math.cos(ct),Ce=Math.sin(ct);return{x1:T*Math.cos(J),y1:T*Math.sin(J),x2:Fe*Q-De*Ce,y2:Fe*Ce+De*Q,x3:Ne*Q-se*Ce,y3:Ne*Ce+se*Q,x4:T*Math.cos(Y),y4:T*Math.sin(Y)}},G=function(T){return 180*T/Math.PI},ie=function(T,J,Y,H,me,pe){var be=T+.5*(Y-T),ge=J+.5*(H-J),Te=me+.5*(Y-me),ze=pe+.5*(H-pe),ue=Math.min(T,me,be,Te),Fe=Math.max(T,me,be,Te),De=Math.min(J,pe,ge,ze),Ne=Math.max(J,pe,ge,ze);return new c(ue,De,Fe-ue,Ne-De)},te=function(T,J,Y,H,me,pe,be,ge){var Te,ze,ue,Fe,De,Ne,se,ct,Q,Ce,he,je,_e,we,le=Y-T,$e=H-J,at=me-Y,lt=pe-H,Ct=be-me,Nt=ge-pe;for(ze=0;ze<41;ze++)Q=(se=(ue=T+(Te=ze/40)*le)+Te*((De=Y+Te*at)-ue))+Te*(De+Te*(me+Te*Ct-De)-se),Ce=(ct=(Fe=J+Te*$e)+Te*((Ne=H+Te*lt)-Fe))+Te*(Ne+Te*(pe+Te*Nt-Ne)-ct),ze==0?(he=Q,je=Ce,_e=Q,we=Ce):(he=Math.min(he,Q),je=Math.min(je,Ce),_e=Math.max(_e,Q),we=Math.max(we,Ce));return new c(Math.round(he),Math.round(je),Math.round(_e-he),Math.round(we-je))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,J,Y=(T=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:J}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ir.API),(function(e){var t=function(i){var s,c,d,f,p,h,y,g,j,x;for(c=[],d=0,f=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;f>d;d+=4)(p=(i.charCodeAt(d)<<24)+(i.charCodeAt(d+1)<<16)+(i.charCodeAt(d+2)<<8)+i.charCodeAt(d+3))!==0?(h=(p=((p=((p=((p=(p-(x=p%85))/85)-(j=p%85))/85)-(g=p%85))/85)-(y=p%85))/85)%85,c.push(h+33,y+33,g+33,j+33,x+33)):c.push(122);return(function(w,S){for(var C=S;C>0;C--)w.pop()})(c,s.length),String.fromCharCode.apply(String,c)+"~>"},r=function(i){var s,c,d,f,p,h=String,y="length",g=255,j="charCodeAt",x="slice",w="replace";for(i[x](-2),i=i[x](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),d=[],f=0,p=(i+=s="uuuuu"[x](i[y]%5||5))[y];p>f;f+=5)c=52200625*(i[j](f)-33)+614125*(i[j](f+1)-33)+7225*(i[j](f+2)-33)+85*(i[j](f+3)-33)+(i[j](f+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return(function(S,C){for(var P=C;P>0;P--)S.pop()})(d,s[y]),h.fromCharCode.apply(h,d)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var c="",d=0;d<i.length;d+=2)c+=String.fromCharCode("0x"+(i[d]+i[d+1]));return c},a=function(i){for(var s=new Uint8Array(i.length),c=i.length;c--;)s[c]=i.charCodeAt(c);return i=(s=o5(s)).reduce((function(d,f){return d+String.fromCharCode(f)}),"")};e.processDataByFilters=function(i,s){var c=0,d=i||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),c=0;c<s.length;c+=1)switch(s[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map((function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)})).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[c]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(ir.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var c=void 0;try{c=(function(d,f,p){var h=new XMLHttpRequest,y=0,g=function(j){var x=j.length,w=[],S=String.fromCharCode;for(y=0;y<x;y+=1)w.push(S(255&j.charCodeAt(y)));return w.join("")};if(h.open("GET",d,!f),h.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(h.onload=function(){h.status===200?p(g(this.responseText)):p(void 0)}),h.send(null),f&&h.status===200)return g(h.responseText)})(a,i,s)}catch{}return c})(t,r,n)},e.loadImageFile=e.loadFile})(ir.API),(function(e){function t(){return(sr.html2canvas?Promise.resolve(sr.html2canvas):e5(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function r(){return(sr.DOMPurify?Promise.resolve(sr.DOMPurify):e5(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var n=function(s){var c=en(s);return c==="undefined"?"undefined":c==="string"||s instanceof String?"string":c==="number"||s instanceof Number?"number":c==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(s,c){var d=document.createElement(s);for(var f in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[f]=c.style[f];return d},i=function s(c){var d=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),d);return f=(f=f.setProgress(1,s,1,[s])).set(c)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,c){return s.__proto__=c||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,c){return this.then((function(){switch(c=c||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(r).then((function(d){return this.set({src:a("div",{innerHTML:s,dompurify:d})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=(function d(f,p){for(var h=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||h.appendChild(d(y,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(h.width=f.width,h.height=f.height,h.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(h.value=f.value),h.addEventListener("load",(function(){h.scrollTop=f.scrollTop,h.scrollLeft=f.scrollLeft}),!0)),h})(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then((function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)})).then((function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then((function(c){var d=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var g=f[y],j=g.src.find((function(x){return x.format==="truetype"}));j&&d.addFont(j.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,d.context2d.save(!0),c(this.prop.container,h)})).then((function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(s,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(s,c):this.outputPdf(s,c)},i.prototype.outputPdf=function(s,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,c)}))},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(s){if(n(s)!=="object")return this;var c=Object.keys(s||{}).map((function(d){if(d in i.template.prop)return function(){this.prop[d]=s[d]};switch(d){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[d]=s[d]}}}),this);return this.then((function(){return this.thenList(c)}))},i.prototype.get=function(s,c){return this.then((function(){var d=s in i.template.prop?this.prop[s]:this.opt[s];return c?c(d):d}))},i.prototype.setMargin=function(s){return this.then((function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},i.prototype.setPageSize=function(s){function c(d,f){return Math.floor(d*f/72*96)}return this.then((function(){(s=s||ir.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:c(s.inner.width,s.k),height:c(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},i.prototype.setProgress=function(s,c,d,f){return s!=null&&(this.progress.val=s),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,c,d,f){return this.setProgress(s?this.progress.val+s:null,c||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},i.prototype.then=function(s,c){var d=this;return this.thenCore(s,c,(function(f,p){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,(function(h){return d.updateProgress(null,f),h})).then(f,p).then((function(h){return d.updateProgress(1),h}))}))},i.prototype.thenCore=function(s,c,d){d=d||Promise.prototype.then,s&&(s=s.bind(this)),c&&(c=c.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),p=d.call(f,s,c);return i.convert(p,this.__proto__)},i.prototype.thenExternal=function(s,c){return Promise.prototype.then.call(this,s,c)},i.prototype.thenList=function(s){var c=this;return s.forEach((function(d){c=c.thenCore(d)})),c},i.prototype.catch=function(s){s&&(s=s.bind(this));var c=Promise.prototype.catch.call(this,s);return i.convert(c,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ir.getPageSize=function(s,c,d){if(en(s)==="object"){var f=s;s=f.orientation,c=f.unit||c,d=f.format||d}c=c||"mm",d=d||"a4",s=(""+(s||"P")).toLowerCase();var p,h=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var g,j=0,x=0;if(y.hasOwnProperty(h))j=y[h][1]/p,x=y[h][0]/p;else try{j=d[1],x=d[0]}catch{throw new Error("Invalid format: "+d)}if(s==="p"||s==="portrait")s="p",x>j&&(g=x,x=j,j=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",j>x&&(g=x,x=j,j=g)}return{width:x,height:j,unit:c,k:p,orientation:s}},e.html=function(s,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(d5):null;var d=new i(c);return c.worker?d:d.from(s).doCallback()}})(ir.API),ir.API.addJS=function(e){return B6=e,this.internal.events.subscribe("postPutResources",(function(){Ym=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ym+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),z6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+B6+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Ym!==void 0&&z6!==void 0&&this.internal.out("/Names <</JavaScript "+Ym+" 0 R>>")})),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],c=n.exec(s);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(i=0;i<f;i++){var h=r.internal.newObject();p.push(h);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<p.length;i++)r.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var c=this.count=this.count_r({count:0},s);if(c>0&&this.line("/Count "+c),s.options&&s.options.pageNumber){var d=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(ir.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,c){var d,f=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(d=(function(h){for(var y,g=256*h.charCodeAt(4)+h.charCodeAt(5),j=h.length,x={width:0,height:0,numcomponents:1},w=4;w<j;w+=2){if(w+=g,t.indexOf(h.charCodeAt(w+1))!==-1){y=256*h.charCodeAt(w+5)+h.charCodeAt(w+6),x={width:256*h.charCodeAt(w+7)+h.charCodeAt(w+8),height:y,numcomponents:h.charCodeAt(w+9)};break}g=256*h.charCodeAt(w+2)+h.charCodeAt(w+3)}return x})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:f,index:n,alias:a}}return p}})(ir.API);var $d,Xm,q6,U6,V6,tte=(function(){var e,t,r;function n(i){var s,c,d,f,p,h,y,g,j,x,w,S,C,P;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),j=function(){var R,L;for(L=[],R=0;R<4;++R)L.push(String.fromCharCode(this.data[this.pos++]));return L}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,h.delay=1e3*p/f,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,s-=4),i=h?.data||this.imgData,S=0;0<=s?S<s:S>s;0<=s?++S:--S)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((x=d-this.transparency.indexed.length)>0)for(C=0;0<=x?C<x:C>x;0<=x?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":y=(w=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,w.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,w.slice(y+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,c;for(c=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*s),d=0,f=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function p(h,y,g,j){var x,w,S,C,P,R,L,q,_,B,V,K,E,$,D,I,z,W,ee,G,ie,te=Math.ceil((f.width-h)/g),re=Math.ceil((f.height-y)/j),T=f.width==te&&f.height==re;for($=s*te,K=T?c:new Uint8Array($*re),R=i.length,E=0,w=0;E<re&&d<R;){switch(i[d++]){case 0:for(C=z=0;z<$;C=z+=1)K[w++]=i[d++];break;case 1:for(C=W=0;W<$;C=W+=1)x=i[d++],P=C<s?0:K[w-s],K[w++]=(x+P)%256;break;case 2:for(C=ee=0;ee<$;C=ee+=1)x=i[d++],S=(C-C%s)/s,D=E&&K[(E-1)*$+S*s+C%s],K[w++]=(D+x)%256;break;case 3:for(C=G=0;G<$;C=G+=1)x=i[d++],S=(C-C%s)/s,P=C<s?0:K[w-s],D=E&&K[(E-1)*$+S*s+C%s],K[w++]=(x+Math.floor((P+D)/2))%256;break;case 4:for(C=ie=0;ie<$;C=ie+=1)x=i[d++],S=(C-C%s)/s,P=C<s?0:K[w-s],E===0?D=I=0:(D=K[(E-1)*$+S*s+C%s],I=S&&K[(E-1)*$+(S-1)*s+C%s]),L=P+D-I,q=Math.abs(L-P),B=Math.abs(L-D),V=Math.abs(L-I),_=q<=B&&q<=V?P:B<=V?D:I,K[w++]=(x+_)%256;break;default:throw new Error("Invalid filter algorithm: "+i[d-1])}if(!T){var J=((y+E*j)*f.width+h)*s,Y=E*$;for(C=0;C<te;C+=1){for(var H=0;H<s;H+=1)c[J++]=K[Y++];J+=(g-1)*s}}E++}}return i=Lee(i),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),c},n.prototype.decodePalette=function(){var i,s,c,d,f,p,h,y,g;for(c=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+c.length),d=0,i=0,s=h=0,y=c.length;h<y;s=h+=3)f[d++]=c[s],f[d++]=c[s+1],f[d++]=c[s+2],f[d++]=(g=p[i++])!=null?g:255;return f},n.prototype.copyToImageData=function(i,s){var c,d,f,p,h,y,g,j,x,w,S;if(d=this.colors,x=null,c=this.hasAlphaChannel,this.palette.length&&(x=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),d=4,c=!0),j=(f=i.data||i).length,h=x||s,p=y=0,d===1)for(;p<j;)g=x?4*s[p/4]:y,w=h[g++],f[p++]=w,f[p++]=w,f[p++]=w,f[p++]=c?h[g++]:255,y=g;else for(;p<j;)g=x?4*s[p/4]:y,f[p++]=h[g++],f[p++]=h[g++],f[p++]=h[g++],f[p++]=c?h[g++]:255,y=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(sr)==="[object Window]"){try{t=sr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,c,d,f,p,h,y,g;if(this.animation){for(g=[],c=p=0,h=(y=this.animation.frames).length;p<h;c=++p)s=y[c],d=i.createImageData(s.width,s.height),f=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(d,f),s.imageData=d,g.push(s.image=e(d));return g}},n.prototype.renderFrame=function(i,s){var c,d,f;return c=(d=this.animation.frames)[s],f=d[s-1],s===0&&i.clearRect(0,0,this.width,this.height),f?.disposeOp===1?i.clearRect(f.xOffset,f.yOffset,f.width,f.height):f?.disposeOp===2&&i.putImageData(f.imageData,f.xOffset,f.yOffset),c.blendOp===0&&i.clearRect(c.xOffset,c.yOffset,c.width,c.height),i.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(i){var s,c,d,f,p,h,y=this;return c=0,h=this.animation,f=h.numFrames,d=h.frames,p=h.numPlays,(s=function(){var g,j;if(g=c++%f,j=d[g],y.renderFrame(i,g),f>1&&c/f<p)return y.animation._timeout=setTimeout(s,j.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,c;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(c=s.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),s.putImageData(c,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rte(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var c=null,d=null;i&&(c=t,d=s,t+=3*s);var f=!0,p=[],h=0,y=null,g=0,j=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];h=e[t++]|e[t++]<<8,y=e[t++],(1&x)==0&&(y=null),g=x>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,R=e[t++],L=R>>6&1,q=1<<(7&R)+1,_=c,B=d,V=!1;R>>7&&(V=!0,_=t,B=q,t+=3*q);var K=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}p.push({x:w,y:S,width:C,height:P,has_local_palette:V,palette_offset:_,palette_size:B,data_offset:K,data_length:t-K,transparent_index:y,interlaced:!!L,delay:h,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return j},this.frameInfo=function($){if($<0||$>=p.length)throw new Error("Frame index out of range.");return p[$]},this.decodeAndBlitFrameBGRA=function($,D){var I=this.frameInfo($),z=I.width*I.height,W=new Uint8Array(z);W6(e,I.data_offset,W,z);var ee=I.palette_offset,G=I.transparent_index;G===null&&(G=256);var ie=I.width,te=r-ie,re=ie,T=4*(I.y*r+I.x),J=4*((I.y+I.height)*r+I.x),Y=T,H=4*te;I.interlaced===!0&&(H+=4*r*7);for(var me=8,pe=0,be=W.length;pe<be;++pe){var ge=W[pe];if(re===0&&(re=ie,(Y+=H)>=J&&(H=4*te+4*r*(me-1),Y=T+(ie+te)*(me<<1),me>>=1)),ge===G)Y+=4;else{var Te=e[ee+3*ge],ze=e[ee+3*ge+1],ue=e[ee+3*ge+2];D[Y++]=ue,D[Y++]=ze,D[Y++]=Te,D[Y++]=255}--re}},this.decodeAndBlitFrameRGBA=function($,D){var I=this.frameInfo($),z=I.width*I.height,W=new Uint8Array(z);W6(e,I.data_offset,W,z);var ee=I.palette_offset,G=I.transparent_index;G===null&&(G=256);var ie=I.width,te=r-ie,re=ie,T=4*(I.y*r+I.x),J=4*((I.y+I.height)*r+I.x),Y=T,H=4*te;I.interlaced===!0&&(H+=4*r*7);for(var me=8,pe=0,be=W.length;pe<be;++pe){var ge=W[pe];if(re===0&&(re=ie,(Y+=H)>=J&&(H=4*te+4*r*(me-1),Y=T+(ie+te)*(me<<1),me>>=1)),ge===G)Y+=4;else{var Te=e[ee+3*ge],ze=e[ee+3*ge+1],ue=e[ee+3*ge+2];D[Y++]=Te,D[Y++]=ze,D[Y++]=ue,D[Y++]=255}--re}}}function W6(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,c=s+1,d=a+1,f=(1<<d)-1,p=0,h=0,y=0,g=e[t++],j=new Int32Array(4096),x=null;;){for(;p<16&&g!==0;)h|=e[t++]<<p,p+=8,g===1?g=e[t++]:--g;if(p<d)break;var w=h&f;if(h>>=d,p-=d,w!==i){if(w===s)break;for(var S=w<c?w:x,C=0,P=S;P>i;)P=j[P]>>8,++C;var R=P;if(y+C+(S!==w?1:0)>n)return void on.log("Warning, gif stream longer than expected.");r[y++]=R;var L=y+=C;for(S!==w&&(r[y++]=R),P=S;C--;)P=j[P],r[--L]=255&P,P>>=8;x!==null&&c<4096&&(j[c++]=x<<8|R,c>=f+1&&d<12&&(++d,f=f<<1|1)),x=w}else c=s+1,f=(1<<(d=a+1))-1,x=null}return y!==n&&on.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function w2(e){var t,r,n,a,i,s=Math.floor,c=new Array(64),d=new Array(64),f=new Array(64),p=new Array(64),h=new Array(65535),y=new Array(65535),g=new Array(64),j=new Array(64),x=[],w=0,S=7,C=new Array(64),P=new Array(64),R=new Array(64),L=new Array(256),q=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],$=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(T,J){for(var Y=0,H=0,me=new Array,pe=1;pe<=16;pe++){for(var be=1;be<=T[pe];be++)me[J[H]]=[],me[J[H]][0]=Y,me[J[H]][1]=pe,H++,Y++;Y*=2}return me}function ee(T){for(var J=T[0],Y=T[1]-1;Y>=0;)J&1<<Y&&(w|=1<<S),Y--,--S<0&&(w==255?(G(255),G(0)):G(w),S=7,w=0)}function G(T){x.push(T)}function ie(T){G(T>>8&255),G(255&T)}function te(T,J,Y,H,me){for(var pe,be=me[0],ge=me[240],Te=(function(Ce,he){var je,_e,we,le,$e,at,lt,Ct,Nt,At,pt=0;for(Nt=0;Nt<8;++Nt){je=Ce[pt],_e=Ce[pt+1],we=Ce[pt+2],le=Ce[pt+3],$e=Ce[pt+4],at=Ce[pt+5],lt=Ce[pt+6];var Or=je+(Ct=Ce[pt+7]),Yt=je-Ct,Lr=_e+lt,nr=_e-lt,jr=we+at,rn=we-at,pr=le+$e,Ae=le-$e,He=Or+pr,Ye=Or-pr,it=Lr+jr,vt=Lr-jr;Ce[pt]=He+it,Ce[pt+4]=He-it;var xt=.707106781*(vt+Ye);Ce[pt+2]=Ye+xt,Ce[pt+6]=Ye-xt;var bt=.382683433*((He=Ae+rn)-(vt=nr+Yt)),wr=.5411961*He+bt,ar=1.306562965*vt+bt,Xt=.707106781*(it=rn+nr),vr=Yt+Xt,Et=Yt-Xt;Ce[pt+5]=Et+wr,Ce[pt+3]=Et-wr,Ce[pt+1]=vr+ar,Ce[pt+7]=vr-ar,pt+=8}for(pt=0,Nt=0;Nt<8;++Nt){je=Ce[pt],_e=Ce[pt+8],we=Ce[pt+16],le=Ce[pt+24],$e=Ce[pt+32],at=Ce[pt+40],lt=Ce[pt+48];var Vr=je+(Ct=Ce[pt+56]),Pr=je-Ct,Ht=_e+lt,Dt=_e-lt,de=we+at,Je=we-at,ut=le+$e,Rt=le-$e,ye=Vr+ut,Ge=Vr-ut,Ze=Ht+de,st=Ht-de;Ce[pt]=ye+Ze,Ce[pt+32]=ye-Ze;var Ot=.707106781*(st+Ge);Ce[pt+16]=Ge+Ot,Ce[pt+48]=Ge-Ot;var kt=.382683433*((ye=Rt+Je)-(st=Dt+Pr)),gt=.5411961*ye+kt,$t=1.306562965*st+kt,dr=.707106781*(Ze=Je+Dt),Rr=Pr+dr,xn=Pr-dr;Ce[pt+40]=xn+gt,Ce[pt+24]=xn-gt,Ce[pt+8]=Rr+$t,Ce[pt+56]=Rr-$t,pt++}for(Nt=0;Nt<64;++Nt)At=Ce[Nt]*he[Nt],g[Nt]=At>0?At+.5|0:At-.5|0;return g})(T,J),ze=0;ze<64;++ze)j[_[ze]]=Te[ze];var ue=j[0]-Y;Y=j[0],ue==0?ee(H[0]):(ee(H[y[pe=32767+ue]]),ee(h[pe]));for(var Fe=63;Fe>0&&j[Fe]==0;)Fe--;if(Fe==0)return ee(be),Y;for(var De,Ne=1;Ne<=Fe;){for(var se=Ne;j[Ne]==0&&Ne<=Fe;)++Ne;var ct=Ne-se;if(ct>=16){De=ct>>4;for(var Q=1;Q<=De;++Q)ee(ge);ct&=15}pe=32767+j[Ne],ee(me[(ct<<4)+y[pe]]),ee(h[pe]),Ne++}return Fe!=63&&ee(be),Y}function re(T){T=Math.min(Math.max(T,1),100),i!=T&&((function(J){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var me=s((Y[H]*J+50)/100);me=Math.min(Math.max(me,1),255),c[_[H]]=me}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var ge=s((pe[be]*J+50)/100);ge=Math.min(Math.max(ge,1),255),d[_[be]]=ge}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,ue=0;ue<8;ue++)for(var Fe=0;Fe<8;Fe++)f[ze]=1/(c[_[ze]]*Te[ue]*Te[Fe]*8),p[ze]=1/(d[_[ze]]*Te[ue]*Te[Fe]*8),ze++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),i=T)}this.encode=function(T,J){J&&re(J),x=new Array,w=0,S=7,ie(65496),ie(65504),ie(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),ie(1),ie(1),G(0),G(0),(function(){ie(65499),ie(132),G(0);for(var _e=0;_e<64;_e++)G(c[_e]);G(1);for(var we=0;we<64;we++)G(d[we])})(),(function(_e,we){ie(65472),ie(17),G(8),ie(we),ie(_e),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})(T.width,T.height),(function(){ie(65476),ie(418),G(0);for(var _e=0;_e<16;_e++)G(B[_e+1]);for(var we=0;we<=11;we++)G(V[we]);G(16);for(var le=0;le<16;le++)G(K[le+1]);for(var $e=0;$e<=161;$e++)G(E[$e]);G(1);for(var at=0;at<16;at++)G($[at+1]);for(var lt=0;lt<=11;lt++)G(D[lt]);G(17);for(var Ct=0;Ct<16;Ct++)G(I[Ct+1]);for(var Nt=0;Nt<=161;Nt++)G(z[Nt])})(),ie(65498),ie(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var Y=0,H=0,me=0;w=0,S=7,this.encode.displayName="_encode_";for(var pe,be,ge,Te,ze,ue,Fe,De,Ne,se=T.data,ct=T.width,Q=T.height,Ce=4*ct,he=0;he<Q;){for(pe=0;pe<Ce;){for(ze=Ce*he+pe,Fe=-1,De=0,Ne=0;Ne<64;Ne++)ue=ze+(De=Ne>>3)*Ce+(Fe=4*(7&Ne)),he+De>=Q&&(ue-=Ce*(he+1+De-Q)),pe+Fe>=Ce&&(ue-=pe+Fe-Ce+4),be=se[ue++],ge=se[ue++],Te=se[ue++],C[Ne]=(q[be]+q[ge+256>>0]+q[Te+512>>0]>>16)-128,P[Ne]=(q[be+768>>0]+q[ge+1024>>0]+q[Te+1280>>0]>>16)-128,R[Ne]=(q[be+1280>>0]+q[ge+1536>>0]+q[Te+1792>>0]>>16)-128;Y=te(C,f,Y,t,n),H=te(P,p,H,r,a),me=te(R,p,me,r,a),pe+=32}he+=8}if(S>=0){var je=[];je[1]=S+1,je[0]=(1<<S+1)-1,ee(je)}return ie(65497),new Uint8Array(x)},e=e||50,(function(){for(var T=String.fromCharCode,J=0;J<256;J++)L[J]=T(J)})(),t=W(B,V),r=W($,D),n=W(K,E),a=W(I,z),(function(){for(var T=1,J=2,Y=1;Y<=15;Y++){for(var H=T;H<J;H++)y[32767+H]=Y,h[32767+H]=[],h[32767+H][1]=Y,h[32767+H][0]=H;for(var me=-(J-1);me<=-T;me++)y[32767+me]=Y,h[32767+me]=[],h[32767+me][1]=Y,h[32767+me][0]=J-1+me;T<<=1,J<<=1}})(),(function(){for(var T=0;T<256;T++)q[T]=19595*T,q[T+256>>0]=38470*T,q[T+512>>0]=7471*T+32768,q[T+768>>0]=-11059*T,q[T+1024>>0]=-21709*T,q[T+1280>>0]=32768*T+8421375,q[T+1536>>0]=-27439*T,q[T+1792>>0]=-5329*T})(),re(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function H6(e){function t(B){if(!B)throw Error("assert :P")}function r(B,V,K){for(var E=0;4>E;E++)if(B[V+E]!=K.charCodeAt(E))return!0;return!1}function n(B,V,K,E,$){for(var D=0;D<$;D++)B[V+D]=K[E+D]}function a(B,V,K,E){for(var $=0;$<E;$++)B[V+$]=K}function i(B){return new Int32Array(B)}function s(B,V){for(var K=[],E=0;E<B;E++)K.push(new V);return K}function c(B,V){var K=[];return(function E($,D,I){for(var z=I[D],W=0;W<z&&($.push(I.length>D+1?[]:new V),!(I.length<D+1));W++)E($[W],D+1,I)})(K,0,B),K}var d=function(){var B=this;function V(v,N){for(var k=1<<N-1>>>0;v&k;)k>>>=1;return k?(v&k-1)+k:v}function K(v,N,k,U,X){t(!(U%k));do v[N+(U-=k)]=X;while(0<U)}function E(v,N,k,U,X){if(t(2328>=X),512>=X)var ne=i(512);else if((ne=i(X))==null)return 0;return(function(oe,ce,fe,ve,Oe,qe){var Ue,Re,ot=ce,Xe=1<<fe,Ie=i(16),Le=i(16);for(t(Oe!=0),t(ve!=null),t(oe!=null),t(0<fe),Re=0;Re<Oe;++Re){if(15<ve[Re])return 0;++Ie[ve[Re]]}if(Ie[0]==Oe)return 0;for(Le[1]=0,Ue=1;15>Ue;++Ue){if(Ie[Ue]>1<<Ue)return 0;Le[Ue+1]=Le[Ue]+Ie[Ue]}for(Re=0;Re<Oe;++Re)Ue=ve[Re],0<ve[Re]&&(qe[Le[Ue]++]=Re);if(Le[15]==1)return(ve=new $).g=0,ve.value=qe[0],K(oe,ot,1,Xe,ve),Xe;var tt,et=-1,rt=Xe-1,Lt=0,Pt=1,Jt=1,_t=1<<fe;for(Re=0,Ue=1,Oe=2;Ue<=fe;++Ue,Oe<<=1){if(Pt+=Jt<<=1,0>(Jt-=Ie[Ue]))return 0;for(;0<Ie[Ue];--Ie[Ue])(ve=new $).g=Ue,ve.value=qe[Re++],K(oe,ot+Lt,Oe,_t,ve),Lt=V(Lt,Ue)}for(Ue=fe+1,Oe=2;15>=Ue;++Ue,Oe<<=1){if(Pt+=Jt<<=1,0>(Jt-=Ie[Ue]))return 0;for(;0<Ie[Ue];--Ie[Ue]){if(ve=new $,(Lt&rt)!=et){for(ot+=_t,tt=1<<(et=Ue)-fe;15>et&&!(0>=(tt-=Ie[et]));)++et,tt<<=1;Xe+=_t=1<<(tt=et-fe),oe[ce+(et=Lt&rt)].g=tt+fe,oe[ce+et].value=ot-ce-et}ve.g=Ue-fe,ve.value=qe[Re++],K(oe,ot+(Lt>>fe),Oe,_t,ve),Lt=V(Lt,Ue)}}return Pt!=2*Le[15]-1?0:Xe})(v,N,k,U,X,ne)}function $(){this.value=this.g=0}function D(){this.value=this.g=0}function I(){this.G=s(5,$),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Nn,D)}function z(v,N,k,U){t(v!=null),t(N!=null),t(2147483648>U),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=N,v.pa=k,v.Jd=N,v.Yc=k+U,v.Zc=4<=U?k+U-4+1:k,pe(v)}function W(v,N){for(var k=0;0<N--;)k|=ge(v,128)<<N;return k}function ee(v,N){var k=W(v,N);return be(v)?-k:k}function G(v,N,k,U){var X,ne=0;for(t(v!=null),t(N!=null),t(4294967288>U),v.Sb=U,v.Ra=0,v.u=0,v.h=0,4<U&&(U=4),X=0;X<U;++X)ne+=N[k+X]<<8*X;v.Ra=ne,v.bb=U,v.oa=N,v.pa=k}function ie(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Gl-8>>>0,++v.bb,v.u-=8;Y(v)&&(v.h=1,v.u=0)}function te(v,N){if(t(0<=N),!v.h&&N<=Hl){var k=J(v)&Wl[N];return v.u+=N,ie(v),k}return v.h=1,v.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(v){return v.Ra>>>(v.u&Gl-1)>>>0}function Y(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Gl}function H(v,N){v.u=N,v.h=Y(v)}function me(v){v.u>=Kl&&(t(v.u>=Kl),ie(v))}function pe(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function be(v){return W(v,1)}function ge(v,N){var k=v.Ca;0>v.b&&pe(v);var U=v.b,X=k*N>>>8,ne=(v.I>>>U>X)+0;for(ne?(k-=X,v.I-=X+1<<U>>>0):k=X+1,U=k,X=0;256<=U;)X+=8,U>>=8;return U=7^X+va[U],v.b-=U,v.Ca=(k<<U)-1,ne}function Te(v,N,k){v[N+0]=k>>24&255,v[N+1]=k>>16&255,v[N+2]=k>>8&255,v[N+3]=k>>0&255}function ze(v,N){return v[N+0]<<0|v[N+1]<<8}function ue(v,N){return ze(v,N)|v[N+2]<<16}function Fe(v,N){return ze(v,N)|ze(v,N+2)<<16}function De(v,N){var k=1<<N;return t(v!=null),t(0<N),v.X=i(k),v.X==null?0:(v.Mb=32-N,v.Xa=N,1)}function Ne(v,N){t(v!=null),t(N!=null),t(v.Xa==N.Xa),n(N.X,0,v.X,0,1<<N.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function ct(v,N,k,U){t(k!=null),t(U!=null);var X=k[0],ne=U[0];return X==0&&(X=(v*ne+N/2)/N),ne==0&&(ne=(N*X+v/2)/v),0>=X||0>=ne?0:(k[0]=X,U[0]=ne,1)}function Q(v,N){return v+(1<<N)-1>>>N}function Ce(v,N){return((4278255360&v)+(4278255360&N)>>>0&4278255360)+((16711935&v)+(16711935&N)>>>0&16711935)>>>0}function he(v,N){B[N]=function(k,U,X,ne,oe,ce,fe){var ve;for(ve=0;ve<oe;++ve){var Oe=B[v](ce[fe+ve-1],X,ne+ve);ce[fe+ve]=Ce(k[U+ve],Oe)}}}function je(){this.ud=this.hd=this.jd=0}function _e(v,N){return((4278124286&(v^N))>>>1)+(v&N)>>>0}function we(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function le(v,N){return we(v+(v-N+.5>>1))}function $e(v,N,k){return Math.abs(N-k)-Math.abs(v-k)}function at(v,N,k,U,X,ne,oe){for(U=ne[oe-1],k=0;k<X;++k)ne[oe+k]=U=Ce(v[N+k],U)}function lt(v,N,k,U,X){var ne;for(ne=0;ne<k;++ne){var oe=v[N+ne],ce=oe>>8&255,fe=16711935&(fe=(fe=16711935&oe)+((ce<<16)+ce));U[X+ne]=(4278255360&oe)+fe>>>0}}function Ct(v,N){N.jd=v>>0&255,N.hd=v>>8&255,N.ud=v>>16&255}function Nt(v,N,k,U,X,ne){var oe;for(oe=0;oe<U;++oe){var ce=N[k+oe],fe=ce>>>8,ve=ce,Oe=255&(Oe=(Oe=ce>>>16)+((v.jd<<24>>24)*(fe<<24>>24)>>>5));ve=255&(ve=(ve=ve+((v.hd<<24>>24)*(fe<<24>>24)>>>5))+((v.ud<<24>>24)*(Oe<<24>>24)>>>5)),X[ne+oe]=(4278255360&ce)+(Oe<<16)+ve}}function At(v,N,k,U,X){B[N]=function(ne,oe,ce,fe,ve,Oe,qe,Ue,Re){for(fe=qe;fe<Ue;++fe)for(qe=0;qe<Re;++qe)ve[Oe++]=X(ce[U(ne[oe++])])},B[v]=function(ne,oe,ce,fe,ve,Oe,qe){var Ue=8>>ne.b,Re=ne.Ea,ot=ne.K[0],Xe=ne.w;if(8>Ue)for(ne=(1<<ne.b)-1,Xe=(1<<Ue)-1;oe<ce;++oe){var Ie,Le=0;for(Ie=0;Ie<Re;++Ie)Ie&ne||(Le=U(fe[ve++])),Oe[qe++]=X(ot[Le&Xe]),Le>>=Ue}else B["VP8LMapColor"+k](fe,ve,ot,Xe,Oe,qe,oe,ce,Re)}}function pt(v,N,k,U,X){for(k=N+k;N<k;){var ne=v[N++];U[X++]=ne>>16&255,U[X++]=ne>>8&255,U[X++]=ne>>0&255}}function Or(v,N,k,U,X){for(k=N+k;N<k;){var ne=v[N++];U[X++]=ne>>16&255,U[X++]=ne>>8&255,U[X++]=ne>>0&255,U[X++]=ne>>24&255}}function Yt(v,N,k,U,X){for(k=N+k;N<k;){var ne=(oe=v[N++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;U[X++]=ne,U[X++]=oe}}function Lr(v,N,k,U,X){for(k=N+k;N<k;){var ne=(oe=v[N++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;U[X++]=ne,U[X++]=oe}}function nr(v,N,k,U,X){for(k=N+k;N<k;){var ne=v[N++];U[X++]=ne>>0&255,U[X++]=ne>>8&255,U[X++]=ne>>16&255}}function jr(v,N,k,U,X,ne){if(ne==0)for(k=N+k;N<k;)Te(U,((ne=v[N++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),X+=32;else n(U,X,v,N,k)}function rn(v,N){B[N][0]=B[v+"0"],B[N][1]=B[v+"1"],B[N][2]=B[v+"2"],B[N][3]=B[v+"3"],B[N][4]=B[v+"4"],B[N][5]=B[v+"5"],B[N][6]=B[v+"6"],B[N][7]=B[v+"7"],B[N][8]=B[v+"8"],B[N][9]=B[v+"9"],B[N][10]=B[v+"10"],B[N][11]=B[v+"11"],B[N][12]=B[v+"12"],B[N][13]=B[v+"13"],B[N][14]=B[v+"0"],B[N][15]=B[v+"0"]}function pr(v){return v==ec||v==el||v==nu||v==au}function Ae(){this.eb=[],this.size=this.A=this.fb=0}function He(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ye(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ae,this.f.kb=new He,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function bt(v,N){var k=v.T,U=N.ba.f.RGBA,X=U.eb,ne=U.fb+v.ka*U.A,oe=ka[N.ba.S],ce=v.y,fe=v.O,ve=v.f,Oe=v.N,qe=v.ea,Ue=v.W,Re=N.cc,ot=N.dc,Xe=N.Mc,Ie=N.Nc,Le=v.ka,tt=v.ka+v.T,et=v.U,rt=et+1>>1;for(Le==0?oe(ce,fe,null,null,ve,Oe,qe,Ue,ve,Oe,qe,Ue,X,ne,null,null,et):(oe(N.ec,N.fc,ce,fe,Re,ot,Xe,Ie,ve,Oe,qe,Ue,X,ne-U.A,X,ne,et),++k);Le+2<tt;Le+=2)Re=ve,ot=Oe,Xe=qe,Ie=Ue,Oe+=v.Rc,Ue+=v.Rc,ne+=2*U.A,oe(ce,(fe+=2*v.fa)-v.fa,ce,fe,Re,ot,Xe,Ie,ve,Oe,qe,Ue,X,ne-U.A,X,ne,et);return fe+=v.fa,v.j+tt<v.o?(n(N.ec,N.fc,ce,fe,et),n(N.cc,N.dc,ve,Oe,rt),n(N.Mc,N.Nc,qe,Ue,rt),k--):1&tt||oe(ce,fe,null,null,ve,Oe,qe,Ue,ve,Oe,qe,Ue,X,ne+U.A,null,null,et),k}function wr(v,N,k){var U=v.F,X=[v.J];if(U!=null){var ne=v.U,oe=N.ba.S,ce=oe==ru||oe==nu;N=N.ba.f.RGBA;var fe=[0],ve=v.ka;fe[0]=v.T,v.Kb&&(ve==0?--fe[0]:(--ve,X[0]-=v.width),v.j+v.ka+v.T==v.o&&(fe[0]=v.o-v.j-ve));var Oe=N.eb;ve=N.fb+ve*N.A,v=Wr(U,X[0],v.width,ne,fe,Oe,ve+(ce?0:3),N.A),t(k==fe),v&&pr(oe)&&Ea(Oe,ve,ce,ne,fe,N.A)}return 0}function ar(v){var N=v.ma,k=N.ba.S,U=11>k,X=k==hs||k==tu||k==ru||k==Qr||k==12||pr(k);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Ul(N.Oa,v,X?11:12))return 0;if(X&&pr(k)&&dt(),v.da)alert("todo:use_scaling");else{if(U){if(N.Ib=xt,v.Kb){if(k=v.U+1>>1,N.memory=i(v.U+2*k),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+v.U,N.Mc=N.cc,N.Nc=N.dc+k,N.Ib=bt,dt()}}else alert("todo:EmitYUV");X&&(N.Jb=wr,U&&Be())}if(U&&!Jn){for(v=0;256>v;++v)Ia[v]=89858*(v-128)+ko>>Ei,La[v]=-22014*(v-128)+ko,ac[v]=-45773*(v-128),al[v]=113618*(v-128)+ko>>Ei;for(v=Hr;v<Kr;++v)N=76283*(v-16)+ko>>Ei,ud[v-Hr]=Ga(N,255),Up[v-Hr]=Ga(N+8>>4,15);Jn=1}return 1}function Xt(v){var N=v.ma,k=v.U,U=v.T;return t(!(1&v.ka)),0>=k||0>=U?0:(k=N.Ib(v,N),N.Jb!=null&&N.Jb(v,N,k),N.Dc+=k,1)}function vr(v){v.ma.memory=null}function Et(v,N,k,U){return te(v,8)!=47?0:(N[0]=te(v,14)+1,k[0]=te(v,14)+1,U[0]=te(v,1),te(v,3)!=0?0:!v.h)}function Vr(v,N){if(4>v)return v+1;var k=v-2>>1;return(2+(1&v)<<k)+te(N,k)+1}function Pr(v,N){return 120<N?N-120:1<=(k=((k=nv[N-1])>>4)*v+(8-(15&k)))?k:1;var k}function Ht(v,N,k){var U=J(k),X=v[N+=255&U].g-8;return 0<X&&(H(k,k.u+8),U=J(k),N+=v[N].value,N+=U&(1<<X)-1),H(k,k.u+v[N].g),v[N].value}function Dt(v,N,k){return k.g+=v.g,k.value+=v.value<<N>>>0,t(8>=k.g),v.g}function de(v,N,k){var U=v.xc;return t((N=U==0?0:v.vc[v.md*(k>>U)+(N>>U)])<v.Wb),v.Ya[N]}function Je(v,N,k,U){var X=v.ab,ne=v.c*N,oe=v.C;N=oe+N;var ce=k,fe=U;for(U=v.Ta,k=v.Ua;0<X--;){var ve=v.gc[X],Oe=oe,qe=N,Ue=ce,Re=fe,ot=(fe=U,ce=k,ve.Ea);switch(t(Oe<qe),t(qe<=ve.nc),ve.hc){case 2:od(Ue,Re,(qe-Oe)*ot,fe,ce);break;case 0:var Xe=Oe,Ie=qe,Le=fe,tt=ce,et=(_t=ve).Ea;Xe==0&&(Ks(Ue,Re,null,null,1,Le,tt),at(Ue,Re+1,0,0,et-1,Le,tt+1),Re+=et,tt+=et,++Xe);for(var rt=1<<_t.b,Lt=rt-1,Pt=Q(et,_t.b),Jt=_t.K,_t=_t.w+(Xe>>_t.b)*Pt;Xe<Ie;){var kr=Jt,Ir=_t,_r=1;for(wi(Ue,Re,Le,tt-et,1,Le,tt);_r<et;){var xr=(_r&~Lt)+rt;xr>et&&(xr=et),(0,Zo[kr[Ir++]>>8&15])(Ue,Re+ +_r,Le,tt+_r-et,xr-_r,Le,tt+_r),_r=xr}Re+=et,tt+=et,++Xe&Lt||(_t+=Pt)}qe!=ve.nc&&n(fe,ce-ot,fe,ce+(qe-Oe-1)*ot,ot);break;case 1:for(ot=Ue,Ie=Re,et=(Ue=ve.Ea)-(tt=Ue&~(Le=(Re=1<<ve.b)-1)),Xe=Q(Ue,ve.b),rt=ve.K,ve=ve.w+(Oe>>ve.b)*Xe;Oe<qe;){for(Lt=rt,Pt=ve,Jt=new je,_t=Ie+tt,kr=Ie+Ue;Ie<_t;)Ct(Lt[Pt++],Jt),us(Jt,ot,Ie,Re,fe,ce),Ie+=Re,ce+=Re;Ie<kr&&(Ct(Lt[Pt++],Jt),us(Jt,ot,Ie,et,fe,ce),Ie+=et,ce+=et),++Oe&Le||(ve+=Xe)}break;case 3:if(Ue==fe&&Re==ce&&0<ve.b){for(Ie=fe,Ue=ot=ce+(qe-Oe)*ot-(tt=(qe-Oe)*Q(ve.Ea,ve.b)),Re=fe,Le=ce,Xe=[],tt=(et=tt)-1;0<=tt;--tt)Xe[tt]=Re[Le+tt];for(tt=et-1;0<=tt;--tt)Ie[Ue+tt]=Xe[tt];ya(ve,Oe,qe,fe,ot,fe,ce)}else ya(ve,Oe,qe,Ue,Re,fe,ce)}ce=U,fe=k}fe!=k&&n(U,k,ce,fe,ne)}function ut(v,N){var k=v.V,U=v.Ba+v.c*v.C,X=N-v.C;if(t(N<=v.l.o),t(16>=X),0<X){var ne=v.l,oe=v.Ta,ce=v.Ua,fe=ne.width;if(Je(v,X,k,U),X=ce=[ce],t((k=v.C)<(U=N)),t(ne.v<ne.va),U>ne.o&&(U=ne.o),k<ne.j){var ve=ne.j-k;k=ne.j,X[0]+=ve*fe}if(k>=U?k=0:(X[0]+=4*ne.v,ne.ka=k-ne.j,ne.U=ne.va-ne.v,ne.T=U-k,k=1),k){if(ce=ce[0],11>(k=v.ca).S){var Oe=k.f.RGBA,qe=(U=k.S,X=ne.U,ne=ne.T,ve=Oe.eb,Oe.A),Ue=ne;for(Oe=Oe.fb+v.Ma*Oe.A;0<Ue--;){var Re=oe,ot=ce,Xe=X,Ie=ve,Le=Oe;switch(U){case id:xa(Re,ot,Xe,Ie,Le);break;case hs:oa(Re,ot,Xe,Ie,Le);break;case ec:oa(Re,ot,Xe,Ie,Le),Ea(Ie,Le,0,Xe,1,0);break;case $p:ji(Re,ot,Xe,Ie,Le);break;case tu:jr(Re,ot,Xe,Ie,Le,1);break;case el:jr(Re,ot,Xe,Ie,Le,1),Ea(Ie,Le,0,Xe,1,0);break;case ru:jr(Re,ot,Xe,Ie,Le,0);break;case nu:jr(Re,ot,Xe,Ie,Le,0),Ea(Ie,Le,1,Xe,1,0);break;case Qr:ds(Re,ot,Xe,Ie,Le);break;case au:ds(Re,ot,Xe,Ie,Le),Zr(Ie,Le,Xe,1,0);break;case sd:Ni(Re,ot,Xe,Ie,Le);break;default:t(0)}ce+=fe,Oe+=qe}v.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=k.height)}}v.C=N,t(v.C<=v.i)}function Rt(v){var N;if(0<v.ua)return 0;for(N=0;N<v.Wb;++N){var k=v.Ya[N].G,U=v.Ya[N].H;if(0<k[1][U[1]+0].g||0<k[2][U[2]+0].g||0<k[3][U[3]+0].g)return 0}return 1}function ye(v,N,k,U,X,ne){if(v.Z!=0){var oe=v.qd,ce=v.rd;for(t(sa[v.Z]!=null);N<k;++N)sa[v.Z](oe,ce,U,X,U,X,ne),oe=U,ce=X,X+=ne;v.qd=oe,v.rd=ce}}function Ge(v,N){var k=v.l.ma,U=k.Z==0||k.Z==1?v.l.j:v.C;if(U=v.C<U?U:v.C,t(N<=v.l.o),N>U){var X=v.l.width,ne=k.ca,oe=k.tb+X*U,ce=v.V,fe=v.Ba+v.c*U,ve=v.gc;t(v.ab==1),t(ve[0].hc==3),Zc(ve[0],U,N,ce,fe,ne,oe),ye(k,U,N,ne,oe,X)}v.C=v.Ma=N}function Ze(v,N,k,U,X,ne,oe){var ce=v.$/U,fe=v.$%U,ve=v.m,Oe=v.s,qe=k+v.$,Ue=qe;X=k+U*X;var Re=k+U*ne,ot=280+Oe.ua,Xe=v.Pb?ce:16777216,Ie=0<Oe.ua?Oe.Wa:null,Le=Oe.wc,tt=qe<Re?de(Oe,fe,ce):null;t(v.C<ne),t(Re<=X);var et=!1;e:for(;;){for(;et||qe<Re;){var rt=0;if(ce>=Xe){var Lt=qe-k;t((Xe=v).Pb),Xe.wd=Xe.m,Xe.xd=Lt,0<Xe.s.ua&&Ne(Xe.s.Wa,Xe.s.vb),Xe=ce+cd}if(fe&Le||(tt=de(Oe,fe,ce)),t(tt!=null),tt.Qb&&(N[qe]=tt.qb,et=!0),!et)if(me(ve),tt.jc){rt=ve,Lt=N;var Pt=qe,Jt=tt.pd[J(rt)&Nn-1];t(tt.jc),256>Jt.g?(H(rt,rt.u+Jt.g),Lt[Pt]=Jt.value,rt=0):(H(rt,rt.u+Jt.g-256),t(256<=Jt.value),rt=Jt.value),rt==0&&(et=!0)}else rt=Ht(tt.G[0],tt.H[0],ve);if(ve.h)break;if(et||256>rt){if(!et)if(tt.nd)N[qe]=(tt.qb|rt<<8)>>>0;else{if(me(ve),et=Ht(tt.G[1],tt.H[1],ve),me(ve),Lt=Ht(tt.G[2],tt.H[2],ve),Pt=Ht(tt.G[3],tt.H[3],ve),ve.h)break;N[qe]=(Pt<<24|et<<16|rt<<8|Lt)>>>0}if(et=!1,++qe,++fe>=U&&(fe=0,++ce,oe!=null&&ce<=ne&&!(ce%16)&&oe(v,ce),Ie!=null))for(;Ue<qe;)rt=N[Ue++],Ie.X[(506832829*rt&4294967295)>>>Ie.Mb]=rt}else if(280>rt){if(rt=Vr(rt-256,ve),Lt=Ht(tt.G[4],tt.H[4],ve),me(ve),Lt=Pr(U,Lt=Vr(Lt,ve)),ve.h)break;if(qe-k<Lt||X-qe<rt)break e;for(Pt=0;Pt<rt;++Pt)N[qe+Pt]=N[qe+Pt-Lt];for(qe+=rt,fe+=rt;fe>=U;)fe-=U,++ce,oe!=null&&ce<=ne&&!(ce%16)&&oe(v,ce);if(t(qe<=X),fe&Le&&(tt=de(Oe,fe,ce)),Ie!=null)for(;Ue<qe;)rt=N[Ue++],Ie.X[(506832829*rt&4294967295)>>>Ie.Mb]=rt}else{if(!(rt<ot))break e;for(et=rt-280,t(Ie!=null);Ue<qe;)rt=N[Ue++],Ie.X[(506832829*rt&4294967295)>>>Ie.Mb]=rt;rt=qe,t(!(et>>>(Lt=Ie).Xa)),N[rt]=Lt.X[et],et=!0}et||t(ve.h==Y(ve))}if(v.Pb&&ve.h&&qe<X)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Ne(v.s.vb,v.s.Wa);else{if(ve.h)break e;oe?.(v,ce>ne?ne:ce),v.a=0,v.$=qe-k}return 1}return v.a=3,0}function st(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var N=v.Wa;N!=null&&(N.X=null),v.vb=null,t(v!=null)}function Ot(){var v=new Wf;return v==null?null:(v.a=0,v.xb=rc,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),od=lt,us=Nt,xa=pt,oa=Or,ds=Yt,Ni=Lr,ji=nr,B.VP8LMapColor32b=Jl,B.VP8LMapColor8b=Yl,v)}function kt(v,N,k,U,X){var ne=1,oe=[v],ce=[N],fe=U.m,ve=U.s,Oe=null,qe=0;e:for(;;){if(k)for(;ne&&te(fe,1);){var Ue=oe,Re=ce,ot=U,Xe=1,Ie=ot.m,Le=ot.gc[ot.ab],tt=te(Ie,2);if(ot.Oc&1<<tt)ne=0;else{switch(ot.Oc|=1<<tt,Le.hc=tt,Le.Ea=Ue[0],Le.nc=Re[0],Le.K=[null],++ot.ab,t(4>=ot.ab),tt){case 0:case 1:Le.b=te(Ie,3)+2,Xe=kt(Q(Le.Ea,Le.b),Q(Le.nc,Le.b),0,ot,Le.K),Le.K=Le.K[0];break;case 3:var et,rt=te(Ie,8)+1,Lt=16<rt?0:4<rt?1:2<rt?2:3;if(Ue[0]=Q(Le.Ea,Lt),Le.b=Lt,et=Xe=kt(rt,1,0,ot,Le.K)){var Pt,Jt=rt,_t=Le,kr=1<<(8>>_t.b),Ir=i(kr);if(Ir==null)et=0;else{var _r=_t.K[0],xr=_t.w;for(Ir[0]=_t.K[0][0],Pt=1;Pt<1*Jt;++Pt)Ir[Pt]=Ce(_r[xr+Pt],Ir[Pt-1]);for(;Pt<4*kr;++Pt)Ir[Pt]=0;_t.K[0]=null,_t.K[0]=Ir,et=1}}Xe=et;break;case 2:break;default:t(0)}ne=Xe}}if(oe=oe[0],ce=ce[0],ne&&te(fe,1)&&!(ne=1<=(qe=te(fe,4))&&11>=qe)){U.a=3;break e}var Gr;if(Gr=ne)t:{var Jr,lr,pn,Na=U,An=oe,Mn=ce,$r=qe,la=k,ca=Na.m,mn=Na.s,Rn=[null],Yn=1,Ta=0,fo=zp[$r];r:for(;;){if(la&&te(ca,1)){var gn=te(ca,3)+2,On=Q(An,gn),Ya=Q(Mn,gn),gs=On*Ya;if(!kt(On,Ya,0,Na,Rn))break r;for(Rn=Rn[0],mn.xc=gn,Jr=0;Jr<gs;++Jr){var ki=Rn[Jr]>>8&65535;Rn[Jr]=ki,ki>=Yn&&(Yn=ki+1)}}if(ca.h)break r;for(lr=0;5>lr;++lr){var Fr=tl[lr];!lr&&0<$r&&(Fr+=1<<$r),Ta<Fr&&(Ta=Fr)}var ni=s(Yn*fo,$),dd=Yn,Xf=s(dd,I);if(Xf==null)var ho=null;else t(65536>=dd),ho=Xf;var po=i(Ta);if(ho==null||po==null||ni==null){Na.a=1;break r}var il=ni;for(Jr=pn=0;Jr<Yn;++Jr){var mo=ho[Jr],Ii=mo.G,sl=mo.H,oc=0,Xa=1,ic=0;for(lr=0;5>lr;++lr){Fr=tl[lr],Ii[lr]=il,sl[lr]=pn,!lr&&0<$r&&(Fr+=1<<$r);a:{var vs,Li=Fr,sc=Na,ai=po,Wp=il,Zf=pn,an=0,Io=sc.m,Qf=te(Io,1);if(a(ai,0,0,Li),Qf){var eh=te(Io,1)+1,fd=te(Io,1),hd=te(Io,fd==0?1:8);ai[hd]=1,eh==2&&(ai[hd=te(Io,8)]=1);var oi=1}else{var ln=i(19),kn=te(Io,4)+4;if(19<kn){sc.a=3;var Pn=0;break a}for(vs=0;vs<kn;++vs)ln[rv[vs]]=te(Io,3);var lc=void 0,Ti=void 0,cc=sc,lv=ln,$n=Li,pd=ai,cu=0,ii=cc.m,Lo=8,Za=s(128,$);n:for(;E(Za,0,7,lv,19);){if(te(ii,1)){var uu=2+2*te(ii,3);if((lc=2+te(ii,uu))>$n)break n}else lc=$n;for(Ti=0;Ti<$n&&lc--;){me(ii);var md=Za[0+(127&J(ii))];H(ii,ii.u+md.g);var ys=md.value;if(16>ys)pd[Ti++]=ys,ys!=0&&(Lo=ys);else{var Hp=ys==16,th=ys-16,Gp=ld[th],rh=te(ii,ou[th])+Gp;if(Ti+rh>$n)break n;for(var Kp=Hp?Lo:0;0<rh--;)pd[Ti++]=Kp}}cu=1;break n}cu||(cc.a=3),oi=cu}(oi=oi&&!Io.h)&&(an=E(Wp,Zf,8,ai,Li)),oi&&an!=0?Pn=an:(sc.a=3,Pn=0)}if(Pn==0)break r;if(Xa&&Fp[lr]==1&&(Xa=il[pn].g==0),oc+=il[pn].g,pn+=Pn,3>=lr){var uc,gd=po[0];for(uc=1;uc<Fr;++uc)po[uc]>gd&&(gd=po[uc]);ic+=gd}}if(mo.nd=Xa,mo.Qb=0,Xa&&(mo.qb=(Ii[3][sl[3]+0].value<<24|Ii[1][sl[1]+0].value<<16|Ii[2][sl[2]+0].value)>>>0,oc==0&&256>Ii[0][sl[0]+0].value&&(mo.Qb=1,mo.qb+=Ii[0][sl[0]+0].value<<8)),mo.jc=!mo.Qb&&6>ic,mo.jc){var du,Qa=mo;for(du=0;du<Nn;++du){var Di=du,To=Qa.pd[Di],ll=Qa.G[0][Qa.H[0]+Di];256<=ll.value?(To.g=ll.g+256,To.value=ll.value):(To.g=0,To.value=0,Di>>=Dt(ll,8,To),Di>>=Dt(Qa.G[1][Qa.H[1]+Di],16,To),Di>>=Dt(Qa.G[2][Qa.H[2]+Di],0,To),Dt(Qa.G[3][Qa.H[3]+Di],24,To))}}}mn.vc=Rn,mn.Wb=Yn,mn.Ya=ho,mn.yc=ni,Gr=1;break t}Gr=0}if(!(ne=Gr)){U.a=3;break e}if(0<qe){if(ve.ua=1<<qe,!De(ve.Wa,qe)){U.a=1,ne=0;break e}}else ve.ua=0;var vd=U,yd=oe,Jp=ce,xd=vd.s,bd=xd.xc;if(vd.c=yd,vd.i=Jp,xd.md=Q(yd,bd),xd.wc=bd==0?-1:(1<<bd)-1,k){U.xb=ri;break e}if((Oe=i(oe*ce))==null){U.a=1,ne=0;break e}ne=(ne=Ze(U,Oe,0,oe,ce,ce,null))&&!fe.h;break e}return ne?(X!=null?X[0]=Oe:(t(Oe==null),t(k)),U.$=0,k||st(ve)):st(ve),ne}function gt(v,N){var k=v.c*v.i,U=k+N+16*N;return t(v.c<=N),v.V=i(U),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+k+N,1)}function $t(v,N){var k=v.C,U=N-k,X=v.V,ne=v.Ba+v.c*k;for(t(N<=v.l.o);0<U;){var oe=16<U?16:U,ce=v.l.ma,fe=v.l.width,ve=fe*oe,Oe=ce.ca,qe=ce.tb+fe*k,Ue=v.Ta,Re=v.Ua;Je(v,oe,X,ne),jn(Ue,Re,Oe,qe,ve),ye(ce,k,k+oe,Oe,qe,fe),U-=oe,X+=oe*v.c,k+=oe}t(k==N),v.C=v.Ma=N}function dr(){this.ub=this.yd=this.td=this.Rb=0}function Rr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xn(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Gn(){this.Yb=(function(){var v=[];return(function N(k,U,X){for(var ne=X[U],oe=0;oe<ne&&(k.push(X.length>U+1?[]:0),!(X.length<U+1));oe++)N(k[oe],U+1,X)})(v,0,[3,11]),v})()}function Cr(){this.jb=i(3),this.Wc=c([4,8],Gn),this.Xc=c([4,17],Gn)}function Ho(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function yr(){this.ld=this.La=this.dd=this.tc=0}function bn(){this.Na=this.la=0}function Co(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ts(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xu(){this.uc=this.M=this.Nb=0,this.wa=Array(new yr),this.Y=0,this.ya=Array(new Ts),this.aa=0,this.l=new El}function Ds(){this.y=i(16),this.f=i(8),this.ea=i(8)}function oo(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new dr,this.Kc=new Rr,this.ed=new Ho,this.Qa=new xn,this.Ic=this.$c=this.Aa=0,this.D=new Xu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,re),this.ia=0,this.pb=s(4,Co),this.Pa=new Cr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ds),this.Hd=0,this.rb=Array(new bn),this.sb=0,this.wa=Array(new yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ts),this.L=this.aa=0,this.gd=c([4,2],yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function El(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wa(){var v=new oo;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,rl||(rl=Ms)),v}function Cn(v,N,k){return v.a==0&&(v.a=N,v.sc=k,v.cb=0),0}function Zu(v,N,k){return 3<=k&&v[N+0]==157&&v[N+1]==1&&v[N+2]==42}function Qu(v,N){if(v==null)return 0;if(v.a=0,v.sc="OK",N==null)return Cn(v,2,"null VP8Io passed to VP8GetHeaders()");var k=N.data,U=N.w,X=N.ha;if(4>X)return Cn(v,7,"Truncated header.");var ne=k[U+0]|k[U+1]<<8|k[U+2]<<16,oe=v.Od;if(oe.Rb=!(1&ne),oe.td=ne>>1&7,oe.yd=ne>>4&1,oe.ub=ne>>5,3<oe.td)return Cn(v,3,"Incorrect keyframe parameters.");if(!oe.yd)return Cn(v,4,"Frame not displayable.");U+=3,X-=3;var ce=v.Kc;if(oe.Rb){if(7>X)return Cn(v,7,"cannot parse picture header");if(!Zu(k,U,X))return Cn(v,3,"Bad code word");ce.c=16383&(k[U+4]<<8|k[U+3]),ce.Td=k[U+4]>>6,ce.i=16383&(k[U+6]<<8|k[U+5]),ce.Ud=k[U+6]>>6,U+=7,X-=7,v.za=ce.c+15>>4,v.Ub=ce.i+15>>4,N.width=ce.c,N.height=ce.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((ne=v.Pa).jb,0,255,ne.jb.length),t((ne=v.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,a(ne.Zb,0,0,ne.Zb.length),a(ne.Lb,0,0,ne.Lb)}if(oe.ub>X)return Cn(v,7,"bad partition length");z(ne=v.m,k,U,oe.ub),U+=oe.ub,X-=oe.ub,oe.Rb&&(ce.Ld=be(ne),ce.Kd=be(ne)),ce=v.Qa;var fe,ve=v.Pa;if(t(ne!=null),t(ce!=null),ce.Cb=be(ne),ce.Cb){if(ce.Bb=be(ne),be(ne)){for(ce.Fb=be(ne),fe=0;4>fe;++fe)ce.Zb[fe]=be(ne)?ee(ne,7):0;for(fe=0;4>fe;++fe)ce.Lb[fe]=be(ne)?ee(ne,6):0}if(ce.Bb)for(fe=0;3>fe;++fe)ve.jb[fe]=be(ne)?W(ne,8):255}else ce.Bb=0;if(ne.Ka)return Cn(v,3,"cannot parse segment header");if((ce=v.ed).zd=be(ne),ce.Tb=W(ne,6),ce.wb=W(ne,3),ce.Pc=be(ne),ce.Pc&&be(ne)){for(ve=0;4>ve;++ve)be(ne)&&(ce.vd[ve]=ee(ne,6));for(ve=0;4>ve;++ve)be(ne)&&(ce.od[ve]=ee(ne,6))}if(v.L=ce.Tb==0?0:ce.zd?1:2,ne.Ka)return Cn(v,3,"cannot parse filter header");var Oe=X;if(X=fe=U,U=fe+Oe,ce=Oe,v.Xb=(1<<W(v.m,2))-1,Oe<3*(ve=v.Xb))k=7;else{for(fe+=3*ve,ce-=3*ve,Oe=0;Oe<ve;++Oe){var qe=k[X+0]|k[X+1]<<8|k[X+2]<<16;qe>ce&&(qe=ce),z(v.Jc[+Oe],k,fe,qe),fe+=qe,ce-=qe,X+=3}z(v.Jc[+ve],k,fe,ce),k=fe<U?0:5}if(k!=0)return Cn(v,k,"cannot parse partitions");for(k=W(fe=v.m,7),X=be(fe)?ee(fe,4):0,U=be(fe)?ee(fe,4):0,ce=be(fe)?ee(fe,4):0,ve=be(fe)?ee(fe,4):0,fe=be(fe)?ee(fe,4):0,Oe=v.Qa,qe=0;4>qe;++qe){if(Oe.Cb){var Ue=Oe.Zb[qe];Oe.Fb||(Ue+=k)}else{if(0<qe){v.pb[qe]=v.pb[0];continue}Ue=k}var Re=v.pb[qe];Re.Sc[0]=tc[Ga(Ue+X,127)],Re.Sc[1]=iu[Ga(Ue+0,127)],Re.Eb[0]=2*tc[Ga(Ue+U,127)],Re.Eb[1]=101581*iu[Ga(Ue+ce,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=tc[Ga(Ue+ve,117)],Re.Qc[1]=iu[Ga(Ue+fe,127)],Re.lc=Ue+fe}if(!oe.Rb)return Cn(v,4,"Not a key frame.");for(be(ne),oe=v.Pa,k=0;4>k;++k){for(X=0;8>X;++X)for(U=0;3>U;++U)for(ce=0;11>ce;++ce)ve=ge(ne,ov[k][X][U][ce])?W(ne,8):qp[k][X][U][ce],oe.Wc[k][X].Yb[U][ce]=ve;for(X=0;17>X;++X)oe.Xc[k][X]=oe.Wc[k][Kf[X]]}return v.kc=be(ne),v.kc&&(v.Bd=W(ne,8)),v.cb=1}function Ms(v,N,k,U,X,ne,oe){var ce=N[X].Yb[k];for(k=0;16>X;++X){if(!ge(v,ce[k+0]))return X;for(;!ge(v,ce[k+1]);)if(ce=N[++X].Yb[0],k=0,X==16)return 16;var fe=N[X+1].Yb;if(ge(v,ce[k+2])){var ve=v,Oe=0;if(ge(ve,(Ue=ce)[(qe=k)+3]))if(ge(ve,Ue[qe+6])){for(ce=0,qe=2*(Oe=ge(ve,Ue[qe+8]))+(Ue=ge(ve,Ue[qe+9+Oe])),Oe=0,Ue=Hf[qe];Ue[ce];++ce)Oe+=Oe+ge(ve,Ue[ce]);Oe+=3+(8<<qe)}else ge(ve,Ue[qe+7])?(Oe=7+2*ge(ve,165),Oe+=ge(ve,145)):Oe=5+ge(ve,159);else Oe=ge(ve,Ue[qe+4])?3+ge(ve,Ue[qe+5]):2;ce=fe[2]}else Oe=1,ce=fe[1];fe=oe+Gf[X],0>(ve=v).b&&pe(ve);var qe,Ue=ve.b,Re=(qe=ve.Ca>>1)-(ve.I>>Ue)>>31;--ve.b,ve.Ca+=Re,ve.Ca|=1,ve.I-=(qe+1&Re)<<Ue,ne[fe]=((Oe^Re)-Re)*U[(0<X)+0]}return 16}function es(v){var N=v.rb[v.sb-1];N.la=0,N.Na=0,a(v.zc,0,0,v.zc.length),v.ja=0}function Rs(v,N){if(v==null)return 0;if(N==null)return Cn(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Qu(v,N))return 0;if(t(v.cb),N.ac==null||N.ac(N)){N.ob&&(v.L=0);var k=ol[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=N.v-k>>4,v.zb=N.j-k>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=N.o+15+k>>4,v.Hb=N.va+15+k>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var U=v.ed;for(k=0;4>k;++k){var X;if(v.Qa.Cb){var ne=v.Qa.Lb[k];v.Qa.Fb||(ne+=U.Tb)}else ne=U.Tb;for(X=0;1>=X;++X){var oe=v.gd[k][X],ce=ne;if(U.Pc&&(ce+=U.vd[0],X&&(ce+=U.od[0])),0<(ce=0>ce?0:63<ce?63:ce)){var fe=ce;0<U.wb&&(fe=4<U.wb?fe>>2:fe>>1)>9-U.wb&&(fe=9-U.wb),1>fe&&(fe=1),oe.dd=fe,oe.tc=2*ce+fe,oe.ld=40<=ce?2:15<=ce?1:0}else oe.tc=0;oe.La=X}}}k=0}else Cn(v,6,"Frame setup failed"),k=v.a;if(k=k==0){if(k){v.$c=0,0<v.Aa||(v.Ic=Oi);e:{k=v.Ic,U=4*(fe=v.za);var ve=32*fe,Oe=fe+1,qe=0<v.L?fe*(0<v.Aa?2:1):0,Ue=(v.Aa==2?2:1)*fe;if((oe=U+832+(X=3*(16*k+ol[v.L])/2*ve)+(ne=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=oe)k=0;else{if(oe>v.Vb){if(v.Vb=0,v.Ec=i(oe),v.Fc=0,v.Ec==null){k=Cn(v,1,"no memory during frame initialization.");break e}v.Vb=oe}oe=v.Ec,ce=v.Fc,v.Ac=oe,v.Bc=ce,ce+=U,v.Gd=s(ve,Ds),v.Hd=0,v.rb=s(Oe+1,bn),v.sb=1,v.wa=qe?s(qe,yr):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=fe),t(!0),v.oc=oe,v.pc=ce,ce+=832,v.ya=s(Ue,Ts),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=fe),v.R=16*fe,v.B=8*fe,fe=(ve=ol[v.L])*v.R,ve=ve/2*v.B,v.sa=oe,v.ta=ce+fe,v.qa=v.sa,v.ra=v.ta+16*k*v.R+ve,v.Ha=v.qa,v.Ia=v.ra+8*k*v.B+ve,v.$c=0,ce+=X,v.mb=ne?oe:null,v.nb=ne?ce:null,t(ce+ne<=v.Fc+v.Vb),es(v),a(v.Ac,v.Bc,0,U),k=1}}if(k){if(N.ka=0,N.y=v.sa,N.O=v.ta,N.f=v.qa,N.N=v.ra,N.ea=v.Ha,N.Vd=v.Ia,N.fa=v.R,N.Rc=v.B,N.F=null,N.J=0,!eu){for(k=-255;255>=k;++k)En[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)ei[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Zl[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)Qs[255+k]=0>k?0:255<k?255:k;eu=1}Xl=Tr,Si=Uc,Ci=ts,ia=Uf,Ka=kl,Dr=qc,Js=$l,Qc=Dn,Ys=Vs,Xs=Kc,Zs=os,Ja=is,Ai=Ws,Qo=Fl,Pi=_o,_i=io,fs=so,Kn=nd,uo[0]=Yo,uo[1]=ed,uo[2]=Bs,uo[3]=Jo,uo[4]=Wc,uo[5]=Ll,uo[6]=ns,uo[7]=Tl,uo[8]=rd,uo[9]=Dl,wa[0]=zs,wa[1]=td,wa[2]=Go,wa[3]=Fs,wa[4]=fn,wa[5]=Ko,wa[6]=Ao,Oa[0]=Ha,Oa[1]=Vc,Oa[2]=Vf,Oa[3]=xi,Oa[4]=qs,Oa[5]=Ml,Oa[6]=Hc,k=1}else k=0}k&&(k=(function(Re,ot){for(Re.M=0;Re.M<Re.Va;++Re.M){var Xe,Ie=Re.Jc[Re.M&Re.Xb],Le=Re.m,tt=Re;for(Xe=0;Xe<tt.za;++Xe){var et=Le,rt=tt,Lt=rt.Ac,Pt=rt.Bc+4*Xe,Jt=rt.zc,_t=rt.ya[rt.aa+Xe];if(rt.Qa.Bb?_t.$b=ge(et,rt.Pa.jb[0])?2+ge(et,rt.Pa.jb[2]):ge(et,rt.Pa.jb[1]):_t.$b=0,rt.kc&&(_t.Ad=ge(et,rt.Bd)),_t.Za=!ge(et,145)+0,_t.Za){var kr=_t.Ob,Ir=0;for(rt=0;4>rt;++rt){var _r,xr=Jt[0+rt];for(_r=0;4>_r;++_r){xr=av[Lt[Pt+_r]][xr];for(var Gr=Bp[ge(et,xr[0])];0<Gr;)Gr=Bp[2*Gr+ge(et,xr[Gr])];xr=-Gr,Lt[Pt+_r]=xr}n(kr,Ir,Lt,Pt,4),Ir+=4,Jt[0+rt]=xr}}else xr=ge(et,156)?ge(et,128)?1:3:ge(et,163)?2:0,_t.Ob[0]=xr,a(Lt,Pt,xr,4),a(Jt,0,xr,4);_t.Dd=ge(et,142)?ge(et,114)?ge(et,183)?1:3:2:0}if(tt.m.Ka)return Cn(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(tt=Ie,et=(Le=Re).rb[Le.sb-1],Lt=Le.rb[Le.sb+Le.ja],Xe=Le.ya[Le.aa+Le.ja],Pt=Le.kc?Xe.Ad:0)et.la=Lt.la=0,Xe.Za||(et.Na=Lt.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var Jr,lr;if(et=Lt,Lt=tt,Pt=Le.Pa.Xc,Jt=Le.ya[Le.aa+Le.ja],_t=Le.pb[Jt.$b],rt=Jt.ad,kr=0,Ir=Le.rb[Le.sb-1],xr=_r=0,a(rt,kr,0,384),Jt.Za)var pn=0,Na=Pt[3];else{Gr=i(16);var An=et.Na+Ir.Na;if(An=rl(Lt,Pt[1],An,_t.Eb,0,Gr,0),et.Na=Ir.Na=(0<An)+0,1<An)Xl(Gr,0,rt,kr);else{var Mn=Gr[0]+3>>3;for(Gr=0;256>Gr;Gr+=16)rt[kr+Gr]=Mn}pn=1,Na=Pt[0]}var $r=15&et.la,la=15&Ir.la;for(Gr=0;4>Gr;++Gr){var ca=1&la;for(Mn=lr=0;4>Mn;++Mn)$r=$r>>1|(ca=(An=rl(Lt,Na,An=ca+(1&$r),_t.Sc,pn,rt,kr))>pn)<<7,lr=lr<<2|(3<An?3:1<An?2:rt[kr+0]!=0),kr+=16;$r>>=4,la=la>>1|ca<<7,_r=(_r<<8|lr)>>>0}for(Na=$r,pn=la>>4,Jr=0;4>Jr;Jr+=2){for(lr=0,$r=et.la>>4+Jr,la=Ir.la>>4+Jr,Gr=0;2>Gr;++Gr){for(ca=1&la,Mn=0;2>Mn;++Mn)An=ca+(1&$r),$r=$r>>1|(ca=0<(An=rl(Lt,Pt[2],An,_t.Qc,0,rt,kr)))<<3,lr=lr<<2|(3<An?3:1<An?2:rt[kr+0]!=0),kr+=16;$r>>=2,la=la>>1|ca<<5}xr|=lr<<4*Jr,Na|=$r<<4<<Jr,pn|=(240&la)<<Jr}et.la=Na,Ir.la=pn,Jt.Hc=_r,Jt.Gc=xr,Jt.ia=43690&xr?0:_t.ia,Pt=!(_r|xr)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[Xe.$b][Xe.Za],Le.wa[Le.Y+Le.ja].La|=!Pt),tt.Ka)return Cn(Re,7,"Premature end-of-file encountered.")}if(es(Re),Le=ot,tt=1,Xe=(Ie=Re).D,et=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(Xe.M=Ie.M,Xe.uc=et,ql(Ie,Xe),tt=1,Xe=(lr=Ie.D).Nb,et=(xr=ol[Ie.L])*Ie.R,Lt=xr/2*Ie.B,Gr=16*Xe*Ie.R,Mn=8*Xe*Ie.B,Pt=Ie.sa,Jt=Ie.ta-et+Gr,_t=Ie.qa,rt=Ie.ra-Lt+Mn,kr=Ie.Ha,Ir=Ie.Ia-Lt+Mn,la=($r=lr.M)==0,_r=$r>=Ie.Va-1,Ie.Aa==2&&ql(Ie,lr),lr.uc)for(ca=(An=Ie).D.M,t(An.D.uc),lr=An.yb;lr<An.Hb;++lr){pn=lr,Na=ca;var mn=(Rn=(Fr=An).D).Nb;Jr=Fr.R;var Rn=Rn.wa[Rn.Y+pn],Yn=Fr.sa,Ta=Fr.ta+16*mn*Jr+16*pn,fo=Rn.dd,gn=Rn.tc;if(gn!=0)if(t(3<=gn),Fr.L==1)0<pn&&_i(Yn,Ta,Jr,gn+4),Rn.La&&Kn(Yn,Ta,Jr,gn),0<Na&&Pi(Yn,Ta,Jr,gn+4),Rn.La&&fs(Yn,Ta,Jr,gn);else{var On=Fr.B,Ya=Fr.qa,gs=Fr.ra+8*mn*On+8*pn,ki=Fr.Ha,Fr=Fr.Ia+8*mn*On+8*pn;mn=Rn.ld,0<pn&&(Qc(Yn,Ta,Jr,gn+4,fo,mn),Xs(Ya,gs,ki,Fr,On,gn+4,fo,mn)),Rn.La&&(Ja(Yn,Ta,Jr,gn,fo,mn),Qo(Ya,gs,ki,Fr,On,gn,fo,mn)),0<Na&&(Js(Yn,Ta,Jr,gn+4,fo,mn),Ys(Ya,gs,ki,Fr,On,gn+4,fo,mn)),Rn.La&&(Zs(Yn,Ta,Jr,gn,fo,mn),Ai(Ya,gs,ki,Fr,On,gn,fo,mn))}}if(Ie.ia&&alert("todo:DitherRow"),Le.put!=null){if(lr=16*$r,$r=16*($r+1),la?(Le.y=Ie.sa,Le.O=Ie.ta+Gr,Le.f=Ie.qa,Le.N=Ie.ra+Mn,Le.ea=Ie.Ha,Le.W=Ie.Ia+Mn):(lr-=xr,Le.y=Pt,Le.O=Jt,Le.f=_t,Le.N=rt,Le.ea=kr,Le.W=Ir),_r||($r-=xr),$r>Le.o&&($r=Le.o),Le.F=null,Le.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&lr<$r&&(Le.J=Yc(Ie,Le,lr,$r-lr),Le.F=Ie.mb,Le.F==null&&Le.F.length==0)){tt=Cn(Ie,3,"Could not decode alpha data.");break e}lr<Le.j&&(xr=Le.j-lr,lr=Le.j,t(!(1&xr)),Le.O+=Ie.R*xr,Le.N+=Ie.B*(xr>>1),Le.W+=Ie.B*(xr>>1),Le.F!=null&&(Le.J+=Le.width*xr)),lr<$r&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=lr-Le.j,Le.U=Le.va-Le.v,Le.T=$r-lr,tt=Le.put(Le))}Xe+1!=Ie.Ic||_r||(n(Ie.sa,Ie.ta-et,Pt,Jt+16*Ie.R,et),n(Ie.qa,Ie.ra-Lt,_t,rt+8*Ie.B,Lt),n(Ie.Ha,Ie.Ia-Lt,kr,Ir+8*Ie.B,Lt))}if(!tt)return Cn(Re,6,"Output aborted.")}return 1})(v,N)),N.bc!=null&&N.bc(N),k&=1}return k?(v.cb=0,k):0}function Aa(v,N,k,U,X){X=v[N+k+32*U]+(X>>3),v[N+k+32*U]=-256&X?0>X?0:255:X}function Ol(v,N,k,U,X,ne){Aa(v,N,0,k,U+X),Aa(v,N,1,k,U+ne),Aa(v,N,2,k,U-ne),Aa(v,N,3,k,U-X)}function Pa(v){return(20091*v>>16)+v}function $s(v,N,k,U){var X,ne=0,oe=i(16);for(X=0;4>X;++X){var ce=v[N+0]+v[N+8],fe=v[N+0]-v[N+8],ve=(35468*v[N+4]>>16)-Pa(v[N+12]),Oe=Pa(v[N+4])+(35468*v[N+12]>>16);oe[ne+0]=ce+Oe,oe[ne+1]=fe+ve,oe[ne+2]=fe-ve,oe[ne+3]=ce-Oe,ne+=4,N++}for(X=ne=0;4>X;++X)ce=(v=oe[ne+0]+4)+oe[ne+8],fe=v-oe[ne+8],ve=(35468*oe[ne+4]>>16)-Pa(oe[ne+12]),Aa(k,U,0,0,ce+(Oe=Pa(oe[ne+4])+(35468*oe[ne+12]>>16))),Aa(k,U,1,0,fe+ve),Aa(k,U,2,0,fe-ve),Aa(k,U,3,0,ce-Oe),ne++,U+=32}function qc(v,N,k,U){var X=v[N+0]+4,ne=35468*v[N+4]>>16,oe=Pa(v[N+4]),ce=35468*v[N+1]>>16;Ol(k,U,0,X+oe,v=Pa(v[N+1]),ce),Ol(k,U,1,X+ne,v,ce),Ol(k,U,2,X-ne,v,ce),Ol(k,U,3,X-oe,v,ce)}function Uc(v,N,k,U,X){$s(v,N,k,U),X&&$s(v,N+16,k,U+4)}function ts(v,N,k,U){Si(v,N+0,k,U,1),Si(v,N+32,k,U+128,1)}function Uf(v,N,k,U){var X;for(v=v[N+0]+4,X=0;4>X;++X)for(N=0;4>N;++N)Aa(k,U,N,X,v)}function kl(v,N,k,U){v[N+0]&&ia(v,N+0,k,U),v[N+16]&&ia(v,N+16,k,U+4),v[N+32]&&ia(v,N+32,k,U+128),v[N+48]&&ia(v,N+48,k,U+128+4)}function Tr(v,N,k,U){var X,ne=i(16);for(X=0;4>X;++X){var oe=v[N+0+X]+v[N+12+X],ce=v[N+4+X]+v[N+8+X],fe=v[N+4+X]-v[N+8+X],ve=v[N+0+X]-v[N+12+X];ne[0+X]=oe+ce,ne[8+X]=oe-ce,ne[4+X]=ve+fe,ne[12+X]=ve-fe}for(X=0;4>X;++X)oe=(v=ne[0+4*X]+3)+ne[3+4*X],ce=ne[1+4*X]+ne[2+4*X],fe=ne[1+4*X]-ne[2+4*X],ve=v-ne[3+4*X],k[U+0]=oe+ce>>3,k[U+16]=ve+fe>>3,k[U+32]=oe-ce>>3,k[U+48]=ve-fe>>3,U+=64}function Il(v,N,k){var U,X=N-32,ne=ba,oe=255-v[X-1];for(U=0;U<k;++U){var ce,fe=ne,ve=oe+v[N-1];for(ce=0;ce<k;++ce)v[N+ce]=fe[ve+v[X+ce]];N+=32}}function ed(v,N){Il(v,N,4)}function Vc(v,N){Il(v,N,8)}function td(v,N){Il(v,N,16)}function Go(v,N){var k;for(k=0;16>k;++k)n(v,N+32*k,v,N-32,16)}function Fs(v,N){var k;for(k=16;0<k;--k)a(v,N,v[N-1],16),N+=32}function rs(v,N,k){var U;for(U=0;16>U;++U)a(N,k+32*U,v,16)}function zs(v,N){var k,U=16;for(k=0;16>k;++k)U+=v[N-1+32*k]+v[N+k-32];rs(U>>5,v,N)}function fn(v,N){var k,U=8;for(k=0;16>k;++k)U+=v[N-1+32*k];rs(U>>4,v,N)}function Ko(v,N){var k,U=8;for(k=0;16>k;++k)U+=v[N+k-32];rs(U>>4,v,N)}function Ao(v,N){rs(128,v,N)}function rr(v,N,k){return v+2*N+k+2>>2}function Bs(v,N){var k,U=N-32;for(U=new Uint8Array([rr(v[U-1],v[U+0],v[U+1]),rr(v[U+0],v[U+1],v[U+2]),rr(v[U+1],v[U+2],v[U+3]),rr(v[U+2],v[U+3],v[U+4])]),k=0;4>k;++k)n(v,N+32*k,U,0,U.length)}function Jo(v,N){var k=v[N-1],U=v[N-1+32],X=v[N-1+64],ne=v[N-1+96];Te(v,N+0,16843009*rr(v[N-1-32],k,U)),Te(v,N+32,16843009*rr(k,U,X)),Te(v,N+64,16843009*rr(U,X,ne)),Te(v,N+96,16843009*rr(X,ne,ne))}function Yo(v,N){var k,U=4;for(k=0;4>k;++k)U+=v[N+k-32]+v[N-1+32*k];for(U>>=3,k=0;4>k;++k)a(v,N+32*k,U,4)}function Wc(v,N){var k=v[N-1+0],U=v[N-1+32],X=v[N-1+64],ne=v[N-1-32],oe=v[N+0-32],ce=v[N+1-32],fe=v[N+2-32],ve=v[N+3-32];v[N+0+96]=rr(U,X,v[N-1+96]),v[N+1+96]=v[N+0+64]=rr(k,U,X),v[N+2+96]=v[N+1+64]=v[N+0+32]=rr(ne,k,U),v[N+3+96]=v[N+2+64]=v[N+1+32]=v[N+0+0]=rr(oe,ne,k),v[N+3+64]=v[N+2+32]=v[N+1+0]=rr(ce,oe,ne),v[N+3+32]=v[N+2+0]=rr(fe,ce,oe),v[N+3+0]=rr(ve,fe,ce)}function ns(v,N){var k=v[N+1-32],U=v[N+2-32],X=v[N+3-32],ne=v[N+4-32],oe=v[N+5-32],ce=v[N+6-32],fe=v[N+7-32];v[N+0+0]=rr(v[N+0-32],k,U),v[N+1+0]=v[N+0+32]=rr(k,U,X),v[N+2+0]=v[N+1+32]=v[N+0+64]=rr(U,X,ne),v[N+3+0]=v[N+2+32]=v[N+1+64]=v[N+0+96]=rr(X,ne,oe),v[N+3+32]=v[N+2+64]=v[N+1+96]=rr(ne,oe,ce),v[N+3+64]=v[N+2+96]=rr(oe,ce,fe),v[N+3+96]=rr(ce,fe,fe)}function Ll(v,N){var k=v[N-1+0],U=v[N-1+32],X=v[N-1+64],ne=v[N-1-32],oe=v[N+0-32],ce=v[N+1-32],fe=v[N+2-32],ve=v[N+3-32];v[N+0+0]=v[N+1+64]=ne+oe+1>>1,v[N+1+0]=v[N+2+64]=oe+ce+1>>1,v[N+2+0]=v[N+3+64]=ce+fe+1>>1,v[N+3+0]=fe+ve+1>>1,v[N+0+96]=rr(X,U,k),v[N+0+64]=rr(U,k,ne),v[N+0+32]=v[N+1+96]=rr(k,ne,oe),v[N+1+32]=v[N+2+96]=rr(ne,oe,ce),v[N+2+32]=v[N+3+96]=rr(oe,ce,fe),v[N+3+32]=rr(ce,fe,ve)}function Tl(v,N){var k=v[N+0-32],U=v[N+1-32],X=v[N+2-32],ne=v[N+3-32],oe=v[N+4-32],ce=v[N+5-32],fe=v[N+6-32],ve=v[N+7-32];v[N+0+0]=k+U+1>>1,v[N+1+0]=v[N+0+64]=U+X+1>>1,v[N+2+0]=v[N+1+64]=X+ne+1>>1,v[N+3+0]=v[N+2+64]=ne+oe+1>>1,v[N+0+32]=rr(k,U,X),v[N+1+32]=v[N+0+96]=rr(U,X,ne),v[N+2+32]=v[N+1+96]=rr(X,ne,oe),v[N+3+32]=v[N+2+96]=rr(ne,oe,ce),v[N+3+64]=rr(oe,ce,fe),v[N+3+96]=rr(ce,fe,ve)}function Dl(v,N){var k=v[N-1+0],U=v[N-1+32],X=v[N-1+64],ne=v[N-1+96];v[N+0+0]=k+U+1>>1,v[N+2+0]=v[N+0+32]=U+X+1>>1,v[N+2+32]=v[N+0+64]=X+ne+1>>1,v[N+1+0]=rr(k,U,X),v[N+3+0]=v[N+1+32]=rr(U,X,ne),v[N+3+32]=v[N+1+64]=rr(X,ne,ne),v[N+3+64]=v[N+2+64]=v[N+0+96]=v[N+1+96]=v[N+2+96]=v[N+3+96]=ne}function rd(v,N){var k=v[N-1+0],U=v[N-1+32],X=v[N-1+64],ne=v[N-1+96],oe=v[N-1-32],ce=v[N+0-32],fe=v[N+1-32],ve=v[N+2-32];v[N+0+0]=v[N+2+32]=k+oe+1>>1,v[N+0+32]=v[N+2+64]=U+k+1>>1,v[N+0+64]=v[N+2+96]=X+U+1>>1,v[N+0+96]=ne+X+1>>1,v[N+3+0]=rr(ce,fe,ve),v[N+2+0]=rr(oe,ce,fe),v[N+1+0]=v[N+3+32]=rr(k,oe,ce),v[N+1+32]=v[N+3+64]=rr(U,k,oe),v[N+1+64]=v[N+3+96]=rr(X,U,k),v[N+1+96]=rr(ne,X,U)}function Vf(v,N){var k;for(k=0;8>k;++k)n(v,N+32*k,v,N-32,8)}function xi(v,N){var k;for(k=0;8>k;++k)a(v,N,v[N-1],8),N+=32}function Po(v,N,k){var U;for(U=0;8>U;++U)a(N,k+32*U,v,8)}function Ha(v,N){var k,U=8;for(k=0;8>k;++k)U+=v[N+k-32]+v[N-1+32*k];Po(U>>4,v,N)}function Ml(v,N){var k,U=4;for(k=0;8>k;++k)U+=v[N+k-32];Po(U>>3,v,N)}function qs(v,N){var k,U=4;for(k=0;8>k;++k)U+=v[N-1+32*k];Po(U>>3,v,N)}function Hc(v,N){Po(128,v,N)}function as(v,N,k){var U=v[N-k],X=v[N+0],ne=3*(X-U)+ti[1020+v[N-2*k]-v[N+k]],oe=Ql[112+(ne+4>>3)];v[N-k]=ba[255+U+Ql[112+(ne+3>>3)]],v[N+0]=ba[255+X-oe]}function Us(v,N,k,U){var X=v[N+0],ne=v[N+k];return co[255+v[N-2*k]-v[N-k]]>U||co[255+ne-X]>U}function Rl(v,N,k,U){return 4*co[255+v[N-k]-v[N+0]]+co[255+v[N-2*k]-v[N+k]]<=U}function Gc(v,N,k,U,X){var ne=v[N-3*k],oe=v[N-2*k],ce=v[N-k],fe=v[N+0],ve=v[N+k],Oe=v[N+2*k],qe=v[N+3*k];return 4*co[255+ce-fe]+co[255+oe-ve]>U?0:co[255+v[N-4*k]-ne]<=X&&co[255+ne-oe]<=X&&co[255+oe-ce]<=X&&co[255+qe-Oe]<=X&&co[255+Oe-ve]<=X&&co[255+ve-fe]<=X}function _o(v,N,k,U){var X=2*U+1;for(U=0;16>U;++U)Rl(v,N+U,k,X)&&as(v,N+U,k)}function io(v,N,k,U){var X=2*U+1;for(U=0;16>U;++U)Rl(v,N+U*k,1,X)&&as(v,N+U*k,1)}function so(v,N,k,U){var X;for(X=3;0<X;--X)_o(v,N+=4*k,k,U)}function nd(v,N,k,U){var X;for(X=3;0<X;--X)io(v,N+=4,k,U)}function Eo(v,N,k,U,X,ne,oe,ce){for(ne=2*ne+1;0<X--;){if(Gc(v,N,k,ne,oe))if(Us(v,N,k,ce))as(v,N,k);else{var fe=v,ve=N,Oe=k,qe=fe[ve-2*Oe],Ue=fe[ve-Oe],Re=fe[ve+0],ot=fe[ve+Oe],Xe=fe[ve+2*Oe],Ie=27*(tt=ti[1020+3*(Re-Ue)+ti[1020+qe-ot]])+63>>7,Le=18*tt+63>>7,tt=9*tt+63>>7;fe[ve-3*Oe]=ba[255+fe[ve-3*Oe]+tt],fe[ve-2*Oe]=ba[255+qe+Le],fe[ve-Oe]=ba[255+Ue+Ie],fe[ve+0]=ba[255+Re-Ie],fe[ve+Oe]=ba[255+ot-Le],fe[ve+2*Oe]=ba[255+Xe-tt]}N+=U}}function _a(v,N,k,U,X,ne,oe,ce){for(ne=2*ne+1;0<X--;){if(Gc(v,N,k,ne,oe))if(Us(v,N,k,ce))as(v,N,k);else{var fe=v,ve=N,Oe=k,qe=fe[ve-Oe],Ue=fe[ve+0],Re=fe[ve+Oe],ot=Ql[112+((Xe=3*(Ue-qe))+4>>3)],Xe=Ql[112+(Xe+3>>3)],Ie=ot+1>>1;fe[ve-2*Oe]=ba[255+fe[ve-2*Oe]+Ie],fe[ve-Oe]=ba[255+qe+Xe],fe[ve+0]=ba[255+Ue-ot],fe[ve+Oe]=ba[255+Re-Ie]}N+=U}}function $l(v,N,k,U,X,ne){Eo(v,N,k,1,16,U,X,ne)}function Dn(v,N,k,U,X,ne){Eo(v,N,1,k,16,U,X,ne)}function os(v,N,k,U,X,ne){var oe;for(oe=3;0<oe;--oe)_a(v,N+=4*k,k,1,16,U,X,ne)}function is(v,N,k,U,X,ne){var oe;for(oe=3;0<oe;--oe)_a(v,N+=4,1,k,16,U,X,ne)}function Vs(v,N,k,U,X,ne,oe,ce){Eo(v,N,X,1,8,ne,oe,ce),Eo(k,U,X,1,8,ne,oe,ce)}function Kc(v,N,k,U,X,ne,oe,ce){Eo(v,N,1,X,8,ne,oe,ce),Eo(k,U,1,X,8,ne,oe,ce)}function Ws(v,N,k,U,X,ne,oe,ce){_a(v,N+4*X,X,1,8,ne,oe,ce),_a(k,U+4*X,X,1,8,ne,oe,ce)}function Fl(v,N,k,U,X,ne,oe,ce){_a(v,N+4,1,X,8,ne,oe,ce),_a(k,U+4,1,X,8,ne,oe,ce)}function Xo(){this.ba=new Ye,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ss(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ad(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new $}function Wf(){this.xb=this.a=0,this.l=new El,this.ca=new Ye,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ad,this.ab=0,this.gc=s(4,zl),this.Oc=0}function Bl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new El,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bi(v,N,k,U,X,ne,oe){for(v=v==null?0:v[N+0],N=0;N<oe;++N)X[ne+N]=v+k[U+N]&255,v=X[ne+N]}function Jc(v,N,k,U,X,ne,oe){var ce;if(v==null)bi(null,null,k,U,X,ne,oe);else for(ce=0;ce<oe;++ce)X[ne+ce]=v[N+ce]+k[U+ce]&255}function ls(v,N,k,U,X,ne,oe){if(v==null)bi(null,null,k,U,X,ne,oe);else{var ce,fe=v[N+0],ve=fe,Oe=fe;for(ce=0;ce<oe;++ce)ve=Oe+(fe=v[N+ce])-ve,Oe=k[U+ce]+(-256&ve?0>ve?0:255:ve)&255,ve=fe,X[ne+ce]=Oe}}function Yc(v,N,k,U){var X=N.width,ne=N.o;if(t(v!=null&&N!=null),0>k||0>=U||k+U>ne)return null;if(!v.Cc){if(v.ga==null){var oe;if(v.ga=new Bl,(oe=v.ga==null)||(oe=N.width*N.o,t(v.Gb.length==0),v.Gb=i(oe),v.Uc=0,v.Gb==null?oe=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,oe=1),oe=!oe),!oe){oe=v.ga;var ce=v.Fa,fe=v.P,ve=v.qc,Oe=v.mb,qe=v.nb,Ue=fe+1,Re=ve-1,ot=oe.l;if(t(ce!=null&&Oe!=null&&N!=null),sa[0]=null,sa[1]=bi,sa[2]=Jc,sa[3]=ls,oe.ca=Oe,oe.tb=qe,oe.c=N.width,oe.i=N.height,t(0<oe.c&&0<oe.i),1>=ve)N=0;else if(oe.$a=ce[fe+0]>>0&3,oe.Z=ce[fe+0]>>2&3,oe.Lc=ce[fe+0]>>4&3,fe=ce[fe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||fe)N=0;else if(ot.put=Xt,ot.ac=ar,ot.bc=vr,ot.ma=oe,ot.width=N.width,ot.height=N.height,ot.Da=N.Da,ot.v=N.v,ot.va=N.va,ot.j=N.j,ot.o=N.o,oe.$a)e:{t(oe.$a==1),N=Ot();t:for(;;){if(N==null){N=0;break e}if(t(oe!=null),oe.mc=N,N.c=oe.c,N.i=oe.i,N.l=oe.l,N.l.ma=oe,N.l.width=oe.c,N.l.height=oe.i,N.a=0,G(N.m,ce,Ue,Re),!kt(oe.c,oe.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&Rt(N.s)?(oe.ic=1,ce=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ce),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(oe.ic=0,N=gt(N,oe.c)),!N))break t;N=1;break e}oe.mc=null,N=0}else N=Re>=oe.c*oe.i;oe=!N}if(oe)return null;v.ga.Lc!=1?v.Ga=0:U=ne-k}t(v.ga!=null),t(k+U<=ne);e:{if(N=(ce=v.ga).c,ne=ce.l.o,ce.$a==0){if(Ue=v.rc,Re=v.Vc,ot=v.Fa,fe=v.P+1+k*N,ve=v.mb,Oe=v.nb+k*N,t(fe<=v.P+v.qc),ce.Z!=0)for(t(sa[ce.Z]!=null),oe=0;oe<U;++oe)sa[ce.Z](Ue,Re,ot,fe,ve,Oe,N),Ue=ve,Re=Oe,Oe+=N,fe+=N;else for(oe=0;oe<U;++oe)n(ve,Oe,ot,fe,N),Ue=ve,Re=Oe,Oe+=N,fe+=N;v.rc=Ue,v.Vc=Re}else{if(t(ce.mc!=null),N=k+U,t((oe=ce.mc)!=null),t(N<=oe.i),oe.C>=N)N=1;else if(ce.ic||Be(),ce.ic){ce=oe.V,Ue=oe.Ba,Re=oe.c;var Xe=oe.i,Ie=(ot=1,fe=oe.$/Re,ve=oe.$%Re,Oe=oe.m,qe=oe.s,oe.$),Le=Re*Xe,tt=Re*N,et=qe.wc,rt=Ie<tt?de(qe,ve,fe):null;t(Ie<=Le),t(N<=Xe),t(Rt(qe));t:for(;;){for(;!Oe.h&&Ie<tt;){if(ve&et||(rt=de(qe,ve,fe)),t(rt!=null),me(Oe),256>(Xe=Ht(rt.G[0],rt.H[0],Oe)))ce[Ue+Ie]=Xe,++Ie,++ve>=Re&&(ve=0,++fe<=N&&!(fe%16)&&Ge(oe,fe));else{if(!(280>Xe)){ot=0;break t}Xe=Vr(Xe-256,Oe);var Lt,Pt=Ht(rt.G[4],rt.H[4],Oe);if(me(Oe),!(Ie>=(Pt=Pr(Re,Pt=Vr(Pt,Oe)))&&Le-Ie>=Xe)){ot=0;break t}for(Lt=0;Lt<Xe;++Lt)ce[Ue+Ie+Lt]=ce[Ue+Ie+Lt-Pt];for(Ie+=Xe,ve+=Xe;ve>=Re;)ve-=Re,++fe<=N&&!(fe%16)&&Ge(oe,fe);Ie<tt&&ve&et&&(rt=de(qe,ve,fe))}t(Oe.h==Y(Oe))}Ge(oe,fe>N?N:fe);break t}!ot||Oe.h&&Ie<Le?(ot=0,oe.a=Oe.h?5:3):oe.$=Ie,N=ot}else N=Ze(oe,oe.V,oe.Ba,oe.c,oe.i,N,$t);if(!N){U=0;break e}}k+U>=ne&&(v.Cc=1),U=1}if(!U)return null;if(v.Cc&&((U=v.ga)!=null&&(U.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+k*X}function A(v,N,k,U,X,ne){for(;0<X--;){var oe,ce=v,fe=N+(k?1:0),ve=v,Oe=N+(k?0:3);for(oe=0;oe<U;++oe){var qe=ve[Oe+4*oe];qe!=255&&(qe*=32897,ce[fe+4*oe+0]=ce[fe+4*oe+0]*qe>>23,ce[fe+4*oe+1]=ce[fe+4*oe+1]*qe>>23,ce[fe+4*oe+2]=ce[fe+4*oe+2]*qe>>23)}N+=ne}}function Z(v,N,k,U,X){for(;0<U--;){var ne;for(ne=0;ne<k;++ne){var oe=v[N+2*ne+0],ce=15&(ve=v[N+2*ne+1]),fe=4369*ce,ve=(240&ve|ve>>4)*fe>>16;v[N+2*ne+0]=(240&oe|oe>>4)*fe>>16&240|(15&oe|oe<<4)*fe>>16>>4&15,v[N+2*ne+1]=240&ve|ce}N+=X}}function xe(v,N,k,U,X,ne,oe,ce){var fe,ve,Oe=255;for(ve=0;ve<X;++ve){for(fe=0;fe<U;++fe){var qe=v[N+fe];ne[oe+4*fe]=qe,Oe&=qe}N+=k,oe+=ce}return Oe!=255}function Ee(v,N,k,U,X){var ne;for(ne=0;ne<X;++ne)k[U+ne]=v[N+ne]>>8}function Be(){Ea=A,Zr=Z,Wr=xe,jn=Ee}function Qe(v,N,k){B[v]=function(U,X,ne,oe,ce,fe,ve,Oe,qe,Ue,Re,ot,Xe,Ie,Le,tt,et){var rt,Lt=et-1>>1,Pt=ce[fe+0]|ve[Oe+0]<<16,Jt=qe[Ue+0]|Re[ot+0]<<16;t(U!=null);var _t=3*Pt+Jt+131074>>2;for(N(U[X+0],255&_t,_t>>16,Xe,Ie),ne!=null&&(_t=3*Jt+Pt+131074>>2,N(ne[oe+0],255&_t,_t>>16,Le,tt)),rt=1;rt<=Lt;++rt){var kr=ce[fe+rt]|ve[Oe+rt]<<16,Ir=qe[Ue+rt]|Re[ot+rt]<<16,_r=Pt+kr+Jt+Ir+524296,xr=_r+2*(kr+Jt)>>3;_t=xr+Pt>>1,Pt=(_r=_r+2*(Pt+Ir)>>3)+kr>>1,N(U[X+2*rt-1],255&_t,_t>>16,Xe,Ie+(2*rt-1)*k),N(U[X+2*rt-0],255&Pt,Pt>>16,Xe,Ie+(2*rt-0)*k),ne!=null&&(_t=_r+Jt>>1,Pt=xr+Ir>>1,N(ne[oe+2*rt-1],255&_t,_t>>16,Le,tt+(2*rt-1)*k),N(ne[oe+2*rt+0],255&Pt,Pt>>16,Le,tt+(2*rt+0)*k)),Pt=kr,Jt=Ir}1&et||(_t=3*Pt+Jt+131074>>2,N(U[X+et-1],255&_t,_t>>16,Xe,Ie+(et-1)*k),ne!=null&&(_t=3*Jt+Pt+131074>>2,N(ne[oe+et-1],255&_t,_t>>16,Le,tt+(et-1)*k)))}}function dt(){ka[id]=iv,ka[hs]=ps,ka[$p]=sv,ka[tu]=nc,ka[ru]=nl,ka[Qr]=su,ka[sd]=Jf,ka[ec]=ps,ka[el]=nc,ka[nu]=nl,ka[au]=su}function It(v){return v&-16384?0>v?0:255:v>>ms}function Kt(v,N){return It((19077*v>>8)+(26149*N>>8)-14234)}function hr(v,N,k){return It((19077*v>>8)-(6419*N>>8)-(13320*k>>8)+8708)}function fr(v,N){return It((19077*v>>8)+(33050*N>>8)-17685)}function Ar(v,N,k,U,X){U[X+0]=Kt(v,k),U[X+1]=hr(v,N,k),U[X+2]=fr(v,N)}function hn(v,N,k,U,X){U[X+0]=fr(v,N),U[X+1]=hr(v,N,k),U[X+2]=Kt(v,k)}function wn(v,N,k,U,X){var ne=hr(v,N,k);N=ne<<3&224|fr(v,N)>>3,U[X+0]=248&Kt(v,k)|ne>>5,U[X+1]=N}function _n(v,N,k,U,X){var ne=240&fr(v,N)|15;U[X+0]=240&Kt(v,k)|hr(v,N,k)>>4,U[X+1]=ne}function aa(v,N,k,U,X){U[X+0]=255,Ar(v,N,k,U,X+1)}function Un(v,N,k,U,X){hn(v,N,k,U,X),U[X+3]=255}function Oo(v,N,k,U,X){Ar(v,N,k,U,X),U[X+3]=255}function Ga(v,N){return 0>v?0:v>N?N:v}function lo(v,N,k){B[v]=function(U,X,ne,oe,ce,fe,ve,Oe,qe){for(var Ue=Oe+(-2&qe)*k;Oe!=Ue;)N(U[X+0],ne[oe+0],ce[fe+0],ve,Oe),N(U[X+1],ne[oe+0],ce[fe+0],ve,Oe+k),X+=2,++oe,++fe,Oe+=2*k;1&qe&&N(U[X+0],ne[oe+0],ce[fe+0],ve,Oe)}}function cs(v,N,k){return k==0?v==0?N==0?6:5:N==0?4:0:k}function Xc(v,N,k,U,X){switch(v>>>30){case 3:Si(N,k,U,X,0);break;case 2:Dr(N,k,U,X);break;case 1:ia(N,k,U,X)}}function ql(v,N){var k,U,X=N.M,ne=N.Nb,oe=v.oc,ce=v.pc+40,fe=v.oc,ve=v.pc+584,Oe=v.oc,qe=v.pc+600;for(k=0;16>k;++k)oe[ce+32*k-1]=129;for(k=0;8>k;++k)fe[ve+32*k-1]=129,Oe[qe+32*k-1]=129;for(0<X?oe[ce-1-32]=fe[ve-1-32]=Oe[qe-1-32]=129:(a(oe,ce-32-1,127,21),a(fe,ve-32-1,127,9),a(Oe,qe-32-1,127,9)),U=0;U<v.za;++U){var Ue=N.ya[N.aa+U];if(0<U){for(k=-1;16>k;++k)n(oe,ce+32*k-4,oe,ce+32*k+12,4);for(k=-1;8>k;++k)n(fe,ve+32*k-4,fe,ve+32*k+4,4),n(Oe,qe+32*k-4,Oe,qe+32*k+4,4)}var Re=v.Gd,ot=v.Hd+U,Xe=Ue.ad,Ie=Ue.Hc;if(0<X&&(n(oe,ce-32,Re[ot].y,0,16),n(fe,ve-32,Re[ot].f,0,8),n(Oe,qe-32,Re[ot].ea,0,8)),Ue.Za){var Le=oe,tt=ce-32+16;for(0<X&&(U>=v.za-1?a(Le,tt,Re[ot].y[15],4):n(Le,tt,Re[ot+1].y,0,4)),k=0;4>k;k++)Le[tt+128+k]=Le[tt+256+k]=Le[tt+384+k]=Le[tt+0+k];for(k=0;16>k;++k,Ie<<=2)Le=oe,tt=ce+Yf[k],uo[Ue.Ob[k]](Le,tt),Xc(Ie,Xe,16*+k,Le,tt)}else if(Le=cs(U,X,Ue.Ob[0]),wa[Le](oe,ce),Ie!=0)for(k=0;16>k;++k,Ie<<=2)Xc(Ie,Xe,16*+k,oe,ce+Yf[k]);for(k=Ue.Gc,Le=cs(U,X,Ue.Dd),Oa[Le](fe,ve),Oa[Le](Oe,qe),Ie=Xe,Le=fe,tt=ve,255&(Ue=k>>0)&&(170&Ue?Ci(Ie,256,Le,tt):Ka(Ie,256,Le,tt)),Ue=Oe,Ie=qe,255&(k>>=8)&&(170&k?Ci(Xe,320,Ue,Ie):Ka(Xe,320,Ue,Ie)),X<v.Ub-1&&(n(Re[ot].y,0,oe,ce+480,16),n(Re[ot].f,0,fe,ve+224,8),n(Re[ot].ea,0,Oe,qe+224,8)),k=8*ne*v.B,Re=v.sa,ot=v.ta+16*U+16*ne*v.R,Xe=v.qa,Ue=v.ra+8*U+k,Ie=v.Ha,Le=v.Ia+8*U+k,k=0;16>k;++k)n(Re,ot+k*v.R,oe,ce+32*k,16);for(k=0;8>k;++k)n(Xe,Ue+k*v.B,fe,ve+32*k,8),n(Ie,Le+k*v.B,Oe,qe+32*k,8)}}function Hs(v,N,k,U,X,ne,oe,ce,fe){var ve=[0],Oe=[0],qe=0,Ue=fe!=null?fe.kd:0,Re=fe??new ss;if(v==null||12>k)return 7;Re.data=v,Re.w=N,Re.ha=k,N=[N],k=[k],Re.gb=[Re.gb];e:{var ot=N,Xe=k,Ie=Re.gb;if(t(v!=null),t(Xe!=null),t(Ie!=null),Ie[0]=0,12<=Xe[0]&&!r(v,ot[0],"RIFF")){if(r(v,ot[0]+8,"WEBP")){Ie=3;break e}var Le=Fe(v,ot[0]+4);if(12>Le||4294967286<Le){Ie=3;break e}if(Ue&&Le>Xe[0]-8){Ie=7;break e}Ie[0]=Le,ot[0]+=12,Xe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Le=0<Re.gb[0],k=k[0];;){e:{var tt=v;Xe=N,Ie=k;var et=ve,rt=Oe,Lt=ot=[0];if((_t=qe=[qe])[0]=0,8>Ie[0])Ie=7;else{if(!r(tt,Xe[0],"VP8X")){if(Fe(tt,Xe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var Pt=Fe(tt,Xe[0]+8),Jt=1+ue(tt,Xe[0]+12);if(2147483648<=Jt*(tt=1+ue(tt,Xe[0]+15))){Ie=3;break e}Lt!=null&&(Lt[0]=Pt),et!=null&&(et[0]=Jt),rt!=null&&(rt[0]=tt),Xe[0]+=18,Ie[0]-=18,_t[0]=1}Ie=0}}if(qe=qe[0],ot=ot[0],Ie!=0)return Ie;if(Xe=!!(2&ot),!Le&&qe)return 3;if(ne!=null&&(ne[0]=!!(16&ot)),oe!=null&&(oe[0]=Xe),ce!=null&&(ce[0]=0),oe=ve[0],ot=Oe[0],qe&&Xe&&fe==null){Ie=0;break}if(4>k){Ie=7;break}if(Le&&qe||!Le&&!qe&&!r(v,N[0],"ALPH")){k=[k],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{Pt=v,Ie=N,Le=k;var _t=Re.gb;et=Re.na,rt=Re.P,Lt=Re.Sa,Jt=22,t(Pt!=null),t(Le!=null),tt=Ie[0];var kr=Le[0];for(t(et!=null),t(Lt!=null),et[0]=null,rt[0]=null,Lt[0]=0;;){if(Ie[0]=tt,Le[0]=kr,8>kr){Ie=7;break e}var Ir=Fe(Pt,tt+4);if(4294967286<Ir){Ie=3;break e}var _r=8+Ir+1&-2;if(Jt+=_r,0<_t&&Jt>_t){Ie=3;break e}if(!r(Pt,tt,"VP8 ")||!r(Pt,tt,"VP8L")){Ie=0;break e}if(kr[0]<_r){Ie=7;break e}r(Pt,tt,"ALPH")||(et[0]=Pt,rt[0]=tt+8,Lt[0]=Ir),tt+=_r,kr-=_r}}if(k=k[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Ie!=0)break}k=[k],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(_t=v,Ie=N,Le=k,et=Re.gb[0],rt=Re.Ja,Lt=Re.xa,Pt=Ie[0],tt=!r(_t,Pt,"VP8 "),Jt=!r(_t,Pt,"VP8L"),t(_t!=null),t(Le!=null),t(rt!=null),t(Lt!=null),8>Le[0])Ie=7;else{if(tt||Jt){if(_t=Fe(_t,Pt+4),12<=et&&_t>et-12){Ie=3;break e}if(Ue&&_t>Le[0]-8){Ie=7;break e}rt[0]=_t,Ie[0]+=8,Le[0]-=8,Lt[0]=Jt}else Lt[0]=5<=Le[0]&&_t[Pt+0]==47&&!(_t[Pt+4]>>5),rt[0]=Le[0];Ie=0}if(k=k[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],N=N[0],Ie!=0)break;if(4294967286<Re.Ja)return 3;if(ce==null||Xe||(ce[0]=Re.xa?2:1),oe=[oe],ot=[ot],Re.xa){if(5>k){Ie=7;break}ce=oe,Ue=ot,Xe=ne,v==null||5>k?v=0:5<=k&&v[N+0]==47&&!(v[N+4]>>5)?(Le=[0],_t=[0],et=[0],G(rt=new T,v,N,k),Et(rt,Le,_t,et)?(ce!=null&&(ce[0]=Le[0]),Ue!=null&&(Ue[0]=_t[0]),Xe!=null&&(Xe[0]=et[0]),v=1):v=0):v=0}else{if(10>k){Ie=7;break}ce=ot,v==null||10>k||!Zu(v,N+3,k-3)?v=0:(Ue=v[N+0]|v[N+1]<<8|v[N+2]<<16,Xe=16383&(v[N+7]<<8|v[N+6]),v=16383&(v[N+9]<<8|v[N+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Re.Ja||!Xe||!v?v=0:(oe&&(oe[0]=Xe),ce&&(ce[0]=v),v=1))}if(!v||(oe=oe[0],ot=ot[0],qe&&(ve[0]!=oe||Oe[0]!=ot)))return 3;fe!=null&&(fe[0]=Re,fe.offset=N-fe.w,t(4294967286>N-fe.w),t(fe.offset==fe.ha-k));break}return Ie==0||Ie==7&&qe&&fe==null?(ne!=null&&(ne[0]|=Re.na!=null&&0<Re.na.length),U!=null&&(U[0]=oe),X!=null&&(X[0]=ot),0):Ie}function Ul(v,N,k){var U=N.width,X=N.height,ne=0,oe=0,ce=U,fe=X;if(N.Da=v!=null&&0<v.Da,N.Da&&(ce=v.cd,fe=v.bd,ne=v.v,oe=v.j,11>k||(ne&=-2,oe&=-2),0>ne||0>oe||0>=ce||0>=fe||ne+ce>U||oe+fe>X))return 0;if(N.v=ne,N.j=oe,N.va=ne+ce,N.o=oe+fe,N.U=ce,N.T=fe,N.da=v!=null&&0<v.da,N.da){if(!ct(ce,fe,k=[v.ib],ne=[v.hb]))return 0;N.ib=k[0],N.hb=ne[0]}return N.ob=v!=null&&v.ob,N.Kb=v==null||!v.Sd,N.da&&(N.ob=N.ib<3*U/4&&N.hb<3*X/4,N.Kb=0),1}function Vl(v){if(v==null)return 2;if(11>v.S){var N=v.f.RGBA;N.fb+=(v.height-1)*N.A,N.A=-N.A}else N=v.f.kb,v=v.height,N.O+=(v-1)*N.fa,N.fa=-N.fa,N.N+=(v-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(v-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(v-1)*N.lb,N.lb=-N.lb);return 0}function Gs(v,N,k,U){if(U==null||0>=v||0>=N)return 2;if(k!=null){if(k.Da){var X=k.cd,ne=k.bd,oe=-2&k.v,ce=-2&k.j;if(0>oe||0>ce||0>=X||0>=ne||oe+X>v||ce+ne>N)return 2;v=X,N=ne}if(k.da){if(!ct(v,N,X=[k.ib],ne=[k.hb]))return 2;v=X[0],N=ne[0]}}U.width=v,U.height=N;e:{var fe=U.width,ve=U.height;if(v=U.S,0>=fe||0>=ve||!(v>=id&&13>v))v=2;else{if(0>=U.Rd&&U.sd==null){oe=ne=X=N=0;var Oe=(ce=fe*lu[v])*ve;if(11>v||(ne=(ve+1)/2*(N=(fe+1)/2),v==12&&(oe=(X=fe)*ve)),(ve=i(Oe+2*ne+oe))==null){v=1;break e}U.sd=ve,11>v?((fe=U.f.RGBA).eb=ve,fe.fb=0,fe.A=ce,fe.size=Oe):((fe=U.f.kb).y=ve,fe.O=0,fe.fa=ce,fe.Fd=Oe,fe.f=ve,fe.N=0+Oe,fe.Ab=N,fe.Cd=ne,fe.ea=ve,fe.W=0+Oe+ne,fe.Db=N,fe.Ed=ne,v==12&&(fe.F=ve,fe.J=0+Oe+2*ne),fe.Tc=oe,fe.lb=X)}if(N=1,X=U.S,ne=U.width,oe=U.height,X>=id&&13>X)if(11>X)v=U.f.RGBA,N&=(ce=Math.abs(v.A))*(oe-1)+ne<=v.size,N&=ce>=ne*lu[X],N&=v.eb!=null;else{v=U.f.kb,ce=(ne+1)/2,Oe=(oe+1)/2,fe=Math.abs(v.fa),ve=Math.abs(v.Ab);var qe=Math.abs(v.Db),Ue=Math.abs(v.lb),Re=Ue*(oe-1)+ne;N&=fe*(oe-1)+ne<=v.Fd,N&=ve*(Oe-1)+ce<=v.Cd,N=(N&=qe*(Oe-1)+ce<=v.Ed)&fe>=ne&ve>=ce&qe>=ce,N&=v.y!=null,N&=v.f!=null,N&=v.ea!=null,X==12&&(N&=Ue>=ne,N&=Re<=v.Tc,N&=v.F!=null)}else N=0;v=N?0:2}}return v!=0||k!=null&&k.fd&&(v=Vl(U)),v}var Nn=64,Wl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hl=24,Gl=32,Kl=8,va=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];he("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(v){return v},B.Predictor2=function(v,N,k){return N[k+0]},B.Predictor3=function(v,N,k){return N[k+1]},B.Predictor4=function(v,N,k){return N[k-1]},B.Predictor5=function(v,N,k){return _e(_e(v,N[k+1]),N[k+0])},B.Predictor6=function(v,N,k){return _e(v,N[k-1])},B.Predictor7=function(v,N,k){return _e(v,N[k+0])},B.Predictor8=function(v,N,k){return _e(N[k-1],N[k+0])},B.Predictor9=function(v,N,k){return _e(N[k+0],N[k+1])},B.Predictor10=function(v,N,k){return _e(_e(v,N[k-1]),_e(N[k+0],N[k+1]))},B.Predictor11=function(v,N,k){var U=N[k+0];return 0>=$e(U>>24&255,v>>24&255,(N=N[k-1])>>24&255)+$e(U>>16&255,v>>16&255,N>>16&255)+$e(U>>8&255,v>>8&255,N>>8&255)+$e(255&U,255&v,255&N)?U:v},B.Predictor12=function(v,N,k){var U=N[k+0];return(we((v>>24&255)+(U>>24&255)-((N=N[k-1])>>24&255))<<24|we((v>>16&255)+(U>>16&255)-(N>>16&255))<<16|we((v>>8&255)+(U>>8&255)-(N>>8&255))<<8|we((255&v)+(255&U)-(255&N)))>>>0},B.Predictor13=function(v,N,k){var U=N[k-1];return(le((v=_e(v,N[k+0]))>>24&255,U>>24&255)<<24|le(v>>16&255,U>>16&255)<<16|le(v>>8&255,U>>8&255)<<8|le(v>>0&255,U>>0&255))>>>0};var Ks=B.PredictorAdd0;B.PredictorAdd1=at,he("Predictor2","PredictorAdd2"),he("Predictor3","PredictorAdd3"),he("Predictor4","PredictorAdd4"),he("Predictor5","PredictorAdd5"),he("Predictor6","PredictorAdd6"),he("Predictor7","PredictorAdd7"),he("Predictor8","PredictorAdd8"),he("Predictor9","PredictorAdd9"),he("Predictor10","PredictorAdd10"),he("Predictor11","PredictorAdd11"),he("Predictor12","PredictorAdd12"),he("Predictor13","PredictorAdd13");var wi=B.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",(function(v){return v>>8&255}),(function(v){return v})),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(v){return v}),(function(v){return v>>8&255}));var od,ya=B.ColorIndexInverseTransform,Jl=B.MapARGB,Zc=B.VP8LColorIndexInverseTransformAlpha,Yl=B.MapAlpha,Zo=B.VP8LPredictorsAdd=[];Zo.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var us,xa,oa,ds,Ni,ji,Xl,Si,Dr,Ci,ia,Ka,Js,Qc,Ys,Xs,Zs,Ja,Ai,Qo,Pi,_i,fs,Kn,Ea,Zr,Wr,jn,En=i(511),ei=i(2041),Zl=i(225),Qs=i(767),eu=0,ti=ei,Ql=Zl,ba=Qs,co=En,id=0,hs=1,$p=2,tu=3,ru=4,Qr=5,sd=6,ec=7,el=8,nu=9,au=10,ou=[2,3,7],ld=[3,3,11],tl=[280,256,256,256,40],Fp=[0,1,1,1,0],rv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],nv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],cd=8,tc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],iu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rl=null,Hf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],av=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ov=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Kf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wa=[],uo=[],Oa=[],ri=1,rc=2,sa=[],ka=[];Qe("UpsampleRgbLinePair",Ar,3),Qe("UpsampleBgrLinePair",hn,3),Qe("UpsampleRgbaLinePair",Oo,4),Qe("UpsampleBgraLinePair",Un,4),Qe("UpsampleArgbLinePair",aa,4),Qe("UpsampleRgba4444LinePair",_n,2),Qe("UpsampleRgb565LinePair",wn,2);var iv=B.UpsampleRgbLinePair,sv=B.UpsampleBgrLinePair,ps=B.UpsampleRgbaLinePair,nc=B.UpsampleBgraLinePair,nl=B.UpsampleArgbLinePair,su=B.UpsampleRgba4444LinePair,Jf=B.UpsampleRgb565LinePair,Ei=16,ko=1<<Ei-1,Hr=-227,Kr=482,ms=6,Jn=0,Ia=i(256),al=i(256),ac=i(256),La=i(256),ud=i(Kr-Hr),Up=i(Kr-Hr);lo("YuvToRgbRow",Ar,3),lo("YuvToBgrRow",hn,3),lo("YuvToRgbaRow",Oo,4),lo("YuvToBgraRow",Un,4),lo("YuvToArgbRow",aa,4),lo("YuvToRgba4444Row",_n,2),lo("YuvToRgb565Row",wn,2);var Yf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ol=[0,2,8],Vp=[8,7,6,4,4,2,2,2,1,1,1,1],Oi=1;this.WebPDecodeRGBA=function(v,N,k,U,X){var ne=hs,oe=new Xo,ce=new Ye;oe.ba=ce,ce.S=ne,ce.width=[ce.width],ce.height=[ce.height];var fe=ce.width,ve=ce.height,Oe=new it;if(Oe==null||v==null)var qe=2;else t(Oe!=null),qe=Hs(v,N,k,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(qe!=0?fe=0:(fe!=null&&(fe[0]=Oe.width[0]),ve!=null&&(ve[0]=Oe.height[0]),fe=1),fe){ce.width=ce.width[0],ce.height=ce.height[0],U!=null&&(U[0]=ce.width),X!=null&&(X[0]=ce.height);e:{if(U=new El,(X=new ss).data=v,X.w=N,X.ha=k,X.kd=1,N=[0],t(X!=null),((v=Hs(X.data,X.w,X.ha,null,null,null,N,null,X))==0||v==7)&&N[0]&&(v=4),(N=v)==0){if(t(oe!=null),U.data=X.data,U.w=X.w+X.offset,U.ha=X.ha-X.offset,U.put=Xt,U.ac=ar,U.bc=vr,U.ma=oe,X.xa){if((v=Ot())==null){oe=1;break e}if((function(Ue,Re){var ot=[0],Xe=[0],Ie=[0];t:for(;;){if(Ue==null)return 0;if(Re==null)return Ue.a=2,0;if(Ue.l=Re,Ue.a=0,G(Ue.m,Re.data,Re.w,Re.ha),!Et(Ue.m,ot,Xe,Ie)){Ue.a=3;break t}if(Ue.xb=rc,Re.width=ot[0],Re.height=Xe[0],!kt(ot[0],Xe[0],1,Ue,null))break t;return 1}return t(Ue.a!=0),0})(v,U)){if(U=(N=Gs(U.width,U.height,oe.Oa,oe.ba))==0){t:{U=v;r:for(;;){if(U==null){U=0;break t}if(t(U.s.yc!=null),t(U.s.Ya!=null),t(0<U.s.Wb),t((k=U.l)!=null),t((X=k.ma)!=null),U.xb!=0){if(U.ca=X.ba,U.tb=X.tb,t(U.ca!=null),!Ul(X.Oa,k,tu)){U.a=2;break r}if(!gt(U,k.width)||k.da)break r;if((k.da||pr(U.ca.S))&&Be(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Be()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!De(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Ze(U,U.V,U.Ba,U.c,U.i,k.o,ut))break r;X.Dc=U.Ma,U=1;break t}t(U.a!=0),U=0}U=!U}U&&(N=v.a)}else N=v.a}else{if((v=new Wa)==null){oe=1;break e}if(v.Fa=X.na,v.P=X.P,v.qc=X.Sa,Qu(v,U)){if((N=Gs(U.width,U.height,oe.Oa,oe.ba))==0){if(v.Aa=0,k=oe.Oa,t((X=v)!=null),k!=null){if(0<(fe=0>(fe=k.Md)?0:100<fe?255:255*fe/100)){for(ve=Oe=0;4>ve;++ve)12>(qe=X.pb[ve]).lc&&(qe.ia=fe*Vp[0>qe.lc?0:qe.lc]>>3),Oe|=qe.ia;Oe&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=k.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}Rs(v,U)||(N=v.a)}}else N=v.a}N==0&&oe.Oa!=null&&oe.Oa.fd&&(N=Vl(oe.ba))}oe=N}ne=oe!=0?null:11>ne?ce.f.RGBA.eb:ce.f.kb.y}else ne=null;return ne};var lu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,V){for(var K="",E=0;E<4;E++)K+=String.fromCharCode(B[V++]);return K}function p(B,V){return(B[V+0]<<0|B[V+1]<<8|B[V+2]<<16)>>>0}function h(B,V){return(B[V+0]<<0|B[V+1]<<8|B[V+2]<<16|B[V+3]<<24)>>>0}new d;var y=[0],g=[0],j=[],x=new d,w=e,S=(function(B,V){var K={},E=0,$=!1,D=0,I=0;if(K.frames=[],!(function(J,Y,H,me){for(var pe=0;pe<me;pe++)if(J[Y+pe]!=H.charCodeAt(pe))return!0;return!1})(B,V,"RIFF",4)){var z,W;for(h(B,V+=4),V+=8;V<B.length;){var ee=f(B,V),G=h(B,V+=4);V+=4;var ie=G+(1&G);switch(ee){case"VP8 ":case"VP8L":K.frames[E]===void 0&&(K.frames[E]={}),(T=K.frames[E]).src_off=$?I:V-8,T.src_size=D+G+8,E++,$&&($=!1,D=0,I=0);break;case"VP8X":(T=K.header={}).feature_flags=B[V];var te=V+4;T.canvas_width=1+p(B,te),te+=3,T.canvas_height=1+p(B,te),te+=3;break;case"ALPH":$=!0,D=ie+8,I=V-8;break;case"ANIM":(T=K.header).bgcolor=h(B,V),te=V+4,T.loop_count=(z=B)[(W=te)+0]<<0|z[W+1]<<8,te+=2;break;case"ANMF":var re,T;(T=K.frames[E]={}).offset_x=2*p(B,V),V+=3,T.offset_y=2*p(B,V),V+=3,T.width=1+p(B,V),V+=3,T.height=1+p(B,V),V+=3,T.duration=p(B,V),V+=3,re=B[V++],T.dispose=1&re,T.blend=re>>1&1}ee!="ANMF"&&(V+=ie)}return K}})(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var C=S.header?S.header:null,P=S.frames?S.frames:null;if(C){C.loop_counter=C.loop_count,y=[C.canvas_height],g=[C.canvas_width];for(var R=0;R<P.length&&P[R].blend!=0;R++);}var L=P[0],q=x.WebPDecodeRGBA(w,L.src_off,L.src_size,g,y);L.rgba=q,L.imgwidth=g[0],L.imgheight=y[0];for(var _=0;_<g[0]*y[0]*4;_++)j[_]=q[_];return this.width=g,this.height=y,this.data=j,this}(function(e){var t=function(){return typeof o5=="function"},r=function(y,g,j,x){var w=4,S=s;switch(x){case e.image_compression.FAST:w=1,S=i;break;case e.image_compression.MEDIUM:w=6,S=c;break;case e.image_compression.SLOW:w=9,S=d}y=n(y,g,j,S);var C=o5(y,{level:w});return e.__addimage__.arrayBufferToBinaryString(C)},n=function(y,g,j,x){for(var w,S,C,P=y.length/g,R=new Uint8Array(y.length+P),L=p(),q=0;q<P;q+=1){if(C=q*g,w=y.subarray(C,C+g),x)R.set(x(w,j,S),C+q);else{for(var _,B=L.length,V=[];_<B;_+=1)V[_]=L[_](w,j,S);var K=h(V.concat());R.set(V[K],C+q)}S=w}return R},a=function(y){var g=Array.apply([],y);return g.unshift(0),g},i=function(y,g){var j,x=[],w=y.length;x[0]=1;for(var S=0;S<w;S+=1)j=y[S-g]||0,x[S+1]=y[S]-j+256&255;return x},s=function(y,g,j){var x,w=[],S=y.length;w[0]=2;for(var C=0;C<S;C+=1)x=j&&j[C]||0,w[C+1]=y[C]-x+256&255;return w},c=function(y,g,j){var x,w,S=[],C=y.length;S[0]=3;for(var P=0;P<C;P+=1)x=y[P-g]||0,w=j&&j[P]||0,S[P+1]=y[P]+256-(x+w>>>1)&255;return S},d=function(y,g,j){var x,w,S,C,P=[],R=y.length;P[0]=4;for(var L=0;L<R;L+=1)x=y[L-g]||0,w=j&&j[L]||0,S=j&&j[L-g]||0,C=f(x,w,S),P[L+1]=y[L]-C+256&255;return P},f=function(y,g,j){if(y===g&&g===j)return y;var x=Math.abs(g-j),w=Math.abs(y-j),S=Math.abs(y+g-j-j);return x<=w&&x<=S?y:w<=S?g:j},p=function(){return[a,i,s,c,d]},h=function(y){var g=y.map((function(j){return j.reduce((function(x,w){return x+Math.abs(w)}),0)}));return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(y,g,j,x){var w,S,C,P,R,L,q,_,B,V,K,E,$,D,I,z=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(C=new tte(y)).imgData,S=C.bits,w=C.colorSpace,R=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){B=(_=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,K=new Uint8Array(B*C.colors),V=new Uint8Array(B);var ee,G=C.pixelBitlength-C.bits;for(D=0,I=0;D<B;D++){for($=_[D],ee=0;ee<G;)K[I++]=$>>>ee&255,ee+=C.bits;V[D]=$>>>ee&255}}if(C.bits===16){B=(_=new Uint32Array(C.decodePixels().buffer)).length,K=new Uint8Array(B*(32/C.pixelBitlength)*C.colors),V=new Uint8Array(B*(32/C.pixelBitlength)),E=C.colors>1,D=0,I=0;for(var ie=0;D<B;)$=_[D++],K[I++]=$>>>0&255,E&&(K[I++]=$>>>16&255,$=_[D++],K[I++]=$>>>0&255),V[ie++]=$>>>16&255;S=8}x!==e.image_compression.NONE&&t()?(y=r(K,C.width*C.colors,C.colors,x),q=r(V,C.width,1,x)):(y=K,q=V,z=void 0)}if(C.colorType===3&&(w=this.color_spaces.INDEXED,L=C.palette,C.transparency.indexed)){var te=C.transparency.indexed,re=0;for(D=0,B=te.length;D<B;++D)re+=te[D];if((re/=255)===B-1&&te.indexOf(0)!==-1)P=[te.indexOf(0)];else if(re!==B){for(_=C.decodePixels(),V=new Uint8Array(_.length),D=0,B=_.length;D<B;D++)V[D]=te[_[D]];q=r(V,C.width,1)}}var T=(function(J){var Y;switch(J){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(x);return z===this.decode.FLATE_DECODE&&(W="/Predictor "+T+" "),W+="/Colors "+R+" /BitsPerComponent "+S+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:j,data:y,index:g,filter:z,decodeParameters:W,transparency:P,palette:L,sMask:q,predictor:T,width:C.width,height:C.height,bitsPerComponent:S,colorSpace:w}}}})(ir.API),(function(e){e.processGIF89A=function(t,r,n,a){var i=new rte(t),s=i.width,c=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:s,height:c},p=new w2(100).encode(f,100);return e.processJPEG.call(this,p,r,n,a)},e.processGIF87A=e.processGIF89A})(ir.API),qi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){on.log("bit decode error:"+r)}},qi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var d=this.palette[i>>7-c&1];this.data[s+4*c]=d.blue,this.data[s+4*c+1]=d.green,this.data[s+4*c+2]=d.red,this.data[s+4*c+3]=255}r!==0&&(this.pos+=4-r)}},qi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,c=i>>4,d=15&i,f=this.palette[c];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*a+1>=this.width)break;f=this.palette[d],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},qi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},qi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,c=(i>>5&t)/t*255|0,d=(i>>10&t)/t*255|0,f=i>>15?255:0,p=n*this.width*4+4*a;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=s,this.data[p+3]=f}this.pos+=e}},qi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&t)/t*255|0,d=(s>>5&r)/r*255|0,f=(s>>11)/t*255|0,p=a*this.width*4+4*i;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=255}this.pos+=e}},qi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},qi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=s}},qi.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new qi(t,!1),s=i.width,c=i.height,d={data:i.getData(),width:s,height:c},f=new w2(100).encode(d,100);return e.processJPEG.call(this,f,r,n,a)}})(ir.API),H6.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new H6(t),s=i.width,c=i.height,d={data:i.getData(),width:s,height:c},f=new w2(100).encode(d,100);return e.processJPEG.call(this,f,r,n,a)}})(ir.API),ir.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),c=0,d=0,f=0;f<a;f+=4){var p=n[f],h=n[f+1],y=n[f+2],g=n[f+3];i[c++]=p,i[c++]=h,i[c++]=y,s[d++]=g}var j=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:j,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ir.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},$d=ir.API,Xm=$d.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,d=c.fof?c.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,p=f.fof?f.fof:1,h=t.doKerning!==!1,y=0,g=e.length,j=0,x=c[0]||d,w=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(y=h&&en(f[n])==="object"&&!isNaN(parseInt(f[n][j],10))?f[n][j]/p:0,w.push((c[n]||x)/d+y)),j=n;return w},q6=$d.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return $d.processArabic&&(e=$d.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Xm.apply(this,arguments).reduce((function(i,s){return i+s}),0)},U6=function(e,t,r,n){for(var a=[],i=0,s=e.length,c=0;i!==s&&c+t[i]<r;)c+=t[i],i++;a.push(e.slice(0,i));var d=i;for(c=0;i!==s;)c+t[i]>n&&(a.push(e.slice(d,i)),c=0,d=i),c+=t[i],i++;return d!==i&&a.push(e.slice(d,i)),a},V6=function(e,t,r){r||(r={});var n,a,i,s,c,d,f,p=[],h=[p],y=r.textIndent||0,g=0,j=0,x=e.split(" "),w=Xm.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var S=Array(d).join(" "),C=[];x.map((function(R){(R=R.split(/\s*\n/)).length>1?C=C.concat(R.map((function(L,q){return(q&&L.length?`
`:"")+L}))):C.push(R[0])})),x=C,d=q6.apply(this,[S,r])}for(i=0,s=x.length;i<s;i++){var P=0;if(n=x[i],d&&n[0]==`
`&&(n=n.substr(1),P=1),y+g+(j=(a=Xm.apply(this,[n,r])).reduce((function(R,L){return R+L}),0))>t||P){if(j>t){for(c=U6.apply(this,[n,a,t-(y+g),t]),p.push(c.shift()),p=[c.pop()];c.length;)h.push([c.shift()]);j=a.slice(n.length-(p[0]?p[0].length:0)).reduce((function(R,L){return R+L}),0)}else p=[n];h.push(p),y=j+d,g=w}else p.push(n),y+=g+j,g=w}return f=d?function(R,L){return(L?S:"")+R.join(" ")}:function(R){return R.join(" ")},h.map(f)},$d.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var h=this.internal.getFont(p.fontName,p.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var c,d,f=[];for(c=0,d=n.length;c<d;c++)f=f.concat(V6.apply(this,[n[c],s,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},s=e.__fontmetrics__.compress=function(h){var y,g,j,x,w=["{"];for(var S in h){if(y=h[S],isNaN(parseInt(S,10))?g="'"+S+"'":(S=parseInt(S,10),g=(g=i(S).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof y=="number")y<0?(j=i(y).slice(3),x="-"):(j=i(y).slice(2),x=""),j=x+j.slice(0,-1)+n[j.slice(-1)];else{if(en(y)!=="object")throw new Error("Don't know what to do with value type "+en(y)+".");j=s(y)}w.push(g+j)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,j,x,w={},S=1,C=w,P=[],R="",L="",q=h.length-1,_=1;_<q;_+=1)(x=h[_])=="'"?y?(j=y.join(""),y=void 0):y=[]:y?y.push(x):x=="{"?(P.push([C,j]),C={},j=void 0):x=="}"?((g=P.pop())[0][g[1]]=C,j=void 0,C=g[0]):x=="-"?S=-1:j===void 0?r.hasOwnProperty(x)?(R+=r[x],j=parseInt(R,16)*S,S=1,R=""):R+=x:r.hasOwnProperty(x)?(L+=r[x],C[j]=parseInt(L,16)*S,S=1,j=void 0,L=""):L+=x;return w},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var y=h.font,g=p.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var j=f.Unicode[y.postScriptName];j&&(y.metadata.Unicode.encoding=j,y.encoding=j.codePages[0])}])})(ir.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(zh(c)),s.metadata=e.API.TTFFont.open(c),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(ir),(function(e){function t(){return(sr.canvg?Promise.resolve(sr.canvg):e5(()=>import("./index.es-DLhcCVeS.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}ir.API.addSvgAsImage=function(r,n,a,i,s,c,d,f){if(isNaN(n)||isNaN(a))throw on.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw on.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=i,p.height=s;var h=p.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,p.width,p.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then((function(j){return j.fromString(h,r,y)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(j){return j.render(y)})).then((function(){g.addImage(p.toDataURL("image/jpeg",1),n,a,i,s,d,f)}))}})(),ir.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},ir.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(s),d=[],f=0,p=0,h=0;function y(j,x){var w,S=!1;for(w=0;w<j.length;w+=1)j[w]===x&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=c.length;for(h=0;h<g;h+=1)r[c[h]].value=r[c[h]].defaultValue,r[c[h]].explicitSet=!1}if(en(e)==="object"){for(a in e)if(i=e[a],y(c,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&y(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")d.push(String(i[f]-1));else if(i[f].length>1){for(p=0;p<i[f].length;p+=1)typeof i[f][p]!="number"&&(n=!1);n===!0&&d.push([i[f][0]-1,i[f][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var j,x=[];for(j in r)r[j].explicitSet===!0&&(r[j].type==="name"?x.push("/"+j+" /"+r[j].value):x.push("/"+j+" "+r[j].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+s.length+c.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+c+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(ir.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var c,d=s.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],h=0,y=i.length;h<y;++h){if(c=s.metadata.characterToGlyph(i.charCodeAt(h)),s.metadata.glyIdsUsed.push(c),s.metadata.toUnicode[c]=i.charCodeAt(h),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(s.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(f[4-c.length],c)}return p.join("")},n=function(i){var s,c,d,f,p,h,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],h=0,y=(c=Object.keys(i).sort((function(g,j){return g-j}))).length;h<y;h++)s=c[h],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(f=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),d.push("<"+s+"><"+f+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var c=s.font,d=s.out,f=s.newObject,p=s.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var h=c.metadata.Unicode.widths,y=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",j=0;j<y.length;j++)g+=String.fromCharCode(y[j]);var x=f();p({data:g,addLength1:!0,objectId:x}),d("endobj");var w=f();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:w}),d("endobj");var S=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+zd(c.fontName)),d("/FontFile2 "+x+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var C=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+zd(c.fontName)),d("/FontDescriptor "+S+" 0 R"),d("/W "+e.API.PDFObject.convert(h)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+w+" 0 R"),d("/BaseFont /"+zd(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+C+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var c=s.font,d=s.out,f=s.newObject,p=s.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var h=c.metadata.rawData,y="",g=0;g<h.length;g++)y+=String.fromCharCode(h[g]);var j=f();p({data:y,addLength1:!0,objectId:j}),d("endobj");var x=f();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:x}),d("endobj");var w=f();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+j+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+zd(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=f();for(var S=0;S<c.metadata.hmtx.widths.length;S++)c.metadata.hmtx.widths[S]=parseInt(c.metadata.hmtx.widths[S]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+zd(c.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,c=i.text||"",d=i.x,f=i.y,p=i.options||{},h=i.mutex||{},y=h.pdfEscape,g=h.activeFontKey,j=h.fonts,x=g,w="",S=0,C="",P=j[x].encoding;if(j[x].encoding!=="Identity-H")return{text:c,x:d,y:f,options:p,mutex:h};for(C=c,x=g,Array.isArray(c)&&(C=c[0]),S=0;S<C.length;S+=1)j[x].metadata.hasOwnProperty("cmap")&&(s=j[x].metadata.cmap.unicode.codeMap[C[S].charCodeAt(0)]),s||C[S].charCodeAt(0)<256&&j[x].metadata.hasOwnProperty("Unicode")?w+=C[S]:w+="";var R="";return parseInt(x.slice(1))<14||P==="WinAnsiEncoding"?R=y(w,x).split("").map((function(L){return L.charCodeAt(0).toString(16)})).join(""):P==="Identity-H"&&(R=r(w,j[x])),h.isHex=!0,{text:R,x:d,y:f,options:p,mutex:h}};t.events.push(["postProcessText",function(i){var s=i.text||"",c=[],d={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?c.push([a(Object.assign({},d,{text:s[f][0]})).text,s[f][1],s[f][2]]):c.push(a(Object.assign({},d,{text:s[f]})).text);i.text=c}else i.text=a(Object.assign({},d,{text:s})).text}])})(ir),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ir.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,c,d,f,p,h=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,P=0;this.__bidiEngine__={};var R=function(E){var $=E.charCodeAt(),D=$>>8,I=x[D];return I!==void 0?h[256*I+(255&$)]:D===252||D===253?"AL":S.test(D)?"L":D===8?"R":"N"},L=function(E){for(var $,D=0;D<E.length;D++){if(($=R(E.charAt(D)))==="L")return!1;if($==="R")return!0}return!1},q=function(E,$,D,I){var z,W,ee,G,ie=$[I];switch(ie){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ie="AN");break;case"AL":C=!0,ie="R";break;case"WS":ie="N";break;case"CS":I<1||I+1>=$.length||(z=D[I-1])!=="EN"&&z!=="AN"||(W=$[I+1])!=="EN"&&W!=="AN"?ie="N":C&&(W="AN"),ie=W===z?W:"N";break;case"ES":ie=(z=I>0?D[I-1]:"B")==="EN"&&I+1<$.length&&$[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&D[I-1]==="EN"){ie="EN";break}if(C){ie="N";break}for(ee=I+1,G=$.length;ee<G&&$[ee]==="ET";)ee++;ie=ee<G&&$[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!c){for(G=$.length,ee=I+1;ee<G&&$[ee]==="NSM";)ee++;if(ee<G){var te=E[I],re=te>=1425&&te<=2303||te===64286;if(z=$[ee],re&&(z==="R"||z==="AL")){ie="R";break}}}ie=I<1||(z=$[I-1])==="B"?"N":D[I-1];break;case"B":C=!1,a=!0,ie=P;break;case"S":i=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ie="N"}return ie},_=function(E,$,D){var I=E.split("");return D&&B(I,D,{hiLevel:P}),I.reverse(),$&&$.reverse(),I.join("")},B=function(E,$,D){var I,z,W,ee,G,ie=-1,te=E.length,re=0,T=[],J=P?g:y,Y=[];for(C=!1,a=!1,i=!1,z=0;z<te;z++)Y[z]=R(E[z]);for(W=0;W<te;W++){if(G=re,T[W]=q(E,Y,T,W),I=240&(re=J[G][j[T[W]]]),re&=15,$[W]=ee=J[re][5],I>0)if(I===16){for(z=ie;z<W;z++)$[z]=1;ie=-1}else ie=-1;if(J[re][6])ie===-1&&(ie=W);else if(ie>-1){for(z=ie;z<W;z++)$[z]=ee;ie=-1}Y[W]==="B"&&($[W]=0),D.hiLevel|=ee}i&&(function(H,me,pe){for(var be=0;be<pe;be++)if(H[be]==="S"){me[be]=P;for(var ge=be-1;ge>=0&&H[ge]==="WS";ge--)me[ge]=P}})(Y,$,te)},V=function(E,$,D,I,z){if(!(z.hiLevel<E)){if(E===1&&P===1&&!a)return $.reverse(),void(D&&D.reverse());for(var W,ee,G,ie,te=$.length,re=0;re<te;){if(I[re]>=E){for(G=re+1;G<te&&I[G]>=E;)G++;for(ie=re,ee=G-1;ie<ee;ie++,ee--)W=$[ie],$[ie]=$[ee],$[ee]=W,D&&(W=D[ie],D[ie]=D[ee],D[ee]=W);re=G}re++}}},K=function(E,$,D){var I=E.split(""),z={hiLevel:P};return D||(D=[]),B(I,D,z),(function(W,ee,G){if(G.hiLevel!==0&&p)for(var ie,te=0;te<W.length;te++)ee[te]===1&&(ie=w.indexOf(W[te]))>=0&&(W[te]=w[ie+1])})(I,D,z),V(2,I,$,D,z),V(1,I,$,D,z),I.join("")};return this.__bidiEngine__.doBidiReorder=function(E,$,D){if((function(z,W){if(W)for(var ee=0;ee<z.length;ee++)W[ee]=ee;c===void 0&&(c=L(z)),f===void 0&&(f=L(z))})(E,$),s||!d||f)if(s&&d&&c^f)P=c?1:0,E=_(E,$,D);else if(!s&&d&&f)P=c?1:0,E=K(E,$,D),E=_(E,$);else if(!s||c||d||f){if(s&&!d&&c^f)E=_(E,$),c?(P=0,E=K(E,$,D)):(P=1,E=K(E,$,D),E=_(E,$));else if(s&&c&&!d&&f)P=1,E=K(E,$,D),E=_(E,$);else if(!s&&!d&&c^f){var I=p;c?(P=1,E=K(E,$,D),P=0,p=!1,E=K(E,$,D),p=I):(P=0,E=K(E,$,D),E=_(E,$),P=1,p=!1,E=K(E,$,D),p=I,E=_(E,$))}}else P=0,E=K(E,$,D);else P=c?1:0,E=K(E,$,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,d=E.isOutputVisual,c=E.isInputRtl,f=E.isOutputRtl,p=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(s=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?s.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):s.push([r.doBidiReorder(a[c])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(ir),ir.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Dc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vte(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new nte(this.contents),this.head=new ote(this),this.name=new ute(this),this.cmap=new $L(this),this.toUnicode={},this.hhea=new ite(this),this.maxp=new dte(this),this.hmtx=new fte(this),this.post=new lte(this),this.os2=new ste(this),this.loca=new gte(this),this.glyf=new hte(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,c,d,f;for(f=[],s=0,c=(d=this.bbox).length;s<c;s++)t=d[s],f.push(Math.round(t*this.scaleFactor));return f}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,c;for(s=0,i=0,c=(t=""+t).length;0<=c?i<c:i>c;i=0<=c?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Qi,Dc=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,c,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*c+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),nte=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,c,d,f,p,h,y,g,j,x;for(x in g=Object.keys(r).length,d=Math.log(2),h=16*Math.floor(Math.log(g)/d),s=Math.floor(h/d),p=16*g-h,(a=new Dc).writeInt(this.scalarType),a.writeShort(g),a.writeShort(h),a.writeShort(s),a.writeShort(p),i=16*g,f=a.pos+i,c=null,j=[],r)for(y=r[x],a.writeString(x),a.writeInt(e(y)),a.writeInt(f),a.writeInt(y.length),j=j.concat(y),x==="head"&&(c=f),f+=y.length;f%4;)j.push(0),f++;return a.write(j),n=2981146554-e(a.data),a.pos=c+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=FL.call(r);r.length%4;)r.push(0);for(i=new Dc(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),ate={}.hasOwnProperty,Ls=function(e,t){for(var r in t)ate.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Qi=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var ote=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Dc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t})(),G6=(function(){function e(t,r){var n,a,i,s,c,d,f,p,h,y,g,j,x,w,S,C,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,i=(function(){var R,L;for(L=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)L.push(t.readUInt16());return L})(),t.pos+=2,x=(function(){var R,L;for(L=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)L.push(t.readUInt16());return L})(),f=(function(){var R,L;for(L=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)L.push(t.readUInt16());return L})(),p=(function(){var R,L;for(L=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)L.push(t.readUInt16());return L})(),a=(this.length-t.pos+this.offset)/2,c=(function(){var R,L;for(L=[],d=R=0;0<=a?R<a:R>a;d=0<=a?++R:--R)L.push(t.readUInt16());return L})(),d=S=0,P=i.length;S<P;d=++S)for(w=i[d],n=C=j=x[d];j<=w?C<=w:C>=w;n=j<=w?++C:--C)p[d]===0?s=n+f[d]:(s=c[p[d]/2+(n-j)-(y-d)]||0)!==0&&(s+=f[d]),this.codeMap[n]=65535&s}t.pos=h}return e.encode=function(t,r){var n,a,i,s,c,d,f,p,h,y,g,j,x,w,S,C,P,R,L,q,_,B,V,K,E,$,D,I,z,W,ee,G,ie,te,re,T,J,Y,H,me,pe,be,ge,Te,ze,ue;switch(I=new Dc,s=Object.keys(t).sort((function(Fe,De){return Fe-De})),r){case"macroman":for(x=0,w=(function(){var Fe=[];for(j=0;j<256;++j)Fe.push(0);return Fe})(),C={0:0},i={},z=0,ie=s.length;z<ie;z++)C[ge=t[a=s[z]]]==null&&(C[ge]=++x),i[a]={old:t[a],new:C[t[a]]},w[a]=C[t[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(w),{charMap:i,subtable:I.data,maxGlyphID:x+1};case"unicode":for($=[],h=[],P=0,C={},n={},S=f=null,W=0,te=s.length;W<te;W++)C[L=t[a=s[W]]]==null&&(C[L]=++P),n[a]={old:L,new:C[L]},c=C[L]-a,S!=null&&c===f||(S&&h.push(S),$.push(a),f=c),S=a;for(S&&h.push(S),h.push(65535),$.push(65535),K=2*(V=$.length),B=2*Math.pow(Math.log(V)/Math.LN2,2),y=Math.log(B/2)/Math.LN2,_=2*V-B,d=[],q=[],g=[],j=ee=0,re=$.length;ee<re;j=++ee){if(E=$[j],p=h[j],E===65535){d.push(0),q.push(0);break}if(E-(D=n[E].new)>=32768)for(d.push(0),q.push(2*(g.length+V-j)),a=G=E;E<=p?G<=p:G>=p;a=E<=p?++G:--G)g.push(n[a].new);else d.push(D-E),q.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*V+2*g.length),I.writeUInt16(0),I.writeUInt16(K),I.writeUInt16(B),I.writeUInt16(y),I.writeUInt16(_),pe=0,T=h.length;pe<T;pe++)a=h[pe],I.writeUInt16(a);for(I.writeUInt16(0),be=0,J=$.length;be<J;be++)a=$[be],I.writeUInt16(a);for(Te=0,Y=d.length;Te<Y;Te++)c=d[Te],I.writeUInt16(c);for(ze=0,H=q.length;ze<H;ze++)R=q[ze],I.writeUInt16(R);for(ue=0,me=g.length;ue<me;ue++)x=g[ue],I.writeUInt16(x);return{charMap:n,subtable:I.data,maxGlyphID:P+1}}},e})(),$L=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new G6(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=G6.encode(r,n),(i=new Dc).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t})(),ite=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),ste=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),lte=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=function(){var c,d,f;for(f=[],s=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;s=0<=d?++c:--c)f.push(r.readUInt32());return f}.call(this)}},t})(),cte=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ute=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,c,d,f,p,h,y,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),d=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+d+r.readShort()});for(f={},s=h=0,y=a.length;h<y;s=++h)i=a[s],r.pos=i.offset,p=r.readString(i.length),c=new cte(p,i),f[g=i.nameID]==null&&(f[g]=[]),f[i.nameID].push(c);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),dte=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),fte=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,c,d,f;for(r.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,h;for(h=[],n=p=0;0<=i?p<i:p>i;n=0<=i?++p:--p)h.push(r.readInt16());return h})(),this.widths=function(){var p,h,y,g;for(g=[],p=0,h=(y=this.metrics).length;p<h;p++)s=y[p],g.push(s.advance);return g}.call(this),a=this.widths[this.widths.length-1],f=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),FL=[].slice,hte=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,c,d,f,p,h,y;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,c=(d=new Dc(n.read(i))).readShort(),p=d.readShort(),y=d.readShort(),f=d.readShort(),h=d.readShort(),this.cache[r]=c===-1?new mte(d,p,y,f,h):new pte(d,c,p,y,f,h),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,c,d,f;for(c=[],s=[],d=0,f=n.length;d<f;d++)i=r[n[d]],s.push(c.length),i&&(c=c.concat(i.encode(a)));return s.push(c.length),{table:c,offsets:s}},t})(),pte=(function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),mte=(function(){function e(t,r,n,a,i){var s,c;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;c=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&c;)s.pos+=1&c?4:2,128&c?s.pos+=8:64&c?s.pos+=4:8&c&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Dc(FL.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),gte=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ls(t,Qi),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}.call(this):function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}.call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,c=0;c<a.length;++c)if(a[c]=i,s<n.length&&n[s]==c){++s,a[c]=i;var d=this.offsets[c],f=this.offsets[c+1]-d;f>0&&(i+=f)}for(var p=new Array(4*a.length),h=0;h<a.length;++h)p[4*h+3]=255&a[h],p[4*h+2]=(65280&a[h])>>8,p[4*h+1]=(16711680&a[h])>>16,p[4*h]=(4278190080&a[h])>>24;return p},t})(),vte=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,c,d;for(a={},s=0,c=t.length;s<c;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,c,d,f,p,h,y,g,j,x,w,S;for(a in n=$L.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),g={0:0},S=n.charMap)g[(d=S[a]).old]=d.new;for(j in y=n.maxGlyphID,s)j in g||(g[j]=y++);return p=(function(C){var P,R;for(P in R={},C)R[C[P]]=P;return R})(g),h=Object.keys(p).sort((function(C,P){return C-P})),x=(function(){var C,P,R;for(R=[],C=0,P=h.length;C<P;C++)c=h[C],R.push(p[c]);return R})(),i=this.font.glyf.encode(s,x,g),f=this.font.loca.encode(i.offsets,x),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e})();ir.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var c,d,f;for(f=[],c=0,d=r.length;c<d;c++)n=r[c],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t})();const N2="damabella_ventas",wc="damabella_clientes",j2="damabella_productos",jh="damabella_devoluciones",K6=.19,yte=["Defectuoso","Talla incorrecta","Color incorrecto","Producto equivocado","Otro"];function xte(){const[e,t]=M.useState(()=>{const ye=localStorage.getItem(N2);return ye?JSON.parse(ye):[]}),[r,n]=M.useState(()=>{const ye=localStorage.getItem(wc);return ye?JSON.parse(ye):[]}),[a,i]=M.useState(()=>{const ye=localStorage.getItem(j2);if(ye)return JSON.parse(ye);const Ge=[{id:"1",nombre:"Vestido Corto Casual",referencia:"VES-CORTA-001",codigoInterno:"VCC-001",precioVenta:65e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Rojo","Negro","Blanco","Azul","Rosa"]},{id:"2",nombre:"Vestido Largo Elegante",referencia:"VES-LARGO-002",codigoInterno:"VLE-002",precioVenta:95e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Rojo","Champagne","Azul Marino"]},{id:"3",nombre:"Enterizo Ejecutivo",referencia:"ENT-EJE-003",codigoInterno:"ENE-003",precioVenta:85e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Beige","Azul Marino","Gris"]},{id:"4",nombre:"Enterizo Casual Denim",referencia:"ENT-CAS-004",codigoInterno:"ECD-004",precioVenta:75e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Azul Claro","Azul Oscuro","Negro"]},{id:"5",nombre:"Vestido Corto de Fiesta",referencia:"VES-FIESTA-005",codigoInterno:"VCF-005",precioVenta:78e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Dorado","Plata","Negro","Rojo"]},{id:"6",nombre:"Vestido Largo de Gala",referencia:"VES-GALA-006",codigoInterno:"VLG-006",precioVenta:12e4,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Blanco","Negro","Azul Marino","Vino"]},{id:"7",nombre:"Enterizo Premium",referencia:"ENT-PREM-007",codigoInterno:"EPR-007",precioVenta:105e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Blanco","Rosa Palo","Azul Cielo"]}];return localStorage.setItem(j2,JSON.stringify(Ge)),Ge}),[s,c]=M.useState(!1),[d,f]=M.useState(!1),[p,h]=M.useState(!1),[y,g]=M.useState(!1),[j,x]=M.useState(!1),[w,S]=M.useState(!1),[C,P]=M.useState(""),[R,L]=M.useState("info"),[q,_]=M.useState(null),[B,V]=M.useState(null),[K,E]=M.useState(null),[$,D]=M.useState(""),[I,z]=M.useState(""),[W,ee]=M.useState(""),[G,ie]=M.useState(!1),[te,re]=M.useState(""),[T,J]=M.useState({clienteId:"",fechaVenta:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[]}),[Y,H]=M.useState(!1),[me,pe]=M.useState("Efectivo"),[be,ge]=M.useState({}),[Te,ze]=M.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),[ue,Fe]=M.useState({}),[De,Ne]=M.useState({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),[se,ct]=M.useState({motivo:"Defectuoso",itemsDevueltos:[],productoNuevoId:"",productoNuevoTalla:"",productoNuevoColor:"",medioPagoExcedente:"Efectivo"}),[Q,Ce]=M.useState(()=>{const ye=localStorage.getItem("damabella_venta_counter");return ye?parseInt(ye,10):1});M.useEffect(()=>{localStorage.setItem(N2,JSON.stringify(e))},[e]),M.useEffect(()=>{localStorage.setItem("damabella_venta_counter",Q.toString())},[Q]),M.useEffect(()=>{const ye=()=>{const st=localStorage.getItem(j2),Ot=localStorage.getItem(wc),kt=localStorage.getItem(N2);st&&i(JSON.parse(st)),Ot&&n(JSON.parse(Ot)),kt&&t(JSON.parse(kt))},Ge=()=>{const st=localStorage.getItem(wc);st&&n(JSON.parse(st))},Ze=st=>{const{pedido:Ot}=st.detail;!Ot?.numeroPedido||!JSON.parse(localStorage.getItem(wc)||"[]").find($t=>$t.id.toString()===Ot.clienteId?.toString())||(t($t=>{if($t.some(yr=>yr.pedido_id===Ot.numeroPedido))return $t;const Rr={id:Date.now(),clienteId:Ot.clienteId,clienteNombre:Ot.clienteNombre,fechaVenta:Ot.fechaPedido,estado:"Completada",items:Ot.items.map(yr=>({id:yr.id,productoId:yr.productoId,productoNombre:yr.productoNombre,talla:yr.talla,color:yr.color,cantidad:yr.cantidad,precioUnitario:yr.precioUnitario,subtotal:yr.subtotal})),subtotal:Ot.subtotal,iva:Ot.iva,total:Ot.total,metodoPago:Ot.metodoPago||"Efectivo",observaciones:Ot.observaciones||"",anulada:!1,createdAt:new Date().toISOString(),pedido_id:Ot.numeroPedido},xn=parseInt(localStorage.getItem("damabella_venta_counter")||"1",10),Gn=`VEN-${String(xn).padStart(3,"0")}`,Cr={...Rr,numeroVenta:Gn};localStorage.setItem("damabella_venta_counter",String(xn+1));const Ho=parseInt(localStorage.getItem("damabella_venta_counter")||"1",10);return Ce(Ho),[...$t,Cr]}),window.dispatchEvent(new Event("salesUpdated")))};return ye(),window.addEventListener("storage",ye),window.addEventListener("salesUpdated",ye),window.addEventListener("clientsUpdated",Ge),window.addEventListener("pedidoConvertidoAVenta",Ze),()=>{window.removeEventListener("storage",ye),window.removeEventListener("salesUpdated",ye),window.removeEventListener("clientsUpdated",Ge),window.removeEventListener("pedidoConvertidoAVenta",Ze)}},[]);const he=()=>`VEN-${Q.toString().padStart(3,"0")}`,je=ye=>{const Ge=ye.reduce((Ot,kt)=>{const gt=Number(kt.cantidad),$t=Number(kt.precioUnitario),dr=Number.isFinite(gt)&&gt>=1?gt:1,Rr=Number.isFinite($t)&&$t>=0?$t:0;return Ot+dr*Rr},0),Ze=Ge*K6,st=Ge+Ze;return{subtotal:Ge,iva:Ze,total:st}},_e=(ye,Ge)=>{const Ze={};return Ge||(Ze.clienteId="Debes seleccionar un cliente"),Ze},we=(ye,Ge)=>{const Ze={};return ye==="nombre"&&(Ge.trim()?/^[a-zA-Z\s]+$/.test(Ge)||(Ze.nombre="Solo se permiten letras y espacios"):Ze.nombre="Este campo es obligatorio"),ye==="numeroDoc"&&(Ge.trim()?/^\d{6,12}$/.test(Ge)||(Ze.numeroDoc="Debe tener entre 6 y 12 dgitos"):Ze.numeroDoc="Este campo es obligatorio"),ye==="telefono"&&(Ge.trim()?/^\d{10}$/.test(Ge)||(Ze.telefono="Debe tener exactamente 10 dgitos"):Ze.telefono="Este campo es obligatorio"),ye==="email"&&Ge&&!/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(Ge)&&(Ze.email="Email invlido (debe iniciar con letra)"),Ze},le=(ye,Ge)=>{(ye==="numeroDoc"||ye==="telefono")&&(Ge=Ge.replace(/\D/g,"")),ze({...Te,[ye]:Ge});const Ze=we(ye,Ge);Fe({...ue,[ye]:Ze[ye]})},$e=()=>{J({clienteId:"",fechaVenta:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[]}),H(!1),pe("Efectivo"),Ne({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),z(""),ge({}),c(!0)},at=(ye,Ge)=>{J(Ze=>({...Ze,clienteId:ye})),z(Ge),ee(Ge),ie(!1),ge(Ze=>({...Ze,clienteId:void 0})),H(!1),pe("Efectivo")},lt=r.filter(ye=>(ye.nombre?.toLowerCase()??"").includes(I.toLowerCase())||(ye.numeroDoc??"").includes(I)),Ct=()=>a.find(ye=>ye.id.toString()===De.productoId),Nt=()=>{const ye=Ct();return ye?ye.variantes?ye.variantes.map(Ge=>Ge.talla):ye.tallas||[]:[]},At=()=>{const ye=Ct();if(!ye)return[];if(ye.variantes&&De.talla){const Ge=ye.variantes.find(Ze=>Ze.talla===De.talla);return Ge?Ge.colores.map(Ze=>Ze.color):[]}return ye.colores||[]},pt=()=>a.find(ye=>ye.id.toString()===se.productoNuevoId),Or=()=>{const ye=pt();return ye?ye.variantes?ye.variantes.map(Ge=>Ge.talla):ye.tallas||[]:[]},Yt=()=>{const ye=pt();if(!ye)return[];if(ye.variantes&&se.productoNuevoTalla){const Ge=ye.variantes.find(Ze=>Ze.talla===se.productoNuevoTalla);return Ge?(Ge.colores||[]).map(Ze=>Ze.color):[]}return ye.colores||[]},Lr=ye=>{try{const Ge=a.find(Ze=>String(Ze.id)===String(ye.productoId));if(!Ge)return Number(ye.cantidad||0);if(Array.isArray(Ge.variantes)){const Ze=Ge.variantes.find(st=>String(st.talla)===String(ye.talla));if(Ze&&Array.isArray(Ze.colores)){const st=Ze.colores.find(Ot=>String(Ot.color)===String(ye.color)||String(Ot.nombre)===String(ye.color));if(st&&typeof st.cantidad<"u")return Number(st.cantidad||0)}}return typeof Ge.stock<"u"?Number(Ge.stock||0):typeof Ge.cantidad<"u"?Number(Ge.cantidad||0):Number(ye.cantidad||0)}catch{return Number(ye.cantidad||0)}},nr=()=>{if(!De.productoId||!De.talla||!De.color||!De.cantidad){P("Completa todos los campos del producto"),L("error"),S(!0);return}const ye=a.find($t=>$t.id.toString()===De.productoId);if(!ye)return;const Ge=parseInt(De.cantidad,10),Ze=Number.isFinite(Ge)&&Ge>=1?Ge:1,st=Number(ye.precioVenta||0),Ot=Number.isFinite(st)&&st>=0?st:0,kt=Ze*Ot,gt={id:`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,productoId:De.productoId,productoNombre:ye.nombre,talla:De.talla,color:De.color,cantidad:Ze,precioUnitario:Ot,subtotal:kt};J({...T,items:[...T.items,gt]}),Ne({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""})},jr=ye=>{J({...T,items:T.items.filter(Ge=>Ge.id!==ye)})},rn=(ye,Ge)=>{const Ze=parseInt(Ge,10),st=Number.isFinite(Ze)&&Ze>=1?Ze:1;J(Ot=>({...Ot,items:Ot.items.map(kt=>{if(kt.id!==ye)return kt;const gt=Number.isFinite(Number(kt.precioUnitario))?Number(kt.precioUnitario):0;return{...kt,cantidad:st,subtotal:st*Math.max(gt,0)}})}))},pr=(ye,Ge)=>{const Ze=Number(Ge),st=Number.isFinite(Ze)&&Ze>=0?Ze:0;J(Ot=>({...Ot,items:Ot.items.map(kt=>{if(kt.id!==ye)return kt;const gt=Number.isFinite(Number(kt.cantidad))&&Number(kt.cantidad)>=1?Number(kt.cantidad):1;return{...kt,precioUnitario:st,subtotal:gt*st}})}))},Ae=()=>{const ye=he(),Ge={},Ze=_e("clienteId",T.clienteId);if(Ze.clienteId&&(Ge.clienteId=Ze.clienteId),Object.keys(Ge).length>0){ge(Ge);return}if(T.items.length===0){P("Agrega al menos un producto"),L("error"),S(!0);return}const st=r.find(Gn=>Gn.id.toString()===T.clienteId);if(!st){P("Cliente no encontrado"),L("error"),S(!0);return}const Ot=st,kt=je(T.items),gt=Number(Ot?.saldoAFavor||0),$t=Number(kt.total||0),dr=Y?Math.min(gt,$t):0,Rr=Math.max($t-dr,0);if(Y&&Rr>0&&!me){P("Debes seleccionar el medio de pago del restante"),L("error"),S(!0);return}const xn={id:Date.now(),numeroVenta:ye,clienteId:T.clienteId,clienteNombre:Ot.nombre,fechaVenta:T.fechaVenta,estado:"Completada",items:T.items,subtotal:kt.subtotal,iva:kt.iva,total:kt.total,metodoPago:Y?Rr>0?`Saldo a favor + ${me}`:"Saldo a favor":T.metodoPago,observaciones:T.observaciones,anulada:!1,createdAt:new Date().toISOString()};if(t(Gn=>[...Gn,xn]),dr>0){const Gn=r.map(Cr=>Cr.id.toString()===T.clienteId.toString()?{...Cr,saldoAFavor:Number(Cr.saldoAFavor||0)-dr}:Cr);localStorage.setItem(wc,JSON.stringify(Gn)),window.dispatchEvent(new Event("clientsUpdated")),n(Gn)}Ce(Q+1),c(!1),P("Venta creada exitosamente"),L("success"),S(!0)},He=()=>{if(!B||!te.trim()){P("Debes ingresar un motivo de anulacin"),L("error"),S(!0);return}t(e.map(ye=>ye.id===B.id?{...ye,estado:"Anulada",anulada:!0,motivoAnulacion:te}:ye)),g(!1),V(null),re(""),P("Venta anulada exitosamente"),L("success"),S(!0)},Ye=()=>{if(!Te.nombre||!Te.numeroDoc||!Te.telefono){P("Completa los campos obligatorios"),L("error"),S(!0);return}const ye={id:Date.now(),...Te,saldoAFavor:0,activo:!0,createdAt:new Date().toISOString()},Ge=JSON.parse(localStorage.getItem(wc)||"[]");localStorage.setItem(wc,JSON.stringify([...Ge,ye])),n([...r,ye]),J({...T,clienteId:ye.id.toString()}),z(ye.nombre),ee(ye.nombre),h(!1),ze({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),P("Cliente creado exitosamente"),L("success"),S(!0)},it=()=>{const ye=JSON.parse(localStorage.getItem(jh)||"[]");if(K?ye.some(yr=>String(yr.ventaId)===String(K.id)||String(yr.numeroVenta)===String(K.numeroVenta)):!1){P("Ya existe una devolucin para esta venta. No se puede generar otra."),L("error"),S(!0);return}if(!K||!se.motivo){P("Debes seleccionar un motivo de devolucin"),L("error"),S(!0);return}if(se.itemsDevueltos.length===0){P("Debes seleccionar al menos un producto para devolver"),L("error"),S(!0);return}for(const yr of se.itemsDevueltos){const bn=K.items.find(Ts=>Ts.id===yr.itemId);if(!bn)continue;const Co=Lr(bn);if(yr.cantidad>Co){P(`La cantidad a devolver para ${bn.productoNombre} no puede ser mayor al stock actual (${Co}).`),L("error"),S(!0);return}if(yr.cantidad<0){P("La cantidad a devolver debe ser un nmero vlido."),L("error"),S(!0);return}}if(!se.productoNuevoId){P("Debes seleccionar el producto por el que se har el cambio"),L("error"),S(!0);return}if(!se.productoNuevoTalla||!se.productoNuevoColor){P("Debes seleccionar talla y color del producto nuevo"),L("error"),S(!0);return}const Ze=JSON.parse(localStorage.getItem(jh)||"[]"),st=`DEV-${(Ze.length+1).toString().padStart(3,"0")}`,Ot=se.itemsDevueltos.map(yr=>{const bn=K.items.find(Co=>Co.id===yr.itemId);return bn?{id:Date.now().toString()+Math.random(),productoNombre:bn.productoNombre,talla:bn.talla,color:bn.color,cantidad:yr.cantidad,precioUnitario:bn.precioUnitario,subtotal:yr.cantidad*bn.precioUnitario}:null}).filter(Boolean),kt=Ot.reduce((yr,bn)=>yr+bn.subtotal,0),gt=a.find(yr=>yr.id.toString()===se.productoNuevoId);if(!gt){P("Producto de cambio no encontrado"),L("error"),S(!0);return}const $t=gt.precioVenta||0,dr=$t-kt,Rr=dr<0?Math.abs(dr):0,xn=dr>0?dr:0;if(xn>0&&!se.medioPagoExcedente){P("Debes seleccionar el medio de pago del excedente"),L("error"),S(!0);return}const Gn={id:Date.now(),numeroDevolucion:st,ventaId:K.id,numeroVenta:K.numeroVenta,clienteId:K.clienteId,clienteNombre:K.clienteNombre,fechaDevolucion:new Date().toISOString().split("T")[0],motivo:se.motivo,items:Ot,total:kt,createdAt:new Date().toISOString(),estadoGestion:"Cambiado",productoNuevo:{id:gt.id,nombre:gt.nombre,precio:$t},productoNuevoTalla:se.productoNuevoTalla,productoNuevoColor:se.productoNuevoColor,saldoAFavor:Rr,diferenciaPagar:xn,medioPagoExcedente:xn>0?se.medioPagoExcedente:void 0};localStorage.setItem(jh,JSON.stringify([...Ze,Gn]));const Cr=r.map(yr=>yr.id.toString()===K.clienteId.toString()?{...yr,saldoAFavor:Number(yr.saldoAFavor||0)+Number(Rr||0)}:yr);localStorage.setItem(wc,JSON.stringify(Cr)),n(Cr),t(yr=>yr.map(bn=>bn.id===K.id?{...bn,estado:"Devolucin"}:bn)),window.dispatchEvent(new Event("salesUpdated")),x(!1),E(null),ct({motivo:"Defectuoso",itemsDevueltos:[],productoNuevoId:"",productoNuevoTalla:"",productoNuevoColor:"",medioPagoExcedente:"Efectivo"});let Ho=`Devolucin ${st} creada exitosamente. `;Rr>0?Ho+=`Saldo a favor: $${Rr.toLocaleString()}.`:xn>0?Ho+=`Excedente pagado: $${xn.toLocaleString()} (${se.medioPagoExcedente}).`:Ho+="Cambio exacto (sin saldo ni excedente).",P(Ho),L("success"),S(!0)},vt=(ye,Ge)=>{const Ze=se.itemsDevueltos.findIndex(st=>st.itemId===ye);if(Ze>=0)if(Ge===0)ct({...se,itemsDevueltos:se.itemsDevueltos.filter(st=>st.itemId!==ye)});else{const st=[...se.itemsDevueltos];st[Ze]={itemId:ye,cantidad:Ge},ct({...se,itemsDevueltos:st})}else Ge>0&&ct({...se,itemsDevueltos:[...se.itemsDevueltos,{itemId:ye,cantidad:Ge}]})},xt=ye=>{const Ge=new ir,Ze=14;let st=16;const Ot=7,kt=(gt,$t)=>{const dr=Ge.splitTextToSize(gt,180);Ge.text(dr,Ze,st),st+=dr.length*Ot,st>280&&(Ge.addPage(),st=16)};kt("COMPROBANTE DE VENTA"),st+=2,kt(`Nmero: ${ye.numeroVenta}`),kt(`Fecha: ${new Date(ye.fechaVenta).toLocaleDateString()}`),kt(`Cliente: ${ye.clienteNombre}`),kt(`Estado: ${ye.estado}`),st+=4,kt("PRODUCTOS:"),ye.items.forEach(gt=>{kt(`${gt.productoNombre}`),kt(`Talla: ${gt.talla} | Color: ${gt.color}`),kt(`Cantidad: ${gt.cantidad} x $${gt.precioUnitario.toLocaleString()}  Subtotal: $${gt.subtotal.toLocaleString()}`),st+=2}),st+=2,kt("TOTALES:"),kt(`Subtotal: $${ye.subtotal.toLocaleString()}`),kt(`IVA (19%): $${ye.iva.toLocaleString()}`),kt(`TOTAL: $${ye.total.toLocaleString()}`),st+=2,kt(`Mtodo de Pago: ${ye.metodoPago}`),ye.observaciones&&kt(`Observaciones: ${ye.observaciones}`),ye.anulada&&kt(`*** VENTA ANULADA *** Motivo: ${ye.motivoAnulacion||""}`);try{Ge.save(`${ye.numeroVenta}.pdf`)}catch(gt){console.error("Error generando PDF",gt),P("Error al generar el PDF"),L("error"),S(!0)}},bt=()=>{if(e.length===0){P("No hay ventas para descargar"),L("info"),S(!0);return}try{const ye=[];e.forEach($t=>{if(!$t.items||$t.items.length===0){ye.push({"ID Venta":$t.numeroVenta,"ID Pedido":$t.pedido_id||"N/A",Cliente:$t.clienteNombre,Fecha:new Date($t.fechaVenta).toLocaleDateString(),Estado:$t.estado,"Mtodo Pago":$t.metodoPago,Observaciones:$t.observaciones||"N/A",Producto:"N/A",Talla:"N/A",Color:"N/A",Cantidad:0,"Precio Unitario":0,"Subtotal tem":0,"Subtotal Venta":$t.subtotal,"IVA Venta":$t.iva,"Total Venta":$t.total});return}$t.items.forEach(dr=>{ye.push({"ID Venta":$t.numeroVenta,"ID Pedido":$t.pedido_id||"N/A",Cliente:$t.clienteNombre,Fecha:new Date($t.fechaVenta).toLocaleDateString(),Estado:$t.estado,"Mtodo Pago":$t.metodoPago,Observaciones:$t.observaciones||"N/A",Producto:dr.productoNombre,Talla:dr.talla,Color:dr.color,Cantidad:dr.cantidad,"Precio Unitario":dr.precioUnitario,"Subtotal tem":dr.subtotal,"Subtotal Venta":$t.subtotal,"IVA Venta":$t.iva,"Total Venta":$t.total})})});const Ge=Object.keys(ye[0]||{}),Ze=$t=>$t==null?"":`"${$t.toString().replace(/"/g,'""')}"`,st=[Ge.join("	"),...ye.map($t=>Ge.map(dr=>{const Rr=$t[dr];return(Rr==null?"":String(Rr)).replace(/\t/g," ").replace(/\r?\n/g," ")}).join("	"))].join(`
`),Ot=new Blob([st],{type:"text/plain;charset=utf-8;"}),kt=URL.createObjectURL(Ot),gt=document.createElement("a");gt.setAttribute("href",kt),gt.setAttribute("download",`Ventas_Detalladas_${new Date().toISOString().split("T")[0]}.xlsx`),gt.style.visibility="hidden",document.body.appendChild(gt),gt.click(),document.body.removeChild(gt),URL.revokeObjectURL(kt),P("Ventas descargadas exitosamente"),L("success"),S(!0)}catch{P("Error al descargar las ventas"),L("error"),S(!0)}},wr=e.filter(ye=>{const Ge=$.toLowerCase(),Ze=(ye.numeroVenta?.toLowerCase()??"").includes(Ge),st=(ye.clienteNombre?.toLowerCase()??"").includes(Ge),Ot=(ye.estado?.toLowerCase()??"").includes(Ge),kt=new Date(ye.fechaVenta).toLocaleDateString().includes($),gt=ye.total.toString().includes($),dr=(ye.pedido_id!=null?String(ye.pedido_id).toLowerCase():"").includes(Ge),Rr=ye.items.some(xn=>(xn.productoNombre?.toLowerCase()??"").includes(Ge));return Ze||st||Ot||kt||gt||dr||Rr}),ar=JSON.parse(localStorage.getItem(jh)||"[]"),Xt=je(T.items),vr=r.find(ye=>ye.id?.toString()===T.clienteId?.toString()),Et=Number(vr?.saldoAFavor||0),Vr=Number(Xt.total||0),Pr=Y?Math.min(Et,Vr):0,Ht=Math.max(Vr-Pr,0),Dt=5,[de,Je]=M.useState(1),ut=Math.ceil(wr.length/Dt),Rt=M.useMemo(()=>{const ye=(de-1)*Dt,Ge=ye+Dt;return wr.slice(ye,Ge)},[wr,de]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Ventas"}),o.jsx("p",{className:"text-gray-600",children:"Registra y administra las ventas con IVA incluido"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(mt,{onClick:bt,variant:"secondary",children:[o.jsx(yl,{size:20}),"Descargar Excel"]}),o.jsxs(mt,{onClick:$e,variant:"primary",children:[o.jsx(No,{size:20}),"Nueva Venta"]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:"Buscar por nmero, cliente o estado...",value:$,onChange:ye=>D(ye.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Nmero"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Pedido"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Cliente"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Fecha"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Total"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[wr.length===0&&o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:[o.jsx(g5,{className:"mx-auto mb-4 text-gray-300",size:48}),o.jsx("p",{children:"No se encontraron ventas"})]})}),Rt.map(ye=>{const Ze=(ar&&Array.isArray(ar)?ar.some(st=>String(st.ventaId)===String(ye.id)||String(st.numeroVenta)===String(ye.numeroVenta)):!1)?"Devuelta":ye.estado;return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"text-gray-900 font-medium",children:ye.numeroVenta})}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:ye.pedido_id?o.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-sm font-medium",children:ye.pedido_id}):o.jsx("span",{className:"text-gray-400",children:"N/A"})}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:ye.clienteNombre}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:new Date(ye.fechaVenta).toLocaleDateString()}),o.jsxs("td",{className:"py-4 px-6 text-right text-gray-900 font-semibold",children:["$",ye.total.toLocaleString()]}),o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm ${Ze==="Completada"?"bg-green-100 text-green-700":Ze==="Devuelta"||Ze==="Devolucin"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:Ze})})}),o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>{_(ye),f(!0)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver detalle",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:()=>xt(ye),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Descargar",children:o.jsx(yl,{size:18})})]})})]},ye.id)})]})]})})}),ut>1&&o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t text-sm text-gray-600",children:[o.jsx("span",{className:"text-sm text-gray-500",children:`Mostrando ${Math.min((de-1)*Dt+1,wr.length||0)} a ${Math.min(de*Dt,wr.length)} de ${wr.length} ventas`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>Je(ye=>Math.max(ye-1,1)),disabled:de===1,className:"px-3 py-1.5 rounded-md border text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Anterior"}),Array.from({length:ut}).map((ye,Ge)=>{const Ze=Ge+1,st=de===Ze;return o.jsx("button",{onClick:()=>Je(Ze),className:st?"px-3 py-1.5 rounded-md bg-gray-900 text-white text-sm font-semibold":"px-3 py-1.5 rounded-md border text-sm text-gray-700 hover:bg-gray-100 transition",children:Ze},Ze)}),o.jsx("button",{onClick:()=>Je(ye=>Math.min(ye+1,ut)),disabled:de===ut,className:"px-3 py-1.5 rounded-md border text-sm font-medium transition disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100",children:"Siguiente"})]})]}),o.jsx(er,{isOpen:s,onClose:()=>c(!1),title:"Nueva Venta",size:"xxl",children:o.jsxs("div",{className:"max-h-[70vh] overflow-y-auto pr-1 text-xs",children:[o.jsxs("div",{className:"space-y-2 pb-24",children:[o.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white p-3",children:[o.jsx("h3",{className:"text-center text-base font-semibold tracking-wide text-gray-900 mb-2",children:"DAMABELLA"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1.5 mb-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Nmero de venta"}),o.jsx(wt,{value:he(),readOnly:!0,disabled:!0,className:"h-8 text-xs bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Fecha de creacin"}),o.jsx(wt,{value:T.fechaVenta,readOnly:!0,disabled:!0,className:"h-8 text-xs bg-gray-50"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs(mt,{onClick:()=>h(!0),variant:"secondary",className:"w-full h-8 text-xs",children:[o.jsx(cE,{size:14}),"Crear nuevo cliente"]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Cliente *"}),o.jsxs("div",{className:"relative text-sm",children:[o.jsx(wt,{value:I,onChange:ye=>{const Ge=ye.target.value;z(Ge),ie(!0),J(Ze=>Ge.trim()===W.trim()?Ze:{...Ze,clienteId:""}),Ge.trim()!==W.trim()&&(ee(""),H(!1),pe("Efectivo"))},onFocus:()=>ie(!0),placeholder:"Buscar cliente por nombre o documento...",className:be.clienteId?"border-red-500":""}),G&&lt.length>0&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-40 overflow-y-auto",children:lt.map(ye=>o.jsxs("button",{type:"button",onClick:()=>at(ye.id.toString(),ye.nombre),className:"w-full text-left px-2.5 py-1.5 hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"font-medium text-gray-900",children:ye.nombre}),o.jsxs("div",{className:"text-xs text-gray-600",children:[ye.numeroDoc," - ",ye.telefono]})]},ye.id))})]}),be.clienteId&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:be.clienteId}),vr&&o.jsxs("div",{className:"mt-2 border border-gray-200 rounded-lg p-2 bg-gray-50 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-1.5 text-xs leading-tight",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Nombre:"}),o.jsx("div",{className:"text-gray-900 font-medium truncate",children:vr.nombre||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Documento:"}),o.jsx("div",{className:"text-gray-900 font-medium",children:vr.numeroDoc||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Telfono:"}),o.jsx("div",{className:"text-gray-900 font-medium",children:vr.telefono||"-"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Ciudad:"}),o.jsx("div",{className:"text-gray-900 font-medium",children:vr.ciudad||vr.direccion||"-"})]})]})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1.5 mb-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Mtodo de Pago *"}),(!Y||Pr<=0)&&o.jsxs("select",{value:T.metodoPago,onChange:ye=>J({...T,metodoPago:ye.target.value}),className:"w-full h-8 px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs",required:!0,children:[o.jsx("option",{value:"Efectivo",children:"Efectivo"}),o.jsx("option",{value:"Transferencia",children:"Transferencia"}),o.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"Nequi",children:"Nequi"}),o.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]}),Y&&Ht>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Medio de pago restante *"}),o.jsxs("select",{value:me,onChange:ye=>pe(ye.target.value),className:"w-full h-8 px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs",required:!0,children:[o.jsx("option",{value:"Efectivo",children:"Efectivo"}),o.jsx("option",{value:"Transferencia",children:"Transferencia"}),o.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"Nequi",children:"Nequi"}),o.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]})]}),Et>0&&T.clienteId&&o.jsxs("div",{className:"mb-2 rounded-lg border border-green-300 bg-green-50 p-2",children:[o.jsxs("div",{className:"text-green-800 font-semibold",children:[" Este cliente tiene saldo a favor: $",Et.toLocaleString()]}),o.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm text-green-900",children:[o.jsx("input",{type:"checkbox",checked:Y,onChange:ye=>{const Ge=ye.target.checked;H(Ge),Ge&&pe("Efectivo")}}),"Usar saldo a favor en esta venta"]}),Y&&o.jsxs("div",{className:"mt-2 text-sm text-green-900 space-y-1",children:[o.jsxs("div",{children:["Saldo aplicado: ",o.jsxs("b",{children:["$",Pr.toLocaleString()]})]}),o.jsxs("div",{children:["Restante por pagar: ",o.jsxs("b",{children:["$",Ht.toLocaleString()]})]})]})]}),o.jsx("h4",{className:"text-gray-900 font-semibold mb-2",children:"Agregar productos"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-2.5 mb-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-1.5",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-xs",children:"Producto"}),o.jsxs("select",{value:De.productoId,onChange:ye=>Ne({...De,productoId:ye.target.value,talla:"",color:""}),className:"w-full h-8 px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs",children:[o.jsx("option",{value:"",children:"Seleccionar producto..."}),a.filter(ye=>ye.activo).map(ye=>o.jsxs("option",{value:ye.id,children:[ye.nombre," - $",(ye.precioVenta||0).toLocaleString()]},ye.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-xs",children:"Talla"}),o.jsxs("select",{value:De.talla,onChange:ye=>Ne({...De,talla:ye.target.value,color:""}),className:"w-full h-8 px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs",children:[o.jsx("option",{value:"",children:"Seleccionar..."}),Nt().map(ye=>o.jsx("option",{value:ye,children:ye},ye))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-xs",children:"Color"}),o.jsxs("select",{value:De.color,onChange:ye=>Ne({...De,color:ye.target.value}),className:"w-full h-8 px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-xs",disabled:!De.talla,children:[o.jsx("option",{value:"",children:"Seleccionar..."}),At().map(ye=>o.jsx("option",{value:ye,children:ye},ye))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-1 text-xs",children:"Cantidad"}),o.jsx(wt,{type:"number",min:"1",value:De.cantidad,onChange:ye=>Ne({...De,cantidad:ye.target.value}),className:"h-8 text-xs"})]})]}),o.jsx("div",{className:"mt-1.5 flex justify-end",children:o.jsxs(mt,{onClick:nr,variant:"secondary",className:"h-8 text-xs",children:[o.jsx(No,{size:14}),"Agregar producto"]})})]}),o.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:o.jsxs("table",{className:"w-full min-w-[720px] text-xs",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-1.5 py-1.5 font-semibold text-gray-700",children:"Num"}),o.jsx("th",{className:"text-left px-1.5 py-1.5 font-semibold text-gray-700",children:"Nombre del producto"}),o.jsx("th",{className:"text-left px-1.5 py-1.5 font-semibold text-gray-700",children:"Talla"}),o.jsx("th",{className:"text-left px-1.5 py-1.5 font-semibold text-gray-700",children:"Color"}),o.jsx("th",{className:"text-right px-1.5 py-1.5 font-semibold text-gray-700",children:"Valor unitario"}),o.jsx("th",{className:"text-right px-1.5 py-1.5 font-semibold text-gray-700",children:"Cantidad"}),o.jsx("th",{className:"text-right px-1.5 py-1.5 font-semibold text-gray-700",children:"Valor total"}),o.jsx("th",{className:"text-center px-1.5 py-1.5 font-semibold text-gray-700",children:"Accin"})]})}),o.jsx("tbody",{children:T.items.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"px-2 py-4 text-center text-gray-500",children:"No hay productos agregados"})}):T.items.map((ye,Ge)=>o.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0",children:[o.jsx("td",{className:"px-1.5 py-1.5 text-gray-700",children:Ge+1}),o.jsx("td",{className:"px-1.5 py-1.5 text-gray-900 font-medium",children:ye.productoNombre}),o.jsx("td",{className:"px-1.5 py-1.5 text-gray-700",children:ye.talla}),o.jsx("td",{className:"px-1.5 py-1.5 text-gray-700",children:ye.color}),o.jsx("td",{className:"px-1.5 py-1.5",children:o.jsx(wt,{type:"number",min:"0",step:"1",value:Number.isFinite(Number(ye.precioUnitario))?ye.precioUnitario:0,onChange:Ze=>pr(ye.id,Ze.target.value),className:"h-7 text-xs text-right tabular-nums"})}),o.jsx("td",{className:"px-1.5 py-1.5",children:o.jsx(wt,{type:"number",min:"1",step:"1",value:Number.isFinite(Number(ye.cantidad))?ye.cantidad:1,onChange:Ze=>rn(ye.id,Ze.target.value),className:"h-7 text-xs text-right tabular-nums"})}),o.jsxs("td",{className:"px-1.5 py-1.5 text-right tabular-nums font-semibold text-gray-900",children:["$",((Number(ye.precioUnitario)>=0?Number(ye.precioUnitario):0)*(Number(ye.cantidad)>=1?Number(ye.cantidad):1)).toLocaleString()]}),o.jsx("td",{className:"px-1.5 py-1.5 text-center",children:o.jsx("button",{onClick:()=>jr(ye.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",title:"Eliminar fila",children:o.jsx(Ji,{size:14})})})]},ye.id))})]})})]}),o.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white p-3",children:[o.jsx("label",{className:"block text-gray-700 mb-1",children:"Observaciones"}),o.jsx("textarea",{value:T.observaciones,onChange:ye=>J({...T,observaciones:ye.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm",rows:2,placeholder:"Notas adicionales..."})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 pt-2 mt-2",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 items-end",children:[o.jsxs("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-2",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 text-xs",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{className:"tabular-nums",children:["$",Xt.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-600 text-xs mt-1",children:[o.jsxs("span",{children:["IVA (",Math.round(K6*100),"%)"]}),o.jsxs("span",{className:"tabular-nums",children:["$",Xt.iva.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-900 text-sm font-semibold mt-1.5 pt-1.5 border-t border-gray-200",children:[o.jsx("span",{children:"Total a pagar"}),o.jsxs("span",{className:"tabular-nums",children:["$",Xt.total.toLocaleString()]})]})]}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(mt,{onClick:()=>c(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:Ae,variant:"primary",children:"Crear Venta"})]})]})})]})}),o.jsx(er,{isOpen:d,onClose:()=>f(!1),title:`Detalle de Venta ${q?.numeroVenta}`,children:q&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Cliente"}),o.jsx("div",{className:"text-gray-900 font-medium",children:q.clienteNombre})]}),(()=>{const ye=r.find(Ze=>Ze.id.toString()===q.clienteId.toString()),Ge=Number(ye?.saldoAFavor||0);return Ge<=0?null:o.jsxs("div",{className:"mt-2 bg-green-50 border border-green-200 rounded-lg p-3",children:[o.jsx("div",{className:"text-green-700 font-semibold",children:"Saldo a favor"}),o.jsxs("div",{className:"text-green-800 text-lg font-bold",children:["$",Ge.toLocaleString()]})]})})(),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Estado"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${q.estado==="Completada"?"bg-green-100 text-green-700":q.estado==="Devolucin"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:q.estado})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Fecha"}),o.jsx("div",{className:"text-gray-900",children:new Date(q.fechaVenta).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Mtodo de Pago"}),o.jsx("div",{className:"text-gray-900",children:q.metodoPago})]})]}),q.observaciones&&o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-600 mb-1",children:"Observaciones"}),o.jsx("div",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:q.observaciones})]}),q.anulada&&q.motivoAnulacion&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[o.jsx("div",{className:"text-red-700 font-semibold mb-1",children:"Motivo de Anulacin"}),o.jsx("div",{className:"text-red-600",children:q.motivoAnulacion})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"text-gray-900 font-semibold mb-3",children:"Productos"}),o.jsx("div",{className:"space-y-2",children:q.items.map(ye=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-gray-900 font-medium",children:ye.productoNombre}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",ye.talla," | Color: ",ye.color]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[ye.cantidad," x $",ye.precioUnitario.toLocaleString()]})]}),o.jsxs("div",{className:"text-gray-900 font-semibold",children:["$",ye.subtotal.toLocaleString()]})]})},ye.id))})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",q.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"IVA (19%):"}),o.jsxs("span",{children:["$",q.iva.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-900 text-lg font-semibold pt-2 border-t border-gray-300",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["$",q.total.toLocaleString()]})]})]})]})}),o.jsx(er,{isOpen:y,onClose:()=>g(!1),title:"Anular Venta",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-600",children:["Ests seguro de anular la venta ",o.jsx("strong",{children:B?.numeroVenta}),"? Esta accin no se puede deshacer."]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Motivo de Anulacin *"}),o.jsx("textarea",{value:te,onChange:ye=>re(ye.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:3,placeholder:"Describe el motivo de la anulacin...",required:!0})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>g(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:He,variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Anular Venta"})]})]})}),o.jsx(er,{isOpen:j,onClose:()=>x(!1),title:`Generar Devolucin - ${K?.numeroVenta}`,size:"lg",children:K&&(()=>{const ye=se.itemsDevueltos.reduce((gt,$t)=>{const dr=K.items.find(Rr=>Rr.id===$t.itemId);return gt+(dr?$t.cantidad*dr.precioUnitario:0)},0),Ge=a.find(gt=>gt.id.toString()===se.productoNuevoId),Ze=Ge&&Ge.precioVenta||0,st=Ze-ye,Ot=st<0?Math.abs(st):0,kt=st>0?st:0;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Cliente:"," ",o.jsx("span",{className:"text-gray-900 font-medium",children:K.clienteNombre})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Fecha Venta:"," ",o.jsx("span",{className:"text-gray-900 font-medium",children:new Date(K.fechaVenta).toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Motivo de Devolucin *"}),o.jsx("select",{value:se.motivo,onChange:gt=>ct({...se,motivo:gt.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:yte.map(gt=>o.jsx("option",{value:gt,children:gt},gt))})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"text-gray-900 font-semibold mb-3",children:"Seleccionar Productos a Devolver"}),o.jsx("div",{className:"space-y-2",children:K.items.map(gt=>{const dr=se.itemsDevueltos.find(Rr=>Rr.itemId===gt.id)?.cantidad||0;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-gray-900 font-medium",children:gt.productoNombre}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",gt.talla," | Color: ",gt.color]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Precio: $",gt.precioUnitario.toLocaleString()]})]}),o.jsxs("div",{className:"text-gray-900 font-semibold",children:["$",gt.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o.jsx("label",{className:"text-sm text-gray-700",children:"Cantidad a devolver:"}),o.jsx("input",{type:"number",min:"0",max:Math.max(0,Lr(gt)),value:dr,onChange:Rr=>{const xn=parseInt(Rr.target.value,10)||0,Gn=Math.max(0,Lr(gt)),Cr=Math.min(xn,Gn);vt(gt.id,Cr)},className:"w-20 px-3 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["de ",gt.cantidad]}),dr>0&&o.jsxs("span",{className:"ml-auto text-sm text-green-600 font-medium",children:["Devolucin: $",(dr*gt.precioUnitario).toLocaleString()]})]})]},gt.id)})})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"text-gray-900 font-semibold mb-3",children:"Producto por el que se cambia *"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Producto nuevo"}),o.jsxs("select",{value:se.productoNuevoId,onChange:gt=>{const $t=gt.target.value;ct({...se,productoNuevoId:$t,productoNuevoTalla:"",productoNuevoColor:""})},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"",children:"Seleccionar producto..."}),a.filter(gt=>gt.activo).map(gt=>o.jsxs("option",{value:gt.id,children:[gt.nombre," - $",(gt.precioVenta||0).toLocaleString()]},gt.id))]})]}),Ge&&o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Talla"}),o.jsxs("select",{value:se.productoNuevoTalla,onChange:gt=>ct({...se,productoNuevoTalla:gt.target.value,productoNuevoColor:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"",children:"Seleccionar..."}),Or().map(gt=>o.jsx("option",{value:gt,children:gt},gt))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Color"}),o.jsxs("select",{value:se.productoNuevoColor,onChange:gt=>ct({...se,productoNuevoColor:gt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:!se.productoNuevoTalla,children:[o.jsx("option",{value:"",children:"Seleccionar..."}),Yt().map(gt=>o.jsx("option",{value:gt,children:gt},gt))]})]})]})]})]}),ye>0&&se.productoNuevoId&&o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:[o.jsx("div",{className:"font-semibold text-blue-900",children:"Balance del cambio"}),o.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[o.jsx("span",{children:"Total devuelto:"}),o.jsxs("span",{className:"font-medium",children:["$",ye.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[o.jsx("span",{children:"Producto nuevo:"}),o.jsxs("span",{className:"font-medium",children:["$",Ze.toLocaleString()]})]}),Ot>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-green-700",children:"Saldo a favor:"}),o.jsxs("span",{className:"font-semibold text-green-700",children:["$",Ot.toLocaleString()]})]}),kt>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-red-700",children:"Excedente por pagar:"}),o.jsxs("span",{className:"font-semibold text-red-700",children:["$",kt.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Medio de pago del excedente *"}),o.jsxs("select",{value:se.medioPagoExcedente,onChange:gt=>ct({...se,medioPagoExcedente:gt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"Efectivo",children:"Efectivo"}),o.jsx("option",{value:"Transferencia",children:"Transferencia"}),o.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"Nequi",children:"Nequi"}),o.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]})]}),Ot===0&&kt===0&&o.jsxs("div",{className:"text-sm text-blue-700",children:["El cambio queda en ",o.jsx("span",{className:"font-semibold",children:"0"})," (sin saldo ni excedente)."]})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>x(!1),variant:"secondary",children:"Cancelar"}),(()=>{const gt=JSON.parse(localStorage.getItem(jh)||"[]"),$t=K?gt.some(dr=>String(dr.ventaId)===String(K.id)||String(dr.numeroVenta)===String(K.numeroVenta)):!1;return o.jsx(mt,{onClick:it,variant:"primary",className:"bg-purple-600 hover:bg-purple-700",disabled:$t,children:"Generar Devolucin"})})()]})]})})()}),o.jsx(er,{isOpen:p,onClose:()=>h(!1),title:"Nuevo Cliente",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre *"}),o.jsx(wt,{value:Te.nombre,onChange:ye=>ze({...Te,nombre:ye.target.value}),placeholder:"Nombre completo",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo Doc *"}),o.jsxs("select",{value:Te.tipoDoc,onChange:ye=>ze({...Te,tipoDoc:ye.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"CC",children:"CC"}),o.jsx("option",{value:"CE",children:"CE"}),o.jsx("option",{value:"TI",children:"TI"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero Doc *"}),o.jsx(wt,{value:Te.numeroDoc,onChange:ye=>le("numeroDoc",ye.target.value),placeholder:"123456789",required:!0}),ue.numeroDoc&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ue.numeroDoc})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono *"}),o.jsx(wt,{value:Te.telefono,onChange:ye=>le("telefono",ye.target.value),placeholder:"3001234567",required:!0}),ue.telefono&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ue.telefono})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),o.jsx(wt,{type:"email",value:Te.email,onChange:ye=>le("email",ye.target.value),placeholder:"cliente@ejemplo.com"}),ue.email&&o.jsx("p",{className:"text-red-600 text-xs mt-1",children:ue.email})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin"}),o.jsx(wt,{value:Te.direccion,onChange:ye=>ze({...Te,direccion:ye.target.value}),placeholder:"Calle 123 # 45-67"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>h(!1),variant:"secondary",children:"Cancelar"}),o.jsx(mt,{onClick:Ye,variant:"primary",children:"Crear Cliente"})]})]})}),o.jsx(er,{isOpen:w,onClose:()=>S(!1),title:R==="success"?"xito":R==="error"?"Error":"Informacin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[R==="success"&&o.jsx(kc,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),R==="error"&&o.jsx(Br,{className:"text-red-600 flex-shrink-0 mt-1",size:24}),R==="info"&&o.jsx(Br,{className:"text-blue-600 flex-shrink-0 mt-1",size:24}),o.jsx("p",{className:"text-gray-700 text-base",children:C})]}),o.jsx("div",{className:"flex justify-end pt-4 border-t",children:o.jsx(mt,{onClick:()=>S(!1),variant:"primary",children:"Aceptar"})})]})})]})}const Zm="damabella_devoluciones",J6="damabella_ventas",S2="damabella_productos",C2="damabella_devolucion_counter";function bte(){const[e,t]=M.useState(()=>{const le=localStorage.getItem(Zm);return le?JSON.parse(le):[]}),[r,n]=M.useState(()=>{const le=localStorage.getItem(J6);return le?JSON.parse(le):[]}),[a,i]=M.useState(()=>{const le=localStorage.getItem(S2);if(le)return JSON.parse(le);const $e=[{id:"1",nombre:"Vestido Corto Casual",referencia:"VES-CORTA-001",codigoInterno:"VCC-001",precioVenta:65e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Rojo","Negro","Blanco","Azul","Rosa"]},{id:"2",nombre:"Vestido Largo Elegante",referencia:"VES-LARGO-002",codigoInterno:"VLE-002",precioVenta:95e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Rojo","Champagne","Azul Marino"]},{id:"3",nombre:"Enterizo Ejecutivo",referencia:"ENT-EJE-003",codigoInterno:"ENE-003",precioVenta:85e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Beige","Azul Marino","Gris"]},{id:"4",nombre:"Enterizo Casual Denim",referencia:"ENT-CAS-004",codigoInterno:"ECD-004",precioVenta:75e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Azul Claro","Azul Oscuro","Negro"]},{id:"5",nombre:"Vestido Corto de Fiesta",referencia:"VES-FIESTA-005",codigoInterno:"VCF-005",precioVenta:78e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Dorado","Plata","Negro","Rojo"]},{id:"6",nombre:"Vestido Largo de Gala",referencia:"VES-GALA-006",codigoInterno:"VLG-006",precioVenta:12e4,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Blanco","Negro","Azul Marino","Vino"]},{id:"7",nombre:"Enterizo Premium",referencia:"ENT-PREM-007",codigoInterno:"EPR-007",precioVenta:105e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Blanco","Rosa Palo","Azul Cielo"]}];return localStorage.setItem(S2,JSON.stringify($e)),$e}),[s,c]=M.useState(!1),[d,f]=M.useState(!1),[p,h]=M.useState(""),[y,g]=M.useState("info"),[j,x]=M.useState(!1),[w,S]=M.useState(""),[C,P]=M.useState(null),[R,L]=M.useState(null),[q,_]=M.useState(""),[B,V]=M.useState(!1),[K,E]=M.useState(null),[$,D]=M.useState("Defectuoso"),[I,z]=M.useState([]),[W,ee]=M.useState(new Date().toISOString().split("T")[0]),[G,ie]=M.useState(""),[te,re]=M.useState(""),[T,J]=M.useState(""),[Y,H]=M.useState("Efectivo"),me=()=>a.find(le=>le.id?.toString()===G?.toString()),pe=()=>{const le=me();return le?le.variantes?le.variantes.map($e=>$e.talla):le.tallas||[]:[]},be=()=>{const le=me();if(!le)return[];if(le.variantes&&te){const $e=le.variantes.find(at=>at.talla===te);return $e?($e.colores||[]).map(at=>at.color):[]}return le.colores||[]},ge=(le,$e)=>{z(at=>{const lt=at.findIndex(Ct=>Ct.itemId===le);if($e<=0)return at.filter(Ct=>Ct.itemId!==le);if(lt>=0){const Ct=[...at];return Ct[lt]={itemId:le,cantidad:$e},Ct}return[...at,{itemId:le,cantidad:$e}]})};M.useEffect(()=>{const le=()=>{const $e=localStorage.getItem(Zm),at=localStorage.getItem(J6),lt=localStorage.getItem(S2);$e&&t(JSON.parse($e)),at&&n(JSON.parse(at)),lt&&i(JSON.parse(lt))};return le(),window.addEventListener("storage",le),()=>window.removeEventListener("storage",le)},[]);const Te=le=>{const $e=`
=================================
COMPROBANTE DE DEVOLUCIN
${le.numeroDevolucion}
=================================

Fecha de Devolucin: ${new Date(le.fechaDevolucion).toLocaleDateString()}
Venta Original: ${le.numeroVenta}
Cliente: ${le.clienteNombre}

---------------------------------
MOTIVO DE DEVOLUCIN
---------------------------------
${le.motivo}

---------------------------------
PRODUCTOS DEVUELTOS
---------------------------------
${le.items.map(Nt=>`
${Nt.productoNombre}
Talla: ${Nt.talla} | Color: ${Nt.color}
Cantidad: ${Nt.cantidad} x $${Nt.precioUnitario.toLocaleString()}
Subtotal: $${Nt.subtotal.toLocaleString()}
`).join(`
`)}

---------------------------------
TOTAL A DEVOLVER
---------------------------------
$${le.total.toLocaleString()}

=================================
DAMABELLA - Moda Femenina
=================================
    `.trim(),at=new Blob([$e],{type:"text/plain"}),lt=URL.createObjectURL(at),Ct=document.createElement("a");Ct.href=lt,Ct.download=`${le.numeroDevolucion}.txt`,Ct.click()},ze=le=>{const $e=e.map(at=>at.id===le?{...at,estadoGestion:"Anulado",fechaAnulacion:new Date().toISOString()}:at);t($e),localStorage.setItem(Zm,JSON.stringify($e)),x(!1),f(!0),h("Devolucin anulada correctamente"),g("success")},ue=le=>String(le??"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Fe=le=>String(le??"").replace(/[^\d]/g,""),De=e.filter(le=>{const $e=ue(q),at=Fe(q),lt=ue(le.numeroDevolucion).includes($e),Ct=ue(le.numeroVenta).includes($e),Nt=ue(le.clienteNombre).includes($e),At=ue(le.motivo).includes($e),pt=ue(le.estadoGestion).includes($e),Or=le.fechaDevolucion?new Date(le.fechaDevolucion).toLocaleDateString().includes(q):!1,Yt=le.items?.some(rn=>ue(rn.productoNombre).includes($e)||ue(rn.talla).includes($e)||ue(rn.color).includes($e))||!1,Lr=le.productoNuevo&&ue(le.productoNuevo.nombre).includes($e)||ue(le.productoNuevoTalla).includes($e)||ue(le.productoNuevoColor).includes($e),nr=Fe(String(le.total??"")),jr=at.length>0?nr.includes(at):!1;return lt||Ct||Nt||At||pt||Or||Yt||Lr||jr}),Ne=()=>{if(De.length===0){f(!0),h("No hay devoluciones para descargar"),g("info");return}const le=De.map(At=>({"Nmero Devolucin":At.numeroDevolucion,"Venta Original":At.numeroVenta,Cliente:At.clienteNombre,Motivo:At.motivo,Estado:At.estadoGestion,"Producto Cambio":At.productoNuevo?At.productoNuevo.nombre:"","Saldo a Favor":At.saldoAFavor?`$${At.saldoAFavor}`:"","Diferencia a Pagar":At.diferenciaPagar?`$${At.diferenciaPagar}`:"",Fecha:new Date(At.fechaDevolucion).toLocaleDateString(),Total:`$${At.total.toLocaleString()}`,"Medio Pago Excedente":At.medioPagoExcedente||""})),$e=Object.keys(le[0]||{}),at=[$e.join(","),...le.map(At=>$e.map(pt=>{const Or=At[pt],Yt=String(Or||"");return Yt.includes(",")?`"${Yt}"`:Yt}).join(","))].join(`
`),lt=new Blob([at],{type:"text/csv;charset=utf-8;"}),Ct=URL.createObjectURL(lt),Nt=document.createElement("a");Nt.href=Ct,Nt.download=`devoluciones_${new Date().toISOString().split("T")[0]}.csv`,Nt.click(),f(!0),h("Reporte de devoluciones descargado correctamente"),g("success")},se=()=>{const le=parseInt(localStorage.getItem(C2)||"",10);if(!isNaN(le)&&le>0){const lt=`DEV-${String(le).padStart(3,"0")}`;return localStorage.setItem(C2,String(le+1)),lt}const $e=(e||[]).reduce((lt,Ct)=>{const Nt=Ct?.numeroDevolucion;if(!Nt)return lt;const At=Nt.match(/^DEV-(\d{3})$/);if(!At)return lt;const pt=parseInt(At[1],10);return isNaN(pt)?lt:Math.max(lt,pt)},0),at=$e>0?$e+1:(e?.length||0)+1;return localStorage.setItem(C2,String(at+1)),`DEV-${String(at).padStart(3,"0")}`},ct=()=>{if(!K||I.length===0){f(!0),h("Debes seleccionar una venta y al menos un producto con cantidad > 0"),g("error");return}if(!G){f(!0),h("Debes seleccionar la referencia (producto nuevo) por la que se har el cambio"),g("error");return}if(!te||!T){f(!0),h("Debes seleccionar talla y color del producto nuevo"),g("error");return}const le=se(),$e=I.map(Lr=>{const nr=K.items.find(He=>String(He.id)===String(Lr.itemId));if(!nr)return null;const jr=Number(nr.cantidad||0),rn=Math.max(0,Math.min(jr,Number(Lr.cantidad||0)));if(rn<=0)return null;const pr=Number(nr.precioUnitario??0),Ae=rn*pr;return{id:String(nr.id),productoNombre:nr.productoNombre,talla:nr.talla,color:nr.color,cantidad:rn,precioUnitario:pr,subtotal:Ae}}).filter(Boolean);if($e.length===0){f(!0),h("Debes ingresar una cantidad mayor a 0 en al menos un producto"),g("error");return}const at=$e.reduce((Lr,nr)=>Lr+Number(nr.subtotal??0),0),lt=a.find(Lr=>Lr.id?.toString()===G?.toString());if(!lt){f(!0),h("Producto de cambio no encontrado"),g("error");return}const Ct=Number(lt.precioVenta||0),Nt=Ct-at,At=Nt<0?Math.abs(Nt):0,pt=Nt>0?Nt:0;if(pt>0&&!Y){f(!0),h("Debes seleccionar el medio de pago del excedente"),g("error");return}const Or={id:Date.now(),numeroDevolucion:le,ventaId:K.id,numeroVenta:K.numeroVenta??K.numero,clienteNombre:K.clienteNombre,fechaDevolucion:W,motivo:$,items:$e,total:at,createdAt:new Date().toISOString(),estadoGestion:"Cambiado",productoNuevo:{id:lt.id,nombre:lt.nombre,precio:Ct},productoNuevoTalla:te,productoNuevoColor:T,saldoAFavor:At,diferenciaPagar:pt,medioPagoExcedente:pt>0?Y:void 0,fechaAnulacion:void 0},Yt=[...e,Or];t(Yt),localStorage.setItem(Zm,JSON.stringify(Yt)),V(!1),E(null),z([]),D("Defectuoso"),ee(new Date().toISOString().split("T")[0]),ie(""),re(""),J(""),H("Efectivo"),f(!0),h(`Devolucin ${le} creada correctamente`),g("success")},Q=5,[Ce,he]=M.useState(1),je=M.useMemo(()=>{const le=(Ce-1)*Q;return De.slice(le,le+Q)},[Ce,De]),_e=M.useMemo(()=>Math.ceil(De.length/Q),[De]),we=le=>{le>=1&&le<=_e&&he(le)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Devoluciones"}),o.jsx("p",{className:"text-gray-600",children:"Crea y gestiona todas tus devoluciones"})]}),o.jsx("div",{className:"flex gap-2",children:e.length>0&&o.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(yl,{size:16}),"Excel"]})})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx(wt,{placeholder:"Buscar por nmero de devolucin, venta o cliente...",value:q,onChange:le=>_(le.target.value),className:"pl-10"})]})}),e.length===0&&o.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Jd,{className:"text-purple-600 mt-1",size:24}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-purple-900 mb-1",children:"Cmo crear devoluciones?"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Selecciona una venta desde el flujo correspondiente para crear una devolucin, luego elige los productos y el motivo."})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Nmero"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Venta Original"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Cliente"}),o.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Motivo"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),o.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Cambio"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Total"}),o.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:je.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:[o.jsx(Jd,{className:"mx-auto mb-4 text-gray-300",size:48}),o.jsx("p",{children:"No se encontraron devoluciones"}),o.jsx("p",{className:"text-sm mt-2",children:"Crea devoluciones desde el mdulo de Ventas"})]})}):je.map(le=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-700 rounded-full",children:o.jsx(Jd,{size:16})}),o.jsx("div",{className:"text-gray-900",children:le.numeroDevolucion})]})}),o.jsx("td",{className:"py-4 px-6",children:o.jsx("span",{className:"text-gray-600",children:le.numeroVenta})}),o.jsx("td",{className:"py-4 px-6 text-gray-600",children:le.clienteNombre}),o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"text-gray-600 max-w-xs truncate",title:le.motivo,children:le.motivo})}),o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${le.estadoGestion==="Anulado"?"bg-red-100 text-red-700":le.estadoGestion==="Reparado"?"bg-blue-100 text-blue-700":le.estadoGestion==="Cambiado"?"bg-green-100 text-green-700":le.estadoGestion==="Enviado a reparacin"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:le.estadoGestion})})}),o.jsx("td",{className:"py-4 px-6",children:o.jsx("div",{className:"flex justify-center",children:le.productoNuevo?o.jsxs("span",{className:"px-2 py-1 bg-green-50 text-green-700 text-xs rounded border border-green-200",children:[" ",le.productoNuevo.nombre]}):o.jsx("span",{className:"text-gray-400 text-xs",children:""})})}),o.jsxs("td",{className:"py-4 px-6 text-right text-gray-900",children:["$",le.total.toLocaleString()]}),o.jsx("td",{className:"py-4 px-6",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx("button",{onClick:()=>{L(le),c(!0)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver detalle",children:o.jsx(ma,{size:18})}),o.jsx("button",{onClick:()=>Te(le),className:"p-2 hover:bg-purple-50 rounded-lg transition-colors text-purple-600",title:"Descargar comprobante",children:o.jsx(yl,{size:18})}),le.estadoGestion!=="Anulado"&&o.jsx("button",{onClick:()=>{S(`Anular devolucin ${le.numeroDevolucion}?`),P(()=>ze(le.id)),x(!0)},className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Anular devolucin",children:o.jsx(h5,{size:18})})]})})]},le.id))})]})})}),_e>1&&o.jsxs("div",{className:"flex justify-center items-center gap-2 mt-4",children:[o.jsx("button",{onClick:()=>we(Ce-1),disabled:Ce===1,className:"px-4 py-2 bg-gray-200 text-gray-600 rounded disabled:opacity-50",children:"Anterior"}),o.jsxs("span",{children:["Pgina ",Ce," de ",_e]}),o.jsx("button",{onClick:()=>we(Ce+1),disabled:Ce===_e,className:"px-4 py-2 bg-gray-200 text-gray-600 rounded disabled:opacity-50",children:"Siguiente"})]}),o.jsx("span",{className:"text-sm text-gray-500",children:`Mostrando ${Math.min((Ce-1)*Q+1,De.length||0)} a ${Math.min(Ce*Q,De.length)} de ${De.length} devoluciones`}),R&&o.jsx(er,{isOpen:s,onClose:()=>c(!1),title:`Detalle Devolucin ${R.numeroDevolucion}`,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Nmero de Devolucin"}),o.jsx("div",{className:"text-purple-900 font-medium",children:R.numeroDevolucion})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Venta Original"}),o.jsx("div",{className:"text-purple-900 font-medium",children:R.numeroVenta})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cliente"}),o.jsx("div",{className:"text-purple-900 font-medium",children:R.clienteNombre})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Fecha de Devolucin"}),o.jsx("div",{className:"text-purple-900 font-medium",children:new Date(R.fechaDevolucion).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Estado de Gestin"}),o.jsx("div",{className:`px-2 py-1 rounded font-medium text-xs inline-block ${R.estadoGestion==="Anulado"?"bg-red-100 text-red-700":R.estadoGestion==="Reparado"?"bg-blue-100 text-blue-700":R.estadoGestion==="Cambiado"?"bg-green-100 text-green-700":R.estadoGestion==="Enviado a reparacin"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:R.estadoGestion})]}),R.fechaAnulacion&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Fecha de Anulacin"}),o.jsx("div",{className:"text-purple-900 font-medium",children:new Date(R.fechaAnulacion).toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Motivo de la Devolucin"}),o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-gray-900 font-medium",children:R.motivo})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-900 font-medium mb-3",children:"Productos Devueltos"}),o.jsx("div",{className:"space-y-2",children:R.items.map((le,$e)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("div",{className:"text-gray-900 font-medium",children:le.productoNombre}),o.jsxs("div",{className:"text-gray-900 font-medium",children:["$",le.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",le.talla," | Color: ",le.color," | Cantidad: ",le.cantidad," x $",le.precioUnitario.toLocaleString()]})]},$e))})]}),R.productoNuevo&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsx("div",{className:"text-sm text-green-600 mb-2 font-medium",children:"Producto de Cambio"}),o.jsx("div",{className:"text-green-900 font-medium mb-2",children:R.productoNuevo.nombre}),o.jsxs("div",{className:"text-sm text-green-700",children:["Precio: $",R.productoNuevo.precio.toLocaleString()]})]}),(()=>{const le=Number(R.saldoAFavor??0),$e=Number(R.diferenciaPagar??0);return le<=0&&$e<=0?null:o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:[o.jsx("div",{className:"font-medium text-blue-900",children:"Balance Financiero"}),le>0&&o.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[o.jsx("span",{children:"Saldo a Favor:"}),o.jsxs("span",{className:"font-medium text-green-600",children:["$",le.toLocaleString()]})]}),$e>0&&o.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[o.jsx("span",{children:"Diferencia a Pagar:"}),o.jsxs("span",{className:"font-medium text-red-600",children:["$",$e.toLocaleString()]})]}),$e>0&&R.medioPagoExcedente&&o.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[o.jsx("span",{children:"Medio pago excedente:"}),o.jsx("span",{className:"font-medium",children:R.medioPagoExcedente})]})]})})(),o.jsx("div",{className:"border-t pt-4 bg-purple-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between text-purple-900 font-medium",children:[o.jsx("span",{children:"Total a Devolver:"}),o.jsxs("span",{children:["$",R.total.toLocaleString()]})]})}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cerrar"}),o.jsxs("button",{onClick:()=>Te(R),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[o.jsx(yl,{size:16}),"Descargar Comprobante"]})]})]})}),d&&o.jsx(er,{isOpen:d,onClose:()=>f(!1),title:"",children:o.jsxs("div",{className:"space-y-4 text-center py-6",children:[o.jsxs("div",{className:"flex justify-center",children:[y==="success"&&o.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(kc,{className:"text-green-600",size:32})}),y==="error"&&o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center",children:o.jsx(Br,{className:"text-red-600",size:32})}),y==="info"&&o.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:o.jsx(Br,{className:"text-blue-600",size:32})})]}),o.jsx("p",{className:"text-gray-900 font-medium text-lg",children:p}),o.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Aceptar"})]})}),j&&o.jsx(er,{isOpen:j,onClose:()=>x(!1),title:"Confirmar accin",children:o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsx("p",{className:"text-gray-700",children:w}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:()=>{C&&C()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar"})]})]})}),B&&o.jsx(er,{isOpen:B,onClose:()=>{V(!1),E(null),z([]),ie(""),re(""),J(""),H("Efectivo")},title:"Crear Nueva Devolucin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Seleccionar Venta"}),o.jsxs("select",{value:K?.id||"",onChange:le=>{const $e=le.target.value,at=r.find(lt=>lt.id===parseInt($e));E(at||null),z([])},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"-- Selecciona una venta --"}),r.map(le=>o.jsxs("option",{value:le.id,children:[le.numeroVenta??le.numero," - ",le.clienteNombre," - $",le.total.toLocaleString()]},le.id))]})]}),K&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Seleccionar Productos"}),o.jsx("div",{className:"border border-gray-200 rounded-lg p-3 space-y-2 max-h-60 overflow-y-auto",children:K.items&&K.items.length>0?K.items.map(le=>{const at=I.find(lt=>lt.itemId===String(le.id))?.cantidad||0;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:le.productoNombre}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Talla: ",le.talla," | Color: ",le.color]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Precio: $",Number(le.precioUnitario||0).toLocaleString()]})]}),o.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",Number(le.subtotal||le.cantidad*le.precioUnitario).toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("label",{className:"text-xs text-gray-700",children:"Cantidad a devolver:"}),o.jsx("input",{type:"number",min:"0",max:Number(le.cantidad||0),value:at,onChange:lt=>{const Ct=Number(le.cantidad||0),Nt=parseInt(lt.target.value,10)||0,At=Math.max(0,Math.min(Ct,Nt));ge(String(le.id),At)},className:"w-20 px-3 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsxs("span",{className:"text-xs text-gray-600",children:["de ",le.cantidad]}),at>0&&o.jsxs("span",{className:"ml-auto text-xs text-green-700 font-medium",children:["Devolucin: $",(at*Number(le.precioUnitario||0)).toLocaleString()]})]})]},le.id)}):o.jsx("p",{className:"text-sm text-gray-500",children:"No hay productos en esta venta"})}),I.length>0&&o.jsxs("div",{className:"border-t pt-4 mt-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Por cul referencia se har el cambio? *"}),o.jsxs("select",{value:G,onChange:le=>{const $e=le.target.value;ie($e),re(""),J("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"-- Selecciona el producto nuevo --"}),a.filter(le=>le.activo).map(le=>o.jsxs("option",{value:le.id,children:[le.nombre," - $",(le.precioVenta||0).toLocaleString()]},le.id))]}),G&&o.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Talla *"}),o.jsxs("select",{value:te,onChange:le=>{re(le.target.value),J("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Seleccionar..."}),pe().map(le=>o.jsx("option",{value:le,children:le},le))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Color *"}),o.jsxs("select",{value:T,onChange:le=>J(le.target.value),disabled:!te,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Seleccionar..."}),be().map(le=>o.jsx("option",{value:le,children:le},le))]})]})]})]}),I.length>0&&G&&(()=>{const le=I.reduce((At,pt)=>{const Or=K.items.find(nr=>String(nr.id)===String(pt.itemId));if(!Or)return At;const Yt=Number(Or.cantidad||0),Lr=Math.max(0,Math.min(Yt,Number(pt.cantidad||0)));return At+Lr*Number(Or.precioUnitario||0)},0),$e=a.find(At=>At.id?.toString()===G?.toString()),at=$e?Number($e.precioVenta||0):0,lt=at-le,Ct=lt<0?Math.abs(lt):0,Nt=lt>0?lt:0;return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2 mt-3",children:[o.jsx("div",{className:"font-semibold text-blue-900",children:"Balance del cambio"}),o.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[o.jsx("span",{children:"Total devuelto:"}),o.jsxs("span",{className:"font-medium",children:["$",le.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm text-blue-800",children:[o.jsx("span",{children:"Producto nuevo:"}),o.jsxs("span",{className:"font-medium",children:["$",at.toLocaleString()]})]}),Ct>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-green-700",children:"Saldo a favor:"}),o.jsxs("span",{className:"font-semibold text-green-700",children:["$",Ct.toLocaleString()]})]}),Nt>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-red-700",children:"Excedente por pagar:"}),o.jsxs("span",{className:"font-semibold text-red-700",children:["$",Nt.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Medio de pago del excedente *"}),o.jsxs("select",{value:Y,onChange:At=>H(At.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"Efectivo",children:"Efectivo"}),o.jsx("option",{value:"Transferencia",children:"Transferencia"}),o.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),o.jsx("option",{value:"Nequi",children:"Nequi"}),o.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]})]}),Ct===0&&Nt===0&&o.jsxs("div",{className:"text-sm text-blue-700",children:["El cambio queda en ",o.jsx("span",{className:"font-semibold",children:"0"})," (sin saldo ni excedente)."]})]})})()]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Motivo de Devolucin"}),o.jsxs("select",{value:$,onChange:le=>D(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"Defectuoso",children:"Defectuoso"}),o.jsx("option",{value:"Talla incorrecta",children:"Talla incorrecta"}),o.jsx("option",{value:"Color incorrecto",children:"Color incorrecto"}),o.jsx("option",{value:"Producto equivocado",children:"Producto equivocado"}),o.jsx("option",{value:"Otro",children:"Otro"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Fecha de Devolucin"}),o.jsx("input",{type:"date",value:W,onChange:le=>ee(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx("button",{onClick:()=>{V(!1),E(null),z([])},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:ct,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Crear Devolucin"})]})]})})]})}function wte({currentUser:e,onSave:t,onCancel:r}){console.log(" [EditarPerfilPage] currentUser:",e);const{showToast:n}=ks(),a=()=>{const D=localStorage.getItem("damabella_current_user");if(D)try{const I=JSON.parse(D);if(I?.id||I?.email)return console.log(" [getUserData] Datos cargados desde localStorage:",I),I}catch{console.log(" Error parsing localStorage")}if(e?.email){const z=JSON.parse(localStorage.getItem("damabella_users")||"[]").find(W=>W.email===e.email);if(z)return console.log(" [getUserData] Usuario encontrado en damabella_users:",z),z}return console.log(" [getUserData] Usando currentUser:",e),e},i=a(),[s,c]=M.useState(()=>({nombre:i?.nombre||i?.name||"",email:i?.email||"",celular:i?.celular||i?.phone||"",direccion:i?.direccion||i?.address||"",tipoDoc:i?.tipoDoc||"CC",numeroDoc:i?.numeroDoc||"",avatar:i?.avatar||null})),[d,f]=M.useState({}),[p,h]=M.useState(!1),[y,g]=M.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,x]=M.useState({}),[w,S]=M.useState(!1),[C,P]=M.useState(!1),[R,L]=M.useState(!1),q=M.useRef(null);M.useEffect(()=>{const D=a();console.log(" [useEffect] Sincronizando con usuario:",D),c({nombre:D?.nombre||D?.name||"",email:D?.email||"",celular:D?.celular||D?.phone||"",direccion:D?.direccion||D?.address||"",tipoDoc:D?.tipoDoc||"CC",numeroDoc:D?.numeroDoc||"",avatar:D?.avatar||null}),f({})},[e]);const _=()=>q.current?.click(),B=D=>{const I=D.target.files?.[0];if(I){if(!["image/png","image/jpeg","image/jpg"].includes(I.type)){n("Solo se permiten imgenes PNG o JPG","error");return}if(I.size>2*1024*1024){n("El tamao mximo permitido es 2MB","error");return}const z=new FileReader;z.onloadend=()=>{c({...s,avatar:z.result})},z.readAsDataURL(I)}},V=D=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D),K=D=>/^\d{7,15}$/.test(D.replace(/\D/g,""));M.useEffect(()=>{const D={};s.nombre.trim()||(D.nombre="El nombre es obligatorio"),s.email.trim()?V(s.email)||(D.email="Email invlido"):D.email="El email es obligatorio",s.celular&&s.celular.trim()&&!K(s.celular)&&(D.celular="Celular invlido (7-15 dgitos)"),s.direccion&&s.direccion.trim()&&s.direccion.trim().length<3&&(D.direccion="Direccin muy corta"),s.numeroDoc&&s.numeroDoc.trim()&&s.numeroDoc.trim().length<5&&(D.numeroDoc="Nmero de documento invlido"),f(D)},[s]),M.useEffect(()=>{const D={};y.newPassword&&y.newPassword.length<6&&(D.newPassword="Mnimo 6 caracteres"),y.newPassword||(D.newPassword="La nueva contrasea es obligatoria"),y.confirmPassword?y.newPassword&&y.confirmPassword!==y.newPassword&&(D.confirmPassword="Las contraseas no coinciden"):D.confirmPassword="Debe confirmar la contrasea",y.currentPassword&&y.currentPassword.length<6&&(D.currentPassword="Mnimo 6 caracteres"),x(D)},[y]);const E=D=>{if(D.preventDefault(),console.log(" [handleSubmit] GUARDANDO CAMBIOS DEL PERFIL"),console.log("   Datos del formulario:",JSON.stringify(s,null,2)),console.log("   Usuario actual:",JSON.stringify(e,null,2)),console.log("   Errores encontrados:",d),!s.nombre.trim()){n("El nombre es obligatorio","error");return}if(!s.email.trim()){n("El email es obligatorio","error");return}if(!V(s.email)){n("Email invlido","error");return}if(s.celular&&s.celular.trim()&&!K(s.celular)){n("Celular invlido","error");return}const I=JSON.parse(localStorage.getItem("damabella_users")||"[]");console.log("   Total de usuarios en BD:",I.length),console.log("   Buscando usuario con ID:",e?.id,"o email:",e?.email);let z=I.findIndex(ee=>ee.id===e?.id);z===-1&&(console.log("   ID no encontrado, buscando por email..."),z=I.findIndex(ee=>ee.email===e?.email)),console.log("   Usuario encontrado en ndice:",z);const W={id:e?.id||`user_${Date.now()}`,nombre:s.nombre.trim()||"Sin nombre",name:s.nombre.trim()||"Sin nombre",email:s.email.trim(),celular:s.celular.trim()||"",phone:s.celular.trim()||"",direccion:s.direccion.trim()||"",address:s.direccion.trim()||"",tipoDoc:s.tipoDoc||"CC",numeroDoc:s.numeroDoc.trim()||"",avatar:s.avatar||e?.avatar||null,role:e?.role||e?.rol||"Cliente",rol:e?.rol||e?.role||"Cliente",password:z!==-1?I[z].password:void 0,estado:z!==-1?I[z].estado:"Activo"};console.log("   Usuario actualizado completo:",JSON.stringify(W,null,2)),z!==-1?(I[z]=W,console.log("   Usuario actualizado en ndice:",z)):(console.log("   Creando nuevo usuario..."),I.push(W),console.log("   Nuevo usuario creado y aadido")),localStorage.setItem("damabella_users",JSON.stringify(I)),localStorage.setItem("damabella_current_user",JSON.stringify(W)),console.log("   Cambios guardados en localStorage"),n("Perfil actualizado correctamente","success"),setTimeout(()=>{t(W)},100)},$=()=>{if(console.log(" [handleChangePassword] INICIANDO CAMBIO DE CONTRASEA"),Object.keys(j).length>0){n("Por favor, completa los campos correctamente","error");return}try{const D=a();console.log("   Usuario actual:",JSON.stringify(D,null,2));const I=JSON.parse(localStorage.getItem("damabella_users")||"[]"),z=I.findIndex(W=>W.email===D?.email);if(console.log("   Usuario encontrado en ndice:",z),console.log("   Buscando por email:",D?.email),z!==-1){const W={...I[z],password:y.newPassword};I[z]=W,localStorage.setItem("damabella_users",JSON.stringify(I)),localStorage.setItem("damabella_current_user",JSON.stringify(W)),console.log("   Contrasea actualizada exitosamente"),h(!1),g({currentPassword:"",newPassword:"",confirmPassword:""}),x({}),n("Contrasea actualizada correctamente","success")}else console.log("   Usuario no encontrado. Emails en BD:",I.map(W=>W.email)),n("Usuario no encontrado en la base de datos","error")}catch(D){console.error(" Error al cambiar contrasea:",D),n("Error al actualizar contrasea","error")}};return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-gray-700 text-xl overflow-hidden",children:s.avatar?o.jsx("img",{src:s.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):(s.nombre||e?.nombre)?.[0]?.toUpperCase()||"U"}),o.jsx("button",{type:"button",onClick:_,className:"absolute bottom-0 right-0 bg-gray-700 text-white p-1.5 rounded-full hover:bg-gray-600 transition-colors",title:"Cambiar foto",children:o.jsx(B8,{size:14})}),o.jsx("input",{ref:q,type:"file",accept:"image/*",onChange:B,className:"hidden"})]}),o.jsxs("div",{className:"text-white",children:[o.jsx("h2",{className:"text-white mb-1",children:"Editar Perfil"}),o.jsx("p",{className:"text-gray-200 text-sm",children:"Actualiza tu informacin personal"})]})]})}),o.jsxs("form",{onSubmit:E,className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[o.jsx(Pp,{size:14})," Nombre Completo"]}),o.jsx(wt,{type:"text",placeholder:"Ingresa tu nombre completo",value:s.nombre,onChange:D=>{const I=D.target.value.split("").filter(z=>/^[a-zA-Z0-9\s]$/.test(z)).join("");c({...s,nombre:I})},className:d.nombre?"border-red-500 focus:ring-red-500":""}),d.nombre&&o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",d.nombre]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[o.jsx(h0,{size:14})," Correo Electrnico"]}),o.jsx(wt,{type:"email",placeholder:"correo@ejemplo.com",value:s.email,onChange:D=>c({...s,email:D.target.value}),className:d.email?"border-red-500 focus:ring-red-500":""}),d.email&&o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",d.email]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[o.jsx(A2,{size:14})," Tipo de Documento"]}),o.jsxs("select",{value:s.tipoDoc,onChange:D=>c({...s,tipoDoc:D.target.value}),className:"w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[o.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),o.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),o.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),o.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[o.jsx(A2,{size:14})," Nmero de Documento"]}),o.jsx(wt,{type:"text",placeholder:"1234567890",value:s.numeroDoc,onChange:D=>{const I=D.target.value.split("").filter(z=>/^\d$/.test(z)).join("");c({...s,numeroDoc:I})},className:d.numeroDoc?"border-red-500 focus:ring-red-500":""}),d.numeroDoc&&o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",d.numeroDoc]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[o.jsx(p0,{size:14})," Celular"]}),o.jsx(wt,{type:"tel",placeholder:"3001234567",value:s.celular,onChange:D=>{const I=D.target.value.split("").filter(z=>/^\d$/.test(z)).join("");c({...s,celular:I})},className:d.celular?"border-red-500 focus:ring-red-500":""}),d.celular&&o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",d.celular]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[o.jsx(m5,{size:14})," Direccin"]}),o.jsx(wt,{type:"text",placeholder:"Calle 123 # 45-67",value:s.direccion,onChange:D=>{const I=D.target.value.split("").filter(z=>/^[a-zA-Z0-9\s#\-.,]$/.test(z)).join("");c({...s,direccion:I})},className:d.direccion?"border-red-500 focus:ring-red-500":""}),d.direccion&&o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",d.direccion]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsxs("h3",{className:"text-gray-900 mb-2 flex items-center gap-2 text-sm font-semibold",children:[o.jsx(Kd,{size:16})," Seguridad"]}),o.jsxs(mt,{type:"button",variant:"secondary",onClick:()=>{console.log(" [SEGURIDAD] ABRIENDO MODAL DE CAMBIO DE CONTRASEA"),h(!0)},className:"flex items-center gap-2",size:"sm",children:[o.jsx(Kd,{size:16})," Cambiar Contrasea"]})]}),o.jsxs("div",{className:"mt-4 flex gap-3 justify-end",children:[o.jsxs(mt,{type:"button",variant:"secondary",onClick:r,className:"flex items-center gap-2",children:[o.jsx(Ji,{size:16})," Cancelar"]}),o.jsxs(mt,{type:"submit",variant:"primary",className:"flex items-center gap-2",children:[o.jsx(aE,{size:16})," Guardar Cambios"]})]})]})]}),o.jsx(er,{isOpen:p,onClose:()=>{console.log(" [MODAL CONTRASEA] CERRANDO MODAL DE CAMBIO DE CONTRASEA"),h(!1)},title:"Cambiar Contrasea",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Contrasea Actual (opcional si es la primera vez)"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{type:w?"text":"password",value:y.currentPassword,onChange:D=>g({...y,currentPassword:D.target.value}),placeholder:"Ingresa tu contrasea actual",className:j.currentPassword?"border-red-500 focus:ring-red-500":""}),o.jsx("button",{type:"button",onClick:()=>S(!w),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:w?o.jsx(Pc,{size:20}):o.jsx(ma,{size:20})})]}),j.currentPassword&&o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",j.currentPassword]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nueva Contrasea *"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{type:C?"text":"password",value:y.newPassword,onChange:D=>g({...y,newPassword:D.target.value}),placeholder:"Ingresa tu nueva contrasea",className:j.newPassword?"border-red-500 focus:ring-red-500":""}),o.jsx("button",{type:"button",onClick:()=>P(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:C?o.jsx(Pc,{size:20}):o.jsx(ma,{size:20})})]}),j.newPassword?o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",j.newPassword]}):o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Mnimo 6 caracteres"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Confirmar Nueva Contrasea *"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{type:R?"text":"password",value:y.confirmPassword,onChange:D=>g({...y,confirmPassword:D.target.value}),placeholder:"Confirma tu nueva contrasea",className:j.confirmPassword?"border-red-500 focus:ring-red-500":""}),o.jsx("button",{type:"button",onClick:()=>L(!R),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:R?o.jsx(Pc,{size:20}):o.jsx(ma,{size:20})})]}),j.confirmPassword&&o.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[o.jsx(Br,{size:14})," ",j.confirmPassword]}),!j.confirmPassword&&y.newPassword&&y.confirmPassword&&o.jsx("p",{className:"text-green-600 text-sm mt-1",children:" Las contraseas coinciden"})]}),o.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[o.jsx(mt,{onClick:()=>{h(!1),x({})},variant:"secondary",children:"Cancelar"}),o.jsxs(mt,{onClick:$,variant:"primary",disabled:Object.keys(j).length>0,className:Object.keys(j).length>0?"opacity-50 cursor-not-allowed":"",children:[o.jsx(Kd,{size:18})," Cambiar Contrasea"]})]})]})})]})}function Nte(){const[e,t]=M.useState([{id:1,tipo:"venta",titulo:"Nueva venta realizada",mensaje:"Se ha registrado una venta por $250.000",fecha:"2025-11-19 10:30",leida:!1},{id:2,tipo:"inventario",titulo:"Stock bajo",mensaje:'El producto "Vestido Largo Rojo" tiene solo 3 unidades disponibles',fecha:"2025-11-19 09:15",leida:!1},{id:3,tipo:"pedido",titulo:"Nuevo pedido",mensaje:"Pedido #1234 recibido de Mara Garca",fecha:"2025-11-19 08:45",leida:!0},{id:4,tipo:"usuario",titulo:"Nuevo usuario registrado",mensaje:"Ana Lpez se ha registrado en el sistema",fecha:"2025-11-18 16:20",leida:!0},{id:5,tipo:"inventario",titulo:"Reposicin necesaria",mensaje:'El producto "Set Elegante" est agotado',fecha:"2025-11-18 14:30",leida:!0}]),r=c=>{console.log(" [marcarComoLeida] MARCANDO NOTIFICACIN COMO LEDA"),console.log("   Notificacin ID:",c),t(d=>{const f=d.map(p=>p.id===c?{...p,leida:!0}:p);return console.log("   Estado actualizado. Notificaciones ahora:",JSON.stringify(f,null,2)),f})},n=()=>{console.log(" [marcarTodasLeidas] MARCANDO TODAS LAS NOTIFICACIONES COMO LEDAS"),t(c=>{const d=c.map(f=>({...f,leida:!0}));return console.log("   Todas marcadas. Total de notificaciones:",d.length),d})},a=c=>{console.log(" [eliminarNotificacion] ELIMINANDO NOTIFICACIN"),console.log("   Notificacin ID a eliminar:",c),t(d=>{const f=d.filter(p=>p.id!==c);return console.log("   Notificacin eliminada. Quedan:",f.length,"notificaciones"),f})},i=c=>{switch(c){case"venta":return o.jsx(p5,{className:"text-green-600",size:20});case"inventario":return o.jsx(Bh,{className:"text-orange-600",size:20});case"pedido":return o.jsx(bo,{className:"text-blue-600",size:20});case"usuario":return o.jsx(Pp,{className:"text-purple-600",size:20});default:return o.jsx(kh,{className:"text-gray-600",size:20})}},s=e.filter(c=>!c.leida).length;return o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center",children:o.jsx(kh,{className:"text-gray-700",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-gray-900",children:"Notificaciones"}),o.jsx("p",{className:"text-gray-600",children:s>0?`${s} notificaciones sin leer`:"No hay notificaciones nuevas"})]})]}),s>0&&o.jsxs(mt,{onClick:n,variant:"secondary",className:"flex items-center gap-2",children:[o.jsx(Uj,{size:18}),"Marcar todas como ledas"]})]})}),o.jsx("div",{className:"divide-y divide-gray-200",children:e.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(kh,{className:"mx-auto text-gray-300 mb-4",size:48}),o.jsx("p",{className:"text-gray-500",children:"No tienes notificaciones"})]}):e.map(c=>o.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${c.leida?"":"bg-blue-50/30"}`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${c.leida?"bg-gray-100":"bg-white"}`,children:i(c.tipo)}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:`${c.leida?"text-gray-700":"text-gray-900"}`,children:c.titulo}),!c.leida&&o.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),o.jsx("p",{className:"text-gray-600 mb-2",children:c.mensaje}),o.jsx("p",{className:"text-gray-400",children:c.fecha})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!c.leida&&o.jsx("button",{onClick:()=>r(c.id),className:"p-2 hover:bg-white rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:"Marcar como leda",children:o.jsx(Uj,{size:18})}),o.jsx("button",{onClick:()=>a(c.id),className:"p-2 hover:bg-white rounded-lg transition-colors text-gray-600 hover:text-red-600",title:"Eliminar",children:o.jsx(Uo,{size:18})})]})]})})]})},c.id))})]})})}function jte({currentUser:e,onLogout:t}){const[r,n]=M.useState(!0),[a,i]=M.useState("dashboard"),[s,c]=M.useState(["dashboard"]),[d,f]=M.useState(!1),[p,h]=M.useState(!1),[y,g]=M.useState(e),[j,x]=M.useState(""),[w,S]=M.useState(!1),P=(()=>{const z=JSON.parse(localStorage.getItem("damabella_roles")||"[]").find(W=>W.id===y.roleId||W.nombre===y.role||W.name===y.role);if(z&&(z.permissions||z.permisos)&&Array.isArray(z.permissions||z.permisos)){const W=z.permissions||z.permisos,ee={};return W.forEach(G=>{const ie=(G.module||G.modulo||"").toLowerCase();ee[ie]={ver:G.canView??G.ver??!1,crear:G.canCreate??G.crear??!1,editar:G.canEdit??G.editar??!1,eliminar:G.canDelete??G.eliminar??!1}}),console.log(` [getUserPermissions] Permisos dinmicos encontrados para ${y.role}:`,ee),ee}return!z||!z.permissions&&!z.permisos?(console.log(` [getUserPermissions] No se encontraron permisos dinmicos para ${y.role}, usando fallback`),y.role==="Administrador"?{dashboard:{ver:!0},roles:{ver:!0,crear:!0,editar:!0,eliminar:!0},permisos:{ver:!0,crear:!0,editar:!0,eliminar:!0},usuarios:{ver:!0,crear:!0,editar:!0,eliminar:!0},categoras:{ver:!0,crear:!0,editar:!0,eliminar:!0},productos:{ver:!0,crear:!0,editar:!0,eliminar:!0},proveedores:{ver:!0,crear:!0,editar:!0,eliminar:!0},compras:{ver:!0,crear:!0,editar:!0,eliminar:!0},clientes:{ver:!0,crear:!0,editar:!0,eliminar:!0},pedidos:{ver:!0,crear:!0,editar:!0,eliminar:!0},ventas:{ver:!0,crear:!0,editar:!0,eliminar:!0},devoluciones:{ver:!0,crear:!0,editar:!0,eliminar:!0}}:y.role==="Empleado"?{dashboard:{ver:!0},productos:{ver:!0,crear:!1,editar:!1,eliminar:!1},clientes:{ver:!0,crear:!0,editar:!0,eliminar:!1},pedidos:{ver:!0,crear:!0,editar:!0,eliminar:!1},ventas:{ver:!0,crear:!0,editar:!1,eliminar:!1},devoluciones:{ver:!0,crear:!0,editar:!1,eliminar:!1}}:{}):z.permisos})(),R=I=>I.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),L=(I,z="ver")=>{const W=R(I);let ee=!1;for(const[G,ie]of Object.entries(P))if(R(G)===W){ee=ie?.[z]===!0;break}return console.log(` [hasPermission] Mdulo: "${I}" (${W}), Accin: ${z}, Acceso: ${ee}`),ee},q=I=>{c(z=>z.includes(I)?z.filter(W=>W!==I):[...z,I])},_=I=>{g(I),localStorage.setItem("damabella_current_user",JSON.stringify(I)),i("dashboard")};M.useEffect(()=>{try{const z=window.history.state;if(z&&z.page&&typeof z.page=="string")i(z.page);else if(window.location.hash&&window.location.hash.startsWith("#admin-")){const W=window.location.hash.replace("#admin-","");W&&i(W)}}catch{}const I=z=>{try{const W=z.state&&z.state.page||null;if(W&&typeof W=="string")i(W);else if(window.location.hash&&window.location.hash.startsWith("#admin-")){const ee=window.location.hash.replace("#admin-","");ee&&i(ee)}}catch{}};return window.addEventListener("popstate",I),()=>window.removeEventListener("popstate",I)},[]),M.useEffect(()=>{try{const I={page:a},z=`#admin-${a}`;window.history.pushState(I,"",z)}catch{}},[a]);const B=I=>{x(I.target.value),S(I.target.value.length>0)},K=[{id:"dashboard",label:"Dashboard",categoria:"General"},{id:"roles",label:"Gestin de Roles",categoria:"Configuracin"},{id:"permisos",label:"Gestin de Permisos",categoria:"Configuracin"},{id:"usuarios",label:"Gestin de Usuarios",categoria:"Usuarios"},{id:"categorias",label:"Categoras de Productos",categoria:"Compras"},{id:"productos",label:"Productos",categoria:"Compras"},{id:"proveedores",label:"Proveedores",categoria:"Compras"},{id:"compras",label:"Compras",categoria:"Compras"},{id:"clientes",label:"Clientes",categoria:"Ventas"},{id:"pedidos",label:"Pedidos",categoria:"Ventas"},{id:"ventas",label:"Ventas",categoria:"Ventas"},{id:"devoluciones",label:"Devoluciones",categoria:"Ventas"}].filter(I=>I.label.toLowerCase().includes(j.toLowerCase())||I.categoria.toLowerCase().includes(j.toLowerCase())),E=[{id:"dashboard",label:"Dashboard",icon:xT,page:"dashboard",modulo:"dashboard"},{id:"configuracion",label:"Configuracin",icon:GT,submenu:[{id:"roles",label:"Gestin de Roles y Permisos",icon:Lc,modulo:"roles"}]},{id:"usuarios",label:"Usuarios",icon:af,submenu:[{id:"usuarios",label:"Gestin de Usuarios",icon:p7,modulo:"usuarios"}]},{id:"compras",label:"Compras",icon:Ap,submenu:[{id:"categorias",label:"Categoras de Productos",icon:bo,modulo:"categorias"},{id:"productos",label:"Productos",icon:g5,modulo:"productos"},{id:"proveedores",label:"Proveedores",icon:P2,modulo:"proveedores"},{id:"compras",label:"Compras",icon:Qm,modulo:"compras"}]},{id:"ventas",label:"Ventas",icon:sE,submenu:[{id:"clientes",label:"Clientes",icon:af,modulo:"clientes"},{id:"pedidos",label:"Pedidos",icon:A2,modulo:"pedidos"},{id:"ventas",label:"Ventas",icon:p5,modulo:"ventas"},{id:"devoluciones",label:"Devoluciones",icon:Jd,modulo:"devoluciones"}]}],$=y.role==="Administrador"?E:E.map(I=>I.page?L(I.modulo||I.id)?I:null:{...I,submenu:I.submenu?.filter(z=>L(z.modulo||z.id))}).filter(I=>I&&(I.page||I.submenu&&I.submenu.length>0)),D=()=>{switch(a){case"dashboard":return o.jsx(V_,{});case"roles":return o.jsx(uX,{});case"permisos":return o.jsx(fX,{});case"usuarios":return o.jsx(hX,{});case"categorias":return o.jsx(JQ,{});case"productos":return o.jsx(YQ,{});case"proveedores":return o.jsx(vL,{});case"compras":return o.jsx(QQ,{});case"clientes":return o.jsx(ree,{});case"pedidos":return o.jsx(yee,{});case"ventas":return o.jsx(xte,{});case"devoluciones":return o.jsx(bte,{});case"perfil":return o.jsx(wte,{currentUser:y,onSave:_,onCancel:()=>i("dashboard")});case"configuracion-general":return o.jsx(dX,{});case"notificaciones":return o.jsx(Nte,{});default:return o.jsx(V_,{})}};return o.jsx(cX,{children:o.jsx(II,{children:o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("header",{className:"bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-40",children:o.jsxs("div",{className:"flex items-center justify-between px-4 h-16",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>n(!r),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r?o.jsx(Ji,{size:20}):o.jsx(PT,{size:20})}),o.jsx("h1",{className:"text-zinc-900",children:"DAMABELLA"})]}),o.jsxs("div",{className:"flex-1 max-w-2xl mx-8 hidden md:block relative",children:[o.jsxs("div",{className:"relative",children:[o.jsx(vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",placeholder:"Buscar productos, clientes, pedidos...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",value:j,onChange:B,onBlur:()=>setTimeout(()=>S(!1),200)})]}),w&&o.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-y-auto",children:K.length>0?K.map(I=>o.jsxs("button",{onClick:()=>{i(I.id),x(""),S(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center justify-between transition-colors",children:[o.jsx("span",{className:"text-gray-900",children:I.label}),o.jsx("span",{className:"text-gray-500 text-sm",children:I.categoria})]},I.id)):o.jsx("div",{className:"px-4 py-3 text-gray-500",children:"No se encontraron resultados"})})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:()=>i("notificaciones"),className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx(kh,{size:20}),o.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-700 to-gray-900 rounded-full flex items-center justify-center text-white overflow-hidden",children:y?.avatar?o.jsx("img",{src:y.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):y?.name?.[0]||"A"}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("div",{className:"text-gray-900",children:y?.name}),o.jsx("div",{className:"text-gray-500",children:y?.role})]}),o.jsx(Vj,{size:16})]}),d&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[o.jsx("div",{className:"text-gray-900",children:y?.name}),o.jsx("div",{className:"text-gray-500",children:y?.email})]}),o.jsxs("button",{onClick:()=>{i("perfil"),f(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[o.jsx(Pp,{size:16}),"Mi Perfil"]}),o.jsx("hr",{className:"my-2"}),o.jsxs("button",{onClick:()=>{f(!1),h(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-red-600",children:[o.jsx(rE,{size:16}),"Cerrar Sesin"]})]})]})]})]})]})}),o.jsx("aside",{className:`fixed top-16 left-0 bottom-0 bg-white border-r border-gray-200 transition-all duration-300 z-30 ${r?"w-64":"w-0"} overflow-hidden`,children:o.jsx("nav",{className:"p-4 h-full overflow-y-auto",children:$.map(I=>{if(!I)return null;const z=I.page??"",W=I.submenu??[];return o.jsxs("div",{className:"mb-2",children:[I.page?o.jsx("button",{onClick:()=>i(z),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors text-gray-700 hover:text-gray-900",children:o.jsxs("div",{className:"flex items-center gap-3",children:[I.icon&&o.jsx(I.icon,{size:20}),o.jsx("span",{children:I.label})]})}):o.jsxs("button",{onClick:()=>q(I.id),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors text-gray-700 hover:text-gray-900",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[I.icon&&o.jsx(I.icon,{size:20}),o.jsx("span",{children:I.label})]}),o.jsx(Vj,{size:16,className:`transition-transform ${s.includes(I.id)?"rotate-180":""}`})]}),s.includes(I.id)&&W.length>0&&o.jsx("div",{className:"ml-4 mt-1 space-y-1",children:W.map(ee=>o.jsxs("button",{onClick:()=>i(ee.id),className:`w-full flex items-center gap-3 p-2 pl-8 rounded-lg transition-colors ${a===ee.id?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[ee.icon&&o.jsx(ee.icon,{size:18}),o.jsx("span",{children:ee.label})]},ee.id))})]},I.id)})})}),o.jsx("main",{className:`pt-16 transition-all duration-300 ${r?"ml-64":"ml-0"}`,children:o.jsx("div",{className:"p-6",children:D()})}),o.jsx(er,{isOpen:p,onClose:()=>h(!1),title:"Cerrar Sesin",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-gray-600",children:"Ests seguro que deseas cerrar sesin?"}),o.jsxs("div",{className:"flex gap-3 justify-end",children:[o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cerrar Sesin"})]})]})})]})})})}function Yi({onNavigate:e,isAuthenticated:t,currentUser:r}){const{cart:n,favorites:a,categories:i}=Bc(),s=n.reduce((d,f)=>d+f.quantity,0),c=a.length;return o.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e("home"),className:"text-3xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent hover:from-pink-500 hover:to-purple-500 transition-all",children:"DAMABELLA"}),o.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[o.jsx("button",{onClick:()=>e("search"),className:"text-gray-700 hover:text-pink-400 transition-colors",children:"Productos"}),i.map(d=>o.jsx("button",{onClick:()=>e("search",d.name),className:"text-gray-700 hover:text-pink-400 transition-colors",children:d.name},d.id))]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>e("search"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Buscar",children:o.jsx(vi,{size:22,className:"text-gray-700"})}),o.jsxs("button",{onClick:()=>e("favorites"),className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Favoritos",children:[o.jsx(Ic,{size:22,className:"text-gray-700"}),c>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-pink-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c})]}),o.jsxs("button",{onClick:()=>e("cart"),className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Carrito",children:[o.jsx(Ap,{size:22,className:"text-gray-700"}),s>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-pink-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:s})]}),o.jsx("button",{onClick:()=>e("profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Perfil",children:t&&r?o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center text-white text-sm font-bold",children:r?.name?.charAt(0)?.toUpperCase()||"U"}):o.jsx(Pp,{size:22,className:"text-gray-700"})})]})]})})})}function Yu({onNavigate:e}){return o.jsx("footer",{className:"bg-gray-900 text-white py-16 mt-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"DAMABELLA"}),o.jsx("p",{className:"text-gray-400",children:"Elegancia y sofisticacin en cada prenda."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg mb-4",children:"Comprar"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsx("li",{children:o.jsx("button",{onClick:()=>e("search","Vestidos Largos"),className:"hover:text-white transition-colors",children:"Vestidos Largos"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("search","Vestidos Cortos"),className:"hover:text-white transition-colors",children:"Vestidos Cortos"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("search","Sets"),className:"hover:text-white transition-colors",children:"Sets"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("search","Enterizos"),className:"hover:text-white transition-colors",children:"Enterizos"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("search"),className:"hover:text-white transition-colors",children:"Todos los Productos"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg mb-4",children:"Ayuda"}),o.jsxs("ul",{className:"space-y-2 text-gray-400",children:[o.jsx("li",{children:o.jsx("button",{onClick:()=>e("contact"),className:"hover:text-white transition-colors",children:"Contacto"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>e("orders"),className:"hover:text-white transition-colors",children:"Mis Pedidos"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Envos"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Devoluciones"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg mb-4",children:"Sguenos"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors",children:o.jsx(tE,{size:20})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors",children:o.jsx(eE,{size:20})}),o.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors",children:o.jsx(lE,{size:20})})]})]})]}),o.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," DAMABELLA. Todos los derechos reservados."]})})]})})}const Ste="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Cte(e){const[t,r]=M.useState(!1),n=()=>{r(!0)},{src:a,alt:i,style:s,className:c,...d}=e;return t?o.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:s,children:o.jsx("div",{className:"flex items-center justify-center w-full h-full",children:o.jsx("img",{src:Ste,alt:"Error loading image",...d,"data-original-url":a})})}):o.jsx("img",{src:a,alt:i,className:c,style:s,...d,onError:n})}function Sh({onNavigate:e,onLoginRequired:t,isAuthenticated:r,currentUser:n}){const{products:a,categoriesForHome:i,favorites:s,toggleFavorite:c,addToCart:d,getProductStock:f}=Bc(),[p,h]=M.useState(""),y=a.slice(0,8),g=x=>{x.preventDefault(),alert("Gracias por suscribirte! Pronto recibirs nuestras novedades."),h("")},j=x=>{if(!x){alert("Producto no vlido");return}if(!x.id){console.error("Producto sin ID:",x),alert("Error: Producto sin identificador");return}if(!x.variants||x.variants.length===0){alert("Este producto no tiene variantes disponibles");return}const w=x.variants[0];if(!w?.color){alert("Variante sin color");return}if(!w?.sizes||w.sizes.length===0){alert("Este producto no tiene tallas disponibles");return}const S=w.sizes.find(P=>P&&P.stock>0);if(!S||!S.size){alert("Este producto no tiene stock disponible");return}if(f(x.id,w.color,S.size)===0){alert(" Este producto no tiene stock disponible");return}try{d({productId:x.id,productName:x.name||"Producto sin nombre",price:x.price||0,image:x.image||"",color:w.color,colorHex:w.colorHex||"#000000",size:S.size,quantity:1})||console.warn("[PremiumHomePage] addToCart retorn false para:",x.name)}catch(P){console.error("[PremiumHomePage] Error al agregar al carrito:",P)}};return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:r,currentUser:n}),o.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-100 via-purple-50 to-pink-50"}),o.jsx("div",{className:"absolute inset-0 opacity-40",children:o.jsx(Cte,{src:"https://images.unsplash.com/photo-1720005398225-4ea01c9d2b8f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxlbGVnYW50JTIwZmFzaGlvbiUyMHdvbWFuJTIwZHJlc3N8ZW58MXx8fHwxNzYzOTE0ODA3fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Fashion",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 text-center",children:[o.jsx("h1",{className:"text-7xl lg:text-8xl mb-6 text-gray-900 tracking-tight",children:"DAMABELLA"}),o.jsx("p",{className:"text-2xl lg:text-3xl mb-4 text-gray-700 max-w-3xl mx-auto",children:"Elegancia Redefinida"}),o.jsx("p",{className:"text-lg text-gray-600 mb-12 max-w-2xl mx-auto",children:"Descubre nuestra coleccin exclusiva de moda femenina. Diseos nicos que resaltan tu belleza natural."}),o.jsx("div",{className:"flex gap-4 justify-center",children:o.jsxs("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg flex items-center gap-2",children:["Explorar Coleccin",o.jsx(Ah,{size:20})]})})]}),o.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce",children:o.jsx("div",{className:"w-6 h-10 border-2 border-gray-400 rounded-full flex items-start justify-center p-2",children:o.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})})})]}),i.length>0&&o.jsx("section",{className:"py-20 bg-gradient-to-br from-pink-50 to-purple-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-5xl text-gray-900 mb-4",children:"Explora Nuestras Categoras"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Encuentra el estilo perfecto para cada ocasin"})]}),o.jsx("div",{className:`grid ${i.length===1?"grid-cols-1":i.length===2?"grid-cols-1 md:grid-cols-2":i.length===3?"grid-cols-1 md:grid-cols-3":"grid-cols-1 md:grid-cols-2"} gap-8`,children:i.map((x,w)=>{const S=["https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=800","https://images.unsplash.com/photo-1612336307429-8a898d10e223?w=800","https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=800","https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?w=800"],C=["Elegancia para cada ocasin","Frescura y versatilidad","Conjuntos perfectamente coordinados","Sofisticacin en una sola pieza"];return o.jsxs("div",{className:"relative overflow-hidden rounded-3xl h-[400px] group cursor-pointer",onClick:()=>e("search",x.name),children:[o.jsx("img",{src:S[w%S.length],alt:x.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[o.jsx("h3",{className:"text-4xl mb-2",children:x.name}),o.jsx("p",{className:"text-lg mb-4",children:C[w%C.length]}),o.jsxs("button",{className:"inline-flex items-center gap-2 text-white hover:gap-3 transition-all",children:["Explorar",o.jsx(R8,{size:20})]})]})]},x.id)})})]})}),y.length>0?o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-5xl text-gray-900 mb-4",children:"Nuevos Ingresos"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Lo ltimo en moda femenina"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:y.map(x=>o.jsxs("div",{className:"group cursor-pointer",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl mb-4 aspect-[3/4] bg-gray-100",children:[o.jsx("span",{className:"absolute top-4 left-4 bg-pink-400 text-white text-sm px-4 py-1.5 rounded-full z-10",children:"NUEVO"}),o.jsx("img",{src:x.image,alt:x.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 cursor-pointer",onClick:()=>e("detail",x.id)}),o.jsx("button",{onClick:()=>c(x.id),className:"absolute top-4 right-4 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center hover:bg-white transition-colors",children:o.jsx(Ic,{size:20,className:s.includes(x.id)?"fill-pink-400 text-pink-400":"text-gray-600"})})]}),o.jsx("h3",{className:"text-lg text-gray-900 mb-2 line-clamp-2",onClick:()=>e("detail",x.id),children:x.name}),o.jsxs("p",{className:"text-2xl text-gray-900 mb-4",children:["$",x.price.toLocaleString()]}),o.jsx("button",{onClick:()=>j(x),className:"w-full bg-gray-900 text-white py-3 rounded-full hover:bg-gray-800 transition-colors",children:"Agregar al Carrito"})]},x.id))})]})}):o.jsx("section",{className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[o.jsx("p",{className:"text-2xl text-gray-400 mb-4",children:"No hay productos disponibles en este momento"}),o.jsx("p",{className:"text-lg text-gray-500 mb-8",children:"Verifica nuevamente en unos momentos para ver nuestros nuevos ingresos"}),o.jsx("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-3 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all",children:"Explorar Coleccin"})]})}),o.jsx("section",{className:"py-20 bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsx("div",{className:"text-center mb-16",children:o.jsx("h2",{className:"text-5xl text-gray-900 mb-4",children:"Lo Que Dicen Nuestras Clientas"})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Mara Gonzlez",review:"La calidad de las prendas es excepcional. Me encanta cada pieza que he comprado.",rating:5},{name:"Laura Rodrguez",review:"Excelente atencin al cliente y los diseos son hermosos. Totalmente recomendado.",rating:5},{name:"Ana Martnez",review:"Las mejores prendas de moda femenina. Siempre encuentro algo perfecto para cada ocasin.",rating:5}].map((x,w)=>o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm",children:[o.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(x.rating)].map((S,C)=>o.jsx(iE,{size:20,className:"fill-pink-400 text-pink-400"},C))}),o.jsxs("p",{className:"text-gray-700 mb-6 text-lg",children:['"',x.review,'"']}),o.jsx("p",{className:"text-gray-900",children:x.name})]},w))})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-r from-pink-400 to-purple-400",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[o.jsx("h2",{className:"text-5xl text-white mb-4",children:"nete a Nuestra Comunidad"}),o.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Suscrbete y recibe descuentos exclusivos y las ltimas novedades"}),o.jsxs("form",{onSubmit:g,className:"flex gap-4 max-w-md mx-auto",children:[o.jsx("input",{type:"email",value:p,onChange:x=>h(x.target.value),placeholder:"Tu correo electrnico",required:!0,className:"flex-1 px-6 py-4 rounded-full focus:outline-none focus:ring-2 focus:ring-white"}),o.jsx("button",{type:"submit",className:"bg-gray-900 text-white px-8 py-4 rounded-full hover:bg-gray-800 transition-colors whitespace-nowrap",children:"Suscribirse"})]})]})}),o.jsx(Yu,{onNavigate:e})]})}function Ate({onNavigate:e,initialCategory:t,isAuthenticated:r=!1,currentUser:n=null}){const{products:a,favorites:i,toggleFavorite:s,addToCart:c,getProductStock:d}=Bc(),{showToast:f}=ks(),[p,h]=M.useState(""),[y,g]=M.useState(t||"Todas"),[j,x]=M.useState([]),[w,S]=M.useState([]),[C,P]=M.useState({min:0,max:3e5}),[R,L]=M.useState("popular"),[q,_]=M.useState(!1),[B,V]=M.useState(["Todas"]),K=M.useRef("");M.useEffect(()=>{const te=()=>{const T=localStorage.getItem("damabella_categorias");if(T!==K.current)if(K.current=T||"",console.log("[SearchPage] Leyendo categoras desde localStorage...",T?JSON.parse(T).length+" categoras":"ninguna"),T)try{const Y=["Todas",...JSON.parse(T).map(H=>H.name)];V(Y),console.log("[SearchPage]  Categoras actualizadas:",Y.join(", "))}catch(J){console.error("[SearchPage] Error cargando categoras:",J),V(["Todas"])}else console.log("[SearchPage]  No hay categoras en localStorage"),V(["Todas"])};te();const re=setInterval(te,500);return()=>clearInterval(re)},[]),M.useEffect(()=>{t&&g(t)},[t]);const E=M.useMemo(()=>{const te=new Set;return a.forEach(re=>re.variants.forEach(T=>te.add(T.color))),Array.from(te)},[a]),$=["S","M","L","XL"],D=M.useMemo(()=>{let te=a;switch(p&&(te=te.filter(re=>re.name.toLowerCase().includes(p.toLowerCase())||re.category.toLowerCase().includes(p.toLowerCase()))),y!=="Todas"&&(te=te.filter(re=>re.category===y)),j.length>0&&(te=te.filter(re=>re.variants.some(T=>j.includes(T.color)))),w.length>0&&(te=te.filter(re=>re.variants.some(T=>T.sizes.some(J=>w.includes(J.size)&&J.stock>0)))),te=te.filter(re=>re.price>=C.min&&re.price<=C.max),R){case"price-asc":te.sort((re,T)=>re.price-T.price);break;case"price-desc":te.sort((re,T)=>T.price-re.price);break;case"new":te.sort((re,T)=>(T.new?1:0)-(re.new?1:0));break;default:te.sort((re,T)=>T.rating-re.rating)}return te},[a,p,y,j,w,C,R]),I=te=>{x(re=>re.includes(te)?re.filter(T=>T!==te):[...re,te])},z=te=>{S(re=>re.includes(te)?re.filter(T=>T!==te):[...re,te])},W=()=>{g("Todas"),x([]),S([]),P({min:0,max:3e5}),L("popular")},ee=te=>{if(!te){f("Producto no vlido","error");return}if(!te.id){f("Error: Producto sin identificador","error");return}if(!te.variants||te.variants.length===0){f("Este producto no tiene variantes disponibles","error");return}const re=te.variants[0];if(!re||!re.color){f("Error: Variante sin datos","error");return}if(!re.sizes||re.sizes.length===0){f("Este producto no tiene tallas disponibles","error");return}const T=re.sizes.find(Y=>Y&&Y.stock>0);if(!T||!T.size){f(" Este producto no tiene stock disponible","error");return}if(d(te.id,re.color,T.size)===0){f(" Este producto no tiene stock disponible","error");return}try{c({productId:te.id,productName:te.name||"Producto sin nombre",price:te.price||0,image:te.image||"",color:re.color,colorHex:re.colorHex||"#000000",size:T.size,quantity:1})||console.warn("[SearchPage] addToCart retorn false para:",te.name)}catch(Y){console.error("[SearchPage] Error al agregar al carrito:",Y),f("Error al agregar al carrito. Intenta de nuevo.","error")}},G=te=>{s(te),i.includes(te)?f(" Removido de favoritos","info"):f(" Agregado a favoritos","success")},ie=(y!=="Todas"?1:0)+j.length+w.length+(C.min>0||C.max<3e5?1:0);return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:r,currentUser:n}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl text-gray-900 mb-2",children:y!=="Todas"?y:"Todos los Productos"}),o.jsxs("p",{className:"text-gray-600",children:[D.length," producto",D.length!==1?"s":""," encontrado",D.length!==1?"s":""]})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",placeholder:"Buscar productos...",value:p,onChange:te=>h(te.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400"})}),o.jsx("div",{className:"w-full md:w-48",children:o.jsxs("select",{value:R,onChange:te=>L(te.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",children:[o.jsx("option",{value:"popular",children:"Ms Popular"}),o.jsx("option",{value:"new",children:"Ms Nuevo"}),o.jsx("option",{value:"price-asc",children:"Menor Precio"}),o.jsx("option",{value:"price-desc",children:"Mayor Precio"})]})}),o.jsxs("button",{onClick:()=>_(!q),className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[o.jsx(ZT,{size:20}),"Filtros",ie>0&&o.jsx("span",{className:"bg-pink-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:ie})]})]})}),q&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl text-gray-900",children:"Filtros"}),o.jsx("button",{onClick:W,className:"text-sm text-pink-400 hover:text-pink-500 transition-colors",children:"Limpiar todo"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Categora"}),o.jsx("div",{className:"space-y-2",children:B.map(te=>o.jsx("button",{onClick:()=>g(te),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${y===te?"bg-pink-50 text-pink-400":"hover:bg-gray-50 text-gray-600"}`,children:te},te))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Colores"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(te=>{const re=a.find(T=>T.variants.some(J=>J.color===te))?.variants.find(T=>T.color===te);return o.jsx("button",{onClick:()=>I(te),className:`w-10 h-10 rounded-full border-2 transition-all ${j.includes(te)?"border-pink-400 ring-2 ring-pink-200":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:re?.colorHex},title:te},te)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Tallas"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(te=>o.jsx("button",{onClick:()=>z(te),className:`px-4 py-2 rounded-lg border-2 transition-all ${w.includes(te)?"bg-pink-50 border-pink-400 text-pink-400":"border-gray-300 text-gray-600 hover:border-gray-400"}`,children:te},te))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Rango de Precio"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"range",min:"0",max:"300000",step:"10000",value:C.max,onChange:te=>P({...C,max:parseInt(te.target.value)}),className:"w-full accent-pink-400"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Hasta: $",C.max.toLocaleString()]})]})]})]})]}),D.length>0?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:D.map(te=>o.jsxs("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all hover:-translate-y-1",children:[o.jsxs("div",{className:"relative aspect-[3/4] bg-gray-100 overflow-hidden",children:[o.jsx("img",{src:te.image,alt:te.name,className:"w-full h-full object-cover cursor-pointer group-hover:scale-110 transition-transform duration-700",onClick:()=>e("detail",te.id)}),te.new&&o.jsx("span",{className:"absolute top-3 left-3 bg-pink-400 text-white text-xs font-bold px-3 py-1 rounded-full",children:"NUEVO"}),o.jsx("button",{onClick:()=>G(te.id),className:"absolute top-3 right-3 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center hover:bg-white transition-colors shadow-md",children:o.jsx(Ic,{size:20,className:i.includes(te.id)?"fill-pink-400 text-pink-400":"text-gray-600"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-gray-900 mb-2 line-clamp-2 cursor-pointer hover:text-pink-400 transition-colors min-h-[3rem]",onClick:()=>e("detail",te.id),children:te.name}),o.jsxs("p",{className:"text-2xl text-gray-900 mb-3",children:["$",te.price.toLocaleString()]}),o.jsx("div",{className:"flex gap-1 mb-3",children:Array.from(new Set(te.variants.map(re=>re.colorHex))).slice(0,4).map((re,T)=>o.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:re}},T))}),o.jsx("button",{onClick:()=>ee(te),className:"w-full bg-gray-900 text-white py-3 rounded-full hover:bg-gray-800 transition-colors",children:"Agregar"})]})]},te.id))}):o.jsxs("div",{className:"text-center py-20",children:[o.jsx("p",{className:"text-2xl text-gray-400 mb-4",children:"No se encontraron productos"}),o.jsx("button",{onClick:W,className:"text-pink-400 hover:text-pink-500 transition-colors",children:"Limpiar filtros"})]})]}),o.jsx(Yu,{onNavigate:e})]})}function Pte({productId:e,onNavigate:t,isAuthenticated:r=!1,currentUser:n=null}){const{products:a,favorites:i,toggleFavorite:s,addToCart:c,addToRecentlyViewed:d,getProductStock:f}=Bc(),{showToast:p}=ks(),[h,y]=M.useState(""),[g,j]=M.useState(""),[x,w]=M.useState(1),[S,C]=M.useState(0),[P,R]=M.useState(0),[L,q]=M.useState(0),_=a.find(z=>z.id===e);if(M.useEffect(()=>{if(_&&h&&g)try{const z=f(_.id,h,g);C(Number(z)||0);return}catch(z){console.warn("[ProductDetailPage] getProductStock failed",z)}C(0)},[_,h,g,f]),M.useEffect(()=>{if(_&&(d(_.id),_.variants.length>0)){y(_.variants[0].color);const z=_.variants[0].sizes.find(W=>W.stock>0);z&&j(z.size)}},[_]),!_)return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Yi,{onNavigate:t,isAuthenticated:r,currentUser:n}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 text-center",children:[o.jsx("p",{className:"text-2xl text-gray-400",children:"Producto no encontrado"}),o.jsx("button",{onClick:()=>t("search"),className:"mt-6 text-pink-400 hover:text-pink-500 transition-colors",children:"Ver todos los productos"})]})]});const B=_.variants.find(z=>z.color===h),V=Array.from(new Set(_.variants.flatMap(z=>z.sizes.map(W=>W.size)))).sort();B?.sizes.filter(z=>z.stock>0);const K=B?.sizes.find(z=>z.size===g)?.stock||0,E=i.includes(_.id),$=()=>{if(console.log("[ProductDetailPage] handleAddToCart called",{productId:_?.id,selectedColor:h,selectedSize:g,quantity:x}),!h||!g){p("Selecciona color y talla","error");return}if(!_||!_.id){p("Producto no vlido","error");return}if(!B){p("Variante no encontrada","error");return}const z=localStorage.getItem("damabella_productos");if(console.log("[ProductDetailPage] damabella_productos raw:",z),!z){p("No hay productos disponibles","error");return}try{const W=JSON.parse(z),ee=(_.id||"").toString(),G=ee.match(/\d+/),ie=G?G[0]:ee;console.log("[ProductDetailPage] Normalizing product id for search",{prodIdRaw:ee,prodDigits:ie}),console.log("[ProductDetailPage] Stored products ids:",W.map(H=>({id:H?.id,idStr:H?.id?.toString?.(),digits:(H?.id?.toString?.()||"").match(/\d+/)?.[0]})));const te=W.find(H=>{const me=H?.id,pe=me!=null?me.toString():"",be=pe.match(/\d+/),ge=be?be[0]:pe,Te=pe===ee||ge===ie,ze=`p${pe}`===ee||`admin_${pe}`===ee||`admin-${pe}`===ee,ue=Te||ze;return ue&&console.log("[ProductDetailPage] Matching storage product for search",{storageId:me,pidStr:pe,pidDigits:ge,prodIdRaw:ee,prodDigits:ie}),ue});if(console.log("[ProductDetailPage] adminProduct found:",te),!te){p("Producto no encontrado en inventario","error");return}const re=(te.variantes||[]).reduce((H,me)=>{const pe=me.colores||[];return H+pe.reduce((be,ge)=>be+(Number(ge.cantidad)||0),0)},0);if(console.log("[ProductDetailPage] totalStock:",re),re===0){p(" Este producto no tiene stock disponible","error");return}const T=te.variantes?.find(H=>H.talla===g||H.talla&&H.talla.toString()===g);if(console.log("[ProductDetailPage] matched variant:",T),!T){p("Talla no disponible","error");return}const J=T.colores?.find(H=>!H||H.color===void 0||H.color===null?!1:H.color.toString().trim().toLowerCase()===h.toString().trim().toLowerCase());if(console.log("[ProductDetailPage] matched colorData:",J),!J||(Number(J.cantidad)||0)===0){p("La variante/color seleccionado no tiene stock. Selecciona otra opcin","error");return}if(x>(Number(J.cantidad)||0)){p(` Solo disponibles ${J.cantidad} unidades de este producto`,"error");return}const Y=c({productId:_.id,productName:_.name||"Producto sin nombre",price:_.price||0,image:_.image||"",color:h,colorHex:B?.colorHex||"#000000",size:g,quantity:x});try{const H=JSON.parse(localStorage.getItem("damabella_productos")||"[]"),me=H.find(pe=>{const be=pe?.id,ge=be!=null?be.toString():"",Te=ge.match(/\d+/),ze=Te?Te[0]:ge,ue=ge===ee||ze===ie,Fe=`p${ge}`===ee||`admin_${ge}`===ee||`admin-${ge}`===ee;return ue||Fe});if(me){const pe=me.variantes?.find(be=>be.talla===g||be.talla&&be.talla.toString()===g);if(pe){const be=pe.colores?.find(ge=>ge.color&&ge.color.toString().trim().toLowerCase()===h.toString().trim().toLowerCase());be&&(be.cantidad=Math.max(0,(Number(be.cantidad)||0)-Number(x||0)),localStorage.setItem("damabella_productos",JSON.stringify(H)),C(be.cantidad))}}}catch(H){console.warn("[ProductDetailPage] No se pudo actualizar stock en storage despus de agregar al carrito",H)}}catch(W){console.error("[ProductDetailPage] Error al agregar al carrito:",W),p("Error al agregar al carrito. Intenta de nuevo.","error")}},D=()=>{s(_.id),E?p(" Removido de favoritos","info"):p(" Agregado a favoritos","success")},I=a.filter(z=>z.category===_.category&&z.id!==_.id).slice(0,4);return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Yi,{onNavigate:t,isAuthenticated:r,currentUser:n}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-8",children:[o.jsx("button",{onClick:()=>t("home"),className:"hover:text-pink-400 transition-colors",children:"Inicio"}),o.jsx("span",{children:"/"}),o.jsx("button",{onClick:()=>t("search"),className:"hover:text-pink-400 transition-colors",children:"Productos"}),o.jsx("span",{children:"/"}),o.jsx("button",{onClick:()=>t("search",_.category),className:"hover:text-pink-400 transition-colors",children:_.category}),o.jsx("span",{children:"/"}),o.jsx("span",{className:"text-gray-900",children:_.name})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20",children:[o.jsx("div",{children:o.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm mb-4 aspect-[3/4]",children:o.jsx("img",{src:_.image,alt:_.name,className:"w-full h-full object-cover"})})}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-4xl text-gray-900 mb-4",children:_.name}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("p",{className:"text-4xl text-gray-900",children:["$",_.price.toLocaleString()]}),o.jsx("button",{onClick:D,className:"p-3 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ic,{size:28,className:E?"fill-pink-400 text-pink-400":"text-gray-600"})})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((z,W)=>o.jsx("button",{onClick:()=>{q(W+1),p(` Calificacin de ${W+1} estrella${W+1!==1?"s":""} registrada`,"success")},className:"cursor-pointer hover:scale-110 transition-transform",title:`Calificar con ${W+1} estrella${W+1!==1?"s":""}`,children:o.jsx(iE,{size:18,className:W<Math.max(L,_.rating)?W<L?"fill-orange-400 text-orange-400":"fill-yellow-400 text-yellow-400":"text-gray-300"})},W))}),o.jsxs("span",{className:"text-gray-600",children:["(",Math.max(L,_.rating),".0)"]})]})]}),o.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:o.jsx("p",{className:"text-gray-700 leading-relaxed",children:_.description})}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg text-gray-900 mb-3",children:["Color: ",o.jsx("span",{className:"font-normal text-gray-600",children:h})]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:Array.from(new Map(_.variants.map(z=>[z.color,z])).values()).map(z=>o.jsx("button",{onClick:()=>y(z.color),className:`w-12 h-12 rounded-full border-2 transition-all ${h===z.color?"border-pink-400 ring-2 ring-pink-200 scale-110":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:z.colorHex},title:z.color},z.color))})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg text-gray-900 mb-3",children:["Talla: ",o.jsx("span",{className:"font-normal text-gray-600",children:g||"Seleccionar"})]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:V.map(z=>{const W=B?B.sizes.some(ee=>ee.size===z&&ee.stock>0):!1;return o.jsx("button",{onClick:()=>j(z),className:`px-6 py-3 rounded-lg border-2 transition-all cursor-pointer ${g===z?"bg-pink-50 border-pink-400 text-pink-400":W?"border-gray-300 text-gray-700 hover:border-gray-400":"border-gray-200 text-gray-400 opacity-50"}`,children:z},z)})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg text-gray-900 mb-3",children:["Cantidad ",S>0?`(Stock: ${S})`:""]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center border-2 border-gray-300 rounded-lg px-2",children:[o.jsx("button",{onClick:()=>w(Math.max(1,x-1)),className:"p-3 hover:bg-gray-100 transition-colors","aria-label":"Disminuir cantidad",children:o.jsx(nE,{size:20})}),o.jsx("input",{type:"number",min:1,max:S,value:x,placeholder:`Stock disponible: ${S}`,onChange:z=>{const W=Number(z.target.value||0);if(isNaN(W))return w(1);const ee=Number(S||K||99),G=Math.max(1,Math.min(ee,Math.floor(W)));w(G)},className:"w-28 text-center text-xl px-2 outline-none bg-transparent"}),o.jsx("button",{onClick:()=>w(Math.min(Math.max(1,S||K||99),x+1)),className:"p-3 hover:bg-gray-100 transition-colors","aria-label":"Aumentar cantidad",children:o.jsx(No,{size:20})})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Stock del producto: ",S]})]})]}),o.jsxs("button",{onClick:$,className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 text-lg mb-6",children:[o.jsx(Ap,{size:24}),"Agregar al Carrito"]}),o.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[o.jsx(Lc,{size:20,className:"text-pink-400"}),o.jsx("span",{children:"Garanta de calidad"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[o.jsx(Jd,{size:20,className:"text-pink-400"}),o.jsx("span",{children:"30 das para cambios y devoluciones"})]})]})]})]}),I.length>0&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl text-gray-900 mb-8",children:"Productos Relacionados"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:I.map(z=>o.jsxs("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all hover:-translate-y-1 cursor-pointer",onClick:()=>t("detail",z.id),children:[o.jsx("div",{className:"aspect-[3/4] bg-gray-100 overflow-hidden",children:o.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-gray-900 mb-2 line-clamp-2",children:z.name}),o.jsxs("p",{className:"text-xl text-gray-900",children:["$",z.price.toLocaleString()]})]})]},z.id))})]})]}),o.jsx(Yu,{onNavigate:t})]})}function _te({onNavigate:e,isAuthenticated:t=!1,currentUser:r=null}){const{cart:n,updateCartQuantity:a,removeFromCart:i}=Bc(),{showToast:s}=ks(),[c,d]=M.useState(null),f=n.reduce((x,w)=>x+w.price*w.quantity,0),p=f>=15e4?0:15e3,h=f+p,y=(x,w,S)=>{d({productId:x,color:w,size:S})},g=()=>{c&&(i(c.productId,c.color,c.size),s(" Producto eliminado del carrito","info")),d(null)},j=()=>{d(null)};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:t,currentUser:r}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("h1",{className:"text-4xl text-gray-900 mb-8",children:"Carrito de Compras"}),n.length===0?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-16 text-center",children:[o.jsx(g5,{size:64,className:"text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-2xl text-gray-400 mb-6",children:"Tu carrito est vaco"}),o.jsx("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg",children:"Explorar Productos"})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4",children:n.map(x=>o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("img",{src:x.image,alt:x.productName,className:"w-32 h-32 object-cover rounded-lg"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl text-gray-900 mb-2",children:x.productName}),o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Color:"}),o.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:x.colorHex}}),o.jsx("span",{className:"text-sm text-gray-900",children:x.color})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Talla:"}),o.jsx("span",{className:"text-sm text-gray-900 font-medium",children:x.size})]})]}),o.jsxs("p",{className:"text-2xl text-gray-900 mb-4",children:["$",x.price.toLocaleString()]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center border-2 border-gray-300 rounded-lg",children:[o.jsx("button",{onClick:()=>a(x.productId,x.color,x.size,x.quantity-1),className:"p-2 hover:bg-gray-100 transition-colors",children:o.jsx(nE,{size:18})}),o.jsx("span",{className:"px-4 font-medium",children:x.quantity}),o.jsx("button",{onClick:()=>a(x.productId,x.color,x.size,x.quantity+1),className:"p-2 hover:bg-gray-100 transition-colors",children:o.jsx(No,{size:18})})]}),c?.productId===x.productId&&c?.color===x.color&&c?.size===x.size?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Eliminar?"}),o.jsx("button",{onClick:g,className:"px-3 py-1 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition-colors",children:"S"}),o.jsx("button",{onClick:j,className:"px-3 py-1 border border-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]}):o.jsxs("button",{onClick:()=>y(x.productId,x.color,x.size),className:"p-3 text-red-500 hover:bg-red-50 rounded-md transition-colors self-center flex items-center","aria-label":"Eliminar producto del carrito",children:[o.jsx(Uo,{size:22}),o.jsx("span",{className:"ml-2 text-sm text-red-600",children:"Eliminar producto del carrito"})]})]})]})]})},`${x.productId}-${x.color}-${x.size}`))}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[o.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Resumen del Pedido"}),o.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-gray-200",children:[o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["$",f.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Envo"}),o.jsx("span",{children:p===0?"Gratis":`$${p.toLocaleString()}`})]}),f<15e4&&p>0&&o.jsxs("p",{className:"text-sm text-pink-400",children:["Agrega $",(15e4-f).toLocaleString()," ms para envo gratis!"]})]}),o.jsxs("div",{className:"flex justify-between text-2xl text-gray-900 mb-6",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",h.toLocaleString()]})]}),o.jsx("button",{onClick:()=>e("checkout"),className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg mb-3",children:"Proceder al Pago"}),o.jsx("button",{onClick:()=>e("search"),className:"w-full text-gray-700 py-4 rounded-full hover:bg-gray-100 transition-colors",children:"Continuar Comprando"})]})})]})]}),o.jsx(Yu,{onNavigate:e})]})}function Ete({onNavigate:e,isAuthenticated:t=!1,currentUser:r=null}){const{products:n,favorites:a,toggleFavorite:i,addToCart:s,getProductStock:c}=Bc(),{showToast:d}=ks(),f=n.filter(h=>a.includes(h.id)),p=h=>{if(!h){alert("Producto no vlido");return}if(!h.id){console.error("Producto sin ID:",h),alert("Error: Producto sin identificador");return}if(!h.variants||h.variants.length===0){alert("Este producto no tiene variantes disponibles");return}const y=h.variants[0];if(!y||!y.color){alert("Error: Variante sin datos");return}if(!y.sizes||y.sizes.length===0){alert("Este producto no tiene tallas disponibles");return}const g=y.sizes.find(x=>x&&x.stock>0);if(!g||!g.size){alert("Este producto no tiene stock disponible");return}if(c(h.id,y.color,g.size)===0){alert(" Este producto no tiene stock disponible");return}try{const x=s({productId:h.id,productName:h.name||"Producto sin nombre",price:h.price||0,image:h.image||"",color:y.color,colorHex:y.colorHex||"#000000",size:g.size,quantity:1});try{d("Producto agregado al carrito","success")}catch(w){console.warn("[FavoritesPage] showToast failed",w)}x||console.warn("[FavoritesPage] addToCart retorn false para:",h.name)}catch(x){console.error("[FavoritesPage] Error al agregar al carrito:",x),alert("Error al agregar al carrito. Intenta de nuevo.")}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:t,currentUser:r}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("h1",{className:"text-4xl text-gray-900 mb-8",children:"Mis Favoritos"}),f.length===0?o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-16 text-center",children:[o.jsx(Ic,{size:64,className:"text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-2xl text-gray-400 mb-6",children:"An no tienes favoritos"}),o.jsx("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg",children:"Explorar Productos"})]}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.map(h=>o.jsxs("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all hover:-translate-y-1",children:[o.jsxs("div",{className:"relative aspect-[3/4] bg-gray-100 overflow-hidden",children:[o.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover cursor-pointer group-hover:scale-110 transition-transform duration-700",onClick:()=>e("detail",h.id)}),o.jsx("button",{onClick:()=>i(h.id),className:"absolute top-3 right-3 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center hover:bg-white transition-colors shadow-md",children:o.jsx(Ic,{size:20,className:"fill-pink-400 text-pink-400"})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-gray-900 mb-2 line-clamp-2 cursor-pointer hover:text-pink-400 transition-colors min-h-[3rem]",onClick:()=>e("detail",h.id),children:h.name}),o.jsxs("p",{className:"text-2xl text-gray-900 mb-3",children:["$",h.price.toLocaleString()]}),o.jsx("div",{className:"flex gap-1 mb-3",children:Array.from(new Set(h.variants.map(y=>y.colorHex))).slice(0,4).map((y,g)=>o.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:y}},g))}),o.jsxs("button",{onClick:()=>p(h),className:"w-full bg-gray-900 text-white py-3 rounded-full hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:[o.jsx(Ap,{size:18}),"Agregar"]})]})]},h.id))})]}),o.jsx(Yu,{onNavigate:e})]})}const Ch=5e4,Ote=8e3,kte=({onNavigate:e,currentUser:t})=>{const r=M.useContext(PN);if(!r)return o.jsx("div",{className:"text-center py-8",children:"Error al cargar contexto"});const{cart:n,clearCart:a}=r,[i,s]=M.useState({fullName:t?.nombre||"",phone:"",address:"",city:"",department:"",postalCode:""}),[c,d]=M.useState({}),[f,p]=M.useState("card"),[h,y]=M.useState({cardName:"",cardNumber:"",cardExpiry:"",cardCVC:""}),[g,j]=M.useState(!1),x=(E,$="general")=>$==="address"?E.replace(/[^a-zA-Z0-9\s\-.,#]/g,""):$==="phone"?E.replace(/\D/g,""):E.replace(/[^a-zA-Z\s\-']/g,""),w=(E,$="general")=>$==="address"?/^[a-zA-Z0-9\s\-.,#@]*$/.test(E):/^[a-zA-Z0-9\s\-']*$/.test(E),S=(E,$)=>{switch(E){case"fullName":return $.trim().length<3?"El nombre debe tener al menos 3 caracteres":w($)?void 0:"El nombre contiene caracteres no permitidos";case"phone":return/^\d{7,10}$/.test($)?void 0:"Telfono invlido (7-10 dgitos)";case"address":return $.trim().length<5?"La direccin debe tener al menos 5 caracteres":w($,"address")?void 0:"La direccin contiene caracteres no permitidos";case"city":return $.trim().length<2?"La ciudad es requerida":w($)?void 0:"La ciudad contiene caracteres no permitidos";case"department":return $.trim().length<2?"El departamento es requerido":w($)?void 0:"El departamento contiene caracteres no permitidos";case"postalCode":return/^\d{4,6}$/.test($)?void 0:"Cdigo postal invlido (4-6 dgitos)";default:return}},C=(E,$)=>{s(I=>({...I,[E]:$}));const D=S(E,$);d(I=>{if(D)return{...I,[E]:D};{const{[E]:z,...W}=I;return W}})},P=(E,$)=>{let D=$;E==="cardName"?D=$.replace(/[^a-zA-Z\s\-']/g,"").toUpperCase():E==="cardNumber"?D=$.replace(/\D/g,"").slice(0,16):E==="cardExpiry"?(D=$.replace(/\D/g,"").slice(0,4),D.length>=2&&(D=D.slice(0,2)+"/"+D.slice(2))):E==="cardCVC"&&(D=$.replace(/\D/g,"").slice(0,3)),y(I=>({...I,[E]:D}))},R=M.useMemo(()=>n.reduce((E,$)=>E+$.price*$.quantity,0),[n]),L=R>Ch?0:Ote,q=(R+L)*.19,_=R+L+q,B=Object.keys(c).length>0,V=i.fullName&&i.phone&&i.address&&i.city&&i.department&&i.postalCode&&!B,K=()=>{if(!V){alert("Por favor completa todos los campos correctamente");return}const E={id:`ORD-${Date.now()}`,items:n,subtotal:Number(R.toFixed(2)),shipping:L,iva:Number(q.toFixed(2)),total:Number(_.toFixed(2)),shippingInfo:i,paymentMethod:f,cardInfo:f==="card"?{lastFourDigits:h.cardNumber.slice(-4),name:h.cardName}:null,date:new Date().toLocaleDateString("es-CO"),timestamp:Date.now()};localStorage.setItem("lastPurchase",JSON.stringify(E));const $=JSON.parse(localStorage.getItem("purchaseHistory")||"[]");$.push(E),localStorage.setItem("purchaseHistory",JSON.stringify($));try{const D="damabella_pedidos",I="damabella_clientes",z="damabella_ventas",W=localStorage.getItem(I)||"[]",ee=JSON.parse(W),G=i.phone?.toString()||"",ie=(t?.email||"").toString().toLowerCase();let te=ee.find(H=>H.telefono&&H.telefono.toString()===G||H.email&&H.email.toString().toLowerCase()===ie);if(!te){te={id:Date.now(),nombre:i.fullName||t?.nombre||"Cliente sin nombre",tipoDoc:"",numeroDoc:"",telefono:G,email:t?.email||"",direccion:i.address||"",ciudad:i.city||"",activo:!1,createdAt:new Date().toISOString()},ee.push(te);try{localStorage.setItem(I,JSON.stringify(ee))}catch(H){console.warn("[Checkout] No se pudo guardar cliente",H)}}const re=localStorage.getItem(D)||"[]",T=JSON.parse(re),J=n.map((H,me)=>({id:`it-${Date.now()}-${me}`,productoId:H.productId,productoNombre:H.productName||"",talla:H.size||"",color:H.color||"",cantidad:H.quantity||1,precioUnitario:H.price||0,subtotal:(H.price||0)*(H.quantity||1)})),Y={id:Date.now(),numeroPedido:`PED-${Date.now()}`,tipo:"Pedido",clienteId:te.id,clienteNombre:te.nombre,fechaPedido:new Date().toISOString(),estado:"Pendiente",items:J,productos:J,subtotal:Number(R.toFixed(2)),iva:Number(q.toFixed(2)),total:Number(_.toFixed(2)),metodoPago:f||"unknown",observaciones:"",createdAt:new Date().toISOString(),venta_id:null};T.push(Y);try{localStorage.setItem(D,JSON.stringify(T))}catch(H){console.warn("[Checkout] No se pudo guardar pedido",H)}}catch(D){console.error("[Checkout] Error al crear pedido/cliente/venta administrativa",D)}console.log(" Compra creada:",E),a(),e("purchase-success")};return n.length===0?o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-white pt-0 pb-8",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:!!t,currentUser:t}),o.jsx("div",{className:"max-w-4xl mx-auto px-4",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(bo,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Tu carrito est vaco"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Agrega productos antes de proceder al checkout"}),o.jsx("button",{onClick:()=>e("home"),className:"px-6 py-2 bg-pink-400 text-white rounded-lg hover:bg-pink-500 transition",children:"Volver a la tienda"})]})})]}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-white pt-0 pb-8",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:!!t,currentUser:t}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Datos del pedido"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informacin de envo"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),o.jsx("input",{type:"text",value:i.fullName,onChange:E=>C("fullName",x(E.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${c.fullName?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Juan Prez"}),c.fullName&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.fullName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),o.jsx("input",{type:"tel",value:i.phone,onChange:E=>C("phone",x(E.target.value,"phone")),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${c.phone?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"3001234567"}),c.phone&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.phone})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),o.jsx("input",{type:"text",value:i.address,onChange:E=>C("address",x(E.target.value,"address")),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${c.address?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Calle 50 #10-20 Apt 301"}),c.address&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.address})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),o.jsx("input",{type:"text",value:i.city,onChange:E=>C("city",x(E.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${c.city?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Medelln"}),c.city&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.city})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),o.jsx("input",{type:"text",value:i.department,onChange:E=>C("department",x(E.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${c.department?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Antioquia"}),c.department&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.department})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo postal"}),o.jsx("input",{type:"text",value:i.postalCode,onChange:E=>C("postalCode",E.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${c.postalCode?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"050010"}),c.postalCode&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.postalCode})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Mtodo de pago"}),o.jsx("div",{className:"space-y-3",children:[{id:"card",label:" Tarjeta de crdito"},{id:"nequi",label:" Nequi"},{id:"bancolombia",label:" Bancolombia"},{id:"delivery",label:" Contra entrega"}].map(E=>o.jsxs("label",{className:"flex items-center cursor-pointer p-3 border rounded-lg hover:bg-pink-50 transition",style:{borderColor:f===E.id?"#ec4899":"#d1d5db"},children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:E.id,checked:f===E.id,onChange:$=>{p($.target.value),$.target.value==="card"?j(!0):j(!1)},className:"w-4 h-4 text-pink-400"}),o.jsx("span",{className:"ml-3 text-gray-700",children:E.label})]},E.id))}),f==="card"&&o.jsxs("div",{className:"mt-6 space-y-4 pt-6 border-t",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre en la tarjeta"}),o.jsx("input",{type:"text",value:h.cardName,onChange:E=>P("cardName",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"JUAN PEREZ"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero de tarjeta"}),o.jsx("input",{type:"text",value:h.cardNumber,onChange:E=>P("cardNumber",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"4532 1234 5678 9010",maxLength:19})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vencimiento"}),o.jsx("input",{type:"text",value:h.cardExpiry,onChange:E=>P("cardExpiry",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"MM/YY",maxLength:5})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVC"}),o.jsx("input",{type:"text",value:h.cardCVC,onChange:E=>P("cardCVC",E.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"123",maxLength:3})]})]})]}),f==="nequi"&&o.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-700",children:" Simulacin: recibirs instrucciones en tu app Nequi para completar el pago. No se realiza ninguna redireccin ni pago real desde esta interfaz."})}),f==="bancolombia"&&o.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-700",children:" Simulacin: se mostrar informacin para completar el pago por Banco. No se realizar ninguna redireccin ni pago real."})}),f==="delivery"&&o.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-700",children:" Pagars el total al recibir tu pedido en la direccin indicada (Pago contra entrega). Este flujo es solo visual."})})]})]}),o.jsx("div",{className:"md:col-span-1",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resumen del pedido"}),o.jsx("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:n.map(E=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("span",{className:"text-gray-700",children:E.productName}),o.jsxs("span",{className:"text-gray-700 font-medium",children:["x",E.quantity]})]}),o.jsxs("div",{className:"flex justify-between text-gray-600",children:[o.jsxs("span",{children:["$",E.price.toLocaleString("es-CO")]}),o.jsxs("span",{children:["$",(E.price*E.quantity).toLocaleString("es-CO")]})]})]},`${E.productId}-${E.color}-${E.size}`))}),o.jsx("hr",{className:"my-4"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",R.toLocaleString("es-CO",{maximumFractionDigits:0})]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Envo:"}),o.jsx("span",{className:L===0?"text-green-600 font-medium":"",children:L===0?"Gratis!":`$${L.toLocaleString("es-CO")}`})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"IVA (19%):"}),o.jsxs("span",{children:["$",q.toLocaleString("es-CO",{maximumFractionDigits:0})]})]}),o.jsx("hr",{className:"my-3"}),o.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{className:"text-pink-600",children:["$",_.toLocaleString("es-CO",{maximumFractionDigits:0})]})]})]}),L===0&&R>0&&o.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:o.jsx("div",{className:"text-sm text-green-700 font-medium",children:" Envo GRATIS! Tu compra califica para envo sin costo."})}),R>0&&R<=Ch&&L>0&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:[" Envo gratis en compras mayores a $",Ch.toLocaleString("es-CO")]}),o.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${R/Ch*100}%`}})}),o.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Te faltan $",(Ch-R).toLocaleString("es-CO")," para envo gratis"]})]}),o.jsx("button",{onClick:K,disabled:!V,className:`w-full mt-6 py-3 rounded-lg font-semibold transition ${V?"bg-pink-400 text-white hover:bg-pink-500":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:V?"Generar Pedido":"Completa el formulario"}),o.jsx("button",{onClick:()=>e("cart"),className:"w-full mt-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Volver al carrito"})]})})]})]})]})},Ite=({onNavigate:e})=>{const[t,r]=M.useState(null),[n,a]=M.useState(!0),[i,s]=M.useState(!1);return M.useEffect(()=>{const c=localStorage.getItem("lastPurchase");if(c)try{r(JSON.parse(c))}catch(d){console.error("Error loading purchase:",d)}a(!1)},[]),n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Cargando..."}):t?o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white mt-0 pt-0",style:{marginTop:0},children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:!1,currentUser:null}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[o.jsxs("main",{className:"md:col-span-2",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx(kc,{className:"w-20 h-20 text-green-500"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pedido generado"}),o.jsx("p",{className:"text-lg text-gray-600",children:"Pedido pendiente de confirmacin"}),o.jsx("div",{className:"mt-3",children:t?.estado==="Pagado"?o.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium bg-green-50 text-green-800 border border-green-200",children:" Estado: Pedido pagado"}):o.jsx("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium bg-yellow-50 text-yellow-800 border border-yellow-200",children:" Estado: Pedido pendiente de pago"})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Informacin para pago"}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[o.jsx("p",{children:"Simulacin: esta seccin muestra informacin para completar el pago fuera de esta interfaz. No se realiza ningn cargo ni redireccin desde el dashboard."}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Mtodo seleccionado"}),o.jsxs("p",{className:"text-base font-medium text-gray-900",children:[t.paymentMethod==="card"&&" Tarjeta de crdito",t.paymentMethod==="nequi"&&" Nequi",t.paymentMethod==="bancolombia"&&" Bancolombia",t.paymentMethod==="delivery"&&" Contra entrega"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totales"}),o.jsxs("p",{className:"text-base font-medium text-gray-900",children:["Subtotal: $",t.subtotal.toLocaleString("es-CO")]}),o.jsxs("p",{className:"text-base font-medium text-gray-900",children:["Total: $",t.total.toLocaleString("es-CO")]})]})]}),o.jsxs("div",{className:"mt-2 grid md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center p-3 border rounded-md",children:[o.jsx("div",{className:"w-32 h-32 bg-gray-100 flex items-center justify-center rounded-md",children:o.jsx("span",{className:"text-xs text-gray-500",children:"QR simulado"})}),o.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Cdigo de pago (simulado): ",o.jsxs("span",{className:"font-mono",children:[t.id,"-QR"]})]})]}),o.jsxs("div",{className:"p-3 border rounded-md text-sm text-gray-700",children:[o.jsx("p",{className:"mb-1",children:"Instrucciones (simulacin)"}),o.jsxs("p",{children:["Usa la referencia ",o.jsx("span",{className:"font-mono",children:t.id})," al realizar la transferencia o pago en tu app bancaria. Esta pgina no procesa pagos."]}),t.paymentMethod==="card"&&t.cardInfo&&o.jsxs("p",{className:"mt-2",children:["Tarjeta registrada: ",t.cardInfo.name," (",t.cardInfo.lastFourDigits,"). No se ejecuta cargo desde esta interfaz."]}),t.paymentMethod==="nequi"&&o.jsx("p",{className:"mt-2",children:"Simulacin Nequi: abre tu app y paga usando la referencia indicada."}),t.paymentMethod==="bancolombia"&&o.jsx("p",{className:"mt-2",children:"Simulacin transferencia: puedes usar la referencia y el valor mostrado para realizar la transferencia en tu banco."}),t.paymentMethod==="delivery"&&o.jsx("p",{className:"mt-2",children:"Pago contra entrega: prepara el efectivo o medio de pago al recibir el pedido."})]})]})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Productos"}),o.jsx("div",{className:"space-y-3",children:t.items.map((c,d)=>o.jsxs("div",{className:"flex items-start justify-between pb-2 border-b last:border-b-0",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[c.image&&o.jsx("img",{src:c.image,alt:c.productName,className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 text-sm",children:c.productName}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Cantidad: ",o.jsx("span",{className:"font-medium",children:c.quantity})]}),c.color&&o.jsxs("p",{className:"text-xs text-gray-600",children:["Color: ",o.jsx("span",{className:"font-medium",children:c.color})]}),c.size&&o.jsxs("p",{className:"text-xs text-gray-600",children:["Talla: ",o.jsx("span",{className:"font-medium",children:c.size})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:["$",c.price.toLocaleString("es-CO")]}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["$",(c.price*c.quantity).toLocaleString("es-CO")]})]})]},d))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Mtodo de pago"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[o.jsx("span",{className:"text-gray-700",children:"Mtodo de pago:"}),o.jsxs("span",{className:"font-medium text-gray-900 text-sm",children:[t.paymentMethod==="card"&&" Tarjeta de crdito",t.paymentMethod==="nequi"&&" Nequi",t.paymentMethod==="bancolombia"&&" Bancolombia",t.paymentMethod==="delivery"&&" Contra entrega"]})]}),t.paymentMethod==="card"&&t.cardInfo&&o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-700",children:"Tarjeta:"}),o.jsxs("span",{className:"font-medium text-gray-900",children:[t.cardInfo.name," (",t.cardInfo.lastFourDigits,")"]})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-pink-100 rounded-lg p-6 mb-6",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["$",t.subtotal.toLocaleString("es-CO")]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Envo:"}),o.jsx("span",{className:t.shipping===0?"text-green-600 font-medium":"",children:t.shipping===0?"Gratis!":`$${t.shipping.toLocaleString("es-CO")}`})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"IVA (19%):"}),o.jsxs("span",{children:["$",t.iva.toLocaleString("es-CO")]})]}),o.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold text-gray-900",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{className:"text-pink-600",children:["$",t.total.toLocaleString("es-CO")]})]})]})}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:" Prximos pasos"}),o.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[o.jsx("li",{children:" Recibirs un email cuando el pago sea validado y el pedido confirmado"}),o.jsx("li",{children:" El estado del pedido ser actualizado una vez se valide el pago"}),o.jsx("li",{children:" Puedes rastrear tu envo desde tu panel de pedidos"}),o.jsx("li",{children:" Contacta al servicio al cliente si tienes preguntas"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 flex gap-4",children:[o.jsxs("button",{onClick:()=>e("orders"),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:[o.jsx(bo,{className:"w-5 h-5"}),"Ver mis pedidos"]}),t&&t.estado!=="Pagado"&&o.jsx("button",{onClick:async()=>{try{s(!0);const c={...t,estado:"Pagado",paidAt:new Date().toISOString()};localStorage.setItem("lastPurchase",JSON.stringify(c)),r(c)}catch(c){console.error("Error simulando pago:",c)}finally{s(!1)}},className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium",children:i?"Simulando...":"Simular pago realizado"})]}),o.jsx("button",{onClick:()=>e("home"),className:"flex-1 px-6 py-3 bg-pink-400 text-white rounded-lg hover:bg-pink-500 transition font-medium",children:"Volver a la tienda"})]}),o.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center",children:[o.jsx("p",{className:"text-gray-600 mb-2",children:"Tienes preguntas?"}),o.jsx("button",{onClick:()=>e("contact"),className:"text-pink-600 hover:text-pink-700 font-medium",children:"Contctanos "})]})]}),o.jsx("aside",{className:"md:col-span-1",children:o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 sticky top-20",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Nmero de pedido"}),o.jsx("p",{className:"text-2xl font-bold text-blue-700 break-all mb-2",children:t.id}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t.date}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),o.jsx("p",{className:"font-medium",children:t.estado})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Mtodo de pago"}),o.jsxs("p",{className:"font-medium",children:[t.paymentMethod==="card"&&" Tarjeta de crdito",t.paymentMethod==="nequi"&&" Nequi",t.paymentMethod==="bancolombia"&&" Bancolombia",t.paymentMethod==="delivery"&&" Contra entrega"]})]}),o.jsxs("div",{className:"border-t pt-3",children:[o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["$",t.subtotal.toLocaleString("es-CO")]})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Envo"}),o.jsx("span",{children:t.shipping===0?"Gratis!":`$${t.shipping.toLocaleString("es-CO")}`})]}),o.jsxs("div",{className:"flex justify-between text-gray-700",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{className:"font-bold text-pink-600",children:["$",t.total.toLocaleString("es-CO")]})]})]})]})})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-white py-8",children:o.jsx("div",{className:"max-w-2xl mx-auto px-4",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(bo,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No hay pedido registrado"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Parece que no hay datos de compra disponibles"}),o.jsx("button",{onClick:()=>e("home"),className:"px-6 py-2 bg-pink-400 text-white rounded-lg hover:bg-pink-500 transition",children:"Volver a la tienda"})]})})})};function Lte({onNavigate:e,currentUser:t,onLogout:r,onLogin:n}){const{orders:a,favorites:i}=Bc(),[s,c]=M.useState(!1),[d,f]=M.useState(null);console.log(" [ProfilePage] currentUser:",t);const[p,h]=M.useState({name:t?.name||"",email:t?.email||"",celular:t?.celular||"",direccion:t?.direccion||""}),[y,g]=M.useState({}),[j,x]=M.useState(""),w=(H,me="general")=>me==="address"?H.replace(/[^a-zA-Z0-9\s\-.,#]/g,""):me==="phone"?H.replace(/\D/g,""):H.replace(/[^a-zA-Z\s\-']/g,""),[S,C]=M.useState({current:"",newPass:"",confirm:""}),[P,R]=M.useState({}),[L,q]=M.useState(""),[_,B]=M.useState({hasLength:!1,hasUppercase:!1,hasNumber:!1,hasSpecial:!1,matchesConfirm:!1}),[V,K]=M.useState(!1),[E,$]=M.useState(!1);M.useEffect(()=>{const H=localStorage.getItem("damabella_settings_2fa");H!==null&&K(JSON.parse(H))},[]);const D=H=>/^[a-zA-Z0-9][^\s@]*@[^\s@]+\.[^\s@]+$/.test(H),I=H=>/^\d{7,}$/.test(H.replace(/\D/g,"")),z=H=>/^[a-zA-Z\s\-']+$/.test(H)&&H.trim().length>0,W=H=>/^[a-zA-Z0-9\s\-.,#@]*$/.test(H),ee=(H,me="general")=>me==="address"?/^[a-zA-Z0-9\s\-.,#@]*$/.test(H):/^[a-zA-Z0-9\s\-']*$/.test(H),G=(H,me)=>{h({...p,[H]:me});const pe={...y};H==="name"&&(me.trim()?ee(me)?z(me)?delete pe.name:pe.name="Solo letras, espacios y acentos permitidos":pe.name="El nombre contiene caracteres no permitidos":pe.name="El nombre no puede estar vaco"),H==="email"&&(me.trim()?D(me)?delete pe.email:pe.email="Formato de email invlido (ej: usuario@dominio.com)":pe.email="El email no puede estar vaco"),H==="celular"&&(me&&!I(me)?pe.celular="Solo nmeros, mnimo 7 dgitos":delete pe.celular),H==="direccion"&&(me&&!W(me)?pe.direccion="La direccin contiene caracteres no permitidos":delete pe.direccion),g(pe)},ie=()=>Object.keys(y).length>0||!p.name.trim()||!p.email.trim(),te=()=>{const H={};if(ee(p.name)?z(p.name)||(H.name="Solo letras y espacios"):H.name="El nombre contiene caracteres no permitidos",D(p.email)||(H.email="Email invlido"),p.celular&&!I(p.celular)&&(H.celular="Mnimo 7 dgitos"),p.direccion&&!W(p.direccion)&&(H.direccion="Caracteres no permitidos en la direccin"),Object.keys(H).length>0){g(H);return}const me={...t,...p};localStorage.setItem("damabella_user",JSON.stringify(me)),n(me);const pe=JSON.parse(localStorage.getItem("damabella_users")||"[]"),be=pe.findIndex(ge=>ge.email===t.email);be!==-1&&(pe[be]=me,localStorage.setItem("damabella_users",JSON.stringify(pe))),c(!1),g({}),x(" Informacin guardada correctamente"),console.log(" [ProfilePage] Informacin personal guardada"),setTimeout(()=>x(""),3e3)},re=async()=>{const H={};if(q(""),S.current||(H.current="Ingresa tu contrasea actual"),!S.newPass)H.newPass="Ingresa una nueva contrasea";else{const me={hasLength:S.newPass.length>=8,hasUppercase:/[A-Z]/.test(S.newPass),hasNumber:/[0-9]/.test(S.newPass),hasSpecial:/[@$!%*?&]/.test(S.newPass),matchesConfirm:S.newPass===S.confirm};B(me),(!me.hasLength||!me.hasUppercase||!me.hasNumber||!me.hasSpecial)&&(H.newPass="La contrasea no cumple los requisitos")}if(S.confirm?S.newPass!==S.confirm&&(H.confirm="Las contraseas no coinciden"):H.confirm="Confirma tu nueva contrasea",R(H),!(Object.keys(H).length>0))try{const me={...t,password:S.newPass};localStorage.setItem("damabella_user",JSON.stringify(me)),n(me);const pe=JSON.parse(localStorage.getItem("damabella_users")||"[]"),be=pe.findIndex(ge=>ge.email===t.email);be!==-1&&(pe[be]=me,localStorage.setItem("damabella_users",JSON.stringify(pe))),localStorage.setItem("damabella_password_updated",new Date().toISOString()),C({current:"",newPass:"",confirm:""}),$(!1),R({}),B({hasLength:!1,hasUppercase:!1,hasNumber:!1,hasSpecial:!1,matchesConfirm:!1}),q(" Contrasea actualizada correctamente"),console.log(" [ProfilePage] Contrasea actualizada"),setTimeout(()=>q(""),3e3)}catch(me){console.error("Error al actualizar contrasea:",me),R({newPass:"Error al actualizar. Intenta de nuevo."})}},T=()=>{const H=!V;K(H),localStorage.setItem("damabella_settings_2fa",JSON.stringify(H)),console.log(" [ProfilePage] 2FA actualizado:",H)};if(!t)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Pp,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-3xl text-gray-900 mb-3",children:"Inicia Sesin"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Accede a tu cuenta para ver tu perfil"}),o.jsx("button",{onClick:()=>e("home"),className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all shadow-lg",children:"Volver al Inicio"})]})});const J=JSON.parse(localStorage.getItem("purchaseHistory")||"[]"),Y=a.filter(H=>H.clientEmail===t?.email).length+J.length;return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:!0,currentUser:t}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-400 rounded-3xl overflow-hidden mb-8 shadow-lg",children:o.jsx("div",{className:"p-12 text-white",children:o.jsxs("div",{className:"flex items-end gap-6",children:[o.jsx("div",{className:"w-32 h-32 bg-white rounded-full flex items-center justify-center text-pink-400 text-5xl shadow-xl ring-4 ring-white",children:t.name?.[0]?.toUpperCase()||"U"}),o.jsxs("div",{className:"pb-2 flex-1",children:[o.jsx("h1",{className:"text-4xl mb-2",children:t.name}),o.jsx("p",{className:"text-pink-100 text-lg",children:t.email})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl text-gray-900",children:"Informacin Personal"}),o.jsx("button",{onClick:()=>{s||(h({name:t?.name||"",email:t?.email||"",celular:t?.celular||"",direccion:t?.direccion||""}),g({})),c(!s)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Tu,{size:18,className:"text-gray-600"})})]}),s?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Nombre"}),o.jsx("input",{type:"text",value:p.name,onChange:H=>G("name",w(H.target.value)),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${y.name?"border-red-400 bg-red-50":"border-gray-300"}`}),y.name&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:y.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),o.jsx("input",{type:"email",value:p.email,onChange:H=>G("email",H.target.value),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${y.email?"border-red-400 bg-red-50":"border-gray-300"}`}),y.email&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:y.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Telfono"}),o.jsx("input",{type:"tel",value:p.celular,onChange:H=>G("celular",w(H.target.value,"phone")),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${y.celular?"border-red-400 bg-red-50":"border-gray-300"}`}),y.celular&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:y.celular})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Direccin"}),o.jsx("input",{type:"text",value:p.direccion,onChange:H=>G("direccion",w(H.target.value,"address")),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${y.direccion?"border-red-400 bg-red-50":"border-gray-300"}`}),y.direccion&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:y.direccion})]}),j&&o.jsx("p",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:j}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:te,disabled:ie(),className:`flex-1 py-2 rounded-lg transition-colors text-sm font-medium ${ie()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-pink-400 text-white hover:bg-pink-500"}`,children:"Guardar"}),o.jsx("button",{onClick:()=>{c(!1),g({})},className:"flex-1 bg-gray-200 text-gray-900 py-2 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:"Cancelar"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(h0,{size:20,className:"text-pink-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Correo"}),o.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.celular&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(p0,{size:20,className:"text-pink-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Telfono"}),o.jsx("p",{className:"text-gray-900",children:t.celular})]})]}),t.direccion&&o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(m5,{size:20,className:"text-pink-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Direccin"}),o.jsx("p",{className:"text-gray-900",children:t.direccion})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[o.jsx("h2",{className:"text-xl text-gray-900 mb-6",children:"Resumen de Cuenta"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(bo,{size:20,className:"text-pink-400"}),o.jsx("span",{className:"text-gray-700",children:"Pedidos"})]}),o.jsx("span",{className:"text-2xl text-gray-900 font-bold",children:Y})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ic,{size:20,className:"text-purple-400"}),o.jsx("span",{className:"text-gray-700",children:"Favoritos"})]}),o.jsx("span",{className:"text-2xl text-gray-900 font-bold",children:i.length})]})]})]})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Mi Cuenta"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>e("orders"),className:"group bg-gradient-to-br from-pink-50 to-purple-50 p-6 rounded-xl hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(bo,{size:24,className:"text-pink-400"}),o.jsx(Ah,{size:20,className:"text-gray-400 group-hover:text-pink-400"})]}),o.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Mis Pedidos"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Ver historial"})]}),o.jsxs("button",{onClick:()=>e("favorites"),className:"group bg-gradient-to-br from-pink-50 to-purple-50 p-6 rounded-xl hover:shadow-md transition-all",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(Ic,{size:24,className:"text-purple-400"}),o.jsx(Ah,{size:20,className:"text-gray-400 group-hover:text-pink-400"})]}),o.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Mis Favoritos"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Productos guardados"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Configuracin"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>{console.log(" Privacidad y seguridad  abierto"),f("privacy")},className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lc,{size:20,className:"text-gray-600"}),o.jsx("span",{className:"text-gray-900",children:"Privacidad y Seguridad"})]}),o.jsx(Ah,{size:20,className:"text-gray-400"})]}),o.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 hover:bg-red-50 rounded-xl transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rE,{size:20,className:"text-red-600"}),o.jsx("span",{className:"text-red-600",children:"Cerrar Sesin"})]}),o.jsx(Ah,{size:20,className:"text-red-400"})]})]})]})]})]})]}),o.jsx(Yu,{onNavigate:e}),d==="privacy"&&o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lc,{size:24,className:"text-gray-600"}),o.jsx("h2",{className:"text-2xl text-gray-900",children:"Privacidad y Seguridad"})]}),o.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(K8,{size:24,className:"text-gray-600"})})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"border-b pb-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Kd,{size:20,className:"text-gray-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cambiar Contrasea"})]}),E?o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea actual"}),o.jsx("input",{type:"password",placeholder:"Ingresa tu contrasea actual",value:S.current,onChange:H=>{C({...S,current:H.target.value}),R(me=>({...me,current:""}))},className:`w-full border rounded-lg px-3 py-2 transition-colors ${P.current?"border-red-500 bg-red-50":"border-gray-300"}`}),P.current&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:P.current})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva contrasea"}),o.jsx("input",{type:"password",placeholder:"Mnimo 8 caracteres",value:S.newPass,onChange:H=>{const me=H.target.value;C(pe=>({...pe,newPass:me})),R(pe=>({...pe,newPass:""})),B(pe=>({...pe,hasLength:me.length>=8,hasUppercase:/[A-Z]/.test(me),hasNumber:/[0-9]/.test(me),hasSpecial:/[@$!%*?&]/.test(me),matchesConfirm:me===S.confirm||!S.confirm}))},className:`w-full border rounded-lg px-3 py-2 transition-colors ${P.newPass?"border-red-500 bg-red-50":"border-gray-300"}`}),P.newPass&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:P.newPass}),S.newPass&&o.jsxs("div",{className:"mt-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${_.hasLength?"bg-green-500":"bg-gray-300"}`,children:_.hasLength&&o.jsx("span",{className:"text-white",children:""})}),o.jsx("span",{className:`text-sm ${_.hasLength?"text-green-700":"text-gray-600"}`,children:"Mnimo 8 caracteres"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${_.hasUppercase?"bg-green-500":"bg-gray-300"}`,children:_.hasUppercase&&o.jsx("span",{className:"text-white",children:""})}),o.jsx("span",{className:`text-sm ${_.hasUppercase?"text-green-700":"text-gray-600"}`,children:"Al menos una mayscula"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${_.hasNumber?"bg-green-500":"bg-gray-300"}`,children:_.hasNumber&&o.jsx("span",{className:"text-white",children:""})}),o.jsx("span",{className:`text-sm ${_.hasNumber?"text-green-700":"text-gray-600"}`,children:"Al menos un nmero"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${_.hasSpecial?"bg-green-500":"bg-gray-300"}`,children:_.hasSpecial&&o.jsx("span",{className:"text-white",children:""})}),o.jsx("span",{className:`text-sm ${_.hasSpecial?"text-green-700":"text-gray-600"}`,children:"Al menos un carcter especial (@$!%*?&)"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar nueva contrasea"}),o.jsx("input",{type:"password",placeholder:"Confirma tu nueva contrasea",value:S.confirm,onChange:H=>{const me=H.target.value;C(be=>({...be,confirm:me})),R(be=>({...be,confirm:""}));const pe=me===S.newPass;B(be=>({...be,matchesConfirm:pe}))},className:`w-full border rounded-lg px-3 py-2 transition-colors ${P.confirm?"border-red-500 bg-red-50":S.confirm&&S.newPass&&_.matchesConfirm?"border-green-500 bg-green-50":S.confirm&&!_.matchesConfirm?"border-orange-500 bg-orange-50":"border-gray-300"}`}),P.confirm&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:P.confirm}),S.confirm&&S.newPass&&_.matchesConfirm&&!P.confirm&&o.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Las contraseas coinciden"}),S.confirm&&!_.matchesConfirm&&!P.confirm&&o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Las contraseas no coinciden"})]}),L&&o.jsx("p",{className:"text-sm text-green-600 bg-green-50 p-3 rounded-lg",children:L}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{onClick:re,disabled:!S.current||!S.newPass||!S.confirm||!_.matchesConfirm||!_.hasLength||!_.hasUppercase||!_.hasNumber||!_.hasSpecial,className:`flex-1 py-2 rounded-lg transition-colors text-sm font-medium ${S.current&&S.newPass&&S.confirm&&_.matchesConfirm&&_.hasLength&&_.hasUppercase&&_.hasNumber&&_.hasSpecial?"bg-pink-400 text-white hover:bg-pink-500":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Guardar Cambios"}),o.jsx("button",{onClick:()=>{$(!1),C({current:"",newPass:"",confirm:""}),R({}),B({hasLength:!1,hasUppercase:!1,hasNumber:!1,hasSpecial:!1,matchesConfirm:!1}),q("")},className:"flex-1 bg-gray-200 text-gray-900 py-2 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:"Cancelar"})]})]}):o.jsx("button",{onClick:()=>$(!0),className:"text-pink-400 hover:text-pink-500 text-sm font-medium",children:"Cambiar contrasea"})]}),o.jsxs("div",{className:"border-b pb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Autenticacin de Dos Factores"}),o.jsx("button",{onClick:T,className:`px-4 py-2 rounded-lg text-white transition-colors ${V?"bg-green-500 hover:bg-green-600":"bg-gray-400 hover:bg-gray-500"}`,children:V?" Habilitado":" Deshabilitado"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trminos y Condiciones"}),o.jsxs("div",{className:"text-sm text-gray-700 space-y-4 mb-6",children:[o.jsx("p",{children:"Al usar esta plataforma, aceptas nuestros trminos y condiciones. Nos reservamos el derecho de modificar estos trminos en cualquier momento."}),o.jsx("p",{children:"Recopilamos informacin personal para procesar pedidos y mejorar tu experiencia. Nunca compartiremos tu informacin sin tu consentimiento."}),o.jsx("p",{children:"Utilizamos tecnologa SSL/TLS para proteger tus transacciones. Mantn tu contrasea confidencial y cambia regularmente."})]}),o.jsx("button",{className:"text-pink-400 hover:text-pink-500 text-sm font-medium",children:"Ver PDF completo"})]})]})]})})]})}function Tte({onNavigate:e,isAuthenticated:t=!1,currentUser:r=null}){const[n,a]=M.useState({name:"",email:"",phone:"",message:""}),i=s=>{s.preventDefault(),alert("Gracias por tu mensaje! Nos pondremos en contacto contigo pronto."),a({name:"",email:"",phone:"",message:""})};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(Yi,{onNavigate:e,isAuthenticated:t,currentUser:r}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-5xl text-gray-900 mb-4",children:"Contctanos"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Estamos aqu para ayudarte. Envanos tu mensaje y te responderemos pronto."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Envanos un Mensaje"}),o.jsxs("form",{onSubmit:i,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre Completo"}),o.jsx("input",{type:"text",required:!0,value:n.name,onChange:s=>a({...n,name:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"Tu nombre"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Correo Electrnico"}),o.jsx("input",{type:"email",required:!0,value:n.email,onChange:s=>a({...n,email:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"tu@email.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono (Opcional)"}),o.jsx("input",{type:"tel",value:n.phone,onChange:s=>a({...n,phone:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"+57 300 123 4567"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-700 mb-2",children:"Mensaje"}),o.jsx("textarea",{required:!0,rows:6,value:n.message,onChange:s=>a({...n,message:s.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 resize-none",placeholder:"En qu podemos ayudarte?"})]}),o.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:[o.jsx(WT,{size:20}),"Enviar Mensaje"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Informacin de Contacto"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(h0,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Email"}),o.jsx("p",{className:"text-gray-600",children:"contacto@damabella.com"}),o.jsx("p",{className:"text-gray-600",children:"ventas@damabella.com"})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(p0,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Telfono"}),o.jsx("p",{className:"text-gray-600",children:"+57 300 123 4567"}),o.jsx("p",{className:"text-gray-600",children:"+57 310 987 6543"})]})]}),o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(m5,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Direccin"}),o.jsx("p",{className:"text-gray-600",children:"Calle 123 #45-67"}),o.jsx("p",{className:"text-gray-600",children:"Bogot, Colombia"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Horarios de Atencin"}),o.jsxs("div",{className:"space-y-3 text-gray-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Lunes - Viernes"}),o.jsx("span",{className:"font-medium",children:"9:00 AM - 7:00 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Sbado"}),o.jsx("span",{className:"font-medium",children:"10:00 AM - 6:00 PM"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Domingo"}),o.jsx("span",{className:"font-medium",children:"Cerrado"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[o.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Sguenos"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("a",{href:"#",className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-110",children:o.jsx(tE,{className:"text-white",size:24})}),o.jsx("a",{href:"#",className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-110",children:o.jsx(eE,{className:"text-white",size:24})}),o.jsx("a",{href:"#",className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-110",children:o.jsx(lE,{className:"text-white",size:24})})]})]})]})]})]}),o.jsx(Yu,{onNavigate:e})]})}function Dte(){console.log(" [initializeStorage] Iniciando inicializacin del storage..."),console.log(`
 [initializeStorage] PASO 1: Verificando integridad de datos...`);const e=localStorage.getItem("damabella_users");let t=[];if(e)try{const i=JSON.parse(e);t=i.filter(s=>s.email&&(s.role||s.rol)&&(s.nombre||s.name)),i.length!==t.length&&console.log(`  [initializeStorage] Se filtraron ${i.length-t.length} usuarios corruptos`)}catch{console.log(" [initializeStorage] Error parseando usuarios existentes, comenzando desde cero")}console.log(`
 [initializeStorage] PASO 2: Verificando cuenta de administrador...`),t.some(i=>i.email==="admin@damabella.com")?console.log(" [initializeStorage] Admin ya existe en el sistema"):(console.log("     Admin no existe, creando..."),t.push({id:"1",nombre:"Administrador",email:"admin@damabella.com",password:"Admin123#",rol:"Administrador",status:"Activo",createdAt:new Date().toISOString()}),console.log(" [initializeStorage] Cuenta de administrador creada"),console.log(" [initializeStorage] - Email: admin@damabella.com"),console.log(" [initializeStorage] - Password: Admin123#"),console.log(" [initializeStorage] - Rol: Administrador")),console.log(`
 [initializeStorage] Total de usuarios a guardar: ${t.length}`),console.log(`
 [initializeStorage] PASO 3: Normalizando usuarios...`);const n=t.map(i=>{const s=i.rol||i.role||"Cliente";return{...i,rol:s,role:s,estado:i.estado||i.status||"Activo"}});console.log(`
 [initializeStorage] PASO 4: Guardando usuarios normalizados...`),localStorage.setItem("damabella_users",JSON.stringify(n)),console.log(" [initializeStorage] Usuarios guardados en localStorage"),console.log(`
 [initializeStorage] PASO 5: Listando usuarios almacenados:`),n.forEach((i,s)=>{console.log(`  [${s}] ${i.email}`),console.log(`        Nombre: ${i.nombre||i.name}`),console.log(`        Rol: ${i.rol||i.role}`),console.log(`        Estado: ${i.estado||i.status}`)}),console.log(`
 [initializeStorage] PASO 6: Inicializando claves administrativas...`),["damabella_productos","damabella_categorias","damabella_tallas","damabella_colores","damabella_ventas","damabella_pedidos","damabella_proveedores","damabella_clientes"].forEach(i=>{localStorage.getItem(i)||(localStorage.setItem(i,JSON.stringify([])),console.log(`   ${i}`))}),console.log(`
 [initializeStorage] PASO 7: CONTENIDO COMPLETO DE LOCALSTORAGE:`),console.log("".repeat(60));for(let i=0;i<localStorage.length;i++){const s=localStorage.key(i);if(s){const c=localStorage.getItem(s);console.log(`
 ${s}:`);try{const d=JSON.parse(c||"");Array.isArray(d)&&d.length===0?console.log("   [] (vaco)"):console.log(d)}catch{console.log(`   ${c}`)}}}console.log(`
`+"".repeat(60)),console.log(` [initializeStorage] INICIALIZACIN COMPLETADA
`)}function f0(){const e=localStorage.getItem("damabella_users"),t=e?JSON.parse(e):[];return console.log(" [getAllUsers] Total de usuarios:",t.length),t.forEach((r,n)=>{const a=r.role||r.rol;console.log(`  [${n}] ${r.email}`),console.log(`        Nombre: ${r.nombre||r.name}`),console.log(`        Rol: "${a||"SIN ROLE"}"`),console.log(`        Password: ${r.password?"(guardada)":"undefined"}`),console.log(`        Documento: ${r.documento||"N/A"}`),console.log(`        Status: ${r.status||r.estado||"undefined"}`)}),t}function Mte(e){console.log(`
 [findUserByEmail] Buscando usuario: ${e}`);const r=f0().find(n=>n.email===e);if(r){const n=r.role||r.rol;console.log(" [findUserByEmail] Usuario encontrado:"),console.log(`   - Email: ${r.email}`),console.log(`   - Nombre: ${r.nombre||r.name}`),console.log(`   - Rol: "${n||"SIN ROLE"}"`),console.log(`   - Password: ${r.password?"(guardada)":"undefined"}`),console.log(`   - Documento: ${r.documento||"N/A"}`),console.log(`   - Status: ${r.status||r.estado||"undefined"}`),console.log("   - Objeto COMPLETO:",JSON.stringify(r,null,2))}else console.log(` [findUserByEmail] Usuario NO encontrado: ${e}`);return r}function Rte(e,t){console.log(`
${"=".repeat(60)}`),console.log(" [validateCredentials] VALIDANDO CREDENCIALES"),console.log(`${"=".repeat(60)}`),console.log(` Email: ${e}`),console.log(` Password: ${t?"(ingresada)":"VACA"}`);const r=Mte(e);if(!r)return console.log(` [validateCredentials] Usuario no existe
`),null;if(r.email==="admin@damabella.com"&&!r.password){console.log("  [validateCredentials] Admin sin contrasea, asignando..."),r.password="Admin123#";const n=f0(),a=n.findIndex(i=>i.email===e);a!==-1&&(n[a].password="Admin123#",localStorage.setItem("damabella_users",JSON.stringify(n)))}if(console.log(`
 [validateCredentials] COMPARANDO CONTRASEAS:`),console.log(`   - Almacenada: "${r.password}"`),console.log(`   - Ingresada:  "${t}"`),console.log(`   - Coinciden? ${r.password===t?" S":" NO"}`),r.password===t){const n=r.rol||r.role;console.log(`
 [validateCredentials] ROL DETECTADO:`),console.log(`   - user.role: "${r.role}"`),console.log(`   - user.rol: "${r.rol}"`),console.log(`   - rolField final: "${n}"`);const{password:a,...i}=r,s={...i,rol:n||"Cliente",role:n||"Cliente",isAuthenticated:!0};return console.log(`
 [validateCredentials] LOGIN EXITOSO`),console.log(`   - Nombre: ${s.nombre||s.name}`),console.log(`   - Rol EN RESULTADO: "${s.rol||"UNDEFINED"}" (rol field)`),console.log(`   - Email: ${s.email}`),console.log(`
 [validateCredentials] OBJETO COMPLETO DEL USUARIO:`,JSON.stringify(s,null,2)),console.log(`${"=".repeat(60)}
`),s}return console.log(`
 [validateCredentials] CONTRASEA INCORRECTA`),console.log(`${"=".repeat(60)}
`),null}function $te(){console.log(`
 [addSuperAdmin] Verificando si el super admin ya existe...`);const e=f0();if(e.some(n=>n.email==="superadmin@damabella.com")){console.log(" [addSuperAdmin] Super admin ya existe en el sistema");return}console.log(" [addSuperAdmin] Agregando nuevo super admin...");const r={id:"99",nombre:"Super Administrador",email:"superadmin@damabella.com",password:"AdminMaster#2024",rol:"Administrador",estado:"Activo",creadoPor:"Sistema",fechaCreacion:"2024-01-15"};e.push(r),localStorage.setItem("damabella_users",JSON.stringify(e)),console.log(" [addSuperAdmin] Super admin agregado exitosamente"),console.log(`   - Email: ${r.email}`),console.log(`   - Rol: ${r.rol}`),console.log(`   - Password: ${r.password}`),console.log(`
 [addSuperAdmin] TODOS LOS USUARIOS DESPUS DE AGREGAR:`),f0()}function zL(){try{const e=localStorage.getItem("damabella_users");return e?JSON.parse(e):[]}catch(e){return console.error("Error leyendo usuarios:",e),[]}}function BL(){try{const e=localStorage.getItem("damabella_clientes");return e?JSON.parse(e):[]}catch(e){return console.error("Error leyendo clientes:",e),[]}}function Fte(e){try{localStorage.setItem("damabella_users",JSON.stringify(e))}catch(t){console.error("Error guardando usuarios:",t)}}function zte(e){try{localStorage.setItem("damabella_clientes",JSON.stringify(e))}catch(t){console.error("Error guardando clientes:",t)}}function qL(e){return!zL().some(r=>r.email.toLowerCase()===e.toLowerCase())}function UL(e,t){return!BL().some(n=>n.numeroDocumento===e&&n.tipoDocumento===t)}function Bte(e){return/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}function qte(e){if(console.log(`
 [registrarClienteDesdeEcommerce] Iniciando registro...`),console.log(" Datos recibidos:",e),!e.nombre||!e.email||!e.password||!e.numeroDocumento)return{success:!1,error:"Faltan datos requeridos"};if(!qL(e.email))return{success:!1,error:"Este correo ya est registrado"};if(!UL(e.numeroDocumento,e.tipoDocumento))return{success:!1,error:"Este documento ya est registrado"};if(!Bte(e.email))return{success:!1,error:"Email invlido"};const t="usr_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),r="cli_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),n=new Date().toISOString(),a={id:t,nombre:e.nombre,email:e.email,password:e.password,tipoDoc:e.tipoDocumento,numeroDoc:e.numeroDocumento,celular:e.telefono,direccion:e.direccion,role:"Cliente",status:"Activo",clienteId:r,createdAt:n},i={id:r,nombre:e.nombre,email:e.email,telefono:e.telefono,documento:e.numeroDocumento,tipoDocumento:e.tipoDocumento,numeroDocumento:e.numeroDocumento,direccion:e.direccion,ciudad:e.ciudad,userId:t,estado:"Activo",totalCompras:0,pedidos:0,createdAt:n};try{const s=zL();s.push(a),Fte(s),console.log(" Usuario creado:",a.id);const c=BL();return c.push(i),zte(c),console.log(" Cliente creado:",i.id),console.log(` [registrarClienteDesdeEcommerce] Registro exitoso
`),{success:!0,usuario:a,cliente:i}}catch(s){return console.error(" Error al guardar:",s),{success:!1,error:"Error al guardar los datos"}}}const Ute=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{8,}$/.test(e),Vte=e=>/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e),Wte=e=>/^[a-zA-Z\s]+$/.test(e),Hte=(e,t)=>{switch(e){case"TI":case"CC":return/^\d+$/.test(t)&&t.length>=6&&t.length<=12;case"CE":return/^\d{10,11}$/.test(t);case"PAS":return/^[A-Z0-9]{6,9}$/.test(t);default:return!1}},Gte=e=>/^\d{10}$/.test(e);function Y6({onClose:e,onLogin:t}){const[r,n]=M.useState("login"),{showToast:a}=ks(),[i,s]=M.useState(""),[c,d]=M.useState(""),[f,p]=M.useState(!1),[h,y]=M.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",celular:"",ciudad:"",direccion:"",email:"",password:"",confirmPassword:""}),[g,j]=M.useState(!1),[x,w]=M.useState(!1),[S,C]=M.useState({}),[P,R]=M.useState(new Set),[L,q]=M.useState(!1),[_,B]=M.useState(1),[V,K]=M.useState(""),[E,$]=M.useState(""),[D,I]=M.useState(""),[z,W]=M.useState(""),ee=Y=>{Y.preventDefault(),console.log(`
 [LoginModal.handleLogin] ========== INICIANDO LOGIN ==========`),console.log(` Email: ${i}`),console.log(` Password: ${c?"(ingresada)":"(vaca)"}`);const H=Rte(i,c);if(H){if(console.log(`
 [LoginModal.handleLogin] Credenciales vlidas`),H.status==="Inactivo"){console.log(" [LoginModal.handleLogin] Cuenta inactiva"),a("Tu cuenta est inactiva. Contacta al administrador.","error");return}const me={id:H.id,name:H.nombre,email:H.email,role:H.role,roleId:H.roleId,avatar:null,tipoDoc:H.tipoDoc,numeroDoc:H.numeroDoc,celular:H.celular,direccion:H.direccion,status:H.status};console.log(`
 [LoginModal.handleLogin] Preparando usuario para login:`),console.log(`  - name: ${me.name}`),console.log(`  - email: ${me.email}`),console.log(`  - role: ${me.role}`),console.log(`  - status: ${me.status}`),console.log("  - OBJETO COMPLETO:",JSON.stringify(me,null,2)),console.log(`
 [LoginModal.handleLogin] Llamando onLogin()...`),t(me),a("Bienvenido!","success"),console.log(` [LoginModal.handleLogin] ===========================================
`),e()}else console.log(" [LoginModal.handleLogin] Credenciales invlidas"),console.log(` [LoginModal.handleLogin] ===========================================
`),a("Correo o contrasea incorrectos","error")},G=(Y,H)=>{switch(Y){case"nombre":return H.trim()?Wte(H)?null:"Solo letras, espacios, tildes y ":"El nombre es obligatorio";case"tipoDoc":return H?null:"Selecciona un tipo de documento";case"numeroDoc":return H.trim()?Hte(h.tipoDoc,H)?UL(H,h.tipoDoc)?null:"Este documento ya est registrado":"Documento invlido para el tipo seleccionado":"El nmero de documento es obligatorio";case"celular":return H.trim()?Gte(H)?null:"Debe tener 10 dgitos":"El celular es obligatorio";case"ciudad":return H.trim()?H.trim().length<2?"La ciudad debe tener al menos 2 caracteres":null:"La ciudad es obligatoria";case"direccion":return H.trim()?H.trim().length<10?"Ingresa una direccin completa":null:"La direccin es obligatoria";case"email":return H.trim()?Vte(H)?qL(H)?null:"Este correo ya est registrado":"Email invlido (debe comenzar con letra)":"El email es obligatorio";case"password":return H?H.length<8?`${8-H.length} caracteres faltantes`:/[A-Z]/.test(H)?/[a-z]/.test(H)?/\d/.test(H)?/[@$!%*?&#]/.test(H)?null:"Agrega un carcter especial (@$!%*?&#)":"Agrega un nmero (0-9)":"Agrega una minscula":"Agrega una MAYSCULA":"La contrasea es obligatoria";case"confirmPassword":return H?H!==h.password?"Las contraseas no coinciden":null:"Confirma tu contrasea";default:return null}},ie=(Y,H)=>{if(y({...h,[Y]:H}),P.has(Y)){const me=G(Y,H);if(me)C({...S,[Y]:me});else{const pe={...S};delete pe[Y],C(pe)}}},te=Y=>{R(new Set([...P,Y]));const H=h[Y]||"",me=G(Y,H);if(me)C({...S,[Y]:me});else{const pe={...S};delete pe[Y],C(pe)}},re=()=>{const Y={};let H=!1;return["nombre","tipoDoc","numeroDoc","celular","ciudad","direccion","email","password","confirmPassword"].forEach(pe=>{const be=h[pe]||"",ge=G(pe,be);ge&&(Y[pe]=ge,H=!0)}),C(Y),R(new Set(["nombre","tipoDoc","numeroDoc","celular","ciudad","direccion","email","password","confirmPassword"])),!H},T=async Y=>{if(Y.preventDefault(),console.log(`
 [LoginModal.handleRegister] ========== INICIANDO REGISTRO ==========`),console.log(" Datos del formulario:",h),!re()){console.log(" [LoginModal.handleRegister] Validaciones fallaron"),a("Por favor corrige los errores","error");return}q(!0);try{console.log(" [LoginModal.handleRegister] Validaciones pasadas"),console.log(" [LoginModal.handleRegister] Llamando registrarClienteDesdeEcommerce...");const H=qte({nombre:h.nombre,tipoDocumento:h.tipoDoc,numeroDocumento:h.numeroDoc,telefono:h.celular,ciudad:h.ciudad,email:h.email,direccion:h.direccion,password:h.password});if(!H.success){console.log(" [LoginModal.handleRegister] Error:",H.error),a(H.error||"Error al registrar","error");return}console.log(" [LoginModal.handleRegister] Registro exitoso"),console.log("   - Usuario ID:",H.usuario?.id),console.log("   - Cliente ID:",H.cliente?.id),console.log("   - Usuario objeto:",JSON.stringify(H.usuario,null,2)),console.log("   - Cliente objeto:",JSON.stringify(H.cliente,null,2)),a("Registro exitoso! Ahora puedes iniciar sesin","success"),n("login"),y({nombre:"",tipoDoc:"CC",numeroDoc:"",celular:"",ciudad:"",direccion:"",email:"",password:"",confirmPassword:""}),C({}),R(new Set),console.log(` [LoginModal.handleRegister] Formulario reseteado
`),e()}catch(H){console.error(" [LoginModal.handleRegister] Error inesperado:",H),a("Error al registrar. Intenta de nuevo.","error")}finally{q(!1)}},J=()=>{if(!Ute(D)){a("La contrasea debe tener 8+ caracteres, mayscula, minscula, nmero y especial","error");return}q(!0);try{const Y=localStorage.getItem("damabella_users")?JSON.parse(localStorage.getItem("damabella_users")||"[]"):[],H=Y.findIndex(me=>me.email===V);H!==-1&&(Y[H].password=D,localStorage.setItem("damabella_users",JSON.stringify(Y)),a("Contrasea actualizada! Ahora puedes iniciar sesin","success"),n("login"),B(1),K(""),$(""),I(""),W(""))}finally{q(!1)}};return o.jsx("div",{onClick:e,className:"fixed inset-0 bg-black/50 z-[999999] flex items-center justify-center p-4",children:o.jsxs("div",{onClick:Y=>Y.stopPropagation(),className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[o.jsxs("div",{className:"sticky top-0 bg-gray-600 px-4 py-4 flex items-center justify-center rounded-t-2xl z-10",children:[o.jsx("div",{className:"flex-1 text-center",children:o.jsx("h2",{className:"text-xl font-bold text-white",children:"DAMABELLA"})}),o.jsx("button",{onClick:e,className:"absolute right-4 text-white hover:bg-white/30 p-2 rounded-full transition",children:o.jsx(Ji,{size:24})})]}),o.jsx("div",{className:"bg-gray-600 px-4 py-3",children:o.jsxs("button",{onClick:e,className:"w-full bg-white text-gray-600 hover:bg-gray-100 px-4 py-2 rounded-lg transition flex items-center justify-center gap-2 font-semibold text-sm",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Volver a Inicio"})]})}),r!=="recovery"&&o.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[o.jsx("button",{onClick:()=>n("login"),className:`flex-1 py-2 px-3 text-xs font-bold transition-all ${r==="login"?"text-[#FFB6C1] border-b-2 border-[#FFB6C1] bg-white":"text-gray-600 hover:text-gray-900"}`,children:" Iniciar"}),o.jsx("button",{onClick:()=>n("register"),className:`flex-1 py-2 px-3 text-xs font-bold transition-all ${r==="register"?"text-[#FFB6C1] border-b-2 border-[#FFB6C1] bg-white":"text-gray-600 hover:text-gray-900"}`,children:" Registro"})]}),o.jsxs("div",{className:"p-4",children:[r==="login"&&o.jsxs("form",{onSubmit:ee,className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"login-email",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Correo"}),o.jsx(wt,{id:"login-email",type:"email",placeholder:"tu@correo.com",value:i,onChange:Y=>s(Y.target.value),required:!0,autoFocus:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"})]}),o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"login-password",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Contrasea"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{id:"login-password",type:f?"text":"password",placeholder:"",value:c,onChange:Y=>d(Y.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}),o.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:f?o.jsx(Pc,{size:16}):o.jsx(ma,{size:16})})]})]}),o.jsx("button",{type:"button",onClick:()=>n("recovery"),className:"text-xs text-[#FFB6C1] hover:text-[#FF9EB1] font-semibold",children:"Olvidaste contrasea?"}),o.jsx(mt,{type:"submit",className:"w-full bg-[#FFB6C1] hover:bg-[#FF9EB1] text-white font-bold py-2 rounded text-sm transition",children:"Entrar"})]}),r==="register"&&o.jsxs("form",{onSubmit:T,className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(Er,{htmlFor:"reg-nombre",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Nombre"}),o.jsx(wt,{id:"reg-nombre",placeholder:"Andrea Prez",value:h.nombre,onChange:Y=>{const H=Y.target.value.replace(/[^a-zA-Z\s]/g,"");ie("nombre",H)},onBlur:()=>te("nombre"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${P.has("nombre")&&h.nombre?S.nombre?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),S.nombre&&P.has("nombre")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.nombre})]}),o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"reg-tipodoc",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Tipo Doc"}),o.jsxs("select",{id:"reg-tipodoc",value:h.tipoDoc,onChange:Y=>ie("tipoDoc",Y.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1] text-xs",children:[o.jsx("option",{value:"CC",children:"Cdula"}),o.jsx("option",{value:"TI",children:"TI"}),o.jsx("option",{value:"CE",children:"CE"}),o.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"reg-numdoc",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Nmero"}),o.jsx(wt,{id:"reg-numdoc",placeholder:"123456",value:h.numeroDoc,onChange:Y=>{let H=Y.target.value;h.tipoDoc==="PAS"?H=Y.target.value.replace(/[^A-Z0-9]/g,"").toUpperCase():H=Y.target.value.replace(/\D/g,""),ie("numeroDoc",H)},onBlur:()=>te("numeroDoc"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${P.has("numeroDoc")&&h.numeroDoc?S.numeroDoc?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),S.numeroDoc&&P.has("numeroDoc")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.numeroDoc})]}),o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"reg-celular",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Celular"}),o.jsx(wt,{id:"reg-celular",type:"tel",maxLength:10,placeholder:"3001234567",value:h.celular,onChange:Y=>{const H=Y.target.value.replace(/\D/g,"");ie("celular",H)},onBlur:()=>te("celular"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${P.has("celular")&&h.celular?S.celular?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),S.celular&&P.has("celular")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.celular})]}),o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"reg-ciudad",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Ciudad"}),o.jsx(wt,{id:"reg-ciudad",placeholder:"Bogot",value:h.ciudad,onChange:Y=>ie("ciudad",Y.target.value),onBlur:()=>te("ciudad"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${P.has("ciudad")&&h.ciudad?S.ciudad?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),S.ciudad&&P.has("ciudad")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.ciudad})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(Er,{htmlFor:"reg-direccion",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Direccin"}),o.jsx(wt,{id:"reg-direccion",placeholder:"Calle 123",value:h.direccion,onChange:Y=>ie("direccion",Y.target.value),onBlur:()=>te("direccion"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${P.has("direccion")&&h.direccion?S.direccion?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),S.direccion&&P.has("direccion")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.direccion})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(Er,{htmlFor:"reg-email",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Email"}),o.jsx(wt,{id:"reg-email",type:"email",placeholder:"tu@email.com",value:h.email,onChange:Y=>{const H=Y.target.value.toLowerCase();ie("email",H)},onBlur:()=>te("email"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${P.has("email")&&h.email?S.email?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),S.email&&P.has("email")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.email})]}),o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"reg-password",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Contrasea"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{id:"reg-password",type:g?"text":"password",value:h.password,onChange:Y=>ie("password",Y.target.value),onBlur:()=>te("password"),placeholder:"Min 8 caracteres",className:`w-full border rounded px-2 py-1.5 pr-8 text-sm transition ${P.has("password")&&h.password?S.password?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),o.jsx("button",{type:"button",onClick:()=>j(!g),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?o.jsx(Pc,{size:14}):o.jsx(ma,{size:14})})]}),h.password&&o.jsxs("div",{className:"mt-1 p-1.5 bg-gray-50 rounded border border-gray-200 space-y-0.5",children:[o.jsxs("div",{className:`flex items-center gap-1 text-xs ${h.password.length>=8?"text-green-600":"text-gray-400"}`,children:[o.jsx("span",{className:"w-3",children:h.password.length>=8?"":""}),o.jsx("span",{children:"8+ caracteres"})]}),o.jsxs("div",{className:`flex items-center gap-1 text-xs ${/[A-Z]/.test(h.password)?"text-green-600":"text-gray-400"}`,children:[o.jsx("span",{className:"w-3",children:/[A-Z]/.test(h.password)?"":""}),o.jsx("span",{children:"Mayscula"})]}),o.jsxs("div",{className:`flex items-center gap-1 text-xs ${/[a-z]/.test(h.password)?"text-green-600":"text-gray-400"}`,children:[o.jsx("span",{className:"w-3",children:/[a-z]/.test(h.password)?"":""}),o.jsx("span",{children:"Minscula"})]}),o.jsxs("div",{className:`flex items-center gap-1 text-xs ${/\d/.test(h.password)?"text-green-600":"text-gray-400"}`,children:[o.jsx("span",{className:"w-3",children:/\d/.test(h.password)?"":""}),o.jsx("span",{children:"Nmero"})]}),o.jsxs("div",{className:`flex items-center gap-1 text-xs ${/[@$!%*?&#]/.test(h.password)?"text-green-600":"text-gray-400"}`,children:[o.jsx("span",{className:"w-3",children:/[@$!%*?&#]/.test(h.password)?"":""}),o.jsx("span",{children:"Especial"})]})]}),S.password&&P.has("password")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.password})]}),o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"reg-confirm",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Confirmar"}),o.jsxs("div",{className:"relative",children:[o.jsx(wt,{id:"reg-confirm",type:x?"text":"password",value:h.confirmPassword,onChange:Y=>ie("confirmPassword",Y.target.value),onBlur:()=>te("confirmPassword"),placeholder:"Repite contrasea",className:`w-full border rounded px-2 py-1.5 text-sm pr-8 transition ${P.has("confirmPassword")&&h.confirmPassword?S.confirmPassword?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),o.jsx("button",{type:"button",onClick:()=>w(!x),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?o.jsx(Pc,{size:14}):o.jsx(ma,{size:14})})]}),S.confirmPassword&&P.has("confirmPassword")&&o.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:S.confirmPassword})]})]}),o.jsx(mt,{type:"submit",disabled:Object.keys(S).length>0||L,className:"w-full bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition mt-3",children:L?"Registrando...":"Crear Cuenta"})]}),r==="recovery"&&o.jsxs("div",{className:"space-y-3",children:[_===1&&o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"recovery-email",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Ingresa tu correo"}),o.jsx(wt,{id:"recovery-email",type:"email",placeholder:"tu@email.com",value:V,onChange:Y=>K(Y.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}),o.jsx(mt,{onClick:()=>B(2),disabled:!V.trim(),className:"w-full mt-3 bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition",children:"Continuar"})]}),_===2&&o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"recovery-code",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Ingresa el cdigo"}),o.jsx(wt,{id:"recovery-code",placeholder:"123456",value:E,onChange:Y=>$(Y.target.value.replace(/\D/g,"")),maxLength:6,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1] text-center tracking-widest"}),o.jsx(mt,{onClick:()=>B(3),disabled:E.length!==6,className:"w-full mt-3 bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition",children:"Verificar"})]}),_===3&&o.jsxs("div",{children:[o.jsx(Er,{htmlFor:"recovery-new-password",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Nueva contrasea"}),o.jsx(wt,{id:"recovery-new-password",type:"password",placeholder:"Nueva contrasea",value:D,onChange:Y=>I(Y.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}),o.jsx(mt,{onClick:J,disabled:!D.trim()||L,className:"w-full mt-3 bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition",children:L?"Recuperando...":"Recuperar"})]}),o.jsx("button",{type:"button",onClick:()=>{B(1),K(""),$(""),I(""),n("login")},className:"text-xs text-[#FFB6C1] hover:text-[#FF9EB1] font-semibold text-center w-full mt-2",children:"Volver"})]})]})]})})}function Kte({currentUser:e,isAuthenticated:t,onLogin:r,onLogout:n}){const[a,i]=M.useState("home"),[s,c]=M.useState(null),[d,f]=M.useState(void 0),[p,h]=M.useState(!1),y=(x,w)=>{if(["checkout","profile","orders"].includes(x)&&x!=="detail"&&!t){i("login");return}x==="detail"?(c(w||null),i("detail")):x==="search"?(f(w),i("search")):x==="orders"?(i("orders"),h(!0)):(i(x),c(null));try{const C=`#${x}${w?`/${w}`:""}`;window.history.pushState({view:x,param:w},"",C)}catch(C){console.warn("[ClienteApp] history.pushState failed",C)}window.scrollTo(0,0)};M.useEffect(()=>{const x=w=>{const S=w.state;if(!S)return;const{view:C,param:P}=S;C==="detail"?(c(P||null),i("detail")):C==="search"?(f(P),i("search")):(i(C||"home"),c(null)),window.scrollTo(0,0)};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[]);const g=x=>{r(x),i("home")},j=()=>{switch(a){case"login":return o.jsx(Y6,{onClose:()=>i("home"),onLogin:g});case"home":return o.jsx(Sh,{onNavigate:y,onLoginRequired:()=>i("login"),isAuthenticated:t,currentUser:e});case"search":return o.jsx(Ate,{onNavigate:y,initialCategory:d,isAuthenticated:t,currentUser:e});case"detail":return s?o.jsx(Pte,{productId:s,onNavigate:y,isAuthenticated:t,currentUser:e}):o.jsx(Sh,{onNavigate:y,onLoginRequired:()=>i("login"),isAuthenticated:t,currentUser:e});case"cart":return o.jsx(_te,{onNavigate:y,isAuthenticated:t,currentUser:e});case"favorites":return o.jsx(Ete,{onNavigate:y,isAuthenticated:t,currentUser:e});case"checkout":return t?o.jsx(kte,{onNavigate:y,currentUser:e}):o.jsx(Y6,{onClose:()=>i("home"),onLogin:g});case"purchase-success":return o.jsx(Ite,{onNavigate:y});case"profile":return t?o.jsx(Lte,{onNavigate:y,currentUser:e,onLogout:n,onLogin:g}):o.jsx(Sh,{onNavigate:y,onLoginRequired:()=>i("login"),isAuthenticated:t,currentUser:e});case"orders":return t?o.jsx(er,{isOpen:p,onClose:()=>{h(!1),i("profile")},title:"Mis Pedidos",size:"lg",children:o.jsx(lee,{onNavigate:y,currentUser:e})}):o.jsx(Sh,{onNavigate:y,onLoginRequired:()=>i("login"),isAuthenticated:t,currentUser:e});case"contact":return o.jsx(Tte,{onNavigate:y,isAuthenticated:t,currentUser:e});default:return o.jsx(Sh,{onNavigate:y,onLoginRequired:()=>i("login"),isAuthenticated:t,currentUser:e})}};return o.jsx(II,{children:o.jsx(see,{children:j()})})}class X6 extends Pe.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("[ErrorBoundary] Error capturado:",t),console.error("[ErrorBoundary] Error Info:",r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 flex items-center justify-center px-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx("div",{className:"bg-red-100 rounded-full p-4",children:o.jsx(Br,{size:48,className:"text-red-500"})})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Algo sali mal"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ocurri un error inesperado. No te preocupes, nuestro equipo ya est trabajando en ello."}),!1,o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs("button",{onClick:this.handleReset,className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white py-3 rounded-lg hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 font-semibold flex items-center justify-center gap-2",children:[o.jsx($T,{size:18}),"Reintentar"]}),o.jsx("button",{onClick:()=>{window.location.href="/"},className:"bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 transition-all font-semibold",children:"Ir a inicio"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-6",children:"Si el problema persiste, intenta recargar la pgina o contacta al soporte."})]})}):this.props.children}}function Jte(e){if(!e)return"PENDIENTE";const t=String(e).toLowerCase().trim();return["completada","completed","finalizada","finish"].includes(t)?"COMPLETADA":["anulada","cancelled","cancelada","anulado"].includes(t)?"ANULADA":["devuelta","returned","devuelto","devolucion"].includes(t)?"DEVUELTA":String(e).toUpperCase()||"COMPLETADA"}function Yte(e){if(!e)return"PENDIENTE";const t=String(e).toLowerCase().trim();return["pendiente","pending","en espera"].includes(t)?"PENDIENTE":["convertido a venta","convertido_a_venta","converted","venta","completada"].includes(t)?"CONVERTIDO_A_VENTA":["anulada","anulado","cancelled","cancelada"].includes(t)?"ANULADO":"PENDIENTE"}function Xte(e){if(typeof e=="boolean")return e?"ACTIVO":"INACTIVO";const t=String(e).toLowerCase().trim();return["activo","active","true","1"].includes(t)?"ACTIVO":["inactivo","inactive","false","0"].includes(t)?"INACTIVO":"ACTIVO"}function Cp(e){if(!e)return new Date().toISOString();try{return(typeof e=="string"?new Date(e):e).toISOString()}catch{return console.warn(` [MIGRACIN] Fecha invlida: ${e}, usando hoy`),new Date().toISOString()}}function Fo(e,t=0){const r=Number(e);return isNaN(r)?t:r}function Zte(){const e="damabella_clientes";try{const t=localStorage.getItem(e);if(!t)return!0;const r=JSON.parse(t);if(!Array.isArray(r)||r.length===0)return!0;console.log(` [MIGRACIN] Normalizando ${r.length} clientes...`);const n=r.map(a=>({...a,activo:typeof a.activo=="string"?Xte(a.activo)==="ACTIVO":!!(a.activo??!0),createdAt:Cp(a.createdAt),id:String(a.id||"")}));return localStorage.setItem(e,JSON.stringify(n)),console.log(` [MIGRACIN] ${n.length} clientes normalizados`),!0}catch(t){return console.error(" [MIGRACIN] Error normalizando clientes:",t),!1}}function Qte(){const e="damabella_ventas";try{const t=localStorage.getItem(e);if(!t)return!0;const r=JSON.parse(t);if(!Array.isArray(r)||r.length===0)return!0;console.log(` [MIGRACIN] Normalizando ${r.length} ventas...`);const n=r.map(a=>({...a,estado:Jte(a.estado),clienteId:String(a.clienteId||""),fechaVenta:Cp(a.fechaVenta),createdAt:Cp(a.createdAt),subtotal:Fo(a.subtotal,0),iva:Fo(a.iva,0),total:Fo(a.total,0),items:(a.items||[]).map(i=>({...i,cantidad:Fo(i.cantidad,0),precioVenta:Fo(i.precioVenta||i.precioUnitario,0),subtotal:Fo(i.subtotal,0)})),id:String(a.id||"")}));return localStorage.setItem(e,JSON.stringify(n)),console.log(` [MIGRACIN] ${n.length} ventas normalizadas`),!0}catch(t){return console.error(" [MIGRACIN] Error normalizando ventas:",t),!1}}function ere(){const e="damabella_pedidos";try{const t=localStorage.getItem(e);if(!t)return!0;const r=JSON.parse(t);if(!Array.isArray(r)||r.length===0)return!0;console.log(` [MIGRACIN] Normalizando ${r.length} pedidos...`);const n=r.map(a=>({...a,estado:Yte(a.estado),clienteId:String(a.clienteId||""),fechaPedido:Cp(a.fechaPedido),createdAt:Cp(a.createdAt),subtotal:Fo(a.subtotal,0),iva:Fo(a.iva,0),total:Fo(a.total,0),productos:(a.productos||a.items||[]).map(i=>({...i,cantidad:Fo(i.cantidad,0),precioVenta:Fo(i.precioVenta||i.precioUnitario,0)})),items:(a.productos||a.items||[]).map(i=>({...i,cantidad:Fo(i.cantidad,0),precioVenta:Fo(i.precioVenta||i.precioUnitario,0)})),id:String(a.id||"")}));return localStorage.setItem(e,JSON.stringify(n)),console.log(` [MIGRACIN] ${n.length} pedidos normalizados`),!0}catch(t){return console.error(" [MIGRACIN] Error normalizando pedidos:",t),!1}}function tre(){const e="v1_dashboard_normalization",t="damabella_migrations";try{const r=localStorage.getItem(t),n=r?JSON.parse(r):{};if(n[e]){console.log(` [MIGRACIN] ${e} ya fue ejecutada, saltando...`);return}console.log(`
${"=".repeat(60)}`),console.log(` INICIANDO MIGRACIN: ${e}`),console.log(`${"=".repeat(60)}
`);const a={clientes:Zte(),ventas:Qte(),pedidos:ere()};Object.values(a).every(s=>s===!0)?(n[e]={timestamp:new Date().toISOString(),status:"SUCCESS"},localStorage.setItem(t,JSON.stringify(n)),console.log(`
${"=".repeat(60)}`),console.log(` MIGRACIN COMPLETADA: ${e}`),console.log(` Timestamp: ${n[e].timestamp}`),console.log(`${"=".repeat(60)}
`)):(console.error(`
 [MIGRACIN] Error en migracin, NO se guarda versin`),console.error("Resultados:",a),console.error(`Los datos NO fueron modificados
`))}catch(r){console.error(`
 [MIGRACIN] Error fatal:`,r),console.error(`Los datos NO fueron modificados
`)}}function rre(){const[e,t]=M.useState(!1),[r,n]=M.useState(null),[a,i]=M.useState(!1);M.useEffect(()=>{console.log(`
 [App] ========== INICIANDO APLICACIN ==========`),localStorage.getItem("damabella_users")?console.log(" [App] Storage ya inicializado, sin reset"):(console.log(" [App] Primera inicializacin, creando usuario admin..."),Dte()),$te(),console.log(`
 [App] Ejecutando migraciones de datos...`),tre(),i(!0)},[]),M.useEffect(()=>{if(!a)return;console.log(`
 [App] Verificando sesin guardada...`);const d=localStorage.getItem("damabella_current_user");if(d)try{const f=JSON.parse(d);console.log(` [App] Sesin encontrada: ${f.email} (Rol: ${f.role})`),t(!0),n(f)}catch(f){console.error(" [App] Error cargando sesin guardada:",f),localStorage.removeItem("damabella_current_user")}else console.log(" [App] No hay sesin guardada. Usuario no autenticado.")},[a]);const s=d=>{console.log(`
 [App.handleLogin] Login exitoso`),console.log(` [App.handleLogin] Usuario: ${d.nombre}`),console.log(` [App.handleLogin] Email: ${d.email}`),console.log(` [App.handleLogin] Rol: ${d.role}`),t(!0),n(d),localStorage.setItem("damabella_current_user",JSON.stringify(d)),console.log(` [App.handleLogin] Sesin guardada en localStorage
`)},c=()=>{console.log(`
 [App.handleLogout] Cerrando sesin...`),console.log(` [App.handleLogout] Usuario: ${r?.email}`),t(!1),n(null),localStorage.removeItem("damabella_current_user"),console.log(` [App.handleLogout] Sesin cerrada
`)};return a?(console.log(`
 [App.render] Estado actual:`),console.log(`  - isAuthenticated: ${e}`),console.log(`  - currentUser: ${r?r.email:"null"}`),console.log(`  - role: ${r?r.role:"null"}`),e&&(r?.role==="Administrador"||r?.role==="Empleado")?(console.log(` [App.render] Renderizando: DASHBOARD ADMINISTRATIVO
`),o.jsx(X6,{children:o.jsx(jte,{currentUser:r,onLogout:c})})):(console.log(` [App.render] Renderizando: MDULO DE CLIENTE
`),o.jsx(X6,{children:o.jsx(Kte,{currentUser:r,isAuthenticated:e,onLogin:s,onLogout:c})}))):o.jsx("div",{children:"Cargando..."})}E8.createRoot(document.getElementById("root")).render(o.jsx(rre,{}));export{en as _,ym as c,tn as g};
