(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dh={exports:{}},Fl={},fh={exports:{}},wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function n4(){if(Q1)return wt;Q1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function x(F,W,ce){this.props=F,this.context=W,this.refs=y,this.updater=ce||b}x.prototype.isReactComponent={},x.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},x.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function N(){}N.prototype=x.prototype;function A(F,W,ce){this.props=F,this.context=W,this.refs=y,this.updater=ce||b}var E=A.prototype=new N;E.constructor=A,w(E,x.prototype),E.isPureReactComponent=!0;var _=Array.isArray,P=Object.prototype.hasOwnProperty,k={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function L(F,W,ce){var ie,K={},pe=null,me=null;if(W!=null)for(ie in W.ref!==void 0&&(me=W.ref),W.key!==void 0&&(pe=""+W.key),W)P.call(W,ie)&&!O.hasOwnProperty(ie)&&(K[ie]=W[ie]);var ne=arguments.length-2;if(ne===1)K.children=ce;else if(1<ne){for(var se=Array(ne),ue=0;ue<ne;ue++)se[ue]=arguments[ue+2];K.children=se}if(F&&F.defaultProps)for(ie in ne=F.defaultProps,ne)K[ie]===void 0&&(K[ie]=ne[ie]);return{$$typeof:e,type:F,key:pe,ref:me,props:K,_owner:k.current}}function T(F,W){return{$$typeof:e,type:F.type,key:W,ref:F.ref,props:F.props,_owner:F._owner}}function M(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function I(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ce){return W[ce]})}var V=/\/+/g;function z(F,W){return typeof F=="object"&&F!==null&&F.key!=null?I(""+F.key):W.toString(36)}function B(F,W,ce,ie,K){var pe=typeof F;(pe==="undefined"||pe==="boolean")&&(F=null);var me=!1;if(F===null)me=!0;else switch(pe){case"string":case"number":me=!0;break;case"object":switch(F.$$typeof){case e:case t:me=!0}}if(me)return me=F,K=K(me),F=ie===""?"."+z(me,0):ie,_(K)?(ce="",F!=null&&(ce=F.replace(V,"$&/")+"/"),B(K,W,ce,"",function(ue){return ue})):K!=null&&(M(K)&&(K=T(K,ce+(!K.key||me&&me.key===K.key?"":(""+K.key).replace(V,"$&/")+"/")+F)),W.push(K)),1;if(me=0,ie=ie===""?".":ie+":",_(F))for(var ne=0;ne<F.length;ne++){pe=F[ne];var se=ie+z(pe,ne);me+=B(pe,W,ce,se,K)}else if(se=v(F),typeof se=="function")for(F=se.call(F),ne=0;!(pe=F.next()).done;)pe=pe.value,se=ie+z(pe,ne++),me+=B(pe,W,ce,se,K);else if(pe==="object")throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return me}function D(F,W,ce){if(F==null)return F;var ie=[],K=0;return B(F,ie,"","",function(pe){return W.call(ce,pe,K++)}),ie}function G(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=ce)},function(ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=ce)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var te={current:null},R={transition:null},Y={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function U(){throw Error("act(...) is not supported in production builds of React.")}return wt.Children={map:D,forEach:function(F,W,ce){D(F,function(){W.apply(this,arguments)},ce)},count:function(F){var W=0;return D(F,function(){W++}),W},toArray:function(F){return D(F,function(W){return W})||[]},only:function(F){if(!M(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},wt.Component=x,wt.Fragment=r,wt.Profiler=o,wt.PureComponent=A,wt.StrictMode=n,wt.Suspense=d,wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,wt.act=U,wt.cloneElement=function(F,W,ce){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ie=w({},F.props),K=F.key,pe=F.ref,me=F._owner;if(W!=null){if(W.ref!==void 0&&(pe=W.ref,me=k.current),W.key!==void 0&&(K=""+W.key),F.type&&F.type.defaultProps)var ne=F.type.defaultProps;for(se in W)P.call(W,se)&&!O.hasOwnProperty(se)&&(ie[se]=W[se]===void 0&&ne!==void 0?ne[se]:W[se])}var se=arguments.length-2;if(se===1)ie.children=ce;else if(1<se){ne=Array(se);for(var ue=0;ue<se;ue++)ne[ue]=arguments[ue+2];ie.children=ne}return{$$typeof:e,type:F.type,key:K,ref:pe,props:ie,_owner:me}},wt.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},wt.createElement=L,wt.createFactory=function(F){var W=L.bind(null,F);return W.type=F,W},wt.createRef=function(){return{current:null}},wt.forwardRef=function(F){return{$$typeof:u,render:F}},wt.isValidElement=M,wt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:G}},wt.memo=function(F,W){return{$$typeof:m,type:F,compare:W===void 0?null:W}},wt.startTransition=function(F){var W=R.transition;R.transition={};try{F()}finally{R.transition=W}},wt.unstable_act=U,wt.useCallback=function(F,W){return te.current.useCallback(F,W)},wt.useContext=function(F){return te.current.useContext(F)},wt.useDebugValue=function(){},wt.useDeferredValue=function(F){return te.current.useDeferredValue(F)},wt.useEffect=function(F,W){return te.current.useEffect(F,W)},wt.useId=function(){return te.current.useId()},wt.useImperativeHandle=function(F,W,ce){return te.current.useImperativeHandle(F,W,ce)},wt.useInsertionEffect=function(F,W){return te.current.useInsertionEffect(F,W)},wt.useLayoutEffect=function(F,W){return te.current.useLayoutEffect(F,W)},wt.useMemo=function(F,W){return te.current.useMemo(F,W)},wt.useReducer=function(F,W,ce){return te.current.useReducer(F,W,ce)},wt.useRef=function(F){return te.current.useRef(F)},wt.useState=function(F){return te.current.useState(F)},wt.useSyncExternalStore=function(F,W,ce){return te.current.useSyncExternalStore(F,W,ce)},wt.useTransition=function(){return te.current.useTransition()},wt.version="18.3.1",wt}var eN;function hb(){return eN||(eN=1,fh.exports=n4()),fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function a4(){if(tN)return Fl;tN=1;var e=hb(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,m){var h,p={},v=null,b=null;m!==void 0&&(v=""+m),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(h in d)n.call(d,h)&&!s.hasOwnProperty(h)&&(p[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)p[h]===void 0&&(p[h]=d[h]);return{$$typeof:t,type:u,key:v,ref:b,props:p,_owner:o.current}}return Fl.Fragment=r,Fl.jsx=c,Fl.jsxs=c,Fl}var rN;function o4(){return rN||(rN=1,dh.exports=a4()),dh.exports}var a=o4(),md={},mh={exports:{}},nn={},ph={exports:{}},hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN;function i4(){return nN||(nN=1,(function(e){function t(R,Y){var U=R.length;R.push(Y);e:for(;0<U;){var F=U-1>>>1,W=R[F];if(0<o(W,Y))R[F]=Y,R[U]=W,U=F;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var Y=R[0],U=R.pop();if(U!==Y){R[0]=U;e:for(var F=0,W=R.length,ce=W>>>1;F<ce;){var ie=2*(F+1)-1,K=R[ie],pe=ie+1,me=R[pe];if(0>o(K,U))pe<W&&0>o(me,K)?(R[F]=me,R[pe]=U,F=pe):(R[F]=K,R[ie]=U,F=ie);else if(pe<W&&0>o(me,U))R[F]=me,R[pe]=U,F=pe;else break e}}return Y}function o(R,Y){var U=R.sortIndex-Y.sortIndex;return U!==0?U:R.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],m=[],h=1,p=null,v=3,b=!1,w=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var Y=r(m);Y!==null;){if(Y.callback===null)n(m);else if(Y.startTime<=R)n(m),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=r(m)}}function _(R){if(y=!1,E(R),!w)if(r(d)!==null)w=!0,G(P);else{var Y=r(m);Y!==null&&te(_,Y.startTime-R)}}function P(R,Y){w=!1,y&&(y=!1,N(L),L=-1),b=!0;var U=v;try{for(E(Y),p=r(d);p!==null&&(!(p.expirationTime>Y)||R&&!I());){var F=p.callback;if(typeof F=="function"){p.callback=null,v=p.priorityLevel;var W=F(p.expirationTime<=Y);Y=e.unstable_now(),typeof W=="function"?p.callback=W:p===r(d)&&n(d),E(Y)}else n(d);p=r(d)}if(p!==null)var ce=!0;else{var ie=r(m);ie!==null&&te(_,ie.startTime-Y),ce=!1}return ce}finally{p=null,v=U,b=!1}}var k=!1,O=null,L=-1,T=5,M=-1;function I(){return!(e.unstable_now()-M<T)}function V(){if(O!==null){var R=e.unstable_now();M=R;var Y=!0;try{Y=O(!0,R)}finally{Y?z():(k=!1,O=null)}}else k=!1}var z;if(typeof A=="function")z=function(){A(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=V,z=function(){D.postMessage(null)}}else z=function(){x(V,0)};function G(R){O=R,k||(k=!0,z())}function te(R,Y){L=x(function(){R(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||b||(w=!0,G(P))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(R){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var U=v;v=Y;try{return R()}finally{v=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,Y){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=v;v=R;try{return Y()}finally{v=U}},e.unstable_scheduleCallback=function(R,Y,U){var F=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?F+U:F):U=F,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=U+W,R={id:h++,callback:Y,priorityLevel:R,startTime:U,expirationTime:W,sortIndex:-1},U>F?(R.sortIndex=U,t(m,R),r(d)===null&&R===r(m)&&(y?(N(L),L=-1):y=!0,te(_,U-F))):(R.sortIndex=W,t(d,R),w||b||(w=!0,G(P))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var Y=v;return function(){var U=v;v=Y;try{return R.apply(this,arguments)}finally{v=U}}}})(hh)),hh}var aN;function s4(){return aN||(aN=1,ph.exports=i4()),ph.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN;function l4(){if(oN)return nn;oN=1;var e=hb(),t=s4();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function s(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(o[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(i){return d.call(p,i)?!0:d.call(h,i)?!1:m.test(i)?p[i]=!0:(h[i]=!0,!1)}function b(i,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,l,f,g){if(l===null||typeof l>"u"||b(i,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function y(i,l,f,g,j,S,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=j,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=S,this.removeEmptyString=$}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new y(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];x[l]=new y(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new y(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new y(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new y(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new y(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new y(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new y(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new y(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function A(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,A);x[l]=new y(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,A);x[l]=new y(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,A);x[l]=new y(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new y(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new y(i,1,!1,i.toLowerCase(),null,!0,!0)});function E(i,l,f,g){var j=x.hasOwnProperty(l)?x[l]:null;(j!==null?j.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,f,j,g)&&(f=null),g||j===null?v(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):j.mustUseProperty?i[j.propertyName]=f===null?j.type===3?!1:"":f:(l=j.attributeName,g=j.attributeNamespace,f===null?i.removeAttribute(l):(j=j.type,f=j===3||j===4&&f===!0?"":""+f,g?i.setAttributeNS(g,l,f):i.setAttribute(l,f))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),I=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),R=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var U=Object.assign,F;function W(i){if(F===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);F=l&&l[1]||""}return`
`+F+i}var ce=!1;function ie(i,l){if(!i||ce)return"";ce=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(fe){var g=fe}Reflect.construct(i,[],l)}else{try{l.call()}catch(fe){g=fe}i.call(l.prototype)}else{try{throw Error()}catch(fe){g=fe}i()}}catch(fe){if(fe&&g&&typeof fe.stack=="string"){for(var j=fe.stack.split(`
`),S=g.stack.split(`
`),$=j.length-1,J=S.length-1;1<=$&&0<=J&&j[$]!==S[J];)J--;for(;1<=$&&0<=J;$--,J--)if(j[$]!==S[J]){if($!==1||J!==1)do if($--,J--,0>J||j[$]!==S[J]){var re=`
`+j[$].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=$&&0<=J);break}}}finally{ce=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?W(i):""}function K(i){switch(i.tag){case 5:return W(i.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function pe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case k:return"Portal";case T:return"Profiler";case L:return"StrictMode";case z:return"Suspense";case B:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case V:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return l=i.displayName||null,l!==null?l:pe(i.type)||"Memo";case G:l=i._payload,i=i._init;try{return pe(i(l))}catch{}}return null}function me(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(l);case 8:return l===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ne(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(i){var l=se(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var j=f.get,S=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return j.call(this)},set:function($){g=""+$,S.call(this,$)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Me(i){i._valueTracker||(i._valueTracker=ue(i))}function ve(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return i&&(g=se(i)?i.checked?"true":"false":i.value),i=g,i!==f?(l.setValue(i),!0):!1}function Ne(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Se(i,l){var f=l.checked;return U({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function ge(i,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=ne(l.value!=null?l.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ee(i,l){l=l.checked,l!=null&&E(i,"checked",l,!1)}function Ge(i,l){Ee(i,l);var f=ne(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?$e(i,l.type,f):l.hasOwnProperty("defaultValue")&&$e(i,l.type,ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Q(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function $e(i,l,f){(l!=="number"||Ne(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var Pe=Array.isArray;function ee(i,l,f,g){if(i=i.options,l){l={};for(var j=0;j<f.length;j++)l["$"+f[j]]=!0;for(f=0;f<i.length;f++)j=l.hasOwnProperty("$"+i[f].value),i[f].selected!==j&&(i[f].selected=j),j&&g&&(i[f].defaultSelected=!0)}else{for(f=""+ne(f),l=null,j=0;j<i.length;j++){if(i[j].value===f){i[j].selected=!0,g&&(i[j].defaultSelected=!0);return}l!==null||i[j].disabled||(l=i[j])}l!==null&&(l.selected=!0)}}function ae(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return U({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function we(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Pe(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:ne(f)}}function Ve(i,l){var f=ne(l.value),g=ne(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function Fe(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var At,ar=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,j){MSApp.execUnsafeLocalFunction(function(){return i(l,f,g,j)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=At.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Jr(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ua=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(i){Ua.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),$r[l]=$r[i]})});function ha(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||$r.hasOwnProperty(i)&&$r[i]?(""+l).trim():l+"px"}function Wa(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,j=ha(f,l[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,j):i[f]=j}}var ga=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xn(i,l){if(l){if(ga[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function X(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Ce(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ze=null,Ue=null,dt=null;function ot(i){if(i=Cl(i)){if(typeof ze!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Pu(l),ze(i.stateNode,i.type,l))}}function cr(i){Ue?dt?dt.push(i):dt=[i]:Ue=i}function Ft(){if(Ue){var i=Ue,l=dt;if(dt=Ue=null,ot(i),l)for(i=0;i<l.length;i++)ot(l[i])}}function kt(i,l){return i(l)}function sr(){}var _r=!1;function Xr(i,l,f){if(_r)return i(l,f);_r=!0;try{return kt(i,l,f)}finally{_r=!1,(Ue!==null||dt!==null)&&(sr(),Ft())}}function H(i,l){var f=i.stateNode;if(f===null)return null;var g=Pu(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var he=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){he=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch{he=!1}function He(i,l,f,g,j,S,$,J,re){var fe=Array.prototype.slice.call(arguments,3);try{l.apply(f,fe)}catch(ke){this.onError(ke)}}var at=!1,yt=null,Et=!1,xt=null,ur={onError:function(i){at=!0,yt=i}};function Nr(i,l,f,g,j,S,$,J,re){at=!1,yt=null,He.apply(ur,arguments)}function Oi(i,l,f,g,j,S,$,J,re){if(Nr.apply(this,arguments),at){if(at){var fe=yt;at=!1,yt=null}else throw Error(r(198));Et||(Et=!0,xt=fe)}}function Mn(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function sl(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function q(i){if(Mn(i)!==i)throw Error(r(188))}function je(i){var l=i.alternate;if(!l){if(l=Mn(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,g=l;;){var j=f.return;if(j===null)break;var S=j.alternate;if(S===null){if(g=j.return,g!==null){f=g;continue}break}if(j.child===S.child){for(S=j.child;S;){if(S===f)return q(j),i;if(S===g)return q(j),l;S=S.sibling}throw Error(r(188))}if(f.return!==g.return)f=j,g=S;else{for(var $=!1,J=j.child;J;){if(J===f){$=!0,f=j,g=S;break}if(J===g){$=!0,g=j,f=S;break}J=J.sibling}if(!$){for(J=S.child;J;){if(J===f){$=!0,f=S,g=j;break}if(J===g){$=!0,g=S,f=j;break}J=J.sibling}if(!$)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function ye(i){return i=je(i),i!==null?Ie(i):null}function Ie(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Ie(i);if(l!==null)return l;i=i.sibling}return null}var Be=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,nt=t.unstable_shouldYield,Qe=t.unstable_requestPaint,ut=t.unstable_now,Bt=t.unstable_getCurrentPriorityLevel,_t=t.unstable_ImmediatePriority,$t=t.unstable_UserBlockingPriority,bt=t.unstable_NormalPriority,Ht=t.unstable_LowPriority,Rt=t.unstable_IdlePriority,Nt=null,Mr=null;function Ha(i){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Nt,i,void 0,(i.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:uu,Lo=Math.log,Ga=Math.LN2;function uu(i){return i>>>=0,i===0?32:31-(Lo(i)/Ga|0)|0}var va=64,Yn=4194304;function ya(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function zo(i,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,j=i.suspendedLanes,S=i.pingedLanes,$=f&268435455;if($!==0){var J=$&~j;J!==0?g=ya(J):(S&=$,S!==0&&(g=ya(S)))}else $=f&~j,$!==0?g=ya($):S!==0&&(g=ya(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&j)===0&&(j=g&-g,S=l&-l,j>=S||j===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)f=31-dr(l),j=1<<f,g|=i[f],l&=~j;return g}function Tm(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(i,l){for(var f=i.suspendedLanes,g=i.pingedLanes,j=i.expirationTimes,S=i.pendingLanes;0<S;){var $=31-dr(S),J=1<<$,re=j[$];re===-1?((J&f)===0||(J&g)!==0)&&(j[$]=Tm(J,l)):re<=l&&(i.expiredLanes|=J),S&=~J}}function Yr(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function St(){var i=va;return va<<=1,(va&4194240)===0&&(va=64),i}function Ka(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function ll(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-dr(l),i[l]=f}function SD(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var j=31-dr(f),S=1<<j;l[j]=0,g[j]=-1,i[j]=-1,f&=~S}}function Dm(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var g=31-dr(f),j=1<<g;j&l|i[g]&l&&(i[g]|=l),f&=~j}}var Vt=0;function _j(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ij,$m,Tj,Dj,$j,Mm=!1,fu=[],Ja=null,Xa=null,Ya=null,cl=new Map,ul=new Map,Za=[],CD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mj(i,l){switch(i){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":cl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(l.pointerId)}}function dl(i,l,f,g,j,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[j]},l!==null&&(l=Cl(l),l!==null&&$m(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,j!==null&&l.indexOf(j)===-1&&l.push(j),i)}function ED(i,l,f,g,j){switch(l){case"focusin":return Ja=dl(Ja,i,l,f,g,j),!0;case"dragenter":return Xa=dl(Xa,i,l,f,g,j),!0;case"mouseover":return Ya=dl(Ya,i,l,f,g,j),!0;case"pointerover":var S=j.pointerId;return cl.set(S,dl(cl.get(S)||null,i,l,f,g,j)),!0;case"gotpointercapture":return S=j.pointerId,ul.set(S,dl(ul.get(S)||null,i,l,f,g,j)),!0}return!1}function Rj(i){var l=Fo(i.target);if(l!==null){var f=Mn(l);if(f!==null){if(l=f.tag,l===13){if(l=sl(f),l!==null){i.blockedOn=l,$j(i.priority,function(){Tj(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mu(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=Lm(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);xe=g,f.target.dispatchEvent(g),xe=null}else return l=Cl(f),l!==null&&$m(l),i.blockedOn=f,!1;l.shift()}return!0}function Lj(i,l,f){mu(i)&&f.delete(l)}function PD(){Mm=!1,Ja!==null&&mu(Ja)&&(Ja=null),Xa!==null&&mu(Xa)&&(Xa=null),Ya!==null&&mu(Ya)&&(Ya=null),cl.forEach(Lj),ul.forEach(Lj)}function fl(i,l){i.blockedOn===l&&(i.blockedOn=null,Mm||(Mm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PD)))}function ml(i){function l(j){return fl(j,i)}if(0<fu.length){fl(fu[0],i);for(var f=1;f<fu.length;f++){var g=fu[f];g.blockedOn===i&&(g.blockedOn=null)}}for(Ja!==null&&fl(Ja,i),Xa!==null&&fl(Xa,i),Ya!==null&&fl(Ya,i),cl.forEach(l),ul.forEach(l),f=0;f<Za.length;f++)g=Za[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<Za.length&&(f=Za[0],f.blockedOn===null);)Rj(f),f.blockedOn===null&&Za.shift()}var Ai=_.ReactCurrentBatchConfig,pu=!0;function OD(i,l,f,g){var j=Vt,S=Ai.transition;Ai.transition=null;try{Vt=1,Rm(i,l,f,g)}finally{Vt=j,Ai.transition=S}}function AD(i,l,f,g){var j=Vt,S=Ai.transition;Ai.transition=null;try{Vt=4,Rm(i,l,f,g)}finally{Vt=j,Ai.transition=S}}function Rm(i,l,f,g){if(pu){var j=Lm(i,l,f,g);if(j===null)tp(i,l,g,hu,f),Mj(i,g);else if(ED(j,i,l,f,g))g.stopPropagation();else if(Mj(i,g),l&4&&-1<CD.indexOf(i)){for(;j!==null;){var S=Cl(j);if(S!==null&&Ij(S),S=Lm(i,l,f,g),S===null&&tp(i,l,g,hu,f),S===j)break;j=S}j!==null&&g.stopPropagation()}else tp(i,l,g,null,f)}}var hu=null;function Lm(i,l,f,g){if(hu=null,i=Ce(g),i=Fo(i),i!==null)if(l=Mn(i),l===null)i=null;else if(f=l.tag,f===13){if(i=sl(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return hu=i,null}function zj(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bt()){case _t:return 1;case $t:return 4;case bt:case Ht:return 16;case Rt:return 536870912;default:return 16}default:return 16}}var Qa=null,zm=null,gu=null;function Fj(){if(gu)return gu;var i,l=zm,f=l.length,g,j="value"in Qa?Qa.value:Qa.textContent,S=j.length;for(i=0;i<f&&l[i]===j[i];i++);var $=f-i;for(g=1;g<=$&&l[f-g]===j[S-g];g++);return gu=j.slice(i,1<g?1-g:void 0)}function vu(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function yu(){return!0}function Bj(){return!1}function ln(i){function l(f,g,j,S,$){this._reactName=f,this._targetInst=j,this.type=g,this.nativeEvent=S,this.target=$,this.currentTarget=null;for(var J in i)i.hasOwnProperty(J)&&(f=i[J],this[J]=f?f(S):S[J]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?yu:Bj,this.isPropagationStopped=Bj,this}return U(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),l}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=ln(ki),pl=U({},ki,{view:0,detail:0}),kD=ln(pl),Bm,Vm,hl,xu=U({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hl&&(hl&&i.type==="mousemove"?(Bm=i.screenX-hl.screenX,Vm=i.screenY-hl.screenY):Vm=Bm=0,hl=i),Bm)},movementY:function(i){return"movementY"in i?i.movementY:Vm}}),Vj=ln(xu),_D=U({},xu,{dataTransfer:0}),ID=ln(_D),TD=U({},pl,{relatedTarget:0}),qm=ln(TD),DD=U({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),$D=ln(DD),MD=U({},ki,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),RD=ln(MD),LD=U({},ki,{data:0}),qj=ln(LD),zD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VD(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=BD[i])?!!l[i]:!1}function Um(){return VD}var qD=U({},pl,{key:function(i){if(i.key){var l=zD[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=vu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?FD[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(i){return i.type==="keypress"?vu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),UD=ln(qD),WD=U({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uj=ln(WD),HD=U({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),GD=ln(HD),KD=U({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),JD=ln(KD),XD=U({},xu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),YD=ln(XD),ZD=[9,13,27,32],Wm=u&&"CompositionEvent"in window,gl=null;u&&"documentMode"in document&&(gl=document.documentMode);var QD=u&&"TextEvent"in window&&!gl,Wj=u&&(!Wm||gl&&8<gl&&11>=gl),Hj=" ",Gj=!1;function Kj(i,l){switch(i){case"keyup":return ZD.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _i=!1;function e$(i,l){switch(i){case"compositionend":return Jj(l);case"keypress":return l.which!==32?null:(Gj=!0,Hj);case"textInput":return i=l.data,i===Hj&&Gj?null:i;default:return null}}function t$(i,l){if(_i)return i==="compositionend"||!Wm&&Kj(i,l)?(i=Fj(),gu=zm=Qa=null,_i=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Wj&&l.locale!=="ko"?null:l.data;default:return null}}var r$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xj(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!r$[i.type]:l==="textarea"}function Yj(i,l,f,g){cr(g),l=Su(l,"onChange"),0<l.length&&(f=new Fm("onChange","change",null,f,g),i.push({event:f,listeners:l}))}var vl=null,yl=null;function n$(i){hw(i,0)}function bu(i){var l=Mi(i);if(ve(l))return i}function a$(i,l){if(i==="change")return l}var Zj=!1;if(u){var Hm;if(u){var Gm="oninput"in document;if(!Gm){var Qj=document.createElement("div");Qj.setAttribute("oninput","return;"),Gm=typeof Qj.oninput=="function"}Hm=Gm}else Hm=!1;Zj=Hm&&(!document.documentMode||9<document.documentMode)}function ew(){vl&&(vl.detachEvent("onpropertychange",tw),yl=vl=null)}function tw(i){if(i.propertyName==="value"&&bu(yl)){var l=[];Yj(l,yl,i,Ce(i)),Xr(n$,l)}}function o$(i,l,f){i==="focusin"?(ew(),vl=l,yl=f,vl.attachEvent("onpropertychange",tw)):i==="focusout"&&ew()}function i$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bu(yl)}function s$(i,l){if(i==="click")return bu(l)}function l$(i,l){if(i==="input"||i==="change")return bu(l)}function c$(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Rn=typeof Object.is=="function"?Object.is:c$;function xl(i,l){if(Rn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var j=f[g];if(!d.call(l,j)||!Rn(i[j],l[j]))return!1}return!0}function rw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nw(i,l){var f=rw(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=l&&g>=l)return{node:f,offset:l-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=rw(f)}}function aw(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?aw(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function ow(){for(var i=window,l=Ne();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=Ne(i.document)}return l}function Km(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function u$(i){var l=ow(),f=i.focusedElem,g=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&aw(f.ownerDocument.documentElement,f)){if(g!==null&&Km(f)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var j=f.textContent.length,S=Math.min(g.start,j);g=g.end===void 0?S:Math.min(g.end,j),!i.extend&&S>g&&(j=g,g=S,S=j),j=nw(f,S);var $=nw(f,g);j&&$&&(i.rangeCount!==1||i.anchorNode!==j.node||i.anchorOffset!==j.offset||i.focusNode!==$.node||i.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(j.node,j.offset),i.removeAllRanges(),S>g?(i.addRange(l),i.extend($.node,$.offset)):(l.setEnd($.node,$.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var d$=u&&"documentMode"in document&&11>=document.documentMode,Ii=null,Jm=null,bl=null,Xm=!1;function iw(i,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Xm||Ii==null||Ii!==Ne(g)||(g=Ii,"selectionStart"in g&&Km(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bl&&xl(bl,g)||(bl=g,g=Su(Jm,"onSelect"),0<g.length&&(l=new Fm("onSelect","select",null,l,f),i.push({event:l,listeners:g}),l.target=Ii)))}function ju(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Ti={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},Ym={},sw={};u&&(sw=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function wu(i){if(Ym[i])return Ym[i];if(!Ti[i])return i;var l=Ti[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in sw)return Ym[i]=l[f];return i}var lw=wu("animationend"),cw=wu("animationiteration"),uw=wu("animationstart"),dw=wu("transitionend"),fw=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(i,l){fw.set(i,l),s(l,[i])}for(var Zm=0;Zm<mw.length;Zm++){var Qm=mw[Zm],f$=Qm.toLowerCase(),m$=Qm[0].toUpperCase()+Qm.slice(1);eo(f$,"on"+m$)}eo(lw,"onAnimationEnd"),eo(cw,"onAnimationIteration"),eo(uw,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(dw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p$=new Set("cancel close invalid load scroll toggle".split(" ").concat(jl));function pw(i,l,f){var g=i.type||"unknown-event";i.currentTarget=f,Oi(g,l,void 0,i),i.currentTarget=null}function hw(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],j=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var $=g.length-1;0<=$;$--){var J=g[$],re=J.instance,fe=J.currentTarget;if(J=J.listener,re!==S&&j.isPropagationStopped())break e;pw(j,J,fe),S=re}else for($=0;$<g.length;$++){if(J=g[$],re=J.instance,fe=J.currentTarget,J=J.listener,re!==S&&j.isPropagationStopped())break e;pw(j,J,fe),S=re}}}if(Et)throw i=xt,Et=!1,xt=null,i}function Yt(i,l){var f=l[sp];f===void 0&&(f=l[sp]=new Set);var g=i+"__bubble";f.has(g)||(gw(l,i,2,!1),f.add(g))}function ep(i,l,f){var g=0;l&&(g|=4),gw(f,i,g,l)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function wl(i){if(!i[Nu]){i[Nu]=!0,n.forEach(function(f){f!=="selectionchange"&&(p$.has(f)||ep(f,!1,i),ep(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Nu]||(l[Nu]=!0,ep("selectionchange",!1,l))}}function gw(i,l,f,g){switch(zj(l)){case 1:var j=OD;break;case 4:j=AD;break;default:j=Rm}f=j.bind(null,l,f,i),j=void 0,!he||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(j=!0),g?j!==void 0?i.addEventListener(l,f,{capture:!0,passive:j}):i.addEventListener(l,f,!0):j!==void 0?i.addEventListener(l,f,{passive:j}):i.addEventListener(l,f,!1)}function tp(i,l,f,g,j){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var J=g.stateNode.containerInfo;if(J===j||J.nodeType===8&&J.parentNode===j)break;if($===4)for($=g.return;$!==null;){var re=$.tag;if((re===3||re===4)&&(re=$.stateNode.containerInfo,re===j||re.nodeType===8&&re.parentNode===j))return;$=$.return}for(;J!==null;){if($=Fo(J),$===null)return;if(re=$.tag,re===5||re===6){g=S=$;continue e}J=J.parentNode}}g=g.return}Xr(function(){var fe=S,ke=Ce(f),_e=[];e:{var Ae=fw.get(i);if(Ae!==void 0){var We=Fm,Xe=i;switch(i){case"keypress":if(vu(f)===0)break e;case"keydown":case"keyup":We=UD;break;case"focusin":Xe="focus",We=qm;break;case"focusout":Xe="blur",We=qm;break;case"beforeblur":case"afterblur":We=qm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Vj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=ID;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=GD;break;case lw:case cw:case uw:We=$D;break;case dw:We=JD;break;case"scroll":We=kD;break;case"wheel":We=YD;break;case"copy":case"cut":case"paste":We=RD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Uj}var et=(l&4)!==0,lr=!et&&i==="scroll",le=et?Ae!==null?Ae+"Capture":null:Ae;et=[];for(var oe=fe,de;oe!==null;){de=oe;var De=de.stateNode;if(de.tag===5&&De!==null&&(de=De,le!==null&&(De=H(oe,le),De!=null&&et.push(Nl(oe,De,de)))),lr)break;oe=oe.return}0<et.length&&(Ae=new We(Ae,Xe,null,f,ke),_e.push({event:Ae,listeners:et}))}}if((l&7)===0){e:{if(Ae=i==="mouseover"||i==="pointerover",We=i==="mouseout"||i==="pointerout",Ae&&f!==xe&&(Xe=f.relatedTarget||f.fromElement)&&(Fo(Xe)||Xe[xa]))break e;if((We||Ae)&&(Ae=ke.window===ke?ke:(Ae=ke.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,We?(Xe=f.relatedTarget||f.toElement,We=fe,Xe=Xe?Fo(Xe):null,Xe!==null&&(lr=Mn(Xe),Xe!==lr||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(We=null,Xe=fe),We!==Xe)){if(et=Vj,De="onMouseLeave",le="onMouseEnter",oe="mouse",(i==="pointerout"||i==="pointerover")&&(et=Uj,De="onPointerLeave",le="onPointerEnter",oe="pointer"),lr=We==null?Ae:Mi(We),de=Xe==null?Ae:Mi(Xe),Ae=new et(De,oe+"leave",We,f,ke),Ae.target=lr,Ae.relatedTarget=de,De=null,Fo(ke)===fe&&(et=new et(le,oe+"enter",Xe,f,ke),et.target=de,et.relatedTarget=lr,De=et),lr=De,We&&Xe)t:{for(et=We,le=Xe,oe=0,de=et;de;de=Di(de))oe++;for(de=0,De=le;De;De=Di(De))de++;for(;0<oe-de;)et=Di(et),oe--;for(;0<de-oe;)le=Di(le),de--;for(;oe--;){if(et===le||le!==null&&et===le.alternate)break t;et=Di(et),le=Di(le)}et=null}else et=null;We!==null&&vw(_e,Ae,We,et,!1),Xe!==null&&lr!==null&&vw(_e,lr,Xe,et,!0)}}e:{if(Ae=fe?Mi(fe):window,We=Ae.nodeName&&Ae.nodeName.toLowerCase(),We==="select"||We==="input"&&Ae.type==="file")var tt=a$;else if(Xj(Ae))if(Zj)tt=l$;else{tt=i$;var it=o$}else(We=Ae.nodeName)&&We.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(tt=s$);if(tt&&(tt=tt(i,fe))){Yj(_e,tt,f,ke);break e}it&&it(i,Ae,fe),i==="focusout"&&(it=Ae._wrapperState)&&it.controlled&&Ae.type==="number"&&$e(Ae,"number",Ae.value)}switch(it=fe?Mi(fe):window,i){case"focusin":(Xj(it)||it.contentEditable==="true")&&(Ii=it,Jm=fe,bl=null);break;case"focusout":bl=Jm=Ii=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,iw(_e,f,ke);break;case"selectionchange":if(d$)break;case"keydown":case"keyup":iw(_e,f,ke)}var st;if(Wm)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else _i?Kj(i,f)&&(ft="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(ft="onCompositionStart");ft&&(Wj&&f.locale!=="ko"&&(_i||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&_i&&(st=Fj()):(Qa=ke,zm="value"in Qa?Qa.value:Qa.textContent,_i=!0)),it=Su(fe,ft),0<it.length&&(ft=new qj(ft,i,null,f,ke),_e.push({event:ft,listeners:it}),st?ft.data=st:(st=Jj(f),st!==null&&(ft.data=st)))),(st=QD?e$(i,f):t$(i,f))&&(fe=Su(fe,"onBeforeInput"),0<fe.length&&(ke=new qj("onBeforeInput","beforeinput",null,f,ke),_e.push({event:ke,listeners:fe}),ke.data=st))}hw(_e,l)})}function Nl(i,l,f){return{instance:i,listener:l,currentTarget:f}}function Su(i,l){for(var f=l+"Capture",g=[];i!==null;){var j=i,S=j.stateNode;j.tag===5&&S!==null&&(j=S,S=H(i,f),S!=null&&g.unshift(Nl(i,S,j)),S=H(i,l),S!=null&&g.push(Nl(i,S,j))),i=i.return}return g}function Di(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function vw(i,l,f,g,j){for(var S=l._reactName,$=[];f!==null&&f!==g;){var J=f,re=J.alternate,fe=J.stateNode;if(re!==null&&re===g)break;J.tag===5&&fe!==null&&(J=fe,j?(re=H(f,S),re!=null&&$.unshift(Nl(f,re,J))):j||(re=H(f,S),re!=null&&$.push(Nl(f,re,J)))),f=f.return}$.length!==0&&i.push({event:l,listeners:$})}var h$=/\r\n?/g,g$=/\u0000|\uFFFD/g;function yw(i){return(typeof i=="string"?i:""+i).replace(h$,`
`).replace(g$,"")}function Cu(i,l,f){if(l=yw(l),yw(i)!==l&&f)throw Error(r(425))}function Eu(){}var rp=null,np=null;function ap(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,v$=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,y$=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(i){return xw.resolve(null).then(i).catch(x$)}:op;function x$(i){setTimeout(function(){throw i})}function ip(i,l){var f=l,g=0;do{var j=f.nextSibling;if(i.removeChild(f),j&&j.nodeType===8)if(f=j.data,f==="/$"){if(g===0){i.removeChild(j),ml(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=j}while(f);ml(l)}function to(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function bw(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var $i=Math.random().toString(36).slice(2),Zn="__reactFiber$"+$i,Sl="__reactProps$"+$i,xa="__reactContainer$"+$i,sp="__reactEvents$"+$i,b$="__reactListeners$"+$i,j$="__reactHandles$"+$i;function Fo(i){var l=i[Zn];if(l)return l;for(var f=i.parentNode;f;){if(l=f[xa]||f[Zn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=bw(i);i!==null;){if(f=i[Zn])return f;i=bw(i)}return l}i=f,f=i.parentNode}return null}function Cl(i){return i=i[Zn]||i[xa],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Mi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Pu(i){return i[Sl]||null}var lp=[],Ri=-1;function ro(i){return{current:i}}function Zt(i){0>Ri||(i.current=lp[Ri],lp[Ri]=null,Ri--)}function Gt(i,l){Ri++,lp[Ri]=i.current,i.current=l}var no={},Rr=ro(no),Zr=ro(!1),Bo=no;function Li(i,l){var f=i.type.contextTypes;if(!f)return no;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var j={},S;for(S in f)j[S]=l[S];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=j),j}function Qr(i){return i=i.childContextTypes,i!=null}function Ou(){Zt(Zr),Zt(Rr)}function jw(i,l,f){if(Rr.current!==no)throw Error(r(168));Gt(Rr,l),Gt(Zr,f)}function ww(i,l,f){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var j in g)if(!(j in l))throw Error(r(108,me(i)||"Unknown",j));return U({},f,g)}function Au(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||no,Bo=Rr.current,Gt(Rr,i),Gt(Zr,Zr.current),!0}function Nw(i,l,f){var g=i.stateNode;if(!g)throw Error(r(169));f?(i=ww(i,l,Bo),g.__reactInternalMemoizedMergedChildContext=i,Zt(Zr),Zt(Rr),Gt(Rr,i)):Zt(Zr),Gt(Zr,f)}var ba=null,ku=!1,cp=!1;function Sw(i){ba===null?ba=[i]:ba.push(i)}function w$(i){ku=!0,Sw(i)}function ao(){if(!cp&&ba!==null){cp=!0;var i=0,l=Vt;try{var f=ba;for(Vt=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}ba=null,ku=!1}catch(j){throw ba!==null&&(ba=ba.slice(i+1)),Be(_t,ao),j}finally{Vt=l,cp=!1}}return null}var zi=[],Fi=0,_u=null,Iu=0,bn=[],jn=0,Vo=null,ja=1,wa="";function qo(i,l){zi[Fi++]=Iu,zi[Fi++]=_u,_u=i,Iu=l}function Cw(i,l,f){bn[jn++]=ja,bn[jn++]=wa,bn[jn++]=Vo,Vo=i;var g=ja;i=wa;var j=32-dr(g)-1;g&=~(1<<j),f+=1;var S=32-dr(l)+j;if(30<S){var $=j-j%5;S=(g&(1<<$)-1).toString(32),g>>=$,j-=$,ja=1<<32-dr(l)+j|f<<j|g,wa=S+i}else ja=1<<S|f<<j|g,wa=i}function up(i){i.return!==null&&(qo(i,1),Cw(i,1,0))}function dp(i){for(;i===_u;)_u=zi[--Fi],zi[Fi]=null,Iu=zi[--Fi],zi[Fi]=null;for(;i===Vo;)Vo=bn[--jn],bn[jn]=null,wa=bn[--jn],bn[jn]=null,ja=bn[--jn],bn[jn]=null}var cn=null,un=null,er=!1,Ln=null;function Ew(i,l){var f=Cn(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function Pw(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,cn=i,un=to(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,cn=i,un=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Vo!==null?{id:ja,overflow:wa}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Cn(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,cn=i,un=null,!0):!1;default:return!1}}function fp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mp(i){if(er){var l=un;if(l){var f=l;if(!Pw(i,l)){if(fp(i))throw Error(r(418));l=to(f.nextSibling);var g=cn;l&&Pw(i,l)?Ew(g,f):(i.flags=i.flags&-4097|2,er=!1,cn=i)}}else{if(fp(i))throw Error(r(418));i.flags=i.flags&-4097|2,er=!1,cn=i}}}function Ow(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;cn=i}function Tu(i){if(i!==cn)return!1;if(!er)return Ow(i),er=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!ap(i.type,i.memoizedProps)),l&&(l=un)){if(fp(i))throw Aw(),Error(r(418));for(;l;)Ew(i,l),l=to(l.nextSibling)}if(Ow(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){un=to(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}un=null}}else un=cn?to(i.stateNode.nextSibling):null;return!0}function Aw(){for(var i=un;i;)i=to(i.nextSibling)}function Bi(){un=cn=null,er=!1}function pp(i){Ln===null?Ln=[i]:Ln.push(i)}var N$=_.ReactCurrentBatchConfig;function El(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,i));var j=g,S=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function($){var J=j.refs;$===null?delete J[S]:J[S]=$},l._stringRef=S,l)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function Du(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function kw(i){var l=i._init;return l(i._payload)}function _w(i){function l(le,oe){if(i){var de=le.deletions;de===null?(le.deletions=[oe],le.flags|=16):de.push(oe)}}function f(le,oe){if(!i)return null;for(;oe!==null;)l(le,oe),oe=oe.sibling;return null}function g(le,oe){for(le=new Map;oe!==null;)oe.key!==null?le.set(oe.key,oe):le.set(oe.index,oe),oe=oe.sibling;return le}function j(le,oe){return le=mo(le,oe),le.index=0,le.sibling=null,le}function S(le,oe,de){return le.index=de,i?(de=le.alternate,de!==null?(de=de.index,de<oe?(le.flags|=2,oe):de):(le.flags|=2,oe)):(le.flags|=1048576,oe)}function $(le){return i&&le.alternate===null&&(le.flags|=2),le}function J(le,oe,de,De){return oe===null||oe.tag!==6?(oe=oh(de,le.mode,De),oe.return=le,oe):(oe=j(oe,de),oe.return=le,oe)}function re(le,oe,de,De){var tt=de.type;return tt===O?ke(le,oe,de.props.children,De,de.key):oe!==null&&(oe.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===G&&kw(tt)===oe.type)?(De=j(oe,de.props),De.ref=El(le,oe,de),De.return=le,De):(De=ad(de.type,de.key,de.props,null,le.mode,De),De.ref=El(le,oe,de),De.return=le,De)}function fe(le,oe,de,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==de.containerInfo||oe.stateNode.implementation!==de.implementation?(oe=ih(de,le.mode,De),oe.return=le,oe):(oe=j(oe,de.children||[]),oe.return=le,oe)}function ke(le,oe,de,De,tt){return oe===null||oe.tag!==7?(oe=Yo(de,le.mode,De,tt),oe.return=le,oe):(oe=j(oe,de),oe.return=le,oe)}function _e(le,oe,de){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=oh(""+oe,le.mode,de),oe.return=le,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case P:return de=ad(oe.type,oe.key,oe.props,null,le.mode,de),de.ref=El(le,null,oe),de.return=le,de;case k:return oe=ih(oe,le.mode,de),oe.return=le,oe;case G:var De=oe._init;return _e(le,De(oe._payload),de)}if(Pe(oe)||Y(oe))return oe=Yo(oe,le.mode,de,null),oe.return=le,oe;Du(le,oe)}return null}function Ae(le,oe,de,De){var tt=oe!==null?oe.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return tt!==null?null:J(le,oe,""+de,De);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case P:return de.key===tt?re(le,oe,de,De):null;case k:return de.key===tt?fe(le,oe,de,De):null;case G:return tt=de._init,Ae(le,oe,tt(de._payload),De)}if(Pe(de)||Y(de))return tt!==null?null:ke(le,oe,de,De,null);Du(le,de)}return null}function We(le,oe,de,De,tt){if(typeof De=="string"&&De!==""||typeof De=="number")return le=le.get(de)||null,J(oe,le,""+De,tt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case P:return le=le.get(De.key===null?de:De.key)||null,re(oe,le,De,tt);case k:return le=le.get(De.key===null?de:De.key)||null,fe(oe,le,De,tt);case G:var it=De._init;return We(le,oe,de,it(De._payload),tt)}if(Pe(De)||Y(De))return le=le.get(de)||null,ke(oe,le,De,tt,null);Du(oe,De)}return null}function Xe(le,oe,de,De){for(var tt=null,it=null,st=oe,ft=oe=0,Er=null;st!==null&&ft<de.length;ft++){st.index>ft?(Er=st,st=null):Er=st.sibling;var It=Ae(le,st,de[ft],De);if(It===null){st===null&&(st=Er);break}i&&st&&It.alternate===null&&l(le,st),oe=S(It,oe,ft),it===null?tt=It:it.sibling=It,it=It,st=Er}if(ft===de.length)return f(le,st),er&&qo(le,ft),tt;if(st===null){for(;ft<de.length;ft++)st=_e(le,de[ft],De),st!==null&&(oe=S(st,oe,ft),it===null?tt=st:it.sibling=st,it=st);return er&&qo(le,ft),tt}for(st=g(le,st);ft<de.length;ft++)Er=We(st,le,ft,de[ft],De),Er!==null&&(i&&Er.alternate!==null&&st.delete(Er.key===null?ft:Er.key),oe=S(Er,oe,ft),it===null?tt=Er:it.sibling=Er,it=Er);return i&&st.forEach(function(po){return l(le,po)}),er&&qo(le,ft),tt}function et(le,oe,de,De){var tt=Y(de);if(typeof tt!="function")throw Error(r(150));if(de=tt.call(de),de==null)throw Error(r(151));for(var it=tt=null,st=oe,ft=oe=0,Er=null,It=de.next();st!==null&&!It.done;ft++,It=de.next()){st.index>ft?(Er=st,st=null):Er=st.sibling;var po=Ae(le,st,It.value,De);if(po===null){st===null&&(st=Er);break}i&&st&&po.alternate===null&&l(le,st),oe=S(po,oe,ft),it===null?tt=po:it.sibling=po,it=po,st=Er}if(It.done)return f(le,st),er&&qo(le,ft),tt;if(st===null){for(;!It.done;ft++,It=de.next())It=_e(le,It.value,De),It!==null&&(oe=S(It,oe,ft),it===null?tt=It:it.sibling=It,it=It);return er&&qo(le,ft),tt}for(st=g(le,st);!It.done;ft++,It=de.next())It=We(st,le,ft,It.value,De),It!==null&&(i&&It.alternate!==null&&st.delete(It.key===null?ft:It.key),oe=S(It,oe,ft),it===null?tt=It:it.sibling=It,it=It);return i&&st.forEach(function(r4){return l(le,r4)}),er&&qo(le,ft),tt}function lr(le,oe,de,De){if(typeof de=="object"&&de!==null&&de.type===O&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case P:e:{for(var tt=de.key,it=oe;it!==null;){if(it.key===tt){if(tt=de.type,tt===O){if(it.tag===7){f(le,it.sibling),oe=j(it,de.props.children),oe.return=le,le=oe;break e}}else if(it.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===G&&kw(tt)===it.type){f(le,it.sibling),oe=j(it,de.props),oe.ref=El(le,it,de),oe.return=le,le=oe;break e}f(le,it);break}else l(le,it);it=it.sibling}de.type===O?(oe=Yo(de.props.children,le.mode,De,de.key),oe.return=le,le=oe):(De=ad(de.type,de.key,de.props,null,le.mode,De),De.ref=El(le,oe,de),De.return=le,le=De)}return $(le);case k:e:{for(it=de.key;oe!==null;){if(oe.key===it)if(oe.tag===4&&oe.stateNode.containerInfo===de.containerInfo&&oe.stateNode.implementation===de.implementation){f(le,oe.sibling),oe=j(oe,de.children||[]),oe.return=le,le=oe;break e}else{f(le,oe);break}else l(le,oe);oe=oe.sibling}oe=ih(de,le.mode,De),oe.return=le,le=oe}return $(le);case G:return it=de._init,lr(le,oe,it(de._payload),De)}if(Pe(de))return Xe(le,oe,de,De);if(Y(de))return et(le,oe,de,De);Du(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,oe!==null&&oe.tag===6?(f(le,oe.sibling),oe=j(oe,de),oe.return=le,le=oe):(f(le,oe),oe=oh(de,le.mode,De),oe.return=le,le=oe),$(le)):f(le,oe)}return lr}var Vi=_w(!0),Iw=_w(!1),$u=ro(null),Mu=null,qi=null,hp=null;function gp(){hp=qi=Mu=null}function vp(i){var l=$u.current;Zt($u),i._currentValue=l}function yp(i,l,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===f)break;i=i.return}}function Ui(i,l){Mu=i,hp=qi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(en=!0),i.firstContext=null)}function wn(i){var l=i._currentValue;if(hp!==i)if(i={context:i,memoizedValue:l,next:null},qi===null){if(Mu===null)throw Error(r(308));qi=i,Mu.dependencies={lanes:0,firstContext:i}}else qi=qi.next=i;return l}var Uo=null;function xp(i){Uo===null?Uo=[i]:Uo.push(i)}function Tw(i,l,f,g){var j=l.interleaved;return j===null?(f.next=f,xp(l)):(f.next=j.next,j.next=f),l.interleaved=f,Na(i,g)}function Na(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var oo=!1;function bp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dw(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Sa(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function io(i,l,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Ot&2)!==0){var j=g.pending;return j===null?l.next=l:(l.next=j.next,j.next=l),g.pending=l,Na(i,f)}return j=g.interleaved,j===null?(l.next=l,xp(g)):(l.next=j.next,j.next=l),g.interleaved=l,Na(i,f)}function Ru(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Dm(i,f)}}function $w(i,l){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var j=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var $={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?j=S=$:S=S.next=$,f=f.next}while(f!==null);S===null?j=S=l:S=S.next=l}else j=S=l;f={baseState:g.baseState,firstBaseUpdate:j,lastBaseUpdate:S,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function Lu(i,l,f,g){var j=i.updateQueue;oo=!1;var S=j.firstBaseUpdate,$=j.lastBaseUpdate,J=j.shared.pending;if(J!==null){j.shared.pending=null;var re=J,fe=re.next;re.next=null,$===null?S=fe:$.next=fe,$=re;var ke=i.alternate;ke!==null&&(ke=ke.updateQueue,J=ke.lastBaseUpdate,J!==$&&(J===null?ke.firstBaseUpdate=fe:J.next=fe,ke.lastBaseUpdate=re))}if(S!==null){var _e=j.baseState;$=0,ke=fe=re=null,J=S;do{var Ae=J.lane,We=J.eventTime;if((g&Ae)===Ae){ke!==null&&(ke=ke.next={eventTime:We,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Xe=i,et=J;switch(Ae=l,We=f,et.tag){case 1:if(Xe=et.payload,typeof Xe=="function"){_e=Xe.call(We,_e,Ae);break e}_e=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=et.payload,Ae=typeof Xe=="function"?Xe.call(We,_e,Ae):Xe,Ae==null)break e;_e=U({},_e,Ae);break e;case 2:oo=!0}}J.callback!==null&&J.lane!==0&&(i.flags|=64,Ae=j.effects,Ae===null?j.effects=[J]:Ae.push(J))}else We={eventTime:We,lane:Ae,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ke===null?(fe=ke=We,re=_e):ke=ke.next=We,$|=Ae;if(J=J.next,J===null){if(J=j.shared.pending,J===null)break;Ae=J,J=Ae.next,Ae.next=null,j.lastBaseUpdate=Ae,j.shared.pending=null}}while(!0);if(ke===null&&(re=_e),j.baseState=re,j.firstBaseUpdate=fe,j.lastBaseUpdate=ke,l=j.shared.interleaved,l!==null){j=l;do $|=j.lane,j=j.next;while(j!==l)}else S===null&&(j.shared.lanes=0);Go|=$,i.lanes=$,i.memoizedState=_e}}function Mw(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],j=g.callback;if(j!==null){if(g.callback=null,g=f,typeof j!="function")throw Error(r(191,j));j.call(g)}}}var Pl={},Qn=ro(Pl),Ol=ro(Pl),Al=ro(Pl);function Wo(i){if(i===Pl)throw Error(r(174));return i}function jp(i,l){switch(Gt(Al,l),Gt(Ol,i),Gt(Qn,Pl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Pt(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Pt(l,i)}Zt(Qn),Gt(Qn,l)}function Wi(){Zt(Qn),Zt(Ol),Zt(Al)}function Rw(i){Wo(Al.current);var l=Wo(Qn.current),f=Pt(l,i.type);l!==f&&(Gt(Ol,i),Gt(Qn,f))}function wp(i){Ol.current===i&&(Zt(Qn),Zt(Ol))}var rr=ro(0);function zu(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Np=[];function Sp(){for(var i=0;i<Np.length;i++)Np[i]._workInProgressVersionPrimary=null;Np.length=0}var Fu=_.ReactCurrentDispatcher,Cp=_.ReactCurrentBatchConfig,Ho=0,nr=null,hr=null,Sr=null,Bu=!1,kl=!1,_l=0,S$=0;function Lr(){throw Error(r(321))}function Ep(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!Rn(i[f],l[f]))return!1;return!0}function Pp(i,l,f,g,j,S){if(Ho=S,nr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Fu.current=i===null||i.memoizedState===null?O$:A$,i=f(g,j),kl){S=0;do{if(kl=!1,_l=0,25<=S)throw Error(r(301));S+=1,Sr=hr=null,l.updateQueue=null,Fu.current=k$,i=f(g,j)}while(kl)}if(Fu.current=Uu,l=hr!==null&&hr.next!==null,Ho=0,Sr=hr=nr=null,Bu=!1,l)throw Error(r(300));return i}function Op(){var i=_l!==0;return _l=0,i}function ea(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?nr.memoizedState=Sr=i:Sr=Sr.next=i,Sr}function Nn(){if(hr===null){var i=nr.alternate;i=i!==null?i.memoizedState:null}else i=hr.next;var l=Sr===null?nr.memoizedState:Sr.next;if(l!==null)Sr=l,hr=i;else{if(i===null)throw Error(r(310));hr=i,i={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},Sr===null?nr.memoizedState=Sr=i:Sr=Sr.next=i}return Sr}function Il(i,l){return typeof l=="function"?l(i):l}function Ap(i){var l=Nn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=hr,j=g.baseQueue,S=f.pending;if(S!==null){if(j!==null){var $=j.next;j.next=S.next,S.next=$}g.baseQueue=j=S,f.pending=null}if(j!==null){S=j.next,g=g.baseState;var J=$=null,re=null,fe=S;do{var ke=fe.lane;if((Ho&ke)===ke)re!==null&&(re=re.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),g=fe.hasEagerState?fe.eagerState:i(g,fe.action);else{var _e={lane:ke,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};re===null?(J=re=_e,$=g):re=re.next=_e,nr.lanes|=ke,Go|=ke}fe=fe.next}while(fe!==null&&fe!==S);re===null?$=g:re.next=J,Rn(g,l.memoizedState)||(en=!0),l.memoizedState=g,l.baseState=$,l.baseQueue=re,f.lastRenderedState=g}if(i=f.interleaved,i!==null){j=i;do S=j.lane,nr.lanes|=S,Go|=S,j=j.next;while(j!==i)}else j===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function kp(i){var l=Nn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,j=f.pending,S=l.memoizedState;if(j!==null){f.pending=null;var $=j=j.next;do S=i(S,$.action),$=$.next;while($!==j);Rn(S,l.memoizedState)||(en=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,g]}function Lw(){}function zw(i,l){var f=nr,g=Nn(),j=l(),S=!Rn(g.memoizedState,j);if(S&&(g.memoizedState=j,en=!0),g=g.queue,_p(Vw.bind(null,f,g,i),[i]),g.getSnapshot!==l||S||Sr!==null&&Sr.memoizedState.tag&1){if(f.flags|=2048,Tl(9,Bw.bind(null,f,g,j,l),void 0,null),Cr===null)throw Error(r(349));(Ho&30)!==0||Fw(f,l,j)}return j}function Fw(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=nr.updateQueue,l===null?(l={lastEffect:null,stores:null},nr.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function Bw(i,l,f,g){l.value=f,l.getSnapshot=g,qw(l)&&Uw(i)}function Vw(i,l,f){return f(function(){qw(l)&&Uw(i)})}function qw(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!Rn(i,f)}catch{return!0}}function Uw(i){var l=Na(i,1);l!==null&&Vn(l,i,1,-1)}function Ww(i){var l=ea();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:i},l.queue=i,i=i.dispatch=P$.bind(null,nr,i),[l.memoizedState,i]}function Tl(i,l,f,g){return i={tag:i,create:l,destroy:f,deps:g,next:null},l=nr.updateQueue,l===null?(l={lastEffect:null,stores:null},nr.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,l.lastEffect=i)),i}function Hw(){return Nn().memoizedState}function Vu(i,l,f,g){var j=ea();nr.flags|=i,j.memoizedState=Tl(1|l,f,void 0,g===void 0?null:g)}function qu(i,l,f,g){var j=Nn();g=g===void 0?null:g;var S=void 0;if(hr!==null){var $=hr.memoizedState;if(S=$.destroy,g!==null&&Ep(g,$.deps)){j.memoizedState=Tl(l,f,S,g);return}}nr.flags|=i,j.memoizedState=Tl(1|l,f,S,g)}function Gw(i,l){return Vu(8390656,8,i,l)}function _p(i,l){return qu(2048,8,i,l)}function Kw(i,l){return qu(4,2,i,l)}function Jw(i,l){return qu(4,4,i,l)}function Xw(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Yw(i,l,f){return f=f!=null?f.concat([i]):null,qu(4,4,Xw.bind(null,l,i),f)}function Ip(){}function Zw(i,l){var f=Nn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Ep(l,g[1])?g[0]:(f.memoizedState=[i,l],i)}function Qw(i,l){var f=Nn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Ep(l,g[1])?g[0]:(i=i(),f.memoizedState=[i,l],i)}function e1(i,l,f){return(Ho&21)===0?(i.baseState&&(i.baseState=!1,en=!0),i.memoizedState=f):(Rn(f,l)||(f=St(),nr.lanes|=f,Go|=f,i.baseState=!0),l)}function C$(i,l){var f=Vt;Vt=f!==0&&4>f?f:4,i(!0);var g=Cp.transition;Cp.transition={};try{i(!1),l()}finally{Vt=f,Cp.transition=g}}function t1(){return Nn().memoizedState}function E$(i,l,f){var g=uo(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},r1(i))n1(l,f);else if(f=Tw(i,l,f,g),f!==null){var j=Ur();Vn(f,i,g,j),a1(f,l,g)}}function P$(i,l,f){var g=uo(i),j={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(r1(i))n1(l,j);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var $=l.lastRenderedState,J=S($,f);if(j.hasEagerState=!0,j.eagerState=J,Rn(J,$)){var re=l.interleaved;re===null?(j.next=j,xp(l)):(j.next=re.next,re.next=j),l.interleaved=j;return}}catch{}finally{}f=Tw(i,l,j,g),f!==null&&(j=Ur(),Vn(f,i,g,j),a1(f,l,g))}}function r1(i){var l=i.alternate;return i===nr||l!==null&&l===nr}function n1(i,l){kl=Bu=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function a1(i,l,f){if((f&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Dm(i,f)}}var Uu={readContext:wn,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},O$={readContext:wn,useCallback:function(i,l){return ea().memoizedState=[i,l===void 0?null:l],i},useContext:wn,useEffect:Gw,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,Vu(4194308,4,Xw.bind(null,l,i),f)},useLayoutEffect:function(i,l){return Vu(4194308,4,i,l)},useInsertionEffect:function(i,l){return Vu(4,2,i,l)},useMemo:function(i,l){var f=ea();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var g=ea();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=E$.bind(null,nr,i),[g.memoizedState,i]},useRef:function(i){var l=ea();return i={current:i},l.memoizedState=i},useState:Ww,useDebugValue:Ip,useDeferredValue:function(i){return ea().memoizedState=i},useTransition:function(){var i=Ww(!1),l=i[0];return i=C$.bind(null,i[1]),ea().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var g=nr,j=ea();if(er){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Cr===null)throw Error(r(349));(Ho&30)!==0||Fw(g,l,f)}j.memoizedState=f;var S={value:f,getSnapshot:l};return j.queue=S,Gw(Vw.bind(null,g,S,i),[i]),g.flags|=2048,Tl(9,Bw.bind(null,g,S,f,l),void 0,null),f},useId:function(){var i=ea(),l=Cr.identifierPrefix;if(er){var f=wa,g=ja;f=(g&~(1<<32-dr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=_l++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=S$++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},A$={readContext:wn,useCallback:Zw,useContext:wn,useEffect:_p,useImperativeHandle:Yw,useInsertionEffect:Kw,useLayoutEffect:Jw,useMemo:Qw,useReducer:Ap,useRef:Hw,useState:function(){return Ap(Il)},useDebugValue:Ip,useDeferredValue:function(i){var l=Nn();return e1(l,hr.memoizedState,i)},useTransition:function(){var i=Ap(Il)[0],l=Nn().memoizedState;return[i,l]},useMutableSource:Lw,useSyncExternalStore:zw,useId:t1,unstable_isNewReconciler:!1},k$={readContext:wn,useCallback:Zw,useContext:wn,useEffect:_p,useImperativeHandle:Yw,useInsertionEffect:Kw,useLayoutEffect:Jw,useMemo:Qw,useReducer:kp,useRef:Hw,useState:function(){return kp(Il)},useDebugValue:Ip,useDeferredValue:function(i){var l=Nn();return hr===null?l.memoizedState=i:e1(l,hr.memoizedState,i)},useTransition:function(){var i=kp(Il)[0],l=Nn().memoizedState;return[i,l]},useMutableSource:Lw,useSyncExternalStore:zw,useId:t1,unstable_isNewReconciler:!1};function zn(i,l){if(i&&i.defaultProps){l=U({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function Tp(i,l,f,g){l=i.memoizedState,f=f(g,l),f=f==null?l:U({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Wu={isMounted:function(i){return(i=i._reactInternals)?Mn(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var g=Ur(),j=uo(i),S=Sa(g,j);S.payload=l,f!=null&&(S.callback=f),l=io(i,S,j),l!==null&&(Vn(l,i,j,g),Ru(l,i,j))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var g=Ur(),j=uo(i),S=Sa(g,j);S.tag=1,S.payload=l,f!=null&&(S.callback=f),l=io(i,S,j),l!==null&&(Vn(l,i,j,g),Ru(l,i,j))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=Ur(),g=uo(i),j=Sa(f,g);j.tag=2,l!=null&&(j.callback=l),l=io(i,j,g),l!==null&&(Vn(l,i,g,f),Ru(l,i,g))}};function o1(i,l,f,g,j,S,$){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,S,$):l.prototype&&l.prototype.isPureReactComponent?!xl(f,g)||!xl(j,S):!0}function i1(i,l,f){var g=!1,j=no,S=l.contextType;return typeof S=="object"&&S!==null?S=wn(S):(j=Qr(l)?Bo:Rr.current,g=l.contextTypes,S=(g=g!=null)?Li(i,j):no),l=new l(f,S),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Wu,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=j,i.__reactInternalMemoizedMaskedChildContext=S),l}function s1(i,l,f,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==i&&Wu.enqueueReplaceState(l,l.state,null)}function Dp(i,l,f,g){var j=i.stateNode;j.props=f,j.state=i.memoizedState,j.refs={},bp(i);var S=l.contextType;typeof S=="object"&&S!==null?j.context=wn(S):(S=Qr(l)?Bo:Rr.current,j.context=Li(i,S)),j.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Tp(i,l,S,f),j.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(l=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),l!==j.state&&Wu.enqueueReplaceState(j,j.state,null),Lu(i,f,j,g),j.state=i.memoizedState),typeof j.componentDidMount=="function"&&(i.flags|=4194308)}function Hi(i,l){try{var f="",g=l;do f+=K(g),g=g.return;while(g);var j=f}catch(S){j=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:l,stack:j,digest:null}}function $p(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function Mp(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var _$=typeof WeakMap=="function"?WeakMap:Map;function l1(i,l,f){f=Sa(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Zu||(Zu=!0,Yp=g),Mp(i,l)},f}function c1(i,l,f){f=Sa(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var j=l.value;f.payload=function(){return g(j)},f.callback=function(){Mp(i,l)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){Mp(i,l),typeof g!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),f}function u1(i,l,f){var g=i.pingCache;if(g===null){g=i.pingCache=new _$;var j=new Set;g.set(l,j)}else j=g.get(l),j===void 0&&(j=new Set,g.set(l,j));j.has(f)||(j.add(f),i=W$.bind(null,i,l,f),l.then(i,i))}function d1(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function f1(i,l,f,g,j){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Sa(-1,1),l.tag=2,io(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=j,i)}var I$=_.ReactCurrentOwner,en=!1;function qr(i,l,f,g){l.child=i===null?Iw(l,null,f,g):Vi(l,i.child,f,g)}function m1(i,l,f,g,j){f=f.render;var S=l.ref;return Ui(l,j),g=Pp(i,l,f,g,S,j),f=Op(),i!==null&&!en?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~j,Ca(i,l,j)):(er&&f&&up(l),l.flags|=1,qr(i,l,g,j),l.child)}function p1(i,l,f,g,j){if(i===null){var S=f.type;return typeof S=="function"&&!ah(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=S,h1(i,l,S,g,j)):(i=ad(f.type,null,g,l,l.mode,j),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,(i.lanes&j)===0){var $=S.memoizedProps;if(f=f.compare,f=f!==null?f:xl,f($,g)&&i.ref===l.ref)return Ca(i,l,j)}return l.flags|=1,i=mo(S,g),i.ref=l.ref,i.return=l,l.child=i}function h1(i,l,f,g,j){if(i!==null){var S=i.memoizedProps;if(xl(S,g)&&i.ref===l.ref)if(en=!1,l.pendingProps=g=S,(i.lanes&j)!==0)(i.flags&131072)!==0&&(en=!0);else return l.lanes=i.lanes,Ca(i,l,j)}return Rp(i,l,f,g,j)}function g1(i,l,f){var g=l.pendingProps,j=g.children,S=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Ki,dn),dn|=f;else{if((f&1073741824)===0)return i=S!==null?S.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Gt(Ki,dn),dn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:f,Gt(Ki,dn),dn|=g}else S!==null?(g=S.baseLanes|f,l.memoizedState=null):g=f,Gt(Ki,dn),dn|=g;return qr(i,l,j,f),l.child}function v1(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Rp(i,l,f,g,j){var S=Qr(f)?Bo:Rr.current;return S=Li(l,S),Ui(l,j),f=Pp(i,l,f,g,S,j),g=Op(),i!==null&&!en?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~j,Ca(i,l,j)):(er&&g&&up(l),l.flags|=1,qr(i,l,f,j),l.child)}function y1(i,l,f,g,j){if(Qr(f)){var S=!0;Au(l)}else S=!1;if(Ui(l,j),l.stateNode===null)Gu(i,l),i1(l,f,g),Dp(l,f,g,j),g=!0;else if(i===null){var $=l.stateNode,J=l.memoizedProps;$.props=J;var re=$.context,fe=f.contextType;typeof fe=="object"&&fe!==null?fe=wn(fe):(fe=Qr(f)?Bo:Rr.current,fe=Li(l,fe));var ke=f.getDerivedStateFromProps,_e=typeof ke=="function"||typeof $.getSnapshotBeforeUpdate=="function";_e||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(J!==g||re!==fe)&&s1(l,$,g,fe),oo=!1;var Ae=l.memoizedState;$.state=Ae,Lu(l,g,$,j),re=l.memoizedState,J!==g||Ae!==re||Zr.current||oo?(typeof ke=="function"&&(Tp(l,f,ke,g),re=l.memoizedState),(J=oo||o1(l,f,J,g,Ae,re,fe))?(_e||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=re),$.props=g,$.state=re,$.context=fe,g=J):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{$=l.stateNode,Dw(i,l),J=l.memoizedProps,fe=l.type===l.elementType?J:zn(l.type,J),$.props=fe,_e=l.pendingProps,Ae=$.context,re=f.contextType,typeof re=="object"&&re!==null?re=wn(re):(re=Qr(f)?Bo:Rr.current,re=Li(l,re));var We=f.getDerivedStateFromProps;(ke=typeof We=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(J!==_e||Ae!==re)&&s1(l,$,g,re),oo=!1,Ae=l.memoizedState,$.state=Ae,Lu(l,g,$,j);var Xe=l.memoizedState;J!==_e||Ae!==Xe||Zr.current||oo?(typeof We=="function"&&(Tp(l,f,We,g),Xe=l.memoizedState),(fe=oo||o1(l,f,fe,g,Ae,Xe,re)||!1)?(ke||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Xe,re),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Xe,re)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||J===i.memoizedProps&&Ae===i.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||J===i.memoizedProps&&Ae===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Xe),$.props=g,$.state=Xe,$.context=re,g=fe):(typeof $.componentDidUpdate!="function"||J===i.memoizedProps&&Ae===i.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||J===i.memoizedProps&&Ae===i.memoizedState||(l.flags|=1024),g=!1)}return Lp(i,l,f,g,S,j)}function Lp(i,l,f,g,j,S){v1(i,l);var $=(l.flags&128)!==0;if(!g&&!$)return j&&Nw(l,f,!1),Ca(i,l,S);g=l.stateNode,I$.current=l;var J=$&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&$?(l.child=Vi(l,i.child,null,S),l.child=Vi(l,null,J,S)):qr(i,l,J,S),l.memoizedState=g.state,j&&Nw(l,f,!0),l.child}function x1(i){var l=i.stateNode;l.pendingContext?jw(i,l.pendingContext,l.pendingContext!==l.context):l.context&&jw(i,l.context,!1),jp(i,l.containerInfo)}function b1(i,l,f,g,j){return Bi(),pp(j),l.flags|=256,qr(i,l,f,g),l.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function Fp(i){return{baseLanes:i,cachePool:null,transitions:null}}function j1(i,l,f){var g=l.pendingProps,j=rr.current,S=!1,$=(l.flags&128)!==0,J;if((J=$)||(J=i!==null&&i.memoizedState===null?!1:(j&2)!==0),J?(S=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(j|=1),Gt(rr,j&1),i===null)return mp(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=g.children,i=g.fallback,S?(g=l.mode,S=l.child,$={mode:"hidden",children:$},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=$):S=od($,g,0,null),i=Yo(i,g,f,null),S.return=l,i.return=l,S.sibling=i,l.child=S,l.child.memoizedState=Fp(f),l.memoizedState=zp,i):Bp(l,$));if(j=i.memoizedState,j!==null&&(J=j.dehydrated,J!==null))return T$(i,l,$,g,J,j,f);if(S){S=g.fallback,$=l.mode,j=i.child,J=j.sibling;var re={mode:"hidden",children:g.children};return($&1)===0&&l.child!==j?(g=l.child,g.childLanes=0,g.pendingProps=re,l.deletions=null):(g=mo(j,re),g.subtreeFlags=j.subtreeFlags&14680064),J!==null?S=mo(J,S):(S=Yo(S,$,f,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,$=i.child.memoizedState,$=$===null?Fp(f):{baseLanes:$.baseLanes|f,cachePool:null,transitions:$.transitions},S.memoizedState=$,S.childLanes=i.childLanes&~f,l.memoizedState=zp,g}return S=i.child,i=S.sibling,g=mo(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=g,l.memoizedState=null,g}function Bp(i,l){return l=od({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Hu(i,l,f,g){return g!==null&&pp(g),Vi(l,i.child,null,f),i=Bp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function T$(i,l,f,g,j,S,$){if(f)return l.flags&256?(l.flags&=-257,g=$p(Error(r(422))),Hu(i,l,$,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(S=g.fallback,j=l.mode,g=od({mode:"visible",children:g.children},j,0,null),S=Yo(S,j,$,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&Vi(l,i.child,null,$),l.child.memoizedState=Fp($),l.memoizedState=zp,S);if((l.mode&1)===0)return Hu(i,l,$,null);if(j.data==="$!"){if(g=j.nextSibling&&j.nextSibling.dataset,g)var J=g.dgst;return g=J,S=Error(r(419)),g=$p(S,g,void 0),Hu(i,l,$,g)}if(J=($&i.childLanes)!==0,en||J){if(g=Cr,g!==null){switch($&-$){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(g.suspendedLanes|$))!==0?0:j,j!==0&&j!==S.retryLane&&(S.retryLane=j,Na(i,j),Vn(g,i,j,-1))}return nh(),g=$p(Error(r(421))),Hu(i,l,$,g)}return j.data==="$?"?(l.flags|=128,l.child=i.child,l=H$.bind(null,i),j._reactRetry=l,null):(i=S.treeContext,un=to(j.nextSibling),cn=l,er=!0,Ln=null,i!==null&&(bn[jn++]=ja,bn[jn++]=wa,bn[jn++]=Vo,ja=i.id,wa=i.overflow,Vo=l),l=Bp(l,g.children),l.flags|=4096,l)}function w1(i,l,f){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),yp(i.return,l,f)}function Vp(i,l,f,g,j){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:j}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=f,S.tailMode=j)}function N1(i,l,f){var g=l.pendingProps,j=g.revealOrder,S=g.tail;if(qr(i,l,g.children,f),g=rr.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&w1(i,f,l);else if(i.tag===19)w1(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Gt(rr,g),(l.mode&1)===0)l.memoizedState=null;else switch(j){case"forwards":for(f=l.child,j=null;f!==null;)i=f.alternate,i!==null&&zu(i)===null&&(j=f),f=f.sibling;f=j,f===null?(j=l.child,l.child=null):(j=f.sibling,f.sibling=null),Vp(l,!1,j,f,S);break;case"backwards":for(f=null,j=l.child,l.child=null;j!==null;){if(i=j.alternate,i!==null&&zu(i)===null){l.child=j;break}i=j.sibling,j.sibling=f,f=j,j=i}Vp(l,!0,f,null,S);break;case"together":Vp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Gu(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Ca(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),Go|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=mo(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=mo(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function D$(i,l,f){switch(l.tag){case 3:x1(l),Bi();break;case 5:Rw(l);break;case 1:Qr(l.type)&&Au(l);break;case 4:jp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,j=l.memoizedProps.value;Gt($u,g._currentValue),g._currentValue=j;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Gt(rr,rr.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?j1(i,l,f):(Gt(rr,rr.current&1),i=Ca(i,l,f),i!==null?i.sibling:null);Gt(rr,rr.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(i.flags&128)!==0){if(g)return N1(i,l,f);l.flags|=128}if(j=l.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Gt(rr,rr.current),g)break;return null;case 22:case 23:return l.lanes=0,g1(i,l,f)}return Ca(i,l,f)}var S1,qp,C1,E1;S1=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},qp=function(){},C1=function(i,l,f,g){var j=i.memoizedProps;if(j!==g){i=l.stateNode,Wo(Qn.current);var S=null;switch(f){case"input":j=Se(i,j),g=Se(i,g),S=[];break;case"select":j=U({},j,{value:void 0}),g=U({},g,{value:void 0}),S=[];break;case"textarea":j=ae(i,j),g=ae(i,g),S=[];break;default:typeof j.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Eu)}Xn(f,g);var $;f=null;for(fe in j)if(!g.hasOwnProperty(fe)&&j.hasOwnProperty(fe)&&j[fe]!=null)if(fe==="style"){var J=j[fe];for($ in J)J.hasOwnProperty($)&&(f||(f={}),f[$]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(o.hasOwnProperty(fe)?S||(S=[]):(S=S||[]).push(fe,null));for(fe in g){var re=g[fe];if(J=j?.[fe],g.hasOwnProperty(fe)&&re!==J&&(re!=null||J!=null))if(fe==="style")if(J){for($ in J)!J.hasOwnProperty($)||re&&re.hasOwnProperty($)||(f||(f={}),f[$]="");for($ in re)re.hasOwnProperty($)&&J[$]!==re[$]&&(f||(f={}),f[$]=re[$])}else f||(S||(S=[]),S.push(fe,f)),f=re;else fe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,J=J?J.__html:void 0,re!=null&&J!==re&&(S=S||[]).push(fe,re)):fe==="children"?typeof re!="string"&&typeof re!="number"||(S=S||[]).push(fe,""+re):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(fe)?(re!=null&&fe==="onScroll"&&Yt("scroll",i),S||J===re||(S=[])):(S=S||[]).push(fe,re))}f&&(S=S||[]).push("style",f);var fe=S;(l.updateQueue=fe)&&(l.flags|=4)}},E1=function(i,l,f,g){f!==g&&(l.flags|=4)};function Dl(i,l){if(!er)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function zr(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(l)for(var j=i.child;j!==null;)f|=j.lanes|j.childLanes,g|=j.subtreeFlags&14680064,g|=j.flags&14680064,j.return=i,j=j.sibling;else for(j=i.child;j!==null;)f|=j.lanes|j.childLanes,g|=j.subtreeFlags,g|=j.flags,j.return=i,j=j.sibling;return i.subtreeFlags|=g,i.childLanes=f,l}function $$(i,l,f){var g=l.pendingProps;switch(dp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(l),null;case 1:return Qr(l.type)&&Ou(),zr(l),null;case 3:return g=l.stateNode,Wi(),Zt(Zr),Zt(Rr),Sp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Tu(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ln!==null&&(eh(Ln),Ln=null))),qp(i,l),zr(l),null;case 5:wp(l);var j=Wo(Al.current);if(f=l.type,i!==null&&l.stateNode!=null)C1(i,l,f,g,j),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return zr(l),null}if(i=Wo(Qn.current),Tu(l)){g=l.stateNode,f=l.type;var S=l.memoizedProps;switch(g[Zn]=l,g[Sl]=S,i=(l.mode&1)!==0,f){case"dialog":Yt("cancel",g),Yt("close",g);break;case"iframe":case"object":case"embed":Yt("load",g);break;case"video":case"audio":for(j=0;j<jl.length;j++)Yt(jl[j],g);break;case"source":Yt("error",g);break;case"img":case"image":case"link":Yt("error",g),Yt("load",g);break;case"details":Yt("toggle",g);break;case"input":ge(g,S),Yt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Yt("invalid",g);break;case"textarea":we(g,S),Yt("invalid",g)}Xn(f,S),j=null;for(var $ in S)if(S.hasOwnProperty($)){var J=S[$];$==="children"?typeof J=="string"?g.textContent!==J&&(S.suppressHydrationWarning!==!0&&Cu(g.textContent,J,i),j=["children",J]):typeof J=="number"&&g.textContent!==""+J&&(S.suppressHydrationWarning!==!0&&Cu(g.textContent,J,i),j=["children",""+J]):o.hasOwnProperty($)&&J!=null&&$==="onScroll"&&Yt("scroll",g)}switch(f){case"input":Me(g),Q(g,S,!0);break;case"textarea":Me(g),Fe(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Eu)}g=j,l.updateQueue=g,g!==null&&(l.flags|=4)}else{$=j.nodeType===9?j:j.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=$.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=$.createElement(f,{is:g.is}):(i=$.createElement(f),f==="select"&&($=i,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):i=$.createElementNS(i,f),i[Zn]=l,i[Sl]=g,S1(i,l,!1,!1),l.stateNode=i;e:{switch($=X(f,g),f){case"dialog":Yt("cancel",i),Yt("close",i),j=g;break;case"iframe":case"object":case"embed":Yt("load",i),j=g;break;case"video":case"audio":for(j=0;j<jl.length;j++)Yt(jl[j],i);j=g;break;case"source":Yt("error",i),j=g;break;case"img":case"image":case"link":Yt("error",i),Yt("load",i),j=g;break;case"details":Yt("toggle",i),j=g;break;case"input":ge(i,g),j=Se(i,g),Yt("invalid",i);break;case"option":j=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},j=U({},g,{value:void 0}),Yt("invalid",i);break;case"textarea":we(i,g),j=ae(i,g),Yt("invalid",i);break;default:j=g}Xn(f,j),J=j;for(S in J)if(J.hasOwnProperty(S)){var re=J[S];S==="style"?Wa(i,re):S==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&ar(i,re)):S==="children"?typeof re=="string"?(f!=="textarea"||re!=="")&&Jr(i,re):typeof re=="number"&&Jr(i,""+re):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?re!=null&&S==="onScroll"&&Yt("scroll",i):re!=null&&E(i,S,re,$))}switch(f){case"input":Me(i),Q(i,g,!1);break;case"textarea":Me(i),Fe(i);break;case"option":g.value!=null&&i.setAttribute("value",""+ne(g.value));break;case"select":i.multiple=!!g.multiple,S=g.value,S!=null?ee(i,!!g.multiple,S,!1):g.defaultValue!=null&&ee(i,!!g.multiple,g.defaultValue,!0);break;default:typeof j.onClick=="function"&&(i.onclick=Eu)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return zr(l),null;case 6:if(i&&l.stateNode!=null)E1(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=Wo(Al.current),Wo(Qn.current),Tu(l)){if(g=l.stateNode,f=l.memoizedProps,g[Zn]=l,(S=g.nodeValue!==f)&&(i=cn,i!==null))switch(i.tag){case 3:Cu(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Cu(g.nodeValue,f,(i.mode&1)!==0)}S&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[Zn]=l,l.stateNode=g}return zr(l),null;case 13:if(Zt(rr),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(er&&un!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Aw(),Bi(),l.flags|=98560,S=!1;else if(S=Tu(l),g!==null&&g.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Zn]=l}else Bi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zr(l),S=!1}else Ln!==null&&(eh(Ln),Ln=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(rr.current&1)!==0?gr===0&&(gr=3):nh())),l.updateQueue!==null&&(l.flags|=4),zr(l),null);case 4:return Wi(),qp(i,l),i===null&&wl(l.stateNode.containerInfo),zr(l),null;case 10:return vp(l.type._context),zr(l),null;case 17:return Qr(l.type)&&Ou(),zr(l),null;case 19:if(Zt(rr),S=l.memoizedState,S===null)return zr(l),null;if(g=(l.flags&128)!==0,$=S.rendering,$===null)if(g)Dl(S,!1);else{if(gr!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if($=zu(i),$!==null){for(l.flags|=128,Dl(S,!1),g=$.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)S=f,i=g,S.flags&=14680066,$=S.alternate,$===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=$.childLanes,S.lanes=$.lanes,S.child=$.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=$.memoizedProps,S.memoizedState=$.memoizedState,S.updateQueue=$.updateQueue,S.type=$.type,i=$.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return Gt(rr,rr.current&1|2),l.child}i=i.sibling}S.tail!==null&&ut()>Ji&&(l.flags|=128,g=!0,Dl(S,!1),l.lanes=4194304)}else{if(!g)if(i=zu($),i!==null){if(l.flags|=128,g=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Dl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!er)return zr(l),null}else 2*ut()-S.renderingStartTime>Ji&&f!==1073741824&&(l.flags|=128,g=!0,Dl(S,!1),l.lanes=4194304);S.isBackwards?($.sibling=l.child,l.child=$):(f=S.last,f!==null?f.sibling=$:l.child=$,S.last=$)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=ut(),l.sibling=null,f=rr.current,Gt(rr,g?f&1|2:f&1),l):(zr(l),null);case 22:case 23:return rh(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(dn&1073741824)!==0&&(zr(l),l.subtreeFlags&6&&(l.flags|=8192)):zr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function M$(i,l){switch(dp(l),l.tag){case 1:return Qr(l.type)&&Ou(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Wi(),Zt(Zr),Zt(Rr),Sp(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return wp(l),null;case 13:if(Zt(rr),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Bi()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Zt(rr),null;case 4:return Wi(),null;case 10:return vp(l.type._context),null;case 22:case 23:return rh(),null;case 24:return null;default:return null}}var Ku=!1,Fr=!1,R$=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Gi(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){or(i,l,g)}else f.current=null}function Up(i,l,f){try{f()}catch(g){or(i,l,g)}}var P1=!1;function L$(i,l){if(rp=pu,i=ow(),Km(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var j=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var $=0,J=-1,re=-1,fe=0,ke=0,_e=i,Ae=null;t:for(;;){for(var We;_e!==f||j!==0&&_e.nodeType!==3||(J=$+j),_e!==S||g!==0&&_e.nodeType!==3||(re=$+g),_e.nodeType===3&&($+=_e.nodeValue.length),(We=_e.firstChild)!==null;)Ae=_e,_e=We;for(;;){if(_e===i)break t;if(Ae===f&&++fe===j&&(J=$),Ae===S&&++ke===g&&(re=$),(We=_e.nextSibling)!==null)break;_e=Ae,Ae=_e.parentNode}_e=We}f=J===-1||re===-1?null:{start:J,end:re}}else f=null}f=f||{start:0,end:0}}else f=null;for(np={focusedElem:i,selectionRange:f},pu=!1,Ke=l;Ke!==null;)if(l=Ke,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Ke=i;else for(;Ke!==null;){l=Ke;try{var Xe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var et=Xe.memoizedProps,lr=Xe.memoizedState,le=l.stateNode,oe=le.getSnapshotBeforeUpdate(l.elementType===l.type?et:zn(l.type,et),lr);le.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var de=l.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(De){or(l,l.return,De)}if(i=l.sibling,i!==null){i.return=l.return,Ke=i;break}Ke=l.return}return Xe=P1,P1=!1,Xe}function $l(i,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var j=g=g.next;do{if((j.tag&i)===i){var S=j.destroy;j.destroy=void 0,S!==void 0&&Up(l,f,S)}j=j.next}while(j!==g)}}function Ju(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Wp(i){var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof l=="function"?l(i):l.current=i}}function O1(i){var l=i.alternate;l!==null&&(i.alternate=null,O1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[Zn],delete l[Sl],delete l[sp],delete l[b$],delete l[j$])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function A1(i){return i.tag===5||i.tag===3||i.tag===4}function k1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||A1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hp(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Eu));else if(g!==4&&(i=i.child,i!==null))for(Hp(i,l,f),i=i.sibling;i!==null;)Hp(i,l,f),i=i.sibling}function Gp(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Gp(i,l,f),i=i.sibling;i!==null;)Gp(i,l,f),i=i.sibling}var Ir=null,Fn=!1;function so(i,l,f){for(f=f.child;f!==null;)_1(i,l,f),f=f.sibling}function _1(i,l,f){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Nt,f)}catch{}switch(f.tag){case 5:Fr||Gi(f,l);case 6:var g=Ir,j=Fn;Ir=null,so(i,l,f),Ir=g,Fn=j,Ir!==null&&(Fn?(i=Ir,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Ir.removeChild(f.stateNode));break;case 18:Ir!==null&&(Fn?(i=Ir,f=f.stateNode,i.nodeType===8?ip(i.parentNode,f):i.nodeType===1&&ip(i,f),ml(i)):ip(Ir,f.stateNode));break;case 4:g=Ir,j=Fn,Ir=f.stateNode.containerInfo,Fn=!0,so(i,l,f),Ir=g,Fn=j;break;case 0:case 11:case 14:case 15:if(!Fr&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){j=g=g.next;do{var S=j,$=S.destroy;S=S.tag,$!==void 0&&((S&2)!==0||(S&4)!==0)&&Up(f,l,$),j=j.next}while(j!==g)}so(i,l,f);break;case 1:if(!Fr&&(Gi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(J){or(f,l,J)}so(i,l,f);break;case 21:so(i,l,f);break;case 22:f.mode&1?(Fr=(g=Fr)||f.memoizedState!==null,so(i,l,f),Fr=g):so(i,l,f);break;default:so(i,l,f)}}function I1(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new R$),l.forEach(function(g){var j=G$.bind(null,i,g);f.has(g)||(f.add(g),g.then(j,j))})}}function Bn(i,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var j=f[g];try{var S=i,$=l,J=$;e:for(;J!==null;){switch(J.tag){case 5:Ir=J.stateNode,Fn=!1;break e;case 3:Ir=J.stateNode.containerInfo,Fn=!0;break e;case 4:Ir=J.stateNode.containerInfo,Fn=!0;break e}J=J.return}if(Ir===null)throw Error(r(160));_1(S,$,j),Ir=null,Fn=!1;var re=j.alternate;re!==null&&(re.return=null),j.return=null}catch(fe){or(j,l,fe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)T1(l,i),l=l.sibling}function T1(i,l){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Bn(l,i),ta(i),g&4){try{$l(3,i,i.return),Ju(3,i)}catch(et){or(i,i.return,et)}try{$l(5,i,i.return)}catch(et){or(i,i.return,et)}}break;case 1:Bn(l,i),ta(i),g&512&&f!==null&&Gi(f,f.return);break;case 5:if(Bn(l,i),ta(i),g&512&&f!==null&&Gi(f,f.return),i.flags&32){var j=i.stateNode;try{Jr(j,"")}catch(et){or(i,i.return,et)}}if(g&4&&(j=i.stateNode,j!=null)){var S=i.memoizedProps,$=f!==null?f.memoizedProps:S,J=i.type,re=i.updateQueue;if(i.updateQueue=null,re!==null)try{J==="input"&&S.type==="radio"&&S.name!=null&&Ee(j,S),X(J,$);var fe=X(J,S);for($=0;$<re.length;$+=2){var ke=re[$],_e=re[$+1];ke==="style"?Wa(j,_e):ke==="dangerouslySetInnerHTML"?ar(j,_e):ke==="children"?Jr(j,_e):E(j,ke,_e,fe)}switch(J){case"input":Ge(j,S);break;case"textarea":Ve(j,S);break;case"select":var Ae=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!S.multiple;var We=S.value;We!=null?ee(j,!!S.multiple,We,!1):Ae!==!!S.multiple&&(S.defaultValue!=null?ee(j,!!S.multiple,S.defaultValue,!0):ee(j,!!S.multiple,S.multiple?[]:"",!1))}j[Sl]=S}catch(et){or(i,i.return,et)}}break;case 6:if(Bn(l,i),ta(i),g&4){if(i.stateNode===null)throw Error(r(162));j=i.stateNode,S=i.memoizedProps;try{j.nodeValue=S}catch(et){or(i,i.return,et)}}break;case 3:if(Bn(l,i),ta(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{ml(l.containerInfo)}catch(et){or(i,i.return,et)}break;case 4:Bn(l,i),ta(i);break;case 13:Bn(l,i),ta(i),j=i.child,j.flags&8192&&(S=j.memoizedState!==null,j.stateNode.isHidden=S,!S||j.alternate!==null&&j.alternate.memoizedState!==null||(Xp=ut())),g&4&&I1(i);break;case 22:if(ke=f!==null&&f.memoizedState!==null,i.mode&1?(Fr=(fe=Fr)||ke,Bn(l,i),Fr=fe):Bn(l,i),ta(i),g&8192){if(fe=i.memoizedState!==null,(i.stateNode.isHidden=fe)&&!ke&&(i.mode&1)!==0)for(Ke=i,ke=i.child;ke!==null;){for(_e=Ke=ke;Ke!==null;){switch(Ae=Ke,We=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:$l(4,Ae,Ae.return);break;case 1:Gi(Ae,Ae.return);var Xe=Ae.stateNode;if(typeof Xe.componentWillUnmount=="function"){g=Ae,f=Ae.return;try{l=g,Xe.props=l.memoizedProps,Xe.state=l.memoizedState,Xe.componentWillUnmount()}catch(et){or(g,f,et)}}break;case 5:Gi(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){M1(_e);continue}}We!==null?(We.return=Ae,Ke=We):M1(_e)}ke=ke.sibling}e:for(ke=null,_e=i;;){if(_e.tag===5){if(ke===null){ke=_e;try{j=_e.stateNode,fe?(S=j.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(J=_e.stateNode,re=_e.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null,J.style.display=ha("display",$))}catch(et){or(i,i.return,et)}}}else if(_e.tag===6){if(ke===null)try{_e.stateNode.nodeValue=fe?"":_e.memoizedProps}catch(et){or(i,i.return,et)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===i)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===i)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===i)break e;ke===_e&&(ke=null),_e=_e.return}ke===_e&&(ke=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:Bn(l,i),ta(i),g&4&&I1(i);break;case 21:break;default:Bn(l,i),ta(i)}}function ta(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(A1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var j=g.stateNode;g.flags&32&&(Jr(j,""),g.flags&=-33);var S=k1(i);Gp(i,S,j);break;case 3:case 4:var $=g.stateNode.containerInfo,J=k1(i);Hp(i,J,$);break;default:throw Error(r(161))}}catch(re){or(i,i.return,re)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function z$(i,l,f){Ke=i,D1(i)}function D1(i,l,f){for(var g=(i.mode&1)!==0;Ke!==null;){var j=Ke,S=j.child;if(j.tag===22&&g){var $=j.memoizedState!==null||Ku;if(!$){var J=j.alternate,re=J!==null&&J.memoizedState!==null||Fr;J=Ku;var fe=Fr;if(Ku=$,(Fr=re)&&!fe)for(Ke=j;Ke!==null;)$=Ke,re=$.child,$.tag===22&&$.memoizedState!==null?R1(j):re!==null?(re.return=$,Ke=re):R1(j);for(;S!==null;)Ke=S,D1(S),S=S.sibling;Ke=j,Ku=J,Fr=fe}$1(i)}else(j.subtreeFlags&8772)!==0&&S!==null?(S.return=j,Ke=S):$1(i)}}function $1(i){for(;Ke!==null;){var l=Ke;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Fr||Ju(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Fr)if(f===null)g.componentDidMount();else{var j=l.elementType===l.type?f.memoizedProps:zn(l.type,f.memoizedProps);g.componentDidUpdate(j,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&Mw(l,S,g);break;case 3:var $=l.updateQueue;if($!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}Mw(l,$,f)}break;case 5:var J=l.stateNode;if(f===null&&l.flags&4){f=J;var re=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&f.focus();break;case"img":re.src&&(f.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var fe=l.alternate;if(fe!==null){var ke=fe.memoizedState;if(ke!==null){var _e=ke.dehydrated;_e!==null&&ml(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Fr||l.flags&512&&Wp(l)}catch(Ae){or(l,l.return,Ae)}}if(l===i){Ke=null;break}if(f=l.sibling,f!==null){f.return=l.return,Ke=f;break}Ke=l.return}}function M1(i){for(;Ke!==null;){var l=Ke;if(l===i){Ke=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Ke=f;break}Ke=l.return}}function R1(i){for(;Ke!==null;){var l=Ke;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Ju(4,l)}catch(re){or(l,f,re)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var j=l.return;try{g.componentDidMount()}catch(re){or(l,j,re)}}var S=l.return;try{Wp(l)}catch(re){or(l,S,re)}break;case 5:var $=l.return;try{Wp(l)}catch(re){or(l,$,re)}}}catch(re){or(l,l.return,re)}if(l===i){Ke=null;break}var J=l.sibling;if(J!==null){J.return=l.return,Ke=J;break}Ke=l.return}}var F$=Math.ceil,Xu=_.ReactCurrentDispatcher,Kp=_.ReactCurrentOwner,Sn=_.ReactCurrentBatchConfig,Ot=0,Cr=null,fr=null,Tr=0,dn=0,Ki=ro(0),gr=0,Ml=null,Go=0,Yu=0,Jp=0,Rl=null,tn=null,Xp=0,Ji=1/0,Ea=null,Zu=!1,Yp=null,lo=null,Qu=!1,co=null,ed=0,Ll=0,Zp=null,td=-1,rd=0;function Ur(){return(Ot&6)!==0?ut():td!==-1?td:td=ut()}function uo(i){return(i.mode&1)===0?1:(Ot&2)!==0&&Tr!==0?Tr&-Tr:N$.transition!==null?(rd===0&&(rd=St()),rd):(i=Vt,i!==0||(i=window.event,i=i===void 0?16:zj(i.type)),i)}function Vn(i,l,f,g){if(50<Ll)throw Ll=0,Zp=null,Error(r(185));ll(i,f,g),((Ot&2)===0||i!==Cr)&&(i===Cr&&((Ot&2)===0&&(Yu|=f),gr===4&&fo(i,Tr)),rn(i,g),f===1&&Ot===0&&(l.mode&1)===0&&(Ji=ut()+500,ku&&ao()))}function rn(i,l){var f=i.callbackNode;du(i,l);var g=zo(i,i===Cr?Tr:0);if(g===0)f!==null&&rt(f),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(f!=null&&rt(f),l===1)i.tag===0?w$(z1.bind(null,i)):Sw(z1.bind(null,i)),y$(function(){(Ot&6)===0&&ao()}),f=null;else{switch(_j(g)){case 1:f=_t;break;case 4:f=$t;break;case 16:f=bt;break;case 536870912:f=Rt;break;default:f=bt}f=G1(f,L1.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function L1(i,l){if(td=-1,rd=0,(Ot&6)!==0)throw Error(r(327));var f=i.callbackNode;if(Xi()&&i.callbackNode!==f)return null;var g=zo(i,i===Cr?Tr:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=nd(i,g);else{l=g;var j=Ot;Ot|=2;var S=B1();(Cr!==i||Tr!==l)&&(Ea=null,Ji=ut()+500,Jo(i,l));do try{q$();break}catch(J){F1(i,J)}while(!0);gp(),Xu.current=S,Ot=j,fr!==null?l=0:(Cr=null,Tr=0,l=gr)}if(l!==0){if(l===2&&(j=Yr(i),j!==0&&(g=j,l=Qp(i,j))),l===1)throw f=Ml,Jo(i,0),fo(i,g),rn(i,ut()),f;if(l===6)fo(i,g);else{if(j=i.current.alternate,(g&30)===0&&!B$(j)&&(l=nd(i,g),l===2&&(S=Yr(i),S!==0&&(g=S,l=Qp(i,S))),l===1))throw f=Ml,Jo(i,0),fo(i,g),rn(i,ut()),f;switch(i.finishedWork=j,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Xo(i,tn,Ea);break;case 3:if(fo(i,g),(g&130023424)===g&&(l=Xp+500-ut(),10<l)){if(zo(i,0)!==0)break;if(j=i.suspendedLanes,(j&g)!==g){Ur(),i.pingedLanes|=i.suspendedLanes&j;break}i.timeoutHandle=op(Xo.bind(null,i,tn,Ea),l);break}Xo(i,tn,Ea);break;case 4:if(fo(i,g),(g&4194240)===g)break;for(l=i.eventTimes,j=-1;0<g;){var $=31-dr(g);S=1<<$,$=l[$],$>j&&(j=$),g&=~S}if(g=j,g=ut()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*F$(g/1960))-g,10<g){i.timeoutHandle=op(Xo.bind(null,i,tn,Ea),g);break}Xo(i,tn,Ea);break;case 5:Xo(i,tn,Ea);break;default:throw Error(r(329))}}}return rn(i,ut()),i.callbackNode===f?L1.bind(null,i):null}function Qp(i,l){var f=Rl;return i.current.memoizedState.isDehydrated&&(Jo(i,l).flags|=256),i=nd(i,l),i!==2&&(l=tn,tn=f,l!==null&&eh(l)),i}function eh(i){tn===null?tn=i:tn.push.apply(tn,i)}function B$(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var j=f[g],S=j.getSnapshot;j=j.value;try{if(!Rn(S(),j))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fo(i,l){for(l&=~Jp,l&=~Yu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-dr(l),g=1<<f;i[f]=-1,l&=~g}}function z1(i){if((Ot&6)!==0)throw Error(r(327));Xi();var l=zo(i,0);if((l&1)===0)return rn(i,ut()),null;var f=nd(i,l);if(i.tag!==0&&f===2){var g=Yr(i);g!==0&&(l=g,f=Qp(i,g))}if(f===1)throw f=Ml,Jo(i,0),fo(i,l),rn(i,ut()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Xo(i,tn,Ea),rn(i,ut()),null}function th(i,l){var f=Ot;Ot|=1;try{return i(l)}finally{Ot=f,Ot===0&&(Ji=ut()+500,ku&&ao())}}function Ko(i){co!==null&&co.tag===0&&(Ot&6)===0&&Xi();var l=Ot;Ot|=1;var f=Sn.transition,g=Vt;try{if(Sn.transition=null,Vt=1,i)return i()}finally{Vt=g,Sn.transition=f,Ot=l,(Ot&6)===0&&ao()}}function rh(){dn=Ki.current,Zt(Ki)}function Jo(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,v$(f)),fr!==null)for(f=fr.return;f!==null;){var g=f;switch(dp(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ou();break;case 3:Wi(),Zt(Zr),Zt(Rr),Sp();break;case 5:wp(g);break;case 4:Wi();break;case 13:Zt(rr);break;case 19:Zt(rr);break;case 10:vp(g.type._context);break;case 22:case 23:rh()}f=f.return}if(Cr=i,fr=i=mo(i.current,null),Tr=dn=l,gr=0,Ml=null,Jp=Yu=Go=0,tn=Rl=null,Uo!==null){for(l=0;l<Uo.length;l++)if(f=Uo[l],g=f.interleaved,g!==null){f.interleaved=null;var j=g.next,S=f.pending;if(S!==null){var $=S.next;S.next=j,g.next=$}f.pending=g}Uo=null}return i}function F1(i,l){do{var f=fr;try{if(gp(),Fu.current=Uu,Bu){for(var g=nr.memoizedState;g!==null;){var j=g.queue;j!==null&&(j.pending=null),g=g.next}Bu=!1}if(Ho=0,Sr=hr=nr=null,kl=!1,_l=0,Kp.current=null,f===null||f.return===null){gr=1,Ml=l,fr=null;break}e:{var S=i,$=f.return,J=f,re=l;if(l=Tr,J.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var fe=re,ke=J,_e=ke.tag;if((ke.mode&1)===0&&(_e===0||_e===11||_e===15)){var Ae=ke.alternate;Ae?(ke.updateQueue=Ae.updateQueue,ke.memoizedState=Ae.memoizedState,ke.lanes=Ae.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var We=d1($);if(We!==null){We.flags&=-257,f1(We,$,J,S,l),We.mode&1&&u1(S,fe,l),l=We,re=fe;var Xe=l.updateQueue;if(Xe===null){var et=new Set;et.add(re),l.updateQueue=et}else Xe.add(re);break e}else{if((l&1)===0){u1(S,fe,l),nh();break e}re=Error(r(426))}}else if(er&&J.mode&1){var lr=d1($);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),f1(lr,$,J,S,l),pp(Hi(re,J));break e}}S=re=Hi(re,J),gr!==4&&(gr=2),Rl===null?Rl=[S]:Rl.push(S),S=$;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var le=l1(S,re,l);$w(S,le);break e;case 1:J=re;var oe=S.type,de=S.stateNode;if((S.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(lo===null||!lo.has(de)))){S.flags|=65536,l&=-l,S.lanes|=l;var De=c1(S,J,l);$w(S,De);break e}}S=S.return}while(S!==null)}q1(f)}catch(tt){l=tt,fr===f&&f!==null&&(fr=f=f.return);continue}break}while(!0)}function B1(){var i=Xu.current;return Xu.current=Uu,i===null?Uu:i}function nh(){(gr===0||gr===3||gr===2)&&(gr=4),Cr===null||(Go&268435455)===0&&(Yu&268435455)===0||fo(Cr,Tr)}function nd(i,l){var f=Ot;Ot|=2;var g=B1();(Cr!==i||Tr!==l)&&(Ea=null,Jo(i,l));do try{V$();break}catch(j){F1(i,j)}while(!0);if(gp(),Ot=f,Xu.current=g,fr!==null)throw Error(r(261));return Cr=null,Tr=0,gr}function V$(){for(;fr!==null;)V1(fr)}function q$(){for(;fr!==null&&!nt();)V1(fr)}function V1(i){var l=H1(i.alternate,i,dn);i.memoizedProps=i.pendingProps,l===null?q1(i):fr=l,Kp.current=null}function q1(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=$$(f,l,dn),f!==null){fr=f;return}}else{if(f=M$(f,l),f!==null){f.flags&=32767,fr=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{gr=6,fr=null;return}}if(l=l.sibling,l!==null){fr=l;return}fr=l=i}while(l!==null);gr===0&&(gr=5)}function Xo(i,l,f){var g=Vt,j=Sn.transition;try{Sn.transition=null,Vt=1,U$(i,l,f,g)}finally{Sn.transition=j,Vt=g}return null}function U$(i,l,f,g){do Xi();while(co!==null);if((Ot&6)!==0)throw Error(r(327));f=i.finishedWork;var j=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var S=f.lanes|f.childLanes;if(SD(i,S),i===Cr&&(fr=Cr=null,Tr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Qu||(Qu=!0,G1(bt,function(){return Xi(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Sn.transition,Sn.transition=null;var $=Vt;Vt=1;var J=Ot;Ot|=4,Kp.current=null,L$(i,f),T1(f,i),u$(np),pu=!!rp,np=rp=null,i.current=f,z$(f),Qe(),Ot=J,Vt=$,Sn.transition=S}else i.current=f;if(Qu&&(Qu=!1,co=i,ed=j),S=i.pendingLanes,S===0&&(lo=null),Ha(f.stateNode),rn(i,ut()),l!==null)for(g=i.onRecoverableError,f=0;f<l.length;f++)j=l[f],g(j.value,{componentStack:j.stack,digest:j.digest});if(Zu)throw Zu=!1,i=Yp,Yp=null,i;return(ed&1)!==0&&i.tag!==0&&Xi(),S=i.pendingLanes,(S&1)!==0?i===Zp?Ll++:(Ll=0,Zp=i):Ll=0,ao(),null}function Xi(){if(co!==null){var i=_j(ed),l=Sn.transition,f=Vt;try{if(Sn.transition=null,Vt=16>i?16:i,co===null)var g=!1;else{if(i=co,co=null,ed=0,(Ot&6)!==0)throw Error(r(331));var j=Ot;for(Ot|=4,Ke=i.current;Ke!==null;){var S=Ke,$=S.child;if((Ke.flags&16)!==0){var J=S.deletions;if(J!==null){for(var re=0;re<J.length;re++){var fe=J[re];for(Ke=fe;Ke!==null;){var ke=Ke;switch(ke.tag){case 0:case 11:case 15:$l(8,ke,S)}var _e=ke.child;if(_e!==null)_e.return=ke,Ke=_e;else for(;Ke!==null;){ke=Ke;var Ae=ke.sibling,We=ke.return;if(O1(ke),ke===fe){Ke=null;break}if(Ae!==null){Ae.return=We,Ke=Ae;break}Ke=We}}}var Xe=S.alternate;if(Xe!==null){var et=Xe.child;if(et!==null){Xe.child=null;do{var lr=et.sibling;et.sibling=null,et=lr}while(et!==null)}}Ke=S}}if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,Ke=$;else e:for(;Ke!==null;){if(S=Ke,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:$l(9,S,S.return)}var le=S.sibling;if(le!==null){le.return=S.return,Ke=le;break e}Ke=S.return}}var oe=i.current;for(Ke=oe;Ke!==null;){$=Ke;var de=$.child;if(($.subtreeFlags&2064)!==0&&de!==null)de.return=$,Ke=de;else e:for($=oe;Ke!==null;){if(J=Ke,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Ju(9,J)}}catch(tt){or(J,J.return,tt)}if(J===$){Ke=null;break e}var De=J.sibling;if(De!==null){De.return=J.return,Ke=De;break e}Ke=J.return}}if(Ot=j,ao(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Nt,i)}catch{}g=!0}return g}finally{Vt=f,Sn.transition=l}}return!1}function U1(i,l,f){l=Hi(f,l),l=l1(i,l,1),i=io(i,l,1),l=Ur(),i!==null&&(ll(i,1,l),rn(i,l))}function or(i,l,f){if(i.tag===3)U1(i,i,f);else for(;l!==null;){if(l.tag===3){U1(l,i,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(lo===null||!lo.has(g))){i=Hi(f,i),i=c1(l,i,1),l=io(l,i,1),i=Ur(),l!==null&&(ll(l,1,i),rn(l,i));break}}l=l.return}}function W$(i,l,f){var g=i.pingCache;g!==null&&g.delete(l),l=Ur(),i.pingedLanes|=i.suspendedLanes&f,Cr===i&&(Tr&f)===f&&(gr===4||gr===3&&(Tr&130023424)===Tr&&500>ut()-Xp?Jo(i,0):Jp|=f),rn(i,l)}function W1(i,l){l===0&&((i.mode&1)===0?l=1:(l=Yn,Yn<<=1,(Yn&130023424)===0&&(Yn=4194304)));var f=Ur();i=Na(i,l),i!==null&&(ll(i,l,f),rn(i,f))}function H$(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),W1(i,f)}function G$(i,l){var f=0;switch(i.tag){case 13:var g=i.stateNode,j=i.memoizedState;j!==null&&(f=j.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),W1(i,f)}var H1;H1=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||Zr.current)en=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return en=!1,D$(i,l,f);en=(i.flags&131072)!==0}else en=!1,er&&(l.flags&1048576)!==0&&Cw(l,Iu,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Gu(i,l),i=l.pendingProps;var j=Li(l,Rr.current);Ui(l,f),j=Pp(null,l,g,i,j,f);var S=Op();return l.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Qr(g)?(S=!0,Au(l)):S=!1,l.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,bp(l),j.updater=Wu,l.stateNode=j,j._reactInternals=l,Dp(l,g,i,f),l=Lp(null,l,g,!0,S,f)):(l.tag=0,er&&S&&up(l),qr(null,l,j,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Gu(i,l),i=l.pendingProps,j=g._init,g=j(g._payload),l.type=g,j=l.tag=J$(g),i=zn(g,i),j){case 0:l=Rp(null,l,g,i,f);break e;case 1:l=y1(null,l,g,i,f);break e;case 11:l=m1(null,l,g,i,f);break e;case 14:l=p1(null,l,g,zn(g.type,i),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,j=l.pendingProps,j=l.elementType===g?j:zn(g,j),Rp(i,l,g,j,f);case 1:return g=l.type,j=l.pendingProps,j=l.elementType===g?j:zn(g,j),y1(i,l,g,j,f);case 3:e:{if(x1(l),i===null)throw Error(r(387));g=l.pendingProps,S=l.memoizedState,j=S.element,Dw(i,l),Lu(l,g,null,f);var $=l.memoizedState;if(g=$.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){j=Hi(Error(r(423)),l),l=b1(i,l,g,f,j);break e}else if(g!==j){j=Hi(Error(r(424)),l),l=b1(i,l,g,f,j);break e}else for(un=to(l.stateNode.containerInfo.firstChild),cn=l,er=!0,Ln=null,f=Iw(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Bi(),g===j){l=Ca(i,l,f);break e}qr(i,l,g,f)}l=l.child}return l;case 5:return Rw(l),i===null&&mp(l),g=l.type,j=l.pendingProps,S=i!==null?i.memoizedProps:null,$=j.children,ap(g,j)?$=null:S!==null&&ap(g,S)&&(l.flags|=32),v1(i,l),qr(i,l,$,f),l.child;case 6:return i===null&&mp(l),null;case 13:return j1(i,l,f);case 4:return jp(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Vi(l,null,g,f):qr(i,l,g,f),l.child;case 11:return g=l.type,j=l.pendingProps,j=l.elementType===g?j:zn(g,j),m1(i,l,g,j,f);case 7:return qr(i,l,l.pendingProps,f),l.child;case 8:return qr(i,l,l.pendingProps.children,f),l.child;case 12:return qr(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,j=l.pendingProps,S=l.memoizedProps,$=j.value,Gt($u,g._currentValue),g._currentValue=$,S!==null)if(Rn(S.value,$)){if(S.children===j.children&&!Zr.current){l=Ca(i,l,f);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var J=S.dependencies;if(J!==null){$=S.child;for(var re=J.firstContext;re!==null;){if(re.context===g){if(S.tag===1){re=Sa(-1,f&-f),re.tag=2;var fe=S.updateQueue;if(fe!==null){fe=fe.shared;var ke=fe.pending;ke===null?re.next=re:(re.next=ke.next,ke.next=re),fe.pending=re}}S.lanes|=f,re=S.alternate,re!==null&&(re.lanes|=f),yp(S.return,f,l),J.lanes|=f;break}re=re.next}}else if(S.tag===10)$=S.type===l.type?null:S.child;else if(S.tag===18){if($=S.return,$===null)throw Error(r(341));$.lanes|=f,J=$.alternate,J!==null&&(J.lanes|=f),yp($,f,l),$=S.sibling}else $=S.child;if($!==null)$.return=S;else for($=S;$!==null;){if($===l){$=null;break}if(S=$.sibling,S!==null){S.return=$.return,$=S;break}$=$.return}S=$}qr(i,l,j.children,f),l=l.child}return l;case 9:return j=l.type,g=l.pendingProps.children,Ui(l,f),j=wn(j),g=g(j),l.flags|=1,qr(i,l,g,f),l.child;case 14:return g=l.type,j=zn(g,l.pendingProps),j=zn(g.type,j),p1(i,l,g,j,f);case 15:return h1(i,l,l.type,l.pendingProps,f);case 17:return g=l.type,j=l.pendingProps,j=l.elementType===g?j:zn(g,j),Gu(i,l),l.tag=1,Qr(g)?(i=!0,Au(l)):i=!1,Ui(l,f),i1(l,g,j),Dp(l,g,j,f),Lp(null,l,g,!0,i,f);case 19:return N1(i,l,f);case 22:return g1(i,l,f)}throw Error(r(156,l.tag))};function G1(i,l){return Be(i,l)}function K$(i,l,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,l,f,g){return new K$(i,l,f,g)}function ah(i){return i=i.prototype,!(!i||!i.isReactComponent)}function J$(i){if(typeof i=="function")return ah(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===D)return 14}return 2}function mo(i,l){var f=i.alternate;return f===null?(f=Cn(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function ad(i,l,f,g,j,S){var $=2;if(g=i,typeof i=="function")ah(i)&&($=1);else if(typeof i=="string")$=5;else e:switch(i){case O:return Yo(f.children,j,S,l);case L:$=8,j|=8;break;case T:return i=Cn(12,f,l,j|2),i.elementType=T,i.lanes=S,i;case z:return i=Cn(13,f,l,j),i.elementType=z,i.lanes=S,i;case B:return i=Cn(19,f,l,j),i.elementType=B,i.lanes=S,i;case te:return od(f,j,S,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:$=10;break e;case I:$=9;break e;case V:$=11;break e;case D:$=14;break e;case G:$=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Cn($,f,l,j),l.elementType=i,l.type=g,l.lanes=S,l}function Yo(i,l,f,g){return i=Cn(7,i,g,l),i.lanes=f,i}function od(i,l,f,g){return i=Cn(22,i,g,l),i.elementType=te,i.lanes=f,i.stateNode={isHidden:!1},i}function oh(i,l,f){return i=Cn(6,i,null,l),i.lanes=f,i}function ih(i,l,f){return l=Cn(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function X$(i,l,f,g,j){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=g,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function sh(i,l,f,g,j,S,$,J,re){return i=new X$(i,l,f,J,re),l===1?(l=1,S===!0&&(l|=8)):l=0,S=Cn(3,null,null,l),i.current=S,S.stateNode=i,S.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(S),i}function Y$(i,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:g==null?null:""+g,children:i,containerInfo:l,implementation:f}}function K1(i){if(!i)return no;i=i._reactInternals;e:{if(Mn(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Qr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(Qr(f))return ww(i,f,l)}return l}function J1(i,l,f,g,j,S,$,J,re){return i=sh(f,g,!0,i,j,S,$,J,re),i.context=K1(null),f=i.current,g=Ur(),j=uo(f),S=Sa(g,j),S.callback=l??null,io(f,S,j),i.current.lanes=j,ll(i,j,g),rn(i,g),i}function id(i,l,f,g){var j=l.current,S=Ur(),$=uo(j);return f=K1(f),l.context===null?l.context=f:l.pendingContext=f,l=Sa(S,$),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=io(j,l,$),i!==null&&(Vn(i,j,$,S),Ru(i,j,$)),$}function sd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function X1(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function lh(i,l){X1(i,l),(i=i.alternate)&&X1(i,l)}function Z$(){return null}var Y1=typeof reportError=="function"?reportError:function(i){console.error(i)};function ch(i){this._internalRoot=i}ld.prototype.render=ch.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));id(i,l,null,null)},ld.prototype.unmount=ch.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ko(function(){id(null,i,null,null)}),l[xa]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var l=Dj();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Za.length&&l!==0&&l<Za[f].priority;f++);Za.splice(f,0,i),f===0&&Rj(i)}};function uh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function cd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Z1(){}function Q$(i,l,f,g,j){if(j){if(typeof g=="function"){var S=g;g=function(){var fe=sd($);S.call(fe)}}var $=J1(l,g,i,0,null,!1,!1,"",Z1);return i._reactRootContainer=$,i[xa]=$.current,wl(i.nodeType===8?i.parentNode:i),Ko(),$}for(;j=i.lastChild;)i.removeChild(j);if(typeof g=="function"){var J=g;g=function(){var fe=sd(re);J.call(fe)}}var re=sh(i,0,!1,null,null,!1,!1,"",Z1);return i._reactRootContainer=re,i[xa]=re.current,wl(i.nodeType===8?i.parentNode:i),Ko(function(){id(l,re,f,g)}),re}function ud(i,l,f,g,j){var S=f._reactRootContainer;if(S){var $=S;if(typeof j=="function"){var J=j;j=function(){var re=sd($);J.call(re)}}id(l,$,i,j)}else $=Q$(f,l,i,j,g);return sd($)}Ij=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=ya(l.pendingLanes);f!==0&&(Dm(l,f|1),rn(l,ut()),(Ot&6)===0&&(Ji=ut()+500,ao()))}break;case 13:Ko(function(){var g=Na(i,1);if(g!==null){var j=Ur();Vn(g,i,1,j)}}),lh(i,1)}},$m=function(i){if(i.tag===13){var l=Na(i,134217728);if(l!==null){var f=Ur();Vn(l,i,134217728,f)}lh(i,134217728)}},Tj=function(i){if(i.tag===13){var l=uo(i),f=Na(i,l);if(f!==null){var g=Ur();Vn(f,i,l,g)}lh(i,l)}},Dj=function(){return Vt},$j=function(i,l){var f=Vt;try{return Vt=i,l()}finally{Vt=f}},ze=function(i,l,f){switch(l){case"input":if(Ge(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==i&&g.form===i.form){var j=Pu(g);if(!j)throw Error(r(90));ve(g),Ge(g,j)}}}break;case"textarea":Ve(i,f);break;case"select":l=f.value,l!=null&&ee(i,!!f.multiple,l,!1)}},kt=th,sr=Ko;var e4={usingClientEntryPoint:!1,Events:[Cl,Mi,Pu,cr,Ft,th]},zl={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t4={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ye(i),i===null?null:i.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||Z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{Nt=dd.inject(t4),Mr=dd}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e4,nn.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(l))throw Error(r(200));return Y$(i,l,null,f)},nn.createRoot=function(i,l){if(!uh(i))throw Error(r(299));var f=!1,g="",j=Y1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(j=l.onRecoverableError)),l=sh(i,1,!1,null,null,f,!1,g,j),i[xa]=l.current,wl(i.nodeType===8?i.parentNode:i),new ch(l)},nn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ye(l),i=i===null?null:i.stateNode,i},nn.flushSync=function(i){return Ko(i)},nn.hydrate=function(i,l,f){if(!cd(l))throw Error(r(200));return ud(null,i,l,!0,f)},nn.hydrateRoot=function(i,l,f){if(!uh(i))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,j=!1,S="",$=Y1;if(f!=null&&(f.unstable_strictMode===!0&&(j=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&($=f.onRecoverableError)),l=J1(l,null,i,1,f??null,j,!1,S,$),i[xa]=l.current,wl(i),g)for(i=0;i<g.length;i++)f=g[i],j=f._getVersion,j=j(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,j]:l.mutableSourceEagerHydrationData.push(f,j);return new ld(l)},nn.render=function(i,l,f){if(!cd(l))throw Error(r(200));return ud(null,i,l,!1,f)},nn.unmountComponentAtNode=function(i){if(!cd(i))throw Error(r(40));return i._reactRootContainer?(Ko(function(){ud(null,null,i,!1,function(){i._reactRootContainer=null,i[xa]=null})}),!0):!1},nn.unstable_batchedUpdates=th,nn.unstable_renderSubtreeIntoContainer=function(i,l,f,g){if(!cd(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return ud(i,l,f,!1,g)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var iN;function QA(){if(iN)return mh.exports;iN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mh.exports=l4(),mh.exports}var sN;function c4(){if(sN)return md;sN=1;var e=QA();return md.createRoot=e.createRoot,md.hydrateRoot=e.hydrateRoot,md}var u4=c4(),C=hb();const Z=qt(C);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),lN=e=>{const t=f4(e);return t.charAt(0).toUpperCase()+t.slice(1)},ek=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:s,iconNode:c,...u},d)=>C.createElement("svg",{ref:d,...m4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ek("lucide",o),...u},[...c.map(([m,h])=>C.createElement(m,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const r=C.forwardRef(({className:n,...o},s)=>C.createElement(p4,{ref:s,iconNode:t,className:ek(`lucide-${d4(lN(e))}`,`lucide-${e}`,n),...o}));return r.displayName=lN(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],g4=qe("arrow-left",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],y4=qe("arrow-right",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],gb=qe("ban",x4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oc=qe("bell",b4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],w4=qe("camera",j4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],cN=qe("check-check",N4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],C4=qe("check",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uN=qe("chevron-down",E4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],O4=qe("chevron-left",P4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ls=qe("chevron-right",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_4=qe("chevron-up",k4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mt=qe("circle-alert",I4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Co=qe("circle-check-big",T4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dN=qe("circle-x",D4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vb=qe("dollar-sign",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Eo=qe("download",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jo=qe("eye-off",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ar=qe("eye",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],tk=qe("facebook",z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],By=qe("file-text",F4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],V4=qe("folder-tree",B4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],U4=qe("globe",q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],H4=qe("grid-3x3",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Po=qe("heart",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],J4=qe("history",K4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Y4=qe("image",X4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Q4=qe("info",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rk=qe("instagram",e3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],r3=qe("layout-dashboard",t3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],a3=qe("list",n3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gs=qe("lock",o3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nk=qe("log-out",i3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Hf=qe("mail",s3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yb=qe("map-pin",l3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],u3=qe("menu",c3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M5 12h14",key:"1ays0h"}]],ak=qe("minus",d3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],an=qe("package",f3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],p3=qe("palette",m3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fi=qe("pen",h3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],v3=qe("pencil",g3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Gf=qe("phone",y3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kr=qe("plus",x3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],j3=qe("refresh-cw",b3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],N3=qe("repeat-2",w3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],C3=qe("repeat",S3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ws=qe("rotate-ccw",E3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ok=qe("save",P3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Dn=qe("search",O3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],k3=qe("send",A3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I3=qe("settings",_3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Oo=qe("shield",T3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],xb=qe("shopping-bag",D3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zc=qe("shopping-cart",$3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],R3=qe("sliders-horizontal",M3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ik=qe("square-pen",L3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sk=qe("star",z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Vy=qe("store",F3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ao=qe("trash-2",B3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],q3=qe("trending-down",V3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],lk=qe("trending-up",U3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kf=qe("triangle-alert",W3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ic=qe("truck",H3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],ck=qe("twitter",G3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],J3=qe("upload",K3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Y3=qe("user-check",X3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]],Q3=qe("user-cog",Z3);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],uk=qe("user-plus",eM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],rM=qe("user-x",tM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qc=qe("user",nM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ns=qe("users",aM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],da=qe("x",oM);function dk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=dk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=dk(e))&&(n&&(n+=" "),n+=t);return n}var gh,fN;function sn(){if(fN)return gh;fN=1;var e=Array.isArray;return gh=e,gh}var vh,mN;function fk(){if(mN)return vh;mN=1;var e=typeof fd=="object"&&fd&&fd.Object===Object&&fd;return vh=e,vh}var yh,pN;function fa(){if(pN)return yh;pN=1;var e=fk(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return yh=r,yh}var xh,hN;function eu(){if(hN)return xh;hN=1;var e=fa(),t=e.Symbol;return xh=t,xh}var bh,gN;function iM(){if(gN)return bh;gN=1;var e=eu(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,o=e?e.toStringTag:void 0;function s(c){var u=r.call(c,o),d=c[o];try{c[o]=void 0;var m=!0}catch{}var h=n.call(c);return m&&(u?c[o]=d:delete c[o]),h}return bh=s,bh}var jh,vN;function sM(){if(vN)return jh;vN=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return jh=r,jh}var wh,yN;function Fa(){if(yN)return wh;yN=1;var e=eu(),t=iM(),r=sM(),n="[object Null]",o="[object Undefined]",s=e?e.toStringTag:void 0;function c(u){return u==null?u===void 0?o:n:s&&s in Object(u)?t(u):r(u)}return wh=c,wh}var Nh,xN;function Ba(){if(xN)return Nh;xN=1;function e(t){return t!=null&&typeof t=="object"}return Nh=e,Nh}var Sh,bN;function Ys(){if(bN)return Sh;bN=1;var e=Fa(),t=Ba(),r="[object Symbol]";function n(o){return typeof o=="symbol"||t(o)&&e(o)==r}return Sh=n,Sh}var Ch,jN;function bb(){if(jN)return Ch;jN=1;var e=sn(),t=Ys(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(s,c){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||c!=null&&s in Object(c)}return Ch=o,Ch}var Eh,wN;function _o(){if(wN)return Eh;wN=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Eh=e,Eh}var Ph,NN;function jb(){if(NN)return Ph;NN=1;var e=Fa(),t=_o(),r="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",s="[object Proxy]";function c(u){if(!t(u))return!1;var d=e(u);return d==n||d==o||d==r||d==s}return Ph=c,Ph}var Oh,SN;function lM(){if(SN)return Oh;SN=1;var e=fa(),t=e["__core-js_shared__"];return Oh=t,Oh}var Ah,CN;function cM(){if(CN)return Ah;CN=1;var e=lM(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return Ah=r,Ah}var kh,EN;function mk(){if(EN)return kh;EN=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return kh=r,kh}var _h,PN;function uM(){if(PN)return _h;PN=1;var e=jb(),t=cM(),r=_o(),n=mk(),o=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,m=u.hasOwnProperty,h=RegExp("^"+d.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||t(v))return!1;var b=e(v)?h:s;return b.test(n(v))}return _h=p,_h}var Ih,ON;function dM(){if(ON)return Ih;ON=1;function e(t,r){return t?.[r]}return Ih=e,Ih}var Th,AN;function bi(){if(AN)return Th;AN=1;var e=uM(),t=dM();function r(n,o){var s=t(n,o);return e(s)?s:void 0}return Th=r,Th}var Dh,kN;function Jf(){if(kN)return Dh;kN=1;var e=bi(),t=e(Object,"create");return Dh=t,Dh}var $h,_N;function fM(){if(_N)return $h;_N=1;var e=Jf();function t(){this.__data__=e?e(null):{},this.size=0}return $h=t,$h}var Mh,IN;function mM(){if(IN)return Mh;IN=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Mh=e,Mh}var Rh,TN;function pM(){if(TN)return Rh;TN=1;var e=Jf(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function o(s){var c=this.__data__;if(e){var u=c[s];return u===t?void 0:u}return n.call(c,s)?c[s]:void 0}return Rh=o,Rh}var Lh,DN;function hM(){if(DN)return Lh;DN=1;var e=Jf(),t=Object.prototype,r=t.hasOwnProperty;function n(o){var s=this.__data__;return e?s[o]!==void 0:r.call(s,o)}return Lh=n,Lh}var zh,$N;function gM(){if($N)return zh;$N=1;var e=Jf(),t="__lodash_hash_undefined__";function r(n,o){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&o===void 0?t:o,this}return zh=r,zh}var Fh,MN;function vM(){if(MN)return Fh;MN=1;var e=fM(),t=mM(),r=pM(),n=hM(),o=gM();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,Fh=s,Fh}var Bh,RN;function yM(){if(RN)return Bh;RN=1;function e(){this.__data__=[],this.size=0}return Bh=e,Bh}var Vh,LN;function wb(){if(LN)return Vh;LN=1;function e(t,r){return t===r||t!==t&&r!==r}return Vh=e,Vh}var qh,zN;function Xf(){if(zN)return qh;zN=1;var e=wb();function t(r,n){for(var o=r.length;o--;)if(e(r[o][0],n))return o;return-1}return qh=t,qh}var Uh,FN;function xM(){if(FN)return Uh;FN=1;var e=Xf(),t=Array.prototype,r=t.splice;function n(o){var s=this.__data__,c=e(s,o);if(c<0)return!1;var u=s.length-1;return c==u?s.pop():r.call(s,c,1),--this.size,!0}return Uh=n,Uh}var Wh,BN;function bM(){if(BN)return Wh;BN=1;var e=Xf();function t(r){var n=this.__data__,o=e(n,r);return o<0?void 0:n[o][1]}return Wh=t,Wh}var Hh,VN;function jM(){if(VN)return Hh;VN=1;var e=Xf();function t(r){return e(this.__data__,r)>-1}return Hh=t,Hh}var Gh,qN;function wM(){if(qN)return Gh;qN=1;var e=Xf();function t(r,n){var o=this.__data__,s=e(o,r);return s<0?(++this.size,o.push([r,n])):o[s][1]=n,this}return Gh=t,Gh}var Kh,UN;function Yf(){if(UN)return Kh;UN=1;var e=yM(),t=xM(),r=bM(),n=jM(),o=wM();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,Kh=s,Kh}var Jh,WN;function Nb(){if(WN)return Jh;WN=1;var e=bi(),t=fa(),r=e(t,"Map");return Jh=r,Jh}var Xh,HN;function NM(){if(HN)return Xh;HN=1;var e=vM(),t=Yf(),r=Nb();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Xh=n,Xh}var Yh,GN;function SM(){if(GN)return Yh;GN=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Yh=e,Yh}var Zh,KN;function Zf(){if(KN)return Zh;KN=1;var e=SM();function t(r,n){var o=r.__data__;return e(n)?o[typeof n=="string"?"string":"hash"]:o.map}return Zh=t,Zh}var Qh,JN;function CM(){if(JN)return Qh;JN=1;var e=Zf();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return Qh=t,Qh}var eg,XN;function EM(){if(XN)return eg;XN=1;var e=Zf();function t(r){return e(this,r).get(r)}return eg=t,eg}var tg,YN;function PM(){if(YN)return tg;YN=1;var e=Zf();function t(r){return e(this,r).has(r)}return tg=t,tg}var rg,ZN;function OM(){if(ZN)return rg;ZN=1;var e=Zf();function t(r,n){var o=e(this,r),s=o.size;return o.set(r,n),this.size+=o.size==s?0:1,this}return rg=t,rg}var ng,QN;function Sb(){if(QN)return ng;QN=1;var e=NM(),t=CM(),r=EM(),n=PM(),o=OM();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=o,ng=s,ng}var ag,eS;function pk(){if(eS)return ag;eS=1;var e=Sb(),t="Expected a function";function r(n,o){if(typeof n!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var s=function(){var c=arguments,u=o?o.apply(this,c):c[0],d=s.cache;if(d.has(u))return d.get(u);var m=n.apply(this,c);return s.cache=d.set(u,m)||d,m};return s.cache=new(r.Cache||e),s}return r.Cache=e,ag=r,ag}var og,tS;function AM(){if(tS)return og;tS=1;var e=pk(),t=500;function r(n){var o=e(n,function(c){return s.size===t&&s.clear(),c}),s=o.cache;return o}return og=r,og}var ig,rS;function kM(){if(rS)return ig;rS=1;var e=AM(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(o){var s=[];return o.charCodeAt(0)===46&&s.push(""),o.replace(t,function(c,u,d,m){s.push(d?m.replace(r,"$1"):u||c)}),s});return ig=n,ig}var sg,nS;function Cb(){if(nS)return sg;nS=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,s=Array(o);++n<o;)s[n]=r(t[n],n,t);return s}return sg=e,sg}var lg,aS;function _M(){if(aS)return lg;aS=1;var e=eu(),t=Cb(),r=sn(),n=Ys(),o=e?e.prototype:void 0,s=o?o.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return t(u,c)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return lg=c,lg}var cg,oS;function hk(){if(oS)return cg;oS=1;var e=_M();function t(r){return r==null?"":e(r)}return cg=t,cg}var ug,iS;function gk(){if(iS)return ug;iS=1;var e=sn(),t=bb(),r=kM(),n=hk();function o(s,c){return e(s)?s:t(s,c)?[s]:r(n(s))}return ug=o,ug}var dg,sS;function Qf(){if(sS)return dg;sS=1;var e=Ys();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return dg=t,dg}var fg,lS;function Eb(){if(lS)return fg;lS=1;var e=gk(),t=Qf();function r(n,o){o=e(o,n);for(var s=0,c=o.length;n!=null&&s<c;)n=n[t(o[s++])];return s&&s==c?n:void 0}return fg=r,fg}var mg,cS;function vk(){if(cS)return mg;cS=1;var e=Eb();function t(r,n,o){var s=r==null?void 0:e(r,n);return s===void 0?o:s}return mg=t,mg}var IM=vk();const yn=qt(IM);var pg,uS;function TM(){if(uS)return pg;uS=1;function e(t){return t==null}return pg=e,pg}var DM=TM();const ht=qt(DM);var hg,dS;function $M(){if(dS)return hg;dS=1;var e=Fa(),t=sn(),r=Ba(),n="[object String]";function o(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return hg=o,hg}var MM=$M();const mi=qt(MM);var RM=jb();const mt=qt(RM);var LM=_o();const Zs=qt(LM);var gg={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function zM(){if(fS)return Lt;fS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function y(x){if(typeof x=="object"&&x!==null){var N=x.$$typeof;switch(N){case e:switch(x=x.type,x){case r:case o:case n:case m:case h:return x;default:switch(x=x&&x.$$typeof,x){case u:case c:case d:case v:case p:case s:return x;default:return N}}case t:return N}}}return Lt.ContextConsumer=c,Lt.ContextProvider=s,Lt.Element=e,Lt.ForwardRef=d,Lt.Fragment=r,Lt.Lazy=v,Lt.Memo=p,Lt.Portal=t,Lt.Profiler=o,Lt.StrictMode=n,Lt.Suspense=m,Lt.SuspenseList=h,Lt.isAsyncMode=function(){return!1},Lt.isConcurrentMode=function(){return!1},Lt.isContextConsumer=function(x){return y(x)===c},Lt.isContextProvider=function(x){return y(x)===s},Lt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},Lt.isForwardRef=function(x){return y(x)===d},Lt.isFragment=function(x){return y(x)===r},Lt.isLazy=function(x){return y(x)===v},Lt.isMemo=function(x){return y(x)===p},Lt.isPortal=function(x){return y(x)===t},Lt.isProfiler=function(x){return y(x)===o},Lt.isStrictMode=function(x){return y(x)===n},Lt.isSuspense=function(x){return y(x)===m},Lt.isSuspenseList=function(x){return y(x)===h},Lt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===o||x===n||x===m||x===h||x===b||typeof x=="object"&&x!==null&&(x.$$typeof===v||x.$$typeof===p||x.$$typeof===s||x.$$typeof===c||x.$$typeof===d||x.$$typeof===w||x.getModuleId!==void 0)},Lt.typeOf=y,Lt}var mS;function FM(){return mS||(mS=1,gg.exports=zM()),gg.exports}var BM=FM(),vg,pS;function yk(){if(pS)return vg;pS=1;var e=Fa(),t=Ba(),r="[object Number]";function n(o){return typeof o=="number"||t(o)&&e(o)==r}return vg=n,vg}var yg,hS;function VM(){if(hS)return yg;hS=1;var e=yk();function t(r){return e(r)&&r!=+r}return yg=t,yg}var qM=VM();const tu=qt(qM);var UM=yk();const WM=qt(UM);var Wr=function(t){return t===0?0:t>0?1:-1},ii=function(t){return mi(t)&&t.indexOf("%")===t.length-1},Re=function(t){return WM(t)&&!tu(t)},HM=function(t){return ht(t)},jr=function(t){return Re(t)||mi(t)},GM=0,Qs=function(t){var r=++GM;return"".concat(t||"").concat(r)},Hr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Re(t)&&!mi(t))return n;var s;if(ii(t)){var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return tu(s)&&(s=n),o&&s>r&&(s=r),s},xo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},KM=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},o=0;o<r;o++)if(!n[t[o]])n[t[o]]=!0;else return!0;return!1},gn=function(t,r){return Re(t)&&Re(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ud(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):yn(n,t))===r})}var JM=function(t,r){return Re(t)&&Re(r)?t-r:mi(t)&&mi(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function vs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}var XM=["viewBox","children"],YM=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gS=["points","pathLength"],xg={svg:XM,polygon:gS,polyline:gS},Pb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(C.isValidElement(t)&&(n=t.props),!Zs(n))return null;var o={};return Object.keys(n).forEach(function(s){Pb.includes(s)&&(o[s]=r||function(c){return n[s](n,c)})}),o},ZM=function(t,r,n){return function(o){return t(r,n,o),null}},pi=function(t,r,n){if(!Zs(t)||qy(t)!=="object")return null;var o=null;return Object.keys(t).forEach(function(s){var c=t[s];Pb.includes(s)&&typeof c=="function"&&(o||(o={}),o[s]=ZM(c,r,n))}),o},QM=["children"],e6=["children"];function vS(e,t){if(e==null)return{};var r=t6(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}var yS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Da=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xS=null,bg=null,Ob=function e(t){if(t===xS&&Array.isArray(bg))return bg;var r=[];return C.Children.forEach(t,function(n){ht(n)||(BM.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),bg=r,xS=t,r};function xn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(o){return Da(o)}):n=[Da(t)],Ob(e).forEach(function(o){var s=yn(o,"type.displayName")||yn(o,"type.name");n.indexOf(s)!==-1&&r.push(o)}),r}function pn(e,t){var r=xn(e,t);return r&&r[0]}var bS=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,o=r.height;return!(!Re(n)||n<=0||!Re(o)||o<=0)},r6=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],n6=function(t){return t&&t.type&&mi(t.type)&&r6.indexOf(t.type)>=0},a6=function(t){return t&&Uy(t)==="object"&&"clipDot"in t},o6=function(t,r,n,o){var s,c=(s=xg?.[o])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!mt(t)&&(o&&c.includes(r)||YM.includes(r))||n&&Pb.includes(r)},lt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var o=t;if(C.isValidElement(t)&&(o=t.props),!Zs(o))return null;var s={};return Object.keys(o).forEach(function(c){var u;o6((u=o)===null||u===void 0?void 0:u[c],c,r,n)&&(s[c]=o[c])}),s},Wy=function e(t,r){if(t===r)return!0;var n=C.Children.count(t);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return jS(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var o=0;o<n;o++){var s=t[o],c=r[o];if(Array.isArray(s)||Array.isArray(c)){if(!e(s,c))return!1}else if(!jS(s,c))return!1}return!0},jS=function(t,r){if(ht(t)&&ht(r))return!0;if(!ht(t)&&!ht(r)){var n=t.props||{},o=n.children,s=vS(n,QM),c=r.props||{},u=c.children,d=vS(c,e6);return o&&u?vs(s,d)&&Wy(o,u):!o&&!u?vs(s,d):!1}return!1},wS=function(t,r){var n=[],o={};return Ob(t).forEach(function(s,c){if(n6(s))n.push(s);else if(s){var u=Da(s.type),d=r[u]||{},m=d.handler,h=d.once;if(m&&(!h||!o[u])){var p=m(s,u,c);n.push(p),o[u]=!0}}}),n},i6=function(t){var r=t&&t.type;return r&&yS[r]?yS[r]:null},s6=function(t,r){return Ob(r).indexOf(t)},l6=["children","width","height","viewBox","className","style","title","desc"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(this,arguments)}function c6(e,t){if(e==null)return{};var r=u6(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gy(e){var t=e.children,r=e.width,n=e.height,o=e.viewBox,s=e.className,c=e.style,u=e.title,d=e.desc,m=c6(e,l6),h=o||{width:r,height:n,x:0,y:0},p=vt("recharts-surface",s);return Z.createElement("svg",Hy({},lt(m,!0,"svg"),{className:p,width:r,height:n,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Z.createElement("title",null,u),Z.createElement("desc",null,d),t)}var d6=["children","className"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function f6(e,t){if(e==null)return{};var r=m6(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m6(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Tt=Z.forwardRef(function(e,t){var r=e.children,n=e.className,o=f6(e,d6),s=vt("recharts-layer",n);return Z.createElement("g",Ky({className:s},lt(o,!0),{ref:t}),r)}),Kn=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s]},jg,NS;function p6(){if(NS)return jg;NS=1;function e(t,r,n){var o=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(s);++o<s;)c[o]=t[o+r];return c}return jg=e,jg}var wg,SS;function h6(){if(SS)return wg;SS=1;var e=p6();function t(r,n,o){var s=r.length;return o=o===void 0?s:o,!n&&o>=s?r:e(r,n,o)}return wg=t,wg}var Ng,CS;function xk(){if(CS)return Ng;CS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=t+r+n,s="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+e+o+s+"]");function d(m){return u.test(m)}return Ng=d,Ng}var Sg,ES;function g6(){if(ES)return Sg;ES=1;function e(t){return t.split("")}return Sg=e,Sg}var Cg,PS;function v6(){if(PS)return Cg;PS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=t+r+n,s="\\ufe0e\\ufe0f",c="["+e+"]",u="["+o+"]",d="\\ud83c[\\udffb-\\udfff]",m="(?:"+u+"|"+d+")",h="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=m+"?",y="["+s+"]?",x="(?:"+b+"(?:"+[h,p,v].join("|")+")"+y+w+")*",N=y+w+x,A="(?:"+[h+u+"?",u,p,v,c].join("|")+")",E=RegExp(d+"(?="+d+")|"+A+N,"g");function _(P){return P.match(E)||[]}return Cg=_,Cg}var Eg,OS;function y6(){if(OS)return Eg;OS=1;var e=g6(),t=xk(),r=v6();function n(o){return t(o)?r(o):e(o)}return Eg=n,Eg}var Pg,AS;function x6(){if(AS)return Pg;AS=1;var e=h6(),t=xk(),r=y6(),n=hk();function o(s){return function(c){c=n(c);var u=t(c)?r(c):void 0,d=u?u[0]:c.charAt(0),m=u?e(u,1).join(""):c.slice(1);return d[s]()+m}}return Pg=o,Pg}var Og,kS;function b6(){if(kS)return Og;kS=1;var e=x6(),t=e("toUpperCase");return Og=t,Og}var j6=b6();const em=qt(j6);function Jt(e){return function(){return e}}const bk=Math.cos,Hd=Math.sin,Jn=Math.sqrt,Gd=Math.PI,tm=2*Gd,Jy=Math.PI,Xy=2*Jy,ni=1e-6,w6=Xy-ni;function jk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function N6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jk;const r=10**t;return function(n){this._+=n[0];for(let o=1,s=n.length;o<s;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}class S6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?jk:N6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,s,c){this._append`C${+t},${+r},${+n},${+o},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,o,s){if(t=+t,r=+r,n=+n,o=+o,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,d=n-t,m=o-r,h=c-t,p=u-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ni)if(!(Math.abs(p*d-m*h)>ni)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-c,w=o-u,y=d*d+m*m,x=b*b+w*w,N=Math.sqrt(y),A=Math.sqrt(v),E=s*Math.tan((Jy-Math.acos((y+v-x)/(2*N*A)))/2),_=E/A,P=E/N;Math.abs(_-1)>ni&&this._append`L${t+_*h},${r+_*p}`,this._append`A${s},${s},0,0,${+(p*b>h*w)},${this._x1=t+P*d},${this._y1=r+P*m}`}}arc(t,r,n,o,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(o),d=n*Math.sin(o),m=t+u,h=r+d,p=1^c,v=c?o-s:s-o;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>ni||Math.abs(this._y1-h)>ni)&&this._append`L${m},${h}`,n&&(v<0&&(v=v%Xy+Xy),v>w6?this._append`A${n},${n},0,1,${p},${t-u},${r-d}A${n},${n},0,1,${p},${this._x1=m},${this._y1=h}`:v>ni&&this._append`A${n},${n},0,${+(v>=Jy)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}}function Ab(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new S6(t)}function kb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wk(e){this._context=e}wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rm(e){return new wk(e)}function Nk(e){return e[0]}function Sk(e){return e[1]}function Ck(e,t){var r=Jt(!0),n=null,o=rm,s=null,c=Ab(u);e=typeof e=="function"?e:e===void 0?Nk:Jt(e),t=typeof t=="function"?t:t===void 0?Sk:Jt(t);function u(d){var m,h=(d=kb(d)).length,p,v=!1,b;for(n==null&&(s=o(b=c())),m=0;m<=h;++m)!(m<h&&r(p=d[m],m,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(p,m,d),+t(p,m,d));if(b)return s=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Jt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Jt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Jt(!!d),u):r},u.curve=function(d){return arguments.length?(o=d,n!=null&&(s=o(n)),u):o},u.context=function(d){return arguments.length?(d==null?n=s=null:s=o(n=d),u):n},u}function pd(e,t,r){var n=null,o=Jt(!0),s=null,c=rm,u=null,d=Ab(m);e=typeof e=="function"?e:e===void 0?Nk:Jt(+e),t=typeof t=="function"?t:Jt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Sk:Jt(+r);function m(p){var v,b,w,y=(p=kb(p)).length,x,N=!1,A,E=new Array(y),_=new Array(y);for(s==null&&(u=c(A=d())),v=0;v<=y;++v){if(!(v<y&&o(x=p[v],v,p))===N)if(N=!N)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=b;--w)u.point(E[w],_[w]);u.lineEnd(),u.areaEnd()}N&&(E[v]=+e(x,v,p),_[v]=+t(x,v,p),u.point(n?+n(x,v,p):E[v],r?+r(x,v,p):_[v]))}if(A)return u=null,A+""||null}function h(){return Ck().defined(o).curve(c).context(s)}return m.x=function(p){return arguments.length?(e=typeof p=="function"?p:Jt(+p),n=null,m):e},m.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Jt(+p),m):e},m.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Jt(+p),m):n},m.y=function(p){return arguments.length?(t=typeof p=="function"?p:Jt(+p),r=null,m):t},m.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Jt(+p),m):t},m.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Jt(+p),m):r},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(r)},m.lineX1=function(){return h().x(n).y(t)},m.defined=function(p){return arguments.length?(o=typeof p=="function"?p:Jt(!!p),m):o},m.curve=function(p){return arguments.length?(c=p,s!=null&&(u=c(s)),m):c},m.context=function(p){return arguments.length?(p==null?s=u=null:u=c(s=p),m):s},m}class Ek{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function C6(e){return new Ek(e,!0)}function E6(e){return new Ek(e,!1)}const _b={draw(e,t){const r=Jn(t/Gd);e.moveTo(r,0),e.arc(0,0,r,0,tm)}},P6={draw(e,t){const r=Jn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Pk=Jn(1/3),O6=Pk*2,A6={draw(e,t){const r=Jn(t/O6),n=r*Pk;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},k6={draw(e,t){const r=Jn(t),n=-r/2;e.rect(n,n,r,r)}},_6=.8908130915292852,Ok=Hd(Gd/10)/Hd(7*Gd/10),I6=Hd(tm/10)*Ok,T6=-bk(tm/10)*Ok,D6={draw(e,t){const r=Jn(t*_6),n=I6*r,o=T6*r;e.moveTo(0,-r),e.lineTo(n,o);for(let s=1;s<5;++s){const c=tm*s/5,u=bk(c),d=Hd(c);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*o,d*n+u*o)}e.closePath()}},Ag=Jn(3),$6={draw(e,t){const r=-Jn(t/(Ag*3));e.moveTo(0,r*2),e.lineTo(-Ag*r,-r),e.lineTo(Ag*r,-r),e.closePath()}},En=-.5,Pn=Jn(3)/2,Yy=1/Jn(12),M6=(Yy/2+1)*3,R6={draw(e,t){const r=Jn(t/M6),n=r/2,o=r*Yy,s=n,c=r*Yy+r,u=-s,d=c;e.moveTo(n,o),e.lineTo(s,c),e.lineTo(u,d),e.lineTo(En*n-Pn*o,Pn*n+En*o),e.lineTo(En*s-Pn*c,Pn*s+En*c),e.lineTo(En*u-Pn*d,Pn*u+En*d),e.lineTo(En*n+Pn*o,En*o-Pn*n),e.lineTo(En*s+Pn*c,En*c-Pn*s),e.lineTo(En*u+Pn*d,En*d-Pn*u),e.closePath()}};function L6(e,t){let r=null,n=Ab(o);e=typeof e=="function"?e:Jt(e||_b),t=typeof t=="function"?t:Jt(t===void 0?64:+t);function o(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return o.type=function(s){return arguments.length?(e=typeof s=="function"?s:Jt(s),o):e},o.size=function(s){return arguments.length?(t=typeof s=="function"?s:Jt(+s),o):t},o.context=function(s){return arguments.length?(r=s??null,o):r},o}function Kd(){}function Jd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Ak(e){this._context=e}Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z6(e){return new Ak(e)}function kk(e){this._context=e}kk.prototype={areaStart:Kd,areaEnd:Kd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F6(e){return new kk(e)}function _k(e){this._context=e}_k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B6(e){return new _k(e)}function Ik(e){this._context=e}Ik.prototype={areaStart:Kd,areaEnd:Kd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V6(e){return new Ik(e)}function _S(e){return e<0?-1:1}function IS(e,t,r){var n=e._x1-e._x0,o=t-e._x1,s=(e._y1-e._y0)/(n||o<0&&-0),c=(r-e._y1)/(o||n<0&&-0),u=(s*o+c*n)/(n+o);return(_S(s)+_S(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function TS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kg(e,t,r){var n=e._x0,o=e._y0,s=e._x1,c=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,o+u*t,s-u,c-u*r,s,c)}function Xd(e){this._context=e}Xd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kg(this,this._t0,TS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kg(this,TS(this,r=IS(this,e,t)),r);break;default:kg(this,this._t0,r=IS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Tk(e){this._context=new Dk(e)}(Tk.prototype=Object.create(Xd.prototype)).point=function(e,t){Xd.prototype.point.call(this,t,e)};function Dk(e){this._context=e}Dk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,s){this._context.bezierCurveTo(t,e,n,r,s,o)}};function q6(e){return new Xd(e)}function U6(e){return new Tk(e)}function $k(e){this._context=e}$k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=DS(e),o=DS(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],o[0][s],n[1][s],o[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function DS(e){var t,r=e.length-1,n,o=new Array(r),s=new Array(r),c=new Array(r);for(o[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(o[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)o[t]=(c[t]-o[t+1])/s[t];for(s[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-o[t+1];return[o,s]}function W6(e){return new $k(e)}function nm(e,t){this._context=e,this._t=t}nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function H6(e){return new nm(e,.5)}function G6(e){return new nm(e,0)}function K6(e){return new nm(e,1)}function Ss(e,t){if((c=e.length)>1)for(var r=1,n,o,s=e[t[0]],c,u=s.length;r<c;++r)for(o=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function Zy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function J6(e,t){return e[t]}function X6(e){const t=[];return t.key=e,t}function Y6(){var e=Jt([]),t=Zy,r=Ss,n=J6;function o(s){var c=Array.from(e.apply(this,arguments),X6),u,d=c.length,m=-1,h;for(const p of s)for(u=0,++m;u<d;++u)(c[u][m]=[0,+n(p,c[u].key,m,s)]).data=p;for(u=0,h=kb(t(c));u<d;++u)c[h[u]].index=u;return r(c,h),c}return o.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Jt(Array.from(s)),o):e},o.value=function(s){return arguments.length?(n=typeof s=="function"?s:Jt(+s),o):n},o.order=function(s){return arguments.length?(t=s==null?Zy:typeof s=="function"?s:Jt(Array.from(s)),o):t},o.offset=function(s){return arguments.length?(r=s??Ss,o):r},o}function Z6(e,t){if((n=e.length)>0){for(var r,n,o=0,s=e[0].length,c;o<s;++o){for(c=r=0;r<n;++r)c+=e[r][o][1]||0;if(c)for(r=0;r<n;++r)e[r][o][1]/=c}Ss(e,t)}}function Q6(e,t){if((o=e.length)>0){for(var r=0,n=e[t[0]],o,s=n.length;r<s;++r){for(var c=0,u=0;c<o;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}Ss(e,t)}}function eR(e,t){if(!(!((c=e.length)>0)||!((s=(o=e[t[0]]).length)>0))){for(var r=0,n=1,o,s,c;n<s;++n){for(var u=0,d=0,m=0;u<c;++u){for(var h=e[t[u]],p=h[n][1]||0,v=h[n-1][1]||0,b=(p-v)/2,w=0;w<u;++w){var y=e[t[w]],x=y[n][1]||0,N=y[n-1][1]||0;b+=x-N}d+=p,m+=b*p}o[n-1][1]+=o[n-1][0]=r,d&&(r-=m/d)}o[n-1][1]+=o[n-1][0]=r,Ss(e,t)}}function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}var tR=["type","size","sizeType"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){rR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rR(e,t,r){return t=nR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nR(e){var t=aR(e,"string");return hc(t)=="symbol"?t:t+""}function aR(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oR(e,t){if(e==null)return{};var r=iR(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Mk={symbolCircle:_b,symbolCross:P6,symbolDiamond:A6,symbolSquare:k6,symbolStar:D6,symbolTriangle:$6,symbolWye:R6},sR=Math.PI/180,lR=function(t){var r="symbol".concat(em(t));return Mk[r]||_b},cR=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var o=18*sR;return 1.25*t*t*(Math.tan(o)-Math.tan(o*2)*Math.pow(Math.tan(o),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},uR=function(t,r){Mk["symbol".concat(em(t))]=r},Ib=function(t){var r=t.type,n=r===void 0?"circle":r,o=t.size,s=o===void 0?64:o,c=t.sizeType,u=c===void 0?"area":c,d=oR(t,tR),m=MS(MS({},d),{},{type:n,size:s,sizeType:u}),h=function(){var x=lR(n),N=L6().type(x).size(cR(s,u,n));return N()},p=m.className,v=m.cx,b=m.cy,w=lt(m,!0);return v===+v&&b===+b&&s===+s?Z.createElement("path",Qy({},w,{className:vt("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(b,")"),d:h()})):null};Ib.registerSymbol=uR;function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(this,arguments)}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){gc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lk(n.key),n)}}function pR(e,t,r){return t&&mR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hR(e,t,r){return t=Yd(t),gR(e,Rk()?Reflect.construct(t,r||[],Yd(e).constructor):t.apply(e,r))}function gR(e,t){if(t&&(Cs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vR(e)}function vR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rk=function(){return!!e})()}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yd(e)}function yR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},tx(e,t)}function gc(e,t,r){return t=Lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lk(e){var t=xR(e,"string");return Cs(t)=="symbol"?t:t+""}function xR(e,t){if(Cs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var On=32,Tb=(function(e){function t(){return fR(this,t),hR(this,t,arguments)}return yR(t,e),pR(t,[{key:"renderIcon",value:function(n){var o=this.props.inactiveColor,s=On/2,c=On/6,u=On/3,d=n.inactive?o:n.color;if(n.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:On,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(On,"M").concat(2*u,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Z.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(On/8,"h").concat(On,"v").concat(On*3/4,"h").concat(-On,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(n.legendIcon)){var m=dR({},n);return delete m.legendIcon,Z.cloneElement(n.legendIcon,m)}return Z.createElement(Ib,{fill:d,cx:s,cy:s,size:On,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,o=this.props,s=o.payload,c=o.iconSize,u=o.layout,d=o.formatter,m=o.inactiveColor,h={x:0,y:0,width:On,height:On},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,w){var y=b.formatter||d,x=vt(gc(gc({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var N=mt(b.value)?null:b.value;Kn(!mt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=b.inactive?m:b.color;return Z.createElement("li",ex({className:x,style:p,key:"legend-item-".concat(w)},pi(n.props,b,w)),Z.createElement(Gy,{width:c,height:c,viewBox:h,style:v},n.renderIcon(b)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},y?y(N,b,w):N))})}},{key:"render",value:function(){var n=this.props,o=n.payload,s=n.layout,c=n.align;if(!o||!o.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(C.PureComponent);gc(Tb,"displayName","Legend");gc(Tb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _g,LS;function bR(){if(LS)return _g;LS=1;var e=Yf();function t(){this.__data__=new e,this.size=0}return _g=t,_g}var Ig,zS;function jR(){if(zS)return Ig;zS=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Ig=e,Ig}var Tg,FS;function wR(){if(FS)return Tg;FS=1;function e(t){return this.__data__.get(t)}return Tg=e,Tg}var Dg,BS;function NR(){if(BS)return Dg;BS=1;function e(t){return this.__data__.has(t)}return Dg=e,Dg}var $g,VS;function SR(){if(VS)return $g;VS=1;var e=Yf(),t=Nb(),r=Sb(),n=200;function o(s,c){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<n-1)return d.push([s,c]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,c),this.size=u.size,this}return $g=o,$g}var Mg,qS;function zk(){if(qS)return Mg;qS=1;var e=Yf(),t=bR(),r=jR(),n=wR(),o=NR(),s=SR();function c(u){var d=this.__data__=new e(u);this.size=d.size}return c.prototype.clear=t,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=o,c.prototype.set=s,Mg=c,Mg}var Rg,US;function CR(){if(US)return Rg;US=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Rg=t,Rg}var Lg,WS;function ER(){if(WS)return Lg;WS=1;function e(t){return this.__data__.has(t)}return Lg=e,Lg}var zg,HS;function Fk(){if(HS)return zg;HS=1;var e=Sb(),t=CR(),r=ER();function n(o){var s=-1,c=o==null?0:o.length;for(this.__data__=new e;++s<c;)this.add(o[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,zg=n,zg}var Fg,GS;function Bk(){if(GS)return Fg;GS=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o;)if(r(t[n],n,t))return!0;return!1}return Fg=e,Fg}var Bg,KS;function Vk(){if(KS)return Bg;KS=1;function e(t,r){return t.has(r)}return Bg=e,Bg}var Vg,JS;function qk(){if(JS)return Vg;JS=1;var e=Fk(),t=Bk(),r=Vk(),n=1,o=2;function s(c,u,d,m,h,p){var v=d&n,b=c.length,w=u.length;if(b!=w&&!(v&&w>b))return!1;var y=p.get(c),x=p.get(u);if(y&&x)return y==u&&x==c;var N=-1,A=!0,E=d&o?new e:void 0;for(p.set(c,u),p.set(u,c);++N<b;){var _=c[N],P=u[N];if(m)var k=v?m(P,_,N,u,c,p):m(_,P,N,c,u,p);if(k!==void 0){if(k)continue;A=!1;break}if(E){if(!t(u,function(O,L){if(!r(E,L)&&(_===O||h(_,O,d,m,p)))return E.push(L)})){A=!1;break}}else if(!(_===P||h(_,P,d,m,p))){A=!1;break}}return p.delete(c),p.delete(u),A}return Vg=s,Vg}var qg,XS;function PR(){if(XS)return qg;XS=1;var e=fa(),t=e.Uint8Array;return qg=t,qg}var Ug,YS;function OR(){if(YS)return Ug;YS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(o,s){n[++r]=[s,o]}),n}return Ug=e,Ug}var Wg,ZS;function Db(){if(ZS)return Wg;ZS=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(o){n[++r]=o}),n}return Wg=e,Wg}var Hg,QS;function AR(){if(QS)return Hg;QS=1;var e=eu(),t=PR(),r=wb(),n=qk(),o=OR(),s=Db(),c=1,u=2,d="[object Boolean]",m="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",w="[object Set]",y="[object String]",x="[object Symbol]",N="[object ArrayBuffer]",A="[object DataView]",E=e?e.prototype:void 0,_=E?E.valueOf:void 0;function P(k,O,L,T,M,I,V){switch(L){case A:if(k.byteLength!=O.byteLength||k.byteOffset!=O.byteOffset)return!1;k=k.buffer,O=O.buffer;case N:return!(k.byteLength!=O.byteLength||!I(new t(k),new t(O)));case d:case m:case v:return r(+k,+O);case h:return k.name==O.name&&k.message==O.message;case b:case y:return k==O+"";case p:var z=o;case w:var B=T&c;if(z||(z=s),k.size!=O.size&&!B)return!1;var D=V.get(k);if(D)return D==O;T|=u,V.set(k,O);var G=n(z(k),z(O),T,M,I,V);return V.delete(k),G;case x:if(_)return _.call(k)==_.call(O)}return!1}return Hg=P,Hg}var Gg,eC;function Uk(){if(eC)return Gg;eC=1;function e(t,r){for(var n=-1,o=r.length,s=t.length;++n<o;)t[s+n]=r[n];return t}return Gg=e,Gg}var Kg,tC;function kR(){if(tC)return Kg;tC=1;var e=Uk(),t=sn();function r(n,o,s){var c=o(n);return t(n)?c:e(c,s(n))}return Kg=r,Kg}var Jg,rC;function _R(){if(rC)return Jg;rC=1;function e(t,r){for(var n=-1,o=t==null?0:t.length,s=0,c=[];++n<o;){var u=t[n];r(u,n,t)&&(c[s++]=u)}return c}return Jg=e,Jg}var Xg,nC;function IR(){if(nC)return Xg;nC=1;function e(){return[]}return Xg=e,Xg}var Yg,aC;function TR(){if(aC)return Yg;aC=1;var e=_R(),t=IR(),r=Object.prototype,n=r.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(c){return c==null?[]:(c=Object(c),e(o(c),function(u){return n.call(c,u)}))}:t;return Yg=s,Yg}var Zg,oC;function DR(){if(oC)return Zg;oC=1;function e(t,r){for(var n=-1,o=Array(t);++n<t;)o[n]=r(n);return o}return Zg=e,Zg}var Qg,iC;function $R(){if(iC)return Qg;iC=1;var e=Fa(),t=Ba(),r="[object Arguments]";function n(o){return t(o)&&e(o)==r}return Qg=n,Qg}var ev,sC;function $b(){if(sC)return ev;sC=1;var e=$R(),t=Ba(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(c){return t(c)&&n.call(c,"callee")&&!o.call(c,"callee")};return ev=s,ev}var tc={exports:{}},tv,lC;function MR(){if(lC)return tv;lC=1;function e(){return!1}return tv=e,tv}tc.exports;var cC;function Wk(){return cC||(cC=1,(function(e,t){var r=fa(),n=MR(),o=t&&!t.nodeType&&t,s=o&&!0&&e&&!e.nodeType&&e,c=s&&s.exports===o,u=c?r.Buffer:void 0,d=u?u.isBuffer:void 0,m=d||n;e.exports=m})(tc,tc.exports)),tc.exports}var rv,uC;function Mb(){if(uC)return rv;uC=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,o){var s=typeof n;return o=o??e,!!o&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<o}return rv=r,rv}var nv,dC;function Rb(){if(dC)return nv;dC=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return nv=t,nv}var av,fC;function RR(){if(fC)return av;fC=1;var e=Fa(),t=Rb(),r=Ba(),n="[object Arguments]",o="[object Array]",s="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",m="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",w="[object String]",y="[object WeakMap]",x="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",E="[object Float64Array]",_="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",O="[object Uint8Array]",L="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]",I={};I[A]=I[E]=I[_]=I[P]=I[k]=I[O]=I[L]=I[T]=I[M]=!0,I[n]=I[o]=I[x]=I[s]=I[N]=I[c]=I[u]=I[d]=I[m]=I[h]=I[p]=I[v]=I[b]=I[w]=I[y]=!1;function V(z){return r(z)&&t(z.length)&&!!I[e(z)]}return av=V,av}var ov,mC;function Hk(){if(mC)return ov;mC=1;function e(t){return function(r){return t(r)}}return ov=e,ov}var rc={exports:{}};rc.exports;var pC;function LR(){return pC||(pC=1,(function(e,t){var r=fk(),n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===n,c=s&&r.process,u=(function(){try{var d=o&&o.require&&o.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();e.exports=u})(rc,rc.exports)),rc.exports}var iv,hC;function Gk(){if(hC)return iv;hC=1;var e=RR(),t=Hk(),r=LR(),n=r&&r.isTypedArray,o=n?t(n):e;return iv=o,iv}var sv,gC;function zR(){if(gC)return sv;gC=1;var e=DR(),t=$b(),r=sn(),n=Wk(),o=Mb(),s=Gk(),c=Object.prototype,u=c.hasOwnProperty;function d(m,h){var p=r(m),v=!p&&t(m),b=!p&&!v&&n(m),w=!p&&!v&&!b&&s(m),y=p||v||b||w,x=y?e(m.length,String):[],N=x.length;for(var A in m)(h||u.call(m,A))&&!(y&&(A=="length"||b&&(A=="offset"||A=="parent")||w&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||o(A,N)))&&x.push(A);return x}return sv=d,sv}var lv,vC;function FR(){if(vC)return lv;vC=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||e;return r===o}return lv=t,lv}var cv,yC;function Kk(){if(yC)return cv;yC=1;function e(t,r){return function(n){return t(r(n))}}return cv=e,cv}var uv,xC;function BR(){if(xC)return uv;xC=1;var e=Kk(),t=e(Object.keys,Object);return uv=t,uv}var dv,bC;function VR(){if(bC)return dv;bC=1;var e=FR(),t=BR(),r=Object.prototype,n=r.hasOwnProperty;function o(s){if(!e(s))return t(s);var c=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&c.push(u);return c}return dv=o,dv}var fv,jC;function ru(){if(jC)return fv;jC=1;var e=jb(),t=Rb();function r(n){return n!=null&&t(n.length)&&!e(n)}return fv=r,fv}var mv,wC;function am(){if(wC)return mv;wC=1;var e=zR(),t=VR(),r=ru();function n(o){return r(o)?e(o):t(o)}return mv=n,mv}var pv,NC;function qR(){if(NC)return pv;NC=1;var e=kR(),t=TR(),r=am();function n(o){return e(o,r,t)}return pv=n,pv}var hv,SC;function UR(){if(SC)return hv;SC=1;var e=qR(),t=1,r=Object.prototype,n=r.hasOwnProperty;function o(s,c,u,d,m,h){var p=u&t,v=e(s),b=v.length,w=e(c),y=w.length;if(b!=y&&!p)return!1;for(var x=b;x--;){var N=v[x];if(!(p?N in c:n.call(c,N)))return!1}var A=h.get(s),E=h.get(c);if(A&&E)return A==c&&E==s;var _=!0;h.set(s,c),h.set(c,s);for(var P=p;++x<b;){N=v[x];var k=s[N],O=c[N];if(d)var L=p?d(O,k,N,c,s,h):d(k,O,N,s,c,h);if(!(L===void 0?k===O||m(k,O,u,d,h):L)){_=!1;break}P||(P=N=="constructor")}if(_&&!P){var T=s.constructor,M=c.constructor;T!=M&&"constructor"in s&&"constructor"in c&&!(typeof T=="function"&&T instanceof T&&typeof M=="function"&&M instanceof M)&&(_=!1)}return h.delete(s),h.delete(c),_}return hv=o,hv}var gv,CC;function WR(){if(CC)return gv;CC=1;var e=bi(),t=fa(),r=e(t,"DataView");return gv=r,gv}var vv,EC;function HR(){if(EC)return vv;EC=1;var e=bi(),t=fa(),r=e(t,"Promise");return vv=r,vv}var yv,PC;function Jk(){if(PC)return yv;PC=1;var e=bi(),t=fa(),r=e(t,"Set");return yv=r,yv}var xv,OC;function GR(){if(OC)return xv;OC=1;var e=bi(),t=fa(),r=e(t,"WeakMap");return xv=r,xv}var bv,AC;function KR(){if(AC)return bv;AC=1;var e=WR(),t=Nb(),r=HR(),n=Jk(),o=GR(),s=Fa(),c=mk(),u="[object Map]",d="[object Object]",m="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",b=c(e),w=c(t),y=c(r),x=c(n),N=c(o),A=s;return(e&&A(new e(new ArrayBuffer(1)))!=v||t&&A(new t)!=u||r&&A(r.resolve())!=m||n&&A(new n)!=h||o&&A(new o)!=p)&&(A=function(E){var _=s(E),P=_==d?E.constructor:void 0,k=P?c(P):"";if(k)switch(k){case b:return v;case w:return u;case y:return m;case x:return h;case N:return p}return _}),bv=A,bv}var jv,kC;function JR(){if(kC)return jv;kC=1;var e=zk(),t=qk(),r=AR(),n=UR(),o=KR(),s=sn(),c=Wk(),u=Gk(),d=1,m="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function w(y,x,N,A,E,_){var P=s(y),k=s(x),O=P?h:o(y),L=k?h:o(x);O=O==m?p:O,L=L==m?p:L;var T=O==p,M=L==p,I=O==L;if(I&&c(y)){if(!c(x))return!1;P=!0,T=!1}if(I&&!T)return _||(_=new e),P||u(y)?t(y,x,N,A,E,_):r(y,x,O,N,A,E,_);if(!(N&d)){var V=T&&b.call(y,"__wrapped__"),z=M&&b.call(x,"__wrapped__");if(V||z){var B=V?y.value():y,D=z?x.value():x;return _||(_=new e),E(B,D,N,A,_)}}return I?(_||(_=new e),n(y,x,N,A,E,_)):!1}return jv=w,jv}var wv,_C;function Lb(){if(_C)return wv;_C=1;var e=JR(),t=Ba();function r(n,o,s,c,u){return n===o?!0:n==null||o==null||!t(n)&&!t(o)?n!==n&&o!==o:e(n,o,s,c,r,u)}return wv=r,wv}var Nv,IC;function XR(){if(IC)return Nv;IC=1;var e=zk(),t=Lb(),r=1,n=2;function o(s,c,u,d){var m=u.length,h=m,p=!d;if(s==null)return!h;for(s=Object(s);m--;){var v=u[m];if(p&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++m<h;){v=u[m];var b=v[0],w=s[b],y=v[1];if(p&&v[2]){if(w===void 0&&!(b in s))return!1}else{var x=new e;if(d)var N=d(w,y,b,s,c,x);if(!(N===void 0?t(y,w,r|n,d,x):N))return!1}}return!0}return Nv=o,Nv}var Sv,TC;function Xk(){if(TC)return Sv;TC=1;var e=_o();function t(r){return r===r&&!e(r)}return Sv=t,Sv}var Cv,DC;function YR(){if(DC)return Cv;DC=1;var e=Xk(),t=am();function r(n){for(var o=t(n),s=o.length;s--;){var c=o[s],u=n[c];o[s]=[c,u,e(u)]}return o}return Cv=r,Cv}var Ev,$C;function Yk(){if($C)return Ev;$C=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return Ev=e,Ev}var Pv,MC;function ZR(){if(MC)return Pv;MC=1;var e=XR(),t=YR(),r=Yk();function n(o){var s=t(o);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(c){return c===o||e(c,o,s)}}return Pv=n,Pv}var Ov,RC;function QR(){if(RC)return Ov;RC=1;function e(t,r){return t!=null&&r in Object(t)}return Ov=e,Ov}var Av,LC;function e5(){if(LC)return Av;LC=1;var e=gk(),t=$b(),r=sn(),n=Mb(),o=Rb(),s=Qf();function c(u,d,m){d=e(d,u);for(var h=-1,p=d.length,v=!1;++h<p;){var b=s(d[h]);if(!(v=u!=null&&m(u,b)))break;u=u[b]}return v||++h!=p?v:(p=u==null?0:u.length,!!p&&o(p)&&n(b,p)&&(r(u)||t(u)))}return Av=c,Av}var kv,zC;function t5(){if(zC)return kv;zC=1;var e=QR(),t=e5();function r(n,o){return n!=null&&t(n,o,e)}return kv=r,kv}var _v,FC;function r5(){if(FC)return _v;FC=1;var e=Lb(),t=vk(),r=t5(),n=bb(),o=Xk(),s=Yk(),c=Qf(),u=1,d=2;function m(h,p){return n(h)&&o(p)?s(c(h),p):function(v){var b=t(v,h);return b===void 0&&b===p?r(v,h):e(p,b,u|d)}}return _v=m,_v}var Iv,BC;function el(){if(BC)return Iv;BC=1;function e(t){return t}return Iv=e,Iv}var Tv,VC;function n5(){if(VC)return Tv;VC=1;function e(t){return function(r){return r?.[t]}}return Tv=e,Tv}var Dv,qC;function a5(){if(qC)return Dv;qC=1;var e=Eb();function t(r){return function(n){return e(n,r)}}return Dv=t,Dv}var $v,UC;function o5(){if(UC)return $v;UC=1;var e=n5(),t=a5(),r=bb(),n=Qf();function o(s){return r(s)?e(n(s)):t(s)}return $v=o,$v}var Mv,WC;function ma(){if(WC)return Mv;WC=1;var e=ZR(),t=r5(),r=el(),n=sn(),o=o5();function s(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?t(c[0],c[1]):e(c):o(c)}return Mv=s,Mv}var Rv,HC;function Zk(){if(HC)return Rv;HC=1;function e(t,r,n,o){for(var s=t.length,c=n+(o?1:-1);o?c--:++c<s;)if(r(t[c],c,t))return c;return-1}return Rv=e,Rv}var Lv,GC;function i5(){if(GC)return Lv;GC=1;function e(t){return t!==t}return Lv=e,Lv}var zv,KC;function s5(){if(KC)return zv;KC=1;function e(t,r,n){for(var o=n-1,s=t.length;++o<s;)if(t[o]===r)return o;return-1}return zv=e,zv}var Fv,JC;function l5(){if(JC)return Fv;JC=1;var e=Zk(),t=i5(),r=s5();function n(o,s,c){return s===s?r(o,s,c):e(o,t,c)}return Fv=n,Fv}var Bv,XC;function c5(){if(XC)return Bv;XC=1;var e=l5();function t(r,n){var o=r==null?0:r.length;return!!o&&e(r,n,0)>-1}return Bv=t,Bv}var Vv,YC;function u5(){if(YC)return Vv;YC=1;function e(t,r,n){for(var o=-1,s=t==null?0:t.length;++o<s;)if(n(r,t[o]))return!0;return!1}return Vv=e,Vv}var qv,ZC;function d5(){if(ZC)return qv;ZC=1;function e(){}return qv=e,qv}var Uv,QC;function f5(){if(QC)return Uv;QC=1;var e=Jk(),t=d5(),r=Db(),n=1/0,o=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return Uv=o,Uv}var Wv,e2;function m5(){if(e2)return Wv;e2=1;var e=Fk(),t=c5(),r=u5(),n=Vk(),o=f5(),s=Db(),c=200;function u(d,m,h){var p=-1,v=t,b=d.length,w=!0,y=[],x=y;if(h)w=!1,v=r;else if(b>=c){var N=m?null:o(d);if(N)return s(N);w=!1,v=n,x=new e}else x=m?[]:y;e:for(;++p<b;){var A=d[p],E=m?m(A):A;if(A=h||A!==0?A:0,w&&E===E){for(var _=x.length;_--;)if(x[_]===E)continue e;m&&x.push(E),y.push(A)}else v(x,E,h)||(x!==y&&x.push(E),y.push(A))}return y}return Wv=u,Wv}var Hv,t2;function p5(){if(t2)return Hv;t2=1;var e=ma(),t=m5();function r(n,o){return n&&n.length?t(n,e(o,2)):[]}return Hv=r,Hv}var h5=p5();const r2=qt(h5);function Qk(e,t,r){return t===!0?r2(e,r):mt(t)?r2(e,t):e}function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var g5=["ref"];function n2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(r),!0).forEach(function(n){om(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t_(n.key),n)}}function y5(e,t,r){return t&&a2(e.prototype,t),r&&a2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x5(e,t,r){return t=Zd(t),b5(e,e_()?Reflect.construct(t,r||[],Zd(e).constructor):t.apply(e,r))}function b5(e,t){if(t&&(Es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j5(e)}function j5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e_=function(){return!!e})()}function Zd(e){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zd(e)}function w5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},rx(e,t)}function om(e,t,r){return t=t_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t_(e){var t=N5(e,"string");return Es(t)=="symbol"?t:t+""}function N5(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function S5(e,t){if(e==null)return{};var r=C5(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E5(e){return e.value}function P5(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var r=S5(t,g5);return Z.createElement(Tb,r)}var o2=1,wo=(function(e){function t(){var r;v5(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return r=x5(this,t,[].concat(o)),om(r,"lastBoundingBox",{width:-1,height:-1}),r}return w5(t,e),y5(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,o=this.getBBox();o?(Math.abs(o.width-this.lastBoundingBox.width)>o2||Math.abs(o.height-this.lastBoundingBox.height)>o2)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,n&&n(o)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Pa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var o=this.props,s=o.layout,c=o.align,u=o.verticalAlign,d=o.margin,m=o.chartWidth,h=o.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();p={left:((m||0)-b.width)/2}}else p=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();v={top:((h||0)-w.height)/2}}else v=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Pa(Pa({},p),v)}},{key:"render",value:function(){var n=this,o=this.props,s=o.content,c=o.width,u=o.height,d=o.wrapperStyle,m=o.payloadUniqBy,h=o.payload,p=Pa(Pa({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return Z.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){n.wrapperNode=b}},P5(s,Pa(Pa({},this.props),{},{payload:Qk(h,m,E5)})))}}],[{key:"getWithHeight",value:function(n,o){var s=Pa(Pa({},this.defaultProps),n.props),c=s.layout;return c==="vertical"&&Re(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||o}:null}}])})(C.PureComponent);om(wo,"displayName","Legend");om(wo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Gv,i2;function O5(){if(i2)return Gv;i2=1;var e=eu(),t=$b(),r=sn(),n=e?e.isConcatSpreadable:void 0;function o(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Gv=o,Gv}var Kv,s2;function r_(){if(s2)return Kv;s2=1;var e=Uk(),t=O5();function r(n,o,s,c,u){var d=-1,m=n.length;for(s||(s=t),u||(u=[]);++d<m;){var h=n[d];o>0&&s(h)?o>1?r(h,o-1,s,c,u):e(u,h):c||(u[u.length]=h)}return u}return Kv=r,Kv}var Jv,l2;function A5(){if(l2)return Jv;l2=1;function e(t){return function(r,n,o){for(var s=-1,c=Object(r),u=o(r),d=u.length;d--;){var m=u[t?d:++s];if(n(c[m],m,c)===!1)break}return r}}return Jv=e,Jv}var Xv,c2;function k5(){if(c2)return Xv;c2=1;var e=A5(),t=e();return Xv=t,Xv}var Yv,u2;function n_(){if(u2)return Yv;u2=1;var e=k5(),t=am();function r(n,o){return n&&e(n,o,t)}return Yv=r,Yv}var Zv,d2;function _5(){if(d2)return Zv;d2=1;var e=ru();function t(r,n){return function(o,s){if(o==null)return o;if(!e(o))return r(o,s);for(var c=o.length,u=n?c:-1,d=Object(o);(n?u--:++u<c)&&s(d[u],u,d)!==!1;);return o}}return Zv=t,Zv}var Qv,f2;function zb(){if(f2)return Qv;f2=1;var e=n_(),t=_5(),r=t(e);return Qv=r,Qv}var e0,m2;function a_(){if(m2)return e0;m2=1;var e=zb(),t=ru();function r(n,o){var s=-1,c=t(n)?Array(n.length):[];return e(n,function(u,d,m){c[++s]=o(u,d,m)}),c}return e0=r,e0}var t0,p2;function I5(){if(p2)return t0;p2=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return t0=e,t0}var r0,h2;function T5(){if(h2)return r0;h2=1;var e=Ys();function t(r,n){if(r!==n){var o=r!==void 0,s=r===null,c=r===r,u=e(r),d=n!==void 0,m=n===null,h=n===n,p=e(n);if(!m&&!p&&!u&&r>n||u&&d&&h&&!m&&!p||s&&d&&h||!o&&h||!c)return 1;if(!s&&!u&&!p&&r<n||p&&o&&c&&!s&&!u||m&&o&&c||!d&&c||!h)return-1}return 0}return r0=t,r0}var n0,g2;function D5(){if(g2)return n0;g2=1;var e=T5();function t(r,n,o){for(var s=-1,c=r.criteria,u=n.criteria,d=c.length,m=o.length;++s<d;){var h=e(c[s],u[s]);if(h){if(s>=m)return h;var p=o[s];return h*(p=="desc"?-1:1)}}return r.index-n.index}return n0=t,n0}var a0,v2;function $5(){if(v2)return a0;v2=1;var e=Cb(),t=Eb(),r=ma(),n=a_(),o=I5(),s=Hk(),c=D5(),u=el(),d=sn();function m(h,p,v){p.length?p=e(p,function(y){return d(y)?function(x){return t(x,y.length===1?y[0]:y)}:y}):p=[u];var b=-1;p=e(p,s(r));var w=n(h,function(y,x,N){var A=e(p,function(E){return E(y)});return{criteria:A,index:++b,value:y}});return o(w,function(y,x){return c(y,x,v)})}return a0=m,a0}var o0,y2;function M5(){if(y2)return o0;y2=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return o0=e,o0}var i0,x2;function R5(){if(x2)return i0;x2=1;var e=M5(),t=Math.max;function r(n,o,s){return o=t(o===void 0?n.length-1:o,0),function(){for(var c=arguments,u=-1,d=t(c.length-o,0),m=Array(d);++u<d;)m[u]=c[o+u];u=-1;for(var h=Array(o+1);++u<o;)h[u]=c[u];return h[o]=s(m),e(n,this,h)}}return i0=r,i0}var s0,b2;function L5(){if(b2)return s0;b2=1;function e(t){return function(){return t}}return s0=e,s0}var l0,j2;function o_(){if(j2)return l0;j2=1;var e=bi(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return l0=t,l0}var c0,w2;function z5(){if(w2)return c0;w2=1;var e=L5(),t=o_(),r=el(),n=t?function(o,s){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return c0=n,c0}var u0,N2;function F5(){if(N2)return u0;N2=1;var e=800,t=16,r=Date.now;function n(o){var s=0,c=0;return function(){var u=r(),d=t-(u-c);if(c=u,d>0){if(++s>=e)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}return u0=n,u0}var d0,S2;function B5(){if(S2)return d0;S2=1;var e=z5(),t=F5(),r=t(e);return d0=r,d0}var f0,C2;function V5(){if(C2)return f0;C2=1;var e=el(),t=R5(),r=B5();function n(o,s){return r(t(o,s,e),o+"")}return f0=n,f0}var m0,E2;function im(){if(E2)return m0;E2=1;var e=wb(),t=ru(),r=Mb(),n=_o();function o(s,c,u){if(!n(u))return!1;var d=typeof c;return(d=="number"?t(u)&&r(c,u.length):d=="string"&&c in u)?e(u[c],s):!1}return m0=o,m0}var p0,P2;function q5(){if(P2)return p0;P2=1;var e=r_(),t=$5(),r=V5(),n=im(),o=r(function(s,c){if(s==null)return[];var u=c.length;return u>1&&n(s,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),t(s,e(c,1),[])});return p0=o,p0}var U5=q5();const Fb=qt(U5);function vc(e){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vc(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}function W5(e,t){return J5(e)||K5(e,t)||G5(e,t)||H5()}function H5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G5(e,t){if(e){if(typeof e=="string")return O2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O2(e,t)}}function O2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K5(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function J5(e){if(Array.isArray(e))return e}function A2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function h0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A2(Object(r),!0).forEach(function(n){X5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X5(e,t,r){return t=Y5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=Z5(e,"string");return vc(t)=="symbol"?t:t+""}function Z5(e,t){if(vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q5(e){return Array.isArray(e)&&jr(e[0])&&jr(e[1])?e.join(" ~ "):e}var eL=function(t){var r=t.separator,n=r===void 0?" : ":r,o=t.contentStyle,s=o===void 0?{}:o,c=t.itemStyle,u=c===void 0?{}:c,d=t.labelStyle,m=d===void 0?{}:d,h=t.payload,p=t.formatter,v=t.itemSorter,b=t.wrapperClassName,w=t.labelClassName,y=t.label,x=t.labelFormatter,N=t.accessibilityLayer,A=N===void 0?!1:N,E=function(){if(h&&h.length){var V={padding:0,margin:0},z=(v?Fb(h,v):h).map(function(B,D){if(B.type==="none")return null;var G=h0({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},u),te=B.formatter||p||Q5,R=B.value,Y=B.name,U=R,F=Y;if(te&&U!=null&&F!=null){var W=te(R,Y,B,D,h);if(Array.isArray(W)){var ce=W5(W,2);U=ce[0],F=ce[1]}else U=W}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:G},jr(F)?Z.createElement("span",{className:"recharts-tooltip-item-name"},F):null,jr(F)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},U),Z.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:V},z)}return null},_=h0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=h0({margin:0},m),k=!ht(y),O=k?y:"",L=vt("recharts-default-tooltip",b),T=vt("recharts-tooltip-label",w);k&&x&&h!==void 0&&h!==null&&(O=x(y,h));var M=A?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",nx({className:L,style:_},M),Z.createElement("p",{className:T,style:P},Z.isValidElement(O)?O:"".concat(O)),E())};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function hd(e,t,r){return t=tL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tL(e){var t=rL(e,"string");return yc(t)=="symbol"?t:t+""}function rL(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bl="recharts-tooltip-wrapper",nL={visibility:"hidden"};function aL(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vt(Bl,hd(hd(hd(hd({},"".concat(Bl,"-right"),Re(r)&&t&&Re(t.x)&&r>=t.x),"".concat(Bl,"-left"),Re(r)&&t&&Re(t.x)&&r<t.x),"".concat(Bl,"-bottom"),Re(n)&&t&&Re(t.y)&&n>=t.y),"".concat(Bl,"-top"),Re(n)&&t&&Re(t.y)&&n<t.y))}function k2(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,o=e.offsetTopLeft,s=e.position,c=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,m=e.viewBoxDimension;if(s&&Re(s[n]))return s[n];var h=r[n]-u-o,p=r[n]+o;if(t[n])return c[n]?h:p;if(c[n]){var v=h,b=d[n];return v<b?Math.max(p,d[n]):Math.max(h,d[n])}var w=p+u,y=d[n]+m;return w>y?Math.max(h,d[n]):Math.max(p,d[n])}function oL(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,o=e.position,s=e.reverseDirection,c=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,m,h,p;return c.height>0&&c.width>0&&r?(h=k2({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:o,reverseDirection:s,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),p=k2({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:o,reverseDirection:s,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),m=oL({translateX:h,translateY:p,useTranslate3d:u})):m=nL,{cssProperties:m,cssClasses:aL({translateX:h,translateY:p,coordinate:r})}}function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function _2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function I2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(r),!0).forEach(function(n){ox(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s_(n.key),n)}}function cL(e,t,r){return t&&lL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uL(e,t,r){return t=Qd(t),dL(e,i_()?Reflect.construct(t,r||[],Qd(e).constructor):t.apply(e,r))}function dL(e,t){if(t&&(Ps(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fL(e)}function fL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i_=function(){return!!e})()}function Qd(e){return Qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qd(e)}function mL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ax(e,t)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ax(e,t)}function ox(e,t,r){return t=s_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s_(e){var t=pL(e,"string");return Ps(t)=="symbol"?t:t+""}function pL(e,t){if(Ps(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var T2=1,hL=(function(e){function t(){var r;sL(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return r=uL(this,t,[].concat(o)),ox(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ox(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,d,m,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(m=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&m!==void 0?m:0}})}}),r}return mL(t,e),cL(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>T2||Math.abs(n.height-this.state.lastBoundingBox.height)>T2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,o=this.props,s=o.active,c=o.allowEscapeViewBox,u=o.animationDuration,d=o.animationEasing,m=o.children,h=o.coordinate,p=o.hasPayload,v=o.isAnimationActive,b=o.offset,w=o.position,y=o.reverseDirection,x=o.useTranslate3d,N=o.viewBox,A=o.wrapperStyle,E=iL({allowEscapeViewBox:c,coordinate:h,offsetTopLeft:b,position:w,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:N}),_=E.cssClasses,P=E.cssProperties,k=I2(I2({transition:v&&s?"transform ".concat(u,"ms ").concat(d):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},A);return Z.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(L){n.wrapperNode=L}},m)}}])})(C.PureComponent),gL=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ji={isSsr:gL()};function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function $2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){Bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c_(n.key),n)}}function xL(e,t,r){return t&&yL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bL(e,t,r){return t=ef(t),jL(e,l_()?Reflect.construct(t,r||[],ef(e).constructor):t.apply(e,r))}function jL(e,t){if(t&&(Os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wL(e)}function wL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l_=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ef(e)}function NL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ix(e,t)}function ix(e,t){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ix(e,t)}function Bb(e,t,r){return t=c_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c_(e){var t=SL(e,"string");return Os(t)=="symbol"?t:t+""}function SL(e,t){if(Os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CL(e){return e.dataKey}function EL(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(eL,t)}var kn=(function(e){function t(){return vL(this,t),bL(this,t,arguments)}return NL(t,e),xL(t,[{key:"render",value:function(){var n=this,o=this.props,s=o.active,c=o.allowEscapeViewBox,u=o.animationDuration,d=o.animationEasing,m=o.content,h=o.coordinate,p=o.filterNull,v=o.isAnimationActive,b=o.offset,w=o.payload,y=o.payloadUniqBy,x=o.position,N=o.reverseDirection,A=o.useTranslate3d,E=o.viewBox,_=o.wrapperStyle,P=w??[];p&&P.length&&(P=Qk(w.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),y,CL));var k=P.length>0;return Z.createElement(hL,{allowEscapeViewBox:c,animationDuration:u,animationEasing:d,isAnimationActive:v,active:s,coordinate:h,hasPayload:k,offset:b,position:x,reverseDirection:N,useTranslate3d:A,viewBox:E,wrapperStyle:_},EL(m,$2($2({},this.props),{},{payload:P})))}}])})(C.PureComponent);Bb(kn,"displayName","Tooltip");Bb(kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ji.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var g0,M2;function PL(){if(M2)return g0;M2=1;var e=fa(),t=function(){return e.Date.now()};return g0=t,g0}var v0,R2;function OL(){if(R2)return v0;R2=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return v0=t,v0}var y0,L2;function AL(){if(L2)return y0;L2=1;var e=OL(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return y0=r,y0}var x0,z2;function u_(){if(z2)return x0;z2=1;var e=AL(),t=_o(),r=Ys(),n=NaN,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(m){if(typeof m=="number")return m;if(r(m))return n;if(t(m)){var h=typeof m.valueOf=="function"?m.valueOf():m;m=t(h)?h+"":h}if(typeof m!="string")return m===0?m:+m;m=e(m);var p=s.test(m);return p||c.test(m)?u(m.slice(2),p?2:8):o.test(m)?n:+m}return x0=d,x0}var b0,F2;function kL(){if(F2)return b0;F2=1;var e=_o(),t=PL(),r=u_(),n="Expected a function",o=Math.max,s=Math.min;function c(u,d,m){var h,p,v,b,w,y,x=0,N=!1,A=!1,E=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,e(m)&&(N=!!m.leading,A="maxWait"in m,v=A?o(r(m.maxWait)||0,d):v,E="trailing"in m?!!m.trailing:E);function _(z){var B=h,D=p;return h=p=void 0,x=z,b=u.apply(D,B),b}function P(z){return x=z,w=setTimeout(L,d),N?_(z):b}function k(z){var B=z-y,D=z-x,G=d-B;return A?s(G,v-D):G}function O(z){var B=z-y,D=z-x;return y===void 0||B>=d||B<0||A&&D>=v}function L(){var z=t();if(O(z))return T(z);w=setTimeout(L,k(z))}function T(z){return w=void 0,E&&h?_(z):(h=p=void 0,b)}function M(){w!==void 0&&clearTimeout(w),x=0,h=y=p=w=void 0}function I(){return w===void 0?b:T(t())}function V(){var z=t(),B=O(z);if(h=arguments,p=this,y=z,B){if(w===void 0)return P(y);if(A)return clearTimeout(w),w=setTimeout(L,d),_(y)}return w===void 0&&(w=setTimeout(L,d)),b}return V.cancel=M,V.flush=I,V}return b0=c,b0}var j0,B2;function _L(){if(B2)return j0;B2=1;var e=kL(),t=_o(),r="Expected a function";function n(o,s,c){var u=!0,d=!0;if(typeof o!="function")throw new TypeError(r);return t(c)&&(u="leading"in c?!!c.leading:u,d="trailing"in c?!!c.trailing:d),e(o,s,{leading:u,maxWait:s,trailing:d})}return j0=n,j0}var IL=_L();const d_=qt(IL);function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){TL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TL(e,t,r){return t=DL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=$L(e,"string");return xc(t)=="symbol"?t:t+""}function $L(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ML(e,t){return FL(e)||zL(e,t)||LL(e,t)||RL()}function RL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LL(e,t){if(e){if(typeof e=="string")return q2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q2(e,t)}}function q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function FL(e){if(Array.isArray(e))return e}var w0=C.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,o=n===void 0?{width:-1,height:-1}:n,s=e.width,c=s===void 0?"100%":s,u=e.height,d=u===void 0?"100%":u,m=e.minWidth,h=m===void 0?0:m,p=e.minHeight,v=e.maxHeight,b=e.children,w=e.debounce,y=w===void 0?0:w,x=e.id,N=e.className,A=e.onResize,E=e.style,_=E===void 0?{}:E,P=C.useRef(null),k=C.useRef();k.current=A,C.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var O=C.useState({containerWidth:o.width,containerHeight:o.height}),L=ML(O,2),T=L[0],M=L[1],I=C.useCallback(function(z,B){M(function(D){var G=Math.round(z),te=Math.round(B);return D.containerWidth===G&&D.containerHeight===te?D:{containerWidth:G,containerHeight:te}})},[]);C.useEffect(function(){var z=function(Y){var U,F=Y[0].contentRect,W=F.width,ce=F.height;I(W,ce),(U=k.current)===null||U===void 0||U.call(k,W,ce)};y>0&&(z=d_(z,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(z),D=P.current.getBoundingClientRect(),G=D.width,te=D.height;return I(G,te),B.observe(P.current),function(){B.disconnect()}},[I,y]);var V=C.useMemo(function(){var z=T.containerWidth,B=T.containerHeight;if(z<0||B<0)return null;Kn(ii(c)||ii(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),Kn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=ii(c)?z:c,G=ii(d)?B:d;r&&r>0&&(D?G=D/r:G&&(D=G*r),v&&G>v&&(G=v)),Kn(D>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,G,c,d,h,p,r);var te=!Array.isArray(b)&&Da(b.type).endsWith("Chart");return Z.Children.map(b,function(R){return Z.isValidElement(R)?C.cloneElement(R,gd({width:D,height:G},te?{style:gd({height:"100%",width:"100%",maxHeight:G,maxWidth:D},R.props.style)}:{})):R})},[r,b,d,v,p,h,T,c]);return Z.createElement("div",{id:x?"".concat(x):void 0,className:vt("recharts-responsive-container",N),style:gd(gd({},_),{},{width:c,height:d,minWidth:h,minHeight:p,maxHeight:v}),ref:P},V)}),sm=function(t){return null};sm.displayName="Cell";function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){BL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BL(e,t,r){return t=VL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=qL(e,"string");return bc(t)=="symbol"?t:t+""}function qL(e,t){if(bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yi={widthCache:{},cacheCount:0},UL=2e3,WL={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},W2="recharts_measurement_span";function HL(e){var t=sx({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var sc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ji.isSsr)return{width:0,height:0};var n=HL(r),o=JSON.stringify({text:t,copyStyle:n});if(Yi.widthCache[o])return Yi.widthCache[o];try{var s=document.getElementById(W2);s||(s=document.createElement("span"),s.setAttribute("id",W2),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=sx(sx({},WL),n);Object.assign(s.style,c),s.textContent="".concat(t);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return Yi.widthCache[o]=d,++Yi.cacheCount>UL&&(Yi.cacheCount=0,Yi.widthCache={}),d}catch{return{width:0,height:0}}},GL=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function tf(e,t){return YL(e)||XL(e,t)||JL(e,t)||KL()}function KL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JL(e,t){if(e){if(typeof e=="string")return H2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H2(e,t)}}function H2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function YL(e){if(Array.isArray(e))return e}function ZL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ez(n.key),n)}}function QL(e,t,r){return t&&G2(e.prototype,t),r&&G2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ez(e){var t=tz(e,"string");return jc(t)=="symbol"?t:t+""}function tz(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var K2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rz=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nz=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},az=Object.keys(f_),cs="NaN";function oz(e,t){return e*f_[t]}var vd=(function(){function e(t,r){ZL(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rz.test(r)&&(this.num=NaN,this.unit=""),az.includes(r)&&(this.num=oz(t,r),this.unit="px")}return QL(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,o=(n=nz.exec(r))!==null&&n!==void 0?n:[],s=tf(o,3),c=s[1],u=s[2];return new e(parseFloat(c),u??"")}}])})();function m_(e){if(e.includes(cs))return cs;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=K2.exec(t))!==null&&r!==void 0?r:[],o=tf(n,4),s=o[1],c=o[2],u=o[3],d=vd.parse(s??""),m=vd.parse(u??""),h=c==="*"?d.multiply(m):d.divide(m);if(h.isNaN())return cs;t=t.replace(K2,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,v=(p=J2.exec(t))!==null&&p!==void 0?p:[],b=tf(v,4),w=b[1],y=b[2],x=b[3],N=vd.parse(w??""),A=vd.parse(x??""),E=y==="+"?N.add(A):N.subtract(A);if(E.isNaN())return cs;t=t.replace(J2,E.toString())}return t}var X2=/\(([^()]*)\)/;function iz(e){for(var t=e;t.includes("(");){var r=X2.exec(t),n=tf(r,2),o=n[1];t=t.replace(X2,m_(o))}return t}function sz(e){var t=e.replace(/\s+/g,"");return t=iz(t),t=m_(t),t}function lz(e){try{return sz(e)}catch{return cs}}function N0(e){var t=lz(e.slice(5,-1));return t===cs?"":t}var cz=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uz=["dx","dy","angle","className","breakAll"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function Y2(e,t){if(e==null)return{};var r=dz(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z2(e,t){return hz(e)||pz(e,t)||mz(e,t)||fz()}function fz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mz(e,t){if(e){if(typeof e=="string")return Q2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q2(e,t)}}function Q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function hz(e){if(Array.isArray(e))return e}var p_=/[ \f\n\r\t\v\u2028\u2029]+/,h_=function(t){var r=t.children,n=t.breakAll,o=t.style;try{var s=[];ht(r)||(n?s=r.toString().split(""):s=r.toString().split(p_));var c=s.map(function(d){return{word:d,width:sc(d,o).width}}),u=n?0:sc("",o).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},gz=function(t,r,n,o,s){var c=t.maxLines,u=t.children,d=t.style,m=t.breakAll,h=Re(c),p=u,v=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(G,te){var R=te.word,Y=te.width,U=G[G.length-1];if(U&&(o==null||s||U.width+Y+n<Number(o)))U.words.push(R),U.width+=Y+n;else{var F={words:[R],width:Y};G.push(F)}return G},[])},b=v(r),w=function(D){return D.reduce(function(G,te){return G.width>te.width?G:te})};if(!h)return b;for(var y="",x=function(D){var G=p.slice(0,D),te=h_({breakAll:m,style:d,children:G+y}).wordsWithComputedWidth,R=v(te),Y=R.length>c||w(R).width>Number(o);return[Y,R]},N=0,A=p.length-1,E=0,_;N<=A&&E<=p.length-1;){var P=Math.floor((N+A)/2),k=P-1,O=x(k),L=Z2(O,2),T=L[0],M=L[1],I=x(P),V=Z2(I,1),z=V[0];if(!T&&!z&&(N=P+1),T&&z&&(A=P-1),!T&&z){_=M;break}E++}return _||b},eE=function(t){var r=ht(t)?[]:t.toString().split(p_);return[{words:r}]},vz=function(t){var r=t.width,n=t.scaleToFit,o=t.children,s=t.style,c=t.breakAll,u=t.maxLines;if((r||n)&&!ji.isSsr){var d,m,h=h_({breakAll:c,children:o,style:s});if(h){var p=h.wordsWithComputedWidth,v=h.spaceWidth;d=p,m=v}else return eE(o);return gz({breakAll:c,children:o,maxLines:u,style:s},d,m,r,n)}return eE(o)},tE="#808080",hi=function(t){var r=t.x,n=r===void 0?0:r,o=t.y,s=o===void 0?0:o,c=t.lineHeight,u=c===void 0?"1em":c,d=t.capHeight,m=d===void 0?"0.71em":d,h=t.scaleToFit,p=h===void 0?!1:h,v=t.textAnchor,b=v===void 0?"start":v,w=t.verticalAnchor,y=w===void 0?"end":w,x=t.fill,N=x===void 0?tE:x,A=Y2(t,cz),E=C.useMemo(function(){return vz({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:p,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,p,A.style,A.width]),_=A.dx,P=A.dy,k=A.angle,O=A.className,L=A.breakAll,T=Y2(A,uz);if(!jr(n)||!jr(s))return null;var M=n+(Re(_)?_:0),I=s+(Re(P)?P:0),V;switch(y){case"start":V=N0("calc(".concat(m,")"));break;case"middle":V=N0("calc(".concat((E.length-1)/2," * -").concat(u," + (").concat(m," / 2))"));break;default:V=N0("calc(".concat(E.length-1," * -").concat(u,")"));break}var z=[];if(p){var B=E[0].width,D=A.width;z.push("scale(".concat((Re(D)?D/B:1)/B,")"))}return k&&z.push("rotate(".concat(k,", ").concat(M,", ").concat(I,")")),z.length&&(T.transform=z.join(" ")),Z.createElement("text",lx({},lt(T,!0),{x:M,y:I,className:vt("recharts-text",O),textAnchor:b,fill:N.includes("url")?tE:N}),E.map(function(G,te){var R=G.words.join(L?"":" ");return Z.createElement("tspan",{x:M,dy:te===0?V:u,key:"".concat(R,"-").concat(te)},R)}))};function No(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vb(e){let t,r,n;e.length!==2?(t=No,r=(u,d)=>No(e(u),d),n=(u,d)=>e(u)-d):(t=e===No||e===yz?e:xz,r=e,n=e);function o(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const p=m+h>>>1;r(u[p],d)<0?m=p+1:h=p}while(m<h)}return m}function s(u,d,m=0,h=u.length){if(m<h){if(t(d,d)!==0)return h;do{const p=m+h>>>1;r(u[p],d)<=0?m=p+1:h=p}while(m<h)}return m}function c(u,d,m=0,h=u.length){const p=o(u,d,m,h-1);return p>m&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:o,center:c,right:s}}function xz(){return 0}function g_(e){return e===null?NaN:+e}function*bz(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jz=Vb(No),nu=jz.right;Vb(g_).center;class rE extends Map{constructor(t,r=Sz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,o]of t)this.set(n,o)}get(t){return super.get(nE(this,t))}has(t){return super.has(nE(this,t))}set(t,r){return super.set(wz(this,t),r)}delete(t){return super.delete(Nz(this,t))}}function nE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function wz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Cz(e=No){if(e===No)return v_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function v_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ez=Math.sqrt(50),Pz=Math.sqrt(10),Oz=Math.sqrt(2);function rf(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),s=n/Math.pow(10,o),c=s>=Ez?10:s>=Pz?5:s>=Oz?2:1;let u,d,m;return o<0?(m=Math.pow(10,-o)/c,u=Math.round(e*m),d=Math.round(t*m),u/m<e&&++u,d/m>t&&--d,m=-m):(m=Math.pow(10,o)*c,u=Math.round(e/m),d=Math.round(t/m),u*m<e&&++u,d*m>t&&--d),d<u&&.5<=r&&r<2?rf(e,t,r*2):[u,d,m]}function cx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[o,s,c]=n?rf(t,e,r):rf(e,t,r);if(!(s>=o))return[];const u=s-o+1,d=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)d[m]=(s-m)/-c;else for(let m=0;m<u;++m)d[m]=(s-m)*c;else if(c<0)for(let m=0;m<u;++m)d[m]=(o+m)/-c;else for(let m=0;m<u;++m)d[m]=(o+m)*c;return d}function ux(e,t,r){return t=+t,e=+e,r=+r,rf(e,t,r)[2]}function dx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,o=n?ux(t,e,r):ux(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function aE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function oE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function y_(e,t,r=0,n=1/0,o){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(o=o===void 0?v_:Cz(o);n>r;){if(n-r>600){const d=n-r+1,m=t-r+1,h=Math.log(d),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(d-p)/d)*(m-d/2<0?-1:1),b=Math.max(r,Math.floor(t-m*p/d+v)),w=Math.min(n,Math.floor(t+(d-m)*p/d+v));y_(e,t,b,w,o)}const s=e[t];let c=r,u=n;for(Vl(e,r,t),o(e[n],s)>0&&Vl(e,r,n);c<u;){for(Vl(e,c,u),++c,--u;o(e[c],s)<0;)++c;for(;o(e[u],s)>0;)--u}o(e[r],s)===0?Vl(e,r,u):(++u,Vl(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Vl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Az(e,t,r){if(e=Float64Array.from(bz(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return oE(e);if(t>=1)return aE(e);var n,o=(n-1)*t,s=Math.floor(o),c=aE(y_(e,s).subarray(0,s+1)),u=oE(e.subarray(s+1));return c+(u-c)*(o-s)}}function kz(e,t,r=g_){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,o=(n-1)*t,s=Math.floor(o),c=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return c+(u-c)*(o-s)}}function _z(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(o);++n<o;)s[n]=e+n*r;return s}function $n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Va(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fx=Symbol("implicit");function qb(){var e=new rE,t=[],r=[],n=fx;function o(s){let c=e.get(s);if(c===void 0){if(n!==fx)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return o.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new rE;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return o},o.range=function(s){return arguments.length?(r=Array.from(s),o):r.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.copy=function(){return qb(t,r).unknown(n)},$n.apply(o,arguments),o}function wc(){var e=qb().unknown(void 0),t=e.domain,r=e.range,n=0,o=1,s,c,u=!1,d=0,m=0,h=.5;delete e.unknown;function p(){var v=t().length,b=o<n,w=b?o:n,y=b?n:o;s=(y-w)/Math.max(1,v-d+m*2),u&&(s=Math.floor(s)),w+=(y-w-s*(v-d))*h,c=s*(1-d),u&&(w=Math.round(w),c=Math.round(c));var x=_z(v).map(function(N){return w+s*N});return r(b?x.reverse():x)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,o]=v,n=+n,o=+o,p()):[n,o]},e.rangeRound=function(v){return[n,o]=v,n=+n,o=+o,u=!0,p()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,p()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,m=+v),p()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},e.paddingOuter=function(v){return arguments.length?(m=+v,p()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},e.copy=function(){return wc(t(),[n,o]).round(u).paddingInner(d).paddingOuter(m).align(h)},$n.apply(p(),arguments)}function x_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return x_(t())},e}function lc(){return x_(wc.apply(null,arguments).paddingInner(1))}function Ub(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function b_(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function au(){}var Nc=.7,nf=1/Nc,ys="\\s*([+-]?\\d+)\\s*",Sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iz=/^#([0-9a-f]{3,8})$/,Tz=new RegExp(`^rgb\\(${ys},${ys},${ys}\\)$`),Dz=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),$z=new RegExp(`^rgba\\(${ys},${ys},${ys},${Sc}\\)$`),Mz=new RegExp(`^rgba\\(${sa},${sa},${sa},${Sc}\\)$`),Rz=new RegExp(`^hsl\\(${Sc},${sa},${sa}\\)$`),Lz=new RegExp(`^hsla\\(${Sc},${sa},${sa},${Sc}\\)$`),iE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ub(au,Cc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sE,formatHex:sE,formatHex8:zz,formatHsl:Fz,formatRgb:lE,toString:lE});function sE(){return this.rgb().formatHex()}function zz(){return this.rgb().formatHex8()}function Fz(){return j_(this).formatHsl()}function lE(){return this.rgb().formatRgb()}function Cc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Iz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cE(t):r===3?new on(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tz.exec(e))?new on(t[1],t[2],t[3],1):(t=Dz.exec(e))?new on(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$z.exec(e))?yd(t[1],t[2],t[3],t[4]):(t=Mz.exec(e))?yd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rz.exec(e))?fE(t[1],t[2]/100,t[3]/100,1):(t=Lz.exec(e))?fE(t[1],t[2]/100,t[3]/100,t[4]):iE.hasOwnProperty(e)?cE(iE[e]):e==="transparent"?new on(NaN,NaN,NaN,0):null}function cE(e){return new on(e>>16&255,e>>8&255,e&255,1)}function yd(e,t,r,n){return n<=0&&(e=t=r=NaN),new on(e,t,r,n)}function Bz(e){return e instanceof au||(e=Cc(e)),e?(e=e.rgb(),new on(e.r,e.g,e.b,e.opacity)):new on}function mx(e,t,r,n){return arguments.length===1?Bz(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ub(on,mx,b_(au,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new on(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new on(ui(this.r),ui(this.g),ui(this.b),af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uE,formatHex:uE,formatHex8:Vz,formatRgb:dE,toString:dE}));function uE(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function Vz(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function dE(){const e=af(this.opacity);return`${e===1?"rgb(":"rgba("}${ui(this.r)}, ${ui(this.g)}, ${ui(this.b)}${e===1?")":`, ${e})`}`}function af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ui(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function si(e){return e=ui(e),(e<16?"0":"")+e.toString(16)}function fE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hn(e,t,r,n)}function j_(e){if(e instanceof Hn)return new Hn(e.h,e.s,e.l,e.opacity);if(e instanceof au||(e=Cc(e)),!e)return new Hn;if(e instanceof Hn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,u=s-o,d=(s+o)/2;return u?(t===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-t)/u+2:c=(t-r)/u+4,u/=d<.5?s+o:2-s-o,c*=60):u=d>0&&d<1?0:c,new Hn(c,u,d,e.opacity)}function qz(e,t,r,n){return arguments.length===1?j_(e):new Hn(e,t,r,n??1)}function Hn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ub(Hn,qz,b_(au,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new Hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new Hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new on(S0(e>=240?e-240:e+120,o,n),S0(e,o,n),S0(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Hn(mE(this.h),xd(this.s),xd(this.l),af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=af(this.opacity);return`${e===1?"hsl(":"hsla("}${mE(this.h)}, ${xd(this.s)*100}%, ${xd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mE(e){return e=(e||0)%360,e<0?e+360:e}function xd(e){return Math.max(0,Math.min(1,e||0))}function S0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Wb=e=>()=>e;function Uz(e,t){return function(r){return e+r*t}}function Wz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Hz(e){return(e=+e)==1?w_:function(t,r){return r-t?Wz(t,r,e):Wb(isNaN(t)?r:t)}}function w_(e,t){var r=t-e;return r?Uz(e,r):Wb(isNaN(e)?t:e)}const pE=(function e(t){var r=Hz(t);function n(o,s){var c=r((o=mx(o)).r,(s=mx(s)).r),u=r(o.g,s.g),d=r(o.b,s.b),m=w_(o.opacity,s.opacity);return function(h){return o.r=c(h),o.g=u(h),o.b=d(h),o.opacity=m(h),o+""}}return n.gamma=e,n})(1);function Gz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(s){for(o=0;o<r;++o)n[o]=e[o]*(1-s)+t[o]*s;return n}}function Kz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)o[c]=tl(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(u){for(c=0;c<n;++c)s[c]=o[c](u);return s}}function Xz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function of(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Yz(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=tl(e[o],t[o]):n[o]=t[o];return function(s){for(o in r)n[o]=r[o](s);return n}}var px=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C0=new RegExp(px.source,"g");function Zz(e){return function(){return e}}function Qz(e){return function(t){return e(t)+""}}function eF(e,t){var r=px.lastIndex=C0.lastIndex=0,n,o,s,c=-1,u=[],d=[];for(e=e+"",t=t+"";(n=px.exec(e))&&(o=C0.exec(t));)(s=o.index)>r&&(s=t.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(o=o[0])?u[c]?u[c]+=o:u[++c]=o:(u[++c]=null,d.push({i:c,x:of(n,o)})),r=C0.lastIndex;return r<t.length&&(s=t.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?Qz(d[0].x):Zz(t):(t=d.length,function(m){for(var h=0,p;h<t;++h)u[(p=d[h]).i]=p.x(m);return u.join("")})}function tl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Wb(t):(r==="number"?of:r==="string"?(n=Cc(t))?(t=n,pE):eF:t instanceof Cc?pE:t instanceof Date?Xz:Kz(t)?Gz:Array.isArray(t)?Jz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yz:of)(e,t)}function Hb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tF(e,t){t===void 0&&(t=e,e=tl);for(var r=0,n=t.length-1,o=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(o,o=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function rF(e){return function(){return e}}function sf(e){return+e}var hE=[0,1];function Gr(e){return e}function hx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rF(isNaN(t)?NaN:.5)}function nF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aF(e,t,r){var n=e[0],o=e[1],s=t[0],c=t[1];return o<n?(n=hx(o,n),s=r(c,s)):(n=hx(n,o),s=r(s,c)),function(u){return s(n(u))}}function oF(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)o[c]=hx(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(u){var d=nu(e,u,1,n)-1;return s[d](o[d](u))}}function ou(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lm(){var e=hE,t=hE,r=tl,n,o,s,c=Gr,u,d,m;function h(){var v=Math.min(e.length,t.length);return c!==Gr&&(c=nF(e[0],e[v-1])),u=v>2?oF:aF,d=m=null,p}function p(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(n),t,r)))(n(c(v)))}return p.invert=function(v){return c(o((m||(m=u(t,e.map(n),of)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,sf),h()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=Hb,h()},p.clamp=function(v){return arguments.length?(c=v?!0:Gr,h()):c!==Gr},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(s=v,p):s},function(v,b){return n=v,o=b,h()}}function Gb(){return lm()(Gr,Gr)}function iF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function As(e){return e=lf(Math.abs(e)),e?e[1]:NaN}function sF(e,t){return function(r,n){for(var o=r.length,s=[],c=0,u=e[0],d=0;o>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(o-=u,o+u)),!((d+=u+1)>n));)u=e[c=(c+1)%e.length];return s.reverse().join(t)}}function lF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ec(e){if(!(t=cF.exec(e)))throw new Error("invalid format: "+e);var t;return new Kb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ec.prototype=Kb.prototype;function Kb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uF(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var N_;function dF(e,t){var r=lf(e,t);if(!r)return e+"";var n=r[0],o=r[1],s=o-(N_=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+lf(e,Math.max(0,t+s-1))[0]}function gE(e,t){var r=lf(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const vE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gE(e*100,t),r:gE,s:dF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yE(e){return e}var xE=Array.prototype.map,bE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fF(e){var t=e.grouping===void 0||e.thousands===void 0?yE:sF(xE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?yE:lF(xE.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(p){p=Ec(p);var v=p.fill,b=p.align,w=p.sign,y=p.symbol,x=p.zero,N=p.width,A=p.comma,E=p.precision,_=p.trim,P=p.type;P==="n"?(A=!0,P="g"):vE[P]||(E===void 0&&(E=12),_=!0,P="g"),(x||v==="0"&&b==="=")&&(x=!0,v="0",b="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",O=y==="$"?n:/[%p]/.test(P)?c:"",L=vE[P],T=/[defgprs%]/.test(P);E=E===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function M(I){var V=k,z=O,B,D,G;if(P==="c")z=L(I)+z,I="";else{I=+I;var te=I<0||1/I<0;if(I=isNaN(I)?d:L(Math.abs(I),E),_&&(I=uF(I)),te&&+I==0&&w!=="+"&&(te=!1),V=(te?w==="("?w:u:w==="-"||w==="("?"":w)+V,z=(P==="s"?bE[8+N_/3]:"")+z+(te&&w==="("?")":""),T){for(B=-1,D=I.length;++B<D;)if(G=I.charCodeAt(B),48>G||G>57){z=(G===46?o+I.slice(B+1):I.slice(B))+z,I=I.slice(0,B);break}}}A&&!x&&(I=t(I,1/0));var R=V.length+I.length+z.length,Y=R<N?new Array(N-R+1).join(v):"";switch(A&&x&&(I=t(Y+I,Y.length?N-z.length:1/0),Y=""),b){case"<":I=V+I+z+Y;break;case"=":I=V+Y+I+z;break;case"^":I=Y.slice(0,R=Y.length>>1)+V+I+z+Y.slice(R);break;default:I=Y+V+I+z;break}return s(I)}return M.toString=function(){return p+""},M}function h(p,v){var b=m((p=Ec(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(As(v)/3)))*3,y=Math.pow(10,-w),x=bE[8+w/3];return function(N){return b(y*N)+x}}return{format:m,formatPrefix:h}}var bd,Jb,S_;mF({thousands:",",grouping:[3],currency:["$",""]});function mF(e){return bd=fF(e),Jb=bd.format,S_=bd.formatPrefix,bd}function pF(e){return Math.max(0,-As(Math.abs(e)))}function hF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(As(t)/3)))*3-As(Math.abs(e)))}function gF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,As(t)-As(e))+1}function C_(e,t,r,n){var o=dx(e,t,r),s;switch(n=Ec(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=hF(o,c))&&(n.precision=s),S_(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=gF(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=pF(o))&&(n.precision=s-(n.type==="%")*2);break}}return Jb(n)}function Io(e){var t=e.domain;return e.ticks=function(r){var n=t();return cx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return C_(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,s=n.length-1,c=n[o],u=n[s],d,m,h=10;for(u<c&&(m=c,c=u,u=m,m=o,o=s,s=m);h-- >0;){if(m=ux(c,u,r),m===d)return n[o]=c,n[s]=u,t(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;d=m}return e},e}function cf(){var e=Gb();return e.copy=function(){return ou(e,cf())},$n.apply(e,arguments),Io(e)}function E_(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return E_(e).unknown(t)},e=arguments.length?Array.from(e,sf):[0,1],Io(r)}function P_(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],s=e[n],c;return s<o&&(c=r,r=n,n=c,c=o,o=s,s=c),e[r]=t.floor(o),e[n]=t.ceil(s),e}function jE(e){return Math.log(e)}function wE(e){return Math.exp(e)}function vF(e){return-Math.log(-e)}function yF(e){return-Math.exp(-e)}function xF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bF(e){return e===10?xF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NE(e){return(t,r)=>-e(-t,r)}function Xb(e){const t=e(jE,wE),r=t.domain;let n=10,o,s;function c(){return o=jF(n),s=bF(n),r()[0]<0?(o=NE(o),s=NE(s),e(vF,yF)):e(jE,wE),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const d=r();let m=d[0],h=d[d.length-1];const p=h<m;p&&([m,h]=[h,m]);let v=o(m),b=o(h),w,y;const x=u==null?10:+u;let N=[];if(!(n%1)&&b-v<x){if(v=Math.floor(v),b=Math.ceil(b),m>0){for(;v<=b;++v)for(w=1;w<n;++w)if(y=v<0?w/s(-v):w*s(v),!(y<m)){if(y>h)break;N.push(y)}}else for(;v<=b;++v)for(w=n-1;w>=1;--w)if(y=v>0?w/s(-v):w*s(v),!(y<m)){if(y>h)break;N.push(y)}N.length*2<x&&(N=cx(m,h,x))}else N=cx(v,b,Math.min(b-v,x)).map(s);return p?N.reverse():N},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Ec(d)).precision==null&&(d.trim=!0),d=Jb(d)),u===1/0)return d;const m=Math.max(1,n*u/t.ticks().length);return h=>{let p=h/s(Math.round(o(h)));return p*n<n-.5&&(p*=n),p<=m?d(h):""}},t.nice=()=>r(P_(r(),{floor:u=>s(Math.floor(o(u))),ceil:u=>s(Math.ceil(o(u)))})),t}function O_(){const e=Xb(lm()).domain([1,10]);return e.copy=()=>ou(e,O_()).base(e.base()),$n.apply(e,arguments),e}function SE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yb(e){var t=1,r=e(SE(t),CE(t));return r.constant=function(n){return arguments.length?e(SE(t=+n),CE(t)):t},Io(r)}function A_(){var e=Yb(lm());return e.copy=function(){return ou(e,A_()).constant(e.constant())},$n.apply(e,arguments)}function EE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NF(e){return e<0?-e*e:e*e}function Zb(e){var t=e(Gr,Gr),r=1;function n(){return r===1?e(Gr,Gr):r===.5?e(wF,NF):e(EE(r),EE(1/r))}return t.exponent=function(o){return arguments.length?(r=+o,n()):r},Io(t)}function Qb(){var e=Zb(lm());return e.copy=function(){return ou(e,Qb()).exponent(e.exponent())},$n.apply(e,arguments),e}function SF(){return Qb.apply(null,arguments).exponent(.5)}function PE(e){return Math.sign(e)*e*e}function CF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function k_(){var e=Gb(),t=[0,1],r=!1,n;function o(s){var c=CF(e(s));return isNaN(c)?n:r?Math.round(c):c}return o.invert=function(s){return e.invert(PE(s))},o.domain=function(s){return arguments.length?(e.domain(s),o):e.domain()},o.range=function(s){return arguments.length?(e.range((t=Array.from(s,sf)).map(PE)),o):t.slice()},o.rangeRound=function(s){return o.range(s).round(!0)},o.round=function(s){return arguments.length?(r=!!s,o):r},o.clamp=function(s){return arguments.length?(e.clamp(s),o):e.clamp()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.copy=function(){return k_(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$n.apply(o,arguments),Io(o)}function __(){var e=[],t=[],r=[],n;function o(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=kz(e,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:t[nu(r,c)]}return s.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(No),o()},s.range=function(c){return arguments.length?(t=Array.from(c),o()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return __().domain(e).range(t).unknown(n)},$n.apply(s,arguments)}function I_(){var e=0,t=1,r=1,n=[.5],o=[0,1],s;function c(d){return d!=null&&d<=d?o[nu(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return c}return c.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},c.range=function(d){return arguments.length?(r=(o=Array.from(d)).length-1,u()):o.slice()},c.invertExtent=function(d){var m=o.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(d){return arguments.length&&(s=d),c},c.thresholds=function(){return n.slice()},c.copy=function(){return I_().domain([e,t]).range(o).unknown(s)},$n.apply(Io(c),arguments)}function T_(){var e=[.5],t=[0,1],r,n=1;function o(s){return s!=null&&s<=s?t[nu(e,s,0,n)]:r}return o.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},o.unknown=function(s){return arguments.length?(r=s,o):r},o.copy=function(){return T_().domain(e).range(t).unknown(r)},$n.apply(o,arguments)}const E0=new Date,P0=new Date;function wr(e,t,r,n){function o(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return o.floor=s=>(e(s=new Date(+s)),s),o.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),o.round=s=>{const c=o(s),u=o.ceil(s);return s-c<u-s?c:u},o.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),o.range=(s,c,u)=>{const d=[];if(s=o.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return d;let m;do d.push(m=new Date(+s)),t(s,u),e(s);while(m<s&&s<c);return d},o.filter=s=>wr(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!s(c););else for(;--u>=0;)for(;t(c,1),!s(c););}),r&&(o.count=(s,c)=>(E0.setTime(+s),P0.setTime(+c),e(E0),e(P0),Math.floor(r(E0,P0))),o.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?o.filter(n?c=>n(c)%s===0:c=>o.count(0,c)%s===0):o)),o}const uf=wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uf);uf.range;const _a=1e3,In=_a*60,Ia=In*60,Ra=Ia*24,ej=Ra*7,OE=Ra*30,O0=Ra*365,li=wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getUTCSeconds());li.range;const tj=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_a)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getMinutes());tj.range;const rj=wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*In)},(e,t)=>(t-e)/In,e=>e.getUTCMinutes());rj.range;const nj=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_a-e.getMinutes()*In)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getHours());nj.range;const aj=wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ia)},(e,t)=>(t-e)/Ia,e=>e.getUTCHours());aj.range;const iu=wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*In)/Ra,e=>e.getDate()-1);iu.range;const cm=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ra,e=>e.getUTCDate()-1);cm.range;const D_=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ra,e=>Math.floor(e/Ra));D_.range;function wi(e){return wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*In)/ej)}const um=wi(0),df=wi(1),EF=wi(2),PF=wi(3),ks=wi(4),OF=wi(5),AF=wi(6);um.range;df.range;EF.range;PF.range;ks.range;OF.range;AF.range;function Ni(e){return wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ej)}const dm=Ni(0),ff=Ni(1),kF=Ni(2),_F=Ni(3),_s=Ni(4),IF=Ni(5),TF=Ni(6);dm.range;ff.range;kF.range;_F.range;_s.range;IF.range;TF.range;const oj=wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oj.range;const ij=wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ij.range;const La=wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());La.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});La.range;const za=wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});za.range;function $_(e,t,r,n,o,s){const c=[[li,1,_a],[li,5,5*_a],[li,15,15*_a],[li,30,30*_a],[s,1,In],[s,5,5*In],[s,15,15*In],[s,30,30*In],[o,1,Ia],[o,3,3*Ia],[o,6,6*Ia],[o,12,12*Ia],[n,1,Ra],[n,2,2*Ra],[r,1,ej],[t,1,OE],[t,3,3*OE],[e,1,O0]];function u(m,h,p){const v=h<m;v&&([m,h]=[h,m]);const b=p&&typeof p.range=="function"?p:d(m,h,p),w=b?b.range(m,+h+1):[];return v?w.reverse():w}function d(m,h,p){const v=Math.abs(h-m)/p,b=Vb(([,,x])=>x).right(c,v);if(b===c.length)return e.every(dx(m/O0,h/O0,p));if(b===0)return uf.every(Math.max(dx(m,h,p),1));const[w,y]=c[v/c[b-1][2]<c[b][2]/v?b-1:b];return w.every(y)}return[u,d]}const[DF,$F]=$_(za,ij,dm,D_,aj,rj),[MF,RF]=$_(La,oj,um,iu,nj,tj);function A0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function k0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ql(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function LF(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,s=e.days,c=e.shortDays,u=e.months,d=e.shortMonths,m=Ul(o),h=Wl(o),p=Ul(s),v=Wl(s),b=Ul(c),w=Wl(c),y=Ul(u),x=Wl(u),N=Ul(d),A=Wl(d),E={a:te,A:R,b:Y,B:U,c:null,d:DE,e:DE,f:s7,g:v7,G:x7,H:a7,I:o7,j:i7,L:M_,m:l7,M:c7,p:F,q:W,Q:RE,s:LE,S:u7,u:d7,U:f7,V:m7,w:p7,W:h7,x:null,X:null,y:g7,Y:y7,Z:b7,"%":ME},_={a:ce,A:ie,b:K,B:pe,c:null,d:$E,e:$E,f:S7,g:D7,G:M7,H:j7,I:w7,j:N7,L:L_,m:C7,M:E7,p:me,q:ne,Q:RE,s:LE,S:P7,u:O7,U:A7,V:k7,w:_7,W:I7,x:null,X:null,y:T7,Y:$7,Z:R7,"%":ME},P={a:M,A:I,b:V,B:z,c:B,d:IE,e:IE,f:e7,g:_E,G:kE,H:TE,I:TE,j:XF,L:QF,m:JF,M:YF,p:T,q:KF,Q:r7,s:n7,S:ZF,u:qF,U:UF,V:WF,w:VF,W:HF,x:D,X:G,y:_E,Y:kE,Z:GF,"%":t7};E.x=k(r,E),E.X=k(n,E),E.c=k(t,E),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(se,ue){return function(Me){var ve=[],Ne=-1,Se=0,ge=se.length,Ee,Ge,Q;for(Me instanceof Date||(Me=new Date(+Me));++Ne<ge;)se.charCodeAt(Ne)===37&&(ve.push(se.slice(Se,Ne)),(Ge=AE[Ee=se.charAt(++Ne)])!=null?Ee=se.charAt(++Ne):Ge=Ee==="e"?" ":"0",(Q=ue[Ee])&&(Ee=Q(Me,Ge)),ve.push(Ee),Se=Ne+1);return ve.push(se.slice(Se,Ne)),ve.join("")}}function O(se,ue){return function(Me){var ve=ql(1900,void 0,1),Ne=L(ve,se,Me+="",0),Se,ge;if(Ne!=Me.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(ue&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Se=k0(ql(ve.y,0,1)),ge=Se.getUTCDay(),Se=ge>4||ge===0?ff.ceil(Se):ff(Se),Se=cm.offset(Se,(ve.V-1)*7),ve.y=Se.getUTCFullYear(),ve.m=Se.getUTCMonth(),ve.d=Se.getUTCDate()+(ve.w+6)%7):(Se=A0(ql(ve.y,0,1)),ge=Se.getDay(),Se=ge>4||ge===0?df.ceil(Se):df(Se),Se=iu.offset(Se,(ve.V-1)*7),ve.y=Se.getFullYear(),ve.m=Se.getMonth(),ve.d=Se.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),ge="Z"in ve?k0(ql(ve.y,0,1)).getUTCDay():A0(ql(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(ge+5)%7:ve.w+ve.U*7-(ge+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,k0(ve)):A0(ve)}}function L(se,ue,Me,ve){for(var Ne=0,Se=ue.length,ge=Me.length,Ee,Ge;Ne<Se;){if(ve>=ge)return-1;if(Ee=ue.charCodeAt(Ne++),Ee===37){if(Ee=ue.charAt(Ne++),Ge=P[Ee in AE?ue.charAt(Ne++):Ee],!Ge||(ve=Ge(se,Me,ve))<0)return-1}else if(Ee!=Me.charCodeAt(ve++))return-1}return ve}function T(se,ue,Me){var ve=m.exec(ue.slice(Me));return ve?(se.p=h.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function M(se,ue,Me){var ve=b.exec(ue.slice(Me));return ve?(se.w=w.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function I(se,ue,Me){var ve=p.exec(ue.slice(Me));return ve?(se.w=v.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function V(se,ue,Me){var ve=N.exec(ue.slice(Me));return ve?(se.m=A.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function z(se,ue,Me){var ve=y.exec(ue.slice(Me));return ve?(se.m=x.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function B(se,ue,Me){return L(se,t,ue,Me)}function D(se,ue,Me){return L(se,r,ue,Me)}function G(se,ue,Me){return L(se,n,ue,Me)}function te(se){return c[se.getDay()]}function R(se){return s[se.getDay()]}function Y(se){return d[se.getMonth()]}function U(se){return u[se.getMonth()]}function F(se){return o[+(se.getHours()>=12)]}function W(se){return 1+~~(se.getMonth()/3)}function ce(se){return c[se.getUTCDay()]}function ie(se){return s[se.getUTCDay()]}function K(se){return d[se.getUTCMonth()]}function pe(se){return u[se.getUTCMonth()]}function me(se){return o[+(se.getUTCHours()>=12)]}function ne(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ue=k(se+="",E);return ue.toString=function(){return se},ue},parse:function(se){var ue=O(se+="",!1);return ue.toString=function(){return se},ue},utcFormat:function(se){var ue=k(se+="",_);return ue.toString=function(){return se},ue},utcParse:function(se){var ue=O(se+="",!0);return ue.toString=function(){return se},ue}}}var AE={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,zF=/^%/,FF=/[\\^$*+?|[\]().{}]/g;function Dt(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",s=o.length;return n+(s<r?new Array(r-s+1).join(t)+o:o)}function BF(e){return e.replace(FF,"\\$&")}function Ul(e){return new RegExp("^(?:"+e.map(BF).join("|")+")","i")}function Wl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function VF(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qF(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function UF(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function kE(e,t,r){var n=kr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _E(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KF(e,t,r){var n=kr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function JF(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function IE(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XF(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function TE(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=kr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function QF(e,t,r){var n=kr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function e7(e,t,r){var n=kr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function t7(e,t,r){var n=zF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function r7(e,t,r){var n=kr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function n7(e,t,r){var n=kr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function DE(e,t){return Dt(e.getDate(),t,2)}function a7(e,t){return Dt(e.getHours(),t,2)}function o7(e,t){return Dt(e.getHours()%12||12,t,2)}function i7(e,t){return Dt(1+iu.count(La(e),e),t,3)}function M_(e,t){return Dt(e.getMilliseconds(),t,3)}function s7(e,t){return M_(e,t)+"000"}function l7(e,t){return Dt(e.getMonth()+1,t,2)}function c7(e,t){return Dt(e.getMinutes(),t,2)}function u7(e,t){return Dt(e.getSeconds(),t,2)}function d7(e){var t=e.getDay();return t===0?7:t}function f7(e,t){return Dt(um.count(La(e)-1,e),t,2)}function R_(e){var t=e.getDay();return t>=4||t===0?ks(e):ks.ceil(e)}function m7(e,t){return e=R_(e),Dt(ks.count(La(e),e)+(La(e).getDay()===4),t,2)}function p7(e){return e.getDay()}function h7(e,t){return Dt(df.count(La(e)-1,e),t,2)}function g7(e,t){return Dt(e.getFullYear()%100,t,2)}function v7(e,t){return e=R_(e),Dt(e.getFullYear()%100,t,2)}function y7(e,t){return Dt(e.getFullYear()%1e4,t,4)}function x7(e,t){var r=e.getDay();return e=r>=4||r===0?ks(e):ks.ceil(e),Dt(e.getFullYear()%1e4,t,4)}function b7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dt(t/60|0,"0",2)+Dt(t%60,"0",2)}function $E(e,t){return Dt(e.getUTCDate(),t,2)}function j7(e,t){return Dt(e.getUTCHours(),t,2)}function w7(e,t){return Dt(e.getUTCHours()%12||12,t,2)}function N7(e,t){return Dt(1+cm.count(za(e),e),t,3)}function L_(e,t){return Dt(e.getUTCMilliseconds(),t,3)}function S7(e,t){return L_(e,t)+"000"}function C7(e,t){return Dt(e.getUTCMonth()+1,t,2)}function E7(e,t){return Dt(e.getUTCMinutes(),t,2)}function P7(e,t){return Dt(e.getUTCSeconds(),t,2)}function O7(e){var t=e.getUTCDay();return t===0?7:t}function A7(e,t){return Dt(dm.count(za(e)-1,e),t,2)}function z_(e){var t=e.getUTCDay();return t>=4||t===0?_s(e):_s.ceil(e)}function k7(e,t){return e=z_(e),Dt(_s.count(za(e),e)+(za(e).getUTCDay()===4),t,2)}function _7(e){return e.getUTCDay()}function I7(e,t){return Dt(ff.count(za(e)-1,e),t,2)}function T7(e,t){return Dt(e.getUTCFullYear()%100,t,2)}function D7(e,t){return e=z_(e),Dt(e.getUTCFullYear()%100,t,2)}function $7(e,t){return Dt(e.getUTCFullYear()%1e4,t,4)}function M7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_s(e):_s.ceil(e),Dt(e.getUTCFullYear()%1e4,t,4)}function R7(){return"+0000"}function ME(){return"%"}function RE(e){return+e}function LE(e){return Math.floor(+e/1e3)}var Zi,F_,B_;L7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function L7(e){return Zi=LF(e),F_=Zi.format,Zi.parse,B_=Zi.utcFormat,Zi.utcParse,Zi}function z7(e){return new Date(e)}function F7(e){return e instanceof Date?+e:+new Date(+e)}function sj(e,t,r,n,o,s,c,u,d,m){var h=Gb(),p=h.invert,v=h.domain,b=m(".%L"),w=m(":%S"),y=m("%I:%M"),x=m("%I %p"),N=m("%a %d"),A=m("%b %d"),E=m("%B"),_=m("%Y");function P(k){return(d(k)<k?b:u(k)<k?w:c(k)<k?y:s(k)<k?x:n(k)<k?o(k)<k?N:A:r(k)<k?E:_)(k)}return h.invert=function(k){return new Date(p(k))},h.domain=function(k){return arguments.length?v(Array.from(k,F7)):v().map(z7)},h.ticks=function(k){var O=v();return e(O[0],O[O.length-1],k??10)},h.tickFormat=function(k,O){return O==null?P:m(O)},h.nice=function(k){var O=v();return(!k||typeof k.range!="function")&&(k=t(O[0],O[O.length-1],k??10)),k?v(P_(O,k)):h},h.copy=function(){return ou(h,sj(e,t,r,n,o,s,c,u,d,m))},h}function B7(){return $n.apply(sj(MF,RF,La,oj,um,iu,nj,tj,li,F_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V7(){return $n.apply(sj(DF,$F,za,ij,dm,cm,aj,rj,li,B_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fm(){var e=0,t=1,r,n,o,s,c=Gr,u=!1,d;function m(p){return p==null||isNaN(p=+p)?d:c(o===0?.5:(p=(s(p)-r)*o,u?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),o=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(p){return arguments.length?(u=!!p,m):u},m.interpolator=function(p){return arguments.length?(c=p,m):c};function h(p){return function(v){var b,w;return arguments.length?([b,w]=v,c=p(b,w),m):[c(0),c(1)]}}return m.range=h(tl),m.rangeRound=h(Hb),m.unknown=function(p){return arguments.length?(d=p,m):d},function(p){return s=p,r=p(e),n=p(t),o=r===n?0:1/(n-r),m}}function To(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function V_(){var e=Io(fm()(Gr));return e.copy=function(){return To(e,V_())},Va.apply(e,arguments)}function q_(){var e=Xb(fm()).domain([1,10]);return e.copy=function(){return To(e,q_()).base(e.base())},Va.apply(e,arguments)}function U_(){var e=Yb(fm());return e.copy=function(){return To(e,U_()).constant(e.constant())},Va.apply(e,arguments)}function lj(){var e=Zb(fm());return e.copy=function(){return To(e,lj()).exponent(e.exponent())},Va.apply(e,arguments)}function q7(){return lj.apply(null,arguments).exponent(.5)}function W_(){var e=[],t=Gr;function r(n){if(n!=null&&!isNaN(n=+n))return t((nu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let o of n)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(No),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,o)=>t(o/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(o,s)=>Az(e,s/n))},r.copy=function(){return W_(t).domain(e)},Va.apply(r,arguments)}function mm(){var e=0,t=.5,r=1,n=1,o,s,c,u,d,m=Gr,h,p=!1,v;function b(y){return isNaN(y=+y)?v:(y=.5+((y=+h(y))-s)*(n*y<n*s?u:d),m(p?Math.max(0,Math.min(1,y)):y))}b.domain=function(y){return arguments.length?([e,t,r]=y,o=h(e=+e),s=h(t=+t),c=h(r=+r),u=o===s?0:.5/(s-o),d=s===c?0:.5/(c-s),n=s<o?-1:1,b):[e,t,r]},b.clamp=function(y){return arguments.length?(p=!!y,b):p},b.interpolator=function(y){return arguments.length?(m=y,b):m};function w(y){return function(x){var N,A,E;return arguments.length?([N,A,E]=x,m=tF(y,[N,A,E]),b):[m(0),m(.5),m(1)]}}return b.range=w(tl),b.rangeRound=w(Hb),b.unknown=function(y){return arguments.length?(v=y,b):v},function(y){return h=y,o=y(e),s=y(t),c=y(r),u=o===s?0:.5/(s-o),d=s===c?0:.5/(c-s),n=s<o?-1:1,b}}function H_(){var e=Io(mm()(Gr));return e.copy=function(){return To(e,H_())},Va.apply(e,arguments)}function G_(){var e=Xb(mm()).domain([.1,1,10]);return e.copy=function(){return To(e,G_()).base(e.base())},Va.apply(e,arguments)}function K_(){var e=Yb(mm());return e.copy=function(){return To(e,K_()).constant(e.constant())},Va.apply(e,arguments)}function cj(){var e=Zb(mm());return e.copy=function(){return To(e,cj()).exponent(e.exponent())},Va.apply(e,arguments)}function U7(){return cj.apply(null,arguments).exponent(.5)}const zE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wc,scaleDiverging:H_,scaleDivergingLog:G_,scaleDivergingPow:cj,scaleDivergingSqrt:U7,scaleDivergingSymlog:K_,scaleIdentity:E_,scaleImplicit:fx,scaleLinear:cf,scaleLog:O_,scaleOrdinal:qb,scalePoint:lc,scalePow:Qb,scaleQuantile:__,scaleQuantize:I_,scaleRadial:k_,scaleSequential:V_,scaleSequentialLog:q_,scaleSequentialPow:lj,scaleSequentialQuantile:W_,scaleSequentialSqrt:q7,scaleSequentialSymlog:U_,scaleSqrt:SF,scaleSymlog:A_,scaleThreshold:T_,scaleTime:B7,scaleUtc:V7,tickFormat:C_},Symbol.toStringTag,{value:"Module"}));var _0,FE;function pm(){if(FE)return _0;FE=1;var e=Ys();function t(r,n,o){for(var s=-1,c=r.length;++s<c;){var u=r[s],d=n(u);if(d!=null&&(m===void 0?d===d&&!e(d):o(d,m)))var m=d,h=u}return h}return _0=t,_0}var I0,BE;function J_(){if(BE)return I0;BE=1;function e(t,r){return t>r}return I0=e,I0}var T0,VE;function W7(){if(VE)return T0;VE=1;var e=pm(),t=J_(),r=el();function n(o){return o&&o.length?e(o,r,t):void 0}return T0=n,T0}var H7=W7();const hm=qt(H7);var D0,qE;function X_(){if(qE)return D0;qE=1;function e(t,r){return t<r}return D0=e,D0}var $0,UE;function G7(){if(UE)return $0;UE=1;var e=pm(),t=X_(),r=el();function n(o){return o&&o.length?e(o,r,t):void 0}return $0=n,$0}var K7=G7();const gm=qt(K7);var M0,WE;function J7(){if(WE)return M0;WE=1;var e=Cb(),t=ma(),r=a_(),n=sn();function o(s,c){var u=n(s)?e:r;return u(s,t(c,3))}return M0=o,M0}var R0,HE;function X7(){if(HE)return R0;HE=1;var e=r_(),t=J7();function r(n,o){return e(t(n,o),1)}return R0=r,R0}var Y7=X7();const Z7=qt(Y7);var L0,GE;function Q7(){if(GE)return L0;GE=1;var e=Lb();function t(r,n){return e(r,n)}return L0=t,L0}var e8=Q7();const su=qt(e8);var rl=1e9,t8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dj,tr=!0,Tn="[DecimalError] ",di=Tn+"Invalid argument: ",uj=Tn+"Exponent out of range: ",nl=Math.floor,ai=Math.pow,r8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,Pr=1e7,Qt=7,Y_=9007199254740991,mf=nl(Y_/Qt),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var t,r,n,o,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,o=e.d.length,t=0,r=n<o?n:o;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===o?0:n>o^s.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Je.dividedBy=Je.div=function(e){return $a(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var t=this,r=t.constructor;return Wt($a(t,new r(e),0,1),r.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return pr(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var t,r=this,n=r.constructor,o=n.precision,s=o+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vn))throw Error(Tn+"NaN");if(r.s<1)throw Error(Tn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(tr=!1,t=$a(Pc(r,s),Pc(e,s),s),tr=!0,Wt(t,o))};Je.minus=Je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eI(t,e):Z_(t,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var t,r=this,n=r.constructor,o=n.precision;if(e=new n(e),!e.s)throw Error(Tn+"NaN");return r.s?(tr=!1,t=$a(r,e,0,1).times(e),tr=!0,r.minus(t)):Wt(new n(r),o)};Je.naturalExponential=Je.exp=function(){return Q_(this)};Je.naturalLogarithm=Je.ln=function(){return Pc(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z_(t,e):eI(t,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var t,r,n,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(di+e);if(t=pr(o)+1,n=o.d.length-1,r=n*Qt+1,n=o.d[n],n){for(;n%10==0;n/=10)r--;for(n=o.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Je.squareRoot=Je.sqrt=function(){var e,t,r,n,o,s,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Tn+"NaN")}for(e=pr(u),tr=!1,o=Math.sqrt(+u),o==0||o==1/0?(t=ia(u.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=nl((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(o.toString()),r=d.precision,o=c=r+3;;)if(s=n,n=s.plus($a(u,s,c+2)).times(.5),ia(s.d).slice(0,c)===(t=ia(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),o==c&&t=="4999"){if(Wt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;c+=4}return tr=!0,Wt(n,r)};Je.times=Je.mul=function(e){var t,r,n,o,s,c,u,d,m,h=this,p=h.constructor,v=h.d,b=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,d=v.length,m=b.length,d<m&&(s=v,v=b,b=s,c=d,d=m,m=c),s=[],c=d+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,o=d+n;o>n;)u=s[o]+b[n]*v[o-n-1]+t,s[o--]=u%Pr|0,t=u/Pr|0;s[o]=(s[o]+t)%Pr|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,tr?Wt(e,p.precision):e};Je.toDecimalPlaces=Je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ca(e,0,rl),t===void 0?t=n.rounding:ca(t,0,8),Wt(r,e+pr(r)+1,t))};Je.toExponential=function(e,t){var r,n=this,o=n.constructor;return e===void 0?r=gi(n,!0):(ca(e,0,rl),t===void 0?t=o.rounding:ca(t,0,8),n=Wt(new o(n),e+1,t),r=gi(n,!0,e+1)),r};Je.toFixed=function(e,t){var r,n,o=this,s=o.constructor;return e===void 0?gi(o):(ca(e,0,rl),t===void 0?t=s.rounding:ca(t,0,8),n=Wt(new s(o),e+pr(o)+1,t),r=gi(n.abs(),!1,e+pr(n)+1),o.isneg()&&!o.isZero()?"-"+r:r)};Je.toInteger=Je.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),pr(e)+1,t.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var t,r,n,o,s,c,u=this,d=u.constructor,m=12,h=+(e=new d(e));if(!e.s)return new d(vn);if(u=new d(u),!u.s){if(e.s<1)throw Error(Tn+"Infinity");return u}if(u.eq(vn))return u;if(n=d.precision,e.eq(vn))return Wt(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=u.s,c){if((r=h<0?-h:h)<=Y_){for(o=new d(vn),t=Math.ceil(n/Qt+4),tr=!1;r%2&&(o=o.times(u),JE(o.d,t)),r=nl(r/2),r!==0;)u=u.times(u),JE(u.d,t);return tr=!0,e.s<0?new d(vn).div(o):Wt(o,n)}}else if(s<0)throw Error(Tn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,tr=!1,o=e.times(Pc(u,n+m)),tr=!0,o=Q_(o),o.s=s,o};Je.toPrecision=function(e,t){var r,n,o=this,s=o.constructor;return e===void 0?(r=pr(o),n=gi(o,r<=s.toExpNeg||r>=s.toExpPos)):(ca(e,1,rl),t===void 0?t=s.rounding:ca(t,0,8),o=Wt(new s(o),e,t),r=pr(o),n=gi(o,e<=r||r<=s.toExpNeg,e)),n};Je.toSignificantDigits=Je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ca(e,1,rl),t===void 0?t=n.rounding:ca(t,0,8)),Wt(new n(r),e,t)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pr(e),r=e.constructor;return gi(e,t<=r.toExpNeg||t>=r.toExpPos)};function Z_(e,t){var r,n,o,s,c,u,d,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),tr?Wt(t,p):t;if(d=e.d,m=t.d,c=e.e,o=t.e,d=d.slice(),s=c-o,s){for(s<0?(n=d,s=-s,u=m.length):(n=m,o=c,u=d.length),c=Math.ceil(p/Qt),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=m.length,u-s<0&&(s=u,n=m,m=d,d=n),r=0;s;)r=(d[--s]=d[s]+m[s]+r)/Pr|0,d[s]%=Pr;for(r&&(d.unshift(r),++o),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=o,tr?Wt(t,p):t}function ca(e,t,r){if(e!==~~e||e<t||e>r)throw Error(di+e)}function ia(e){var t,r,n,o=e.length-1,s="",c=e[0];if(o>0){for(s+=c,t=1;t<o;t++)n=e[t]+"",r=Qt-n.length,r&&(s+=yo(r)),s+=n;c=e[t],n=c+"",r=Qt-n.length,r&&(s+=yo(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var $a=(function(){function e(n,o){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*o+c,n[u]=s%Pr|0,c=s/Pr|0;return c&&n.unshift(c),n}function t(n,o,s,c){var u,d;if(s!=c)d=s>c?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=o[u]){d=n[u]>o[u]?1:-1;break}return d}function r(n,o,s){for(var c=0;s--;)n[s]-=c,c=n[s]<o[s]?1:0,n[s]=c*Pr+n[s]-o[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,o,s,c){var u,d,m,h,p,v,b,w,y,x,N,A,E,_,P,k,O,L,T=n.constructor,M=n.s==o.s?1:-1,I=n.d,V=o.d;if(!n.s)return new T(n);if(!o.s)throw Error(Tn+"Division by zero");for(d=n.e-o.e,O=V.length,P=I.length,b=new T(M),w=b.d=[],m=0;V[m]==(I[m]||0);)++m;if(V[m]>(I[m]||0)&&--d,s==null?A=s=T.precision:c?A=s+(pr(n)-pr(o))+1:A=s,A<0)return new T(0);if(A=A/Qt+2|0,m=0,O==1)for(h=0,V=V[0],A++;(m<P||h)&&A--;m++)E=h*Pr+(I[m]||0),w[m]=E/V|0,h=E%V|0;else{for(h=Pr/(V[0]+1)|0,h>1&&(V=e(V,h),I=e(I,h),O=V.length,P=I.length),_=O,y=I.slice(0,O),x=y.length;x<O;)y[x++]=0;L=V.slice(),L.unshift(0),k=V[0],V[1]>=Pr/2&&++k;do h=0,u=t(V,y,O,x),u<0?(N=y[0],O!=x&&(N=N*Pr+(y[1]||0)),h=N/k|0,h>1?(h>=Pr&&(h=Pr-1),p=e(V,h),v=p.length,x=y.length,u=t(p,y,v,x),u==1&&(h--,r(p,O<v?L:V,v))):(h==0&&(u=h=1),p=V.slice()),v=p.length,v<x&&p.unshift(0),r(y,p,x),u==-1&&(x=y.length,u=t(V,y,O,x),u<1&&(h++,r(y,O<x?L:V,x))),x=y.length):u===0&&(h++,y=[0]),w[m++]=h,u&&y[0]?y[x++]=I[_]||0:(y=[I[_]],x=1);while((_++<P||y[0]!==void 0)&&A--)}return w[0]||w.shift(),b.e=d,Wt(b,c?s+pr(b)+1:s)}})();function Q_(e,t){var r,n,o,s,c,u,d=0,m=0,h=e.constructor,p=h.precision;if(pr(e)>16)throw Error(uj+pr(e));if(!e.s)return new h(vn);for(tr=!1,u=p,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(ai(2,m))/Math.LN10*2+5|0,u+=n,r=o=s=new h(vn),h.precision=u;;){if(o=Wt(o.times(e),u),r=r.times(++d),c=s.plus($a(o,r,u)),ia(c.d).slice(0,u)===ia(s.d).slice(0,u)){for(;m--;)s=Wt(s.times(s),u);return h.precision=p,t==null?(tr=!0,Wt(s,p)):s}s=c}}function pr(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function z0(e,t,r){if(t>e.LN10.sd())throw tr=!0,r&&(e.precision=r),Error(Tn+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function yo(e){for(var t="";e--;)t+="0";return t}function Pc(e,t){var r,n,o,s,c,u,d,m,h,p=1,v=10,b=e,w=b.d,y=b.constructor,x=y.precision;if(b.s<1)throw Error(Tn+(b.s?"NaN":"-Infinity"));if(b.eq(vn))return new y(0);if(t==null?(tr=!1,m=x):m=t,b.eq(10))return t==null&&(tr=!0),z0(y,m);if(m+=v,y.precision=m,r=ia(w),n=r.charAt(0),s=pr(b),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=ia(b.d),n=r.charAt(0),p++;s=pr(b),n>1?(b=new y("0."+r),s++):b=new y(n+"."+r.slice(1))}else return d=z0(y,m+2,x).times(s+""),b=Pc(new y(n+"."+r.slice(1)),m-v).plus(d),y.precision=x,t==null?(tr=!0,Wt(b,x)):b;for(u=c=b=$a(b.minus(vn),b.plus(vn),m),h=Wt(b.times(b),m),o=3;;){if(c=Wt(c.times(h),m),d=u.plus($a(c,new y(o),m)),ia(d.d).slice(0,m)===ia(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(z0(y,m+2,x).times(s+""))),u=$a(u,new y(p),m),y.precision=x,t==null?(tr=!0,Wt(u,x)):u;u=d,o+=2}}function KE(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(n,o),t){if(o-=n,r=r-n-1,e.e=nl(r/Qt),e.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=Qt;n<o;)e.d.push(+t.slice(n,n+=Qt));t=t.slice(n),n=Qt-t.length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),tr&&(e.e>mf||e.e<-mf))throw Error(uj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,r){var n,o,s,c,u,d,m,h,p=e.d;for(c=1,s=p[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=Qt,o=t,m=p[h=0];else{if(h=Math.ceil((n+1)/Qt),s=p.length,h>=s)return e;for(m=s=p[h],c=1;s>=10;s/=10)c++;n%=Qt,o=n-Qt+c}if(r!==void 0&&(s=ai(10,c-o-1),u=m/s%10|0,d=t<0||p[h+1]!==void 0||m%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?o>0?m/ai(10,c-o):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(s=pr(e),p.length=1,t=t-s-1,p[0]=ai(10,(Qt-t%Qt)%Qt),e.e=nl(-t/Qt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,s=1,h--):(p.length=h+1,s=ai(10,Qt-n),p[h]=o>0?(m/ai(10,c-o)%ai(10,o)|0)*s:0),d)for(;;)if(h==0){(p[0]+=s)==Pr&&(p[0]=1,++e.e);break}else{if(p[h]+=s,p[h]!=Pr)break;p[h--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(tr&&(e.e>mf||e.e<-mf))throw Error(uj+pr(e));return e}function eI(e,t){var r,n,o,s,c,u,d,m,h,p,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),tr?Wt(t,b):t;if(d=e.d,p=t.d,n=t.e,m=e.e,d=d.slice(),c=m-n,c){for(h=c<0,h?(r=d,c=-c,u=p.length):(r=p,n=m,u=d.length),o=Math.max(Math.ceil(b/Qt),u)+2,c>o&&(c=o,r.length=1),r.reverse(),o=c;o--;)r.push(0);r.reverse()}else{for(o=d.length,u=p.length,h=o<u,h&&(u=o),o=0;o<u;o++)if(d[o]!=p[o]){h=d[o]<p[o];break}c=0}for(h&&(r=d,d=p,p=r,t.s=-t.s),u=d.length,o=p.length-u;o>0;--o)d[u++]=0;for(o=p.length;o>c;){if(d[--o]<p[o]){for(s=o;s&&d[--s]===0;)d[s]=Pr-1;--d[s],d[o]+=Pr}d[o]-=p[o]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,tr?Wt(t,b):t):new v(0)}function gi(e,t,r){var n,o=pr(e),s=ia(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+yo(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(o<0?"e":"e+")+o):o<0?(s="0."+yo(-o-1)+s,r&&(n=r-c)>0&&(s+=yo(n))):o>=c?(s+=yo(o+1-c),r&&(n=r-o-1)>0&&(s=s+"."+yo(n))):((n=o+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(o+1===c&&(s+="."),s+=yo(n))),e.s<0?"-"+s:s}function JE(e,t){if(e.length>t)return e.length=t,!0}function tI(e){var t,r,n;function o(s){var c=this;if(!(c instanceof o))return new o(s);if(c.constructor=o,s instanceof o){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(di+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return KE(c,s.toString())}else if(typeof s!="string")throw Error(di+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,r8.test(s))KE(c,s);else throw Error(di+s)}if(o.prototype=Je,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=tI,o.config=o.set=n8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return o.config(e),o}function n8(e){if(!e||typeof e!="object")throw Error(Tn+"Object expected");var t,r,n,o=["precision",1,rl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((n=e[r=o[t]])!==void 0)if(nl(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(di+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(di+r+": "+n);return this}var dj=tI(t8);vn=new dj(1);const Ut=dj;function a8(e){return l8(e)||s8(e)||i8(e)||o8()}function o8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(e,t){if(e){if(typeof e=="string")return gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gx(e,t)}}function s8(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function l8(e){if(Array.isArray(e))return gx(e)}function gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c8=function(t){return t},rI={},nI=function(t){return t===rI},XE=function(t){return function r(){return arguments.length===0||arguments.length===1&&nI(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},u8=function e(t,r){return t===1?r:XE(function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var c=o.filter(function(u){return u!==rI}).length;return c>=t?r.apply(void 0,o):e(t-c,XE(function(){for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];var h=o.map(function(p){return nI(p)?d.shift():p});return r.apply(void 0,a8(h).concat(d))}))})},vm=function(t){return u8(t.length,t)},vx=function(t,r){for(var n=[],o=t;o<r;++o)n[o-t]=o;return n},d8=vm(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),f8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return c8;var o=r.reverse(),s=o[0],c=o.slice(1);return function(){return c.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},yx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},aI=function(t){var r=null,n=null;return function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=t.apply(void 0,s)),n}};function m8(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function p8(e,t,r){for(var n=new Ut(e),o=0,s=[];n.lt(t)&&o<1e5;)s.push(n.toNumber()),n=n.add(r),o++;return s}var h8=vm(function(e,t,r){var n=+e,o=+t;return n+r*(o-n)}),g8=vm(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),v8=vm(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ym={rangeStep:p8,getDigitCount:m8,interpolateNumber:h8,uninterpolateNumber:g8,uninterpolateTruncation:v8};function xx(e){return b8(e)||x8(e)||oI(e)||y8()}function y8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function b8(e){if(Array.isArray(e))return bx(e)}function Oc(e,t){return N8(e)||w8(e,t)||oI(e,t)||j8()}function j8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oI(e,t){if(e){if(typeof e=="string")return bx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bx(e,t)}}function bx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w8(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,o=!1,s=void 0;try{for(var c=e[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(d){o=!0,s=d}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw s}}return r}}function N8(e){if(Array.isArray(e))return e}function iI(e){var t=Oc(e,2),r=t[0],n=t[1],o=r,s=n;return r>n&&(o=n,s=r),[o,s]}function sI(e,t,r){if(e.lte(0))return new Ut(0);var n=ym.getDigitCount(e.toNumber()),o=new Ut(10).pow(n),s=e.div(o),c=n!==1?.05:.1,u=new Ut(Math.ceil(s.div(c).toNumber())).add(r).mul(c),d=u.mul(o);return t?d:new Ut(Math.ceil(d))}function S8(e,t,r){var n=1,o=new Ut(e);if(!o.isint()&&r){var s=Math.abs(e);s<1?(n=new Ut(10).pow(ym.getDigitCount(e)-1),o=new Ut(Math.floor(o.div(n).toNumber())).mul(n)):s>1&&(o=new Ut(Math.floor(e)))}else e===0?o=new Ut(Math.floor((t-1)/2)):r||(o=new Ut(Math.floor(e)));var c=Math.floor((t-1)/2),u=f8(d8(function(d){return o.add(new Ut(d-c).mul(n)).toNumber()}),vx);return u(0,t)}function lI(e,t,r,n){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var s=sI(new Ut(t).sub(e).div(r-1),n,o),c;e<=0&&t>=0?c=new Ut(0):(c=new Ut(e).add(t).div(2),c=c.sub(new Ut(c).mod(s)));var u=Math.ceil(c.sub(e).div(s).toNumber()),d=Math.ceil(new Ut(t).sub(c).div(s).toNumber()),m=u+d+1;return m>r?lI(e,t,r,n,o+1):(m<r&&(d=t>0?d+(r-m):d,u=t>0?u:u+(r-m)),{step:s,tickMin:c.sub(new Ut(u).mul(s)),tickMax:c.add(new Ut(d).mul(s))})}function C8(e){var t=Oc(e,2),r=t[0],n=t[1],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(o,2),u=iI([r,n]),d=Oc(u,2),m=d[0],h=d[1];if(m===-1/0||h===1/0){var p=h===1/0?[m].concat(xx(vx(0,o-1).map(function(){return 1/0}))):[].concat(xx(vx(0,o-1).map(function(){return-1/0})),[h]);return r>n?yx(p):p}if(m===h)return S8(m,o,s);var v=lI(m,h,c,s),b=v.step,w=v.tickMin,y=v.tickMax,x=ym.rangeStep(w,y.add(new Ut(.1).mul(b)),b);return r>n?yx(x):x}function E8(e,t){var r=Oc(e,2),n=r[0],o=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=iI([n,o]),u=Oc(c,2),d=u[0],m=u[1];if(d===-1/0||m===1/0)return[n,o];if(d===m)return[d];var h=Math.max(t,2),p=sI(new Ut(m).sub(d).div(h-1),s,0),v=[].concat(xx(ym.rangeStep(new Ut(d),new Ut(m).sub(new Ut(.99).mul(p)),p)),[m]);return n>o?yx(v):v}var P8=aI(C8),O8=aI(E8),A8="Invariant failed";function vi(e,t){throw new Error(A8)}var k8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function _8(e,t){return $8(e)||D8(e,t)||T8(e,t)||I8()}function I8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T8(e,t){if(e){if(typeof e=="string")return YE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YE(e,t)}}function YE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D8(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function $8(e){if(Array.isArray(e))return e}function M8(e,t){if(e==null)return{};var r=R8(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dI(n.key),n)}}function F8(e,t,r){return t&&z8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B8(e,t,r){return t=hf(t),V8(e,cI()?Reflect.construct(t,r||[],hf(e).constructor):t.apply(e,r))}function V8(e,t){if(t&&(Is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q8(e)}function q8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cI=function(){return!!e})()}function hf(e){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hf(e)}function U8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jx(e,t)}function jx(e,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},jx(e,t)}function uI(e,t,r){return t=dI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dI(e){var t=W8(e,"string");return Is(t)=="symbol"?t:t+""}function W8(e,t){if(Is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lu=(function(e){function t(){return L8(this,t),B8(this,t,arguments)}return U8(t,e),F8(t,[{key:"render",value:function(){var n=this.props,o=n.offset,s=n.layout,c=n.width,u=n.dataKey,d=n.data,m=n.dataPointFormatter,h=n.xAxis,p=n.yAxis,v=M8(n,k8),b=lt(v,!1);this.props.direction==="x"&&h.type!=="number"&&vi();var w=d.map(function(y){var x=m(y,u),N=x.x,A=x.y,E=x.value,_=x.errorVal;if(!_)return null;var P=[],k,O;if(Array.isArray(_)){var L=_8(_,2);k=L[0],O=L[1]}else k=O=_;if(s==="vertical"){var T=h.scale,M=A+o,I=M+c,V=M-c,z=T(E-k),B=T(E+O);P.push({x1:B,y1:I,x2:B,y2:V}),P.push({x1:z,y1:M,x2:B,y2:M}),P.push({x1:z,y1:I,x2:z,y2:V})}else if(s==="horizontal"){var D=p.scale,G=N+o,te=G-c,R=G+c,Y=D(E-k),U=D(E+O);P.push({x1:te,y1:U,x2:R,y2:U}),P.push({x1:G,y1:Y,x2:G,y2:U}),P.push({x1:te,y1:Y,x2:R,y2:Y})}return Z.createElement(Tt,pf({className:"recharts-errorBar",key:"bar-".concat(P.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},b),P.map(function(F){return Z.createElement("line",pf({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return Z.createElement(Tt,{className:"recharts-errorBars"},w)}}])})(Z.Component);uI(lu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uI(lu,"displayName","ErrorBar");function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){H8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H8(e,t,r){return t=G8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G8(e){var t=K8(e,"string");return Ac(t)=="symbol"?t:t+""}function K8(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fI=function(t){var r=t.children,n=t.formattedGraphicalItems,o=t.legendWidth,s=t.legendContent,c=pn(r,wo);if(!c)return null;var u=wo.defaultProps,d=u!==void 0?Zo(Zo({},u),c.props):{},m;return c.props&&c.props.payload?m=c.props&&c.props.payload:s==="children"?m=(n||[]).reduce(function(h,p){var v=p.item,b=p.props,w=b.sectors||b.data||[];return h.concat(w.map(function(y){return{type:c.props.iconType||v.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):m=(n||[]).map(function(h){var p=h.item,v=p.type.defaultProps,b=v!==void 0?Zo(Zo({},v),p.props):{},w=b.dataKey,y=b.name,x=b.legendType,N=b.hide;return{inactive:N,dataKey:w,type:d.iconType||x||"square",color:fj(p),value:y||w,payload:b}}),Zo(Zo(Zo({},d),wo.getWithHeight(c,o)),{},{payload:m,item:c})};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function QE(e){return Z8(e)||Y8(e)||X8(e)||J8()}function J8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8(e,t){if(e){if(typeof e=="string")return wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wx(e,t)}}function Y8(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z8(e){if(Array.isArray(e))return wx(e)}function wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xs(e,t,r){return t=Q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q8(e){var t=e9(e,"string");return kc(t)=="symbol"?t:t+""}function e9(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function br(e,t,r){return ht(e)||ht(t)?r:jr(t)?yn(e,t,r):mt(t)?t(e):r}function cc(e,t,r,n){var o=Z7(e,function(u){return br(u,t)});if(r==="number"){var s=o.filter(function(u){return Re(u)||parseFloat(u)});return s.length?[gm(s),hm(s)]:[1/0,-1/0]}var c=n?o.filter(function(u){return!ht(u)}):o;return c.map(function(u){return jr(u)||u instanceof Date?u:""})}var t9=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,m=0;m<u;m++){var h=m>0?o[m-1].coordinate:o[u-1].coordinate,p=o[m].coordinate,v=m>=u-1?o[0].coordinate:o[m+1].coordinate,b=void 0;if(Wr(p-h)!==Wr(v-p)){var w=[];if(Wr(v-p)===Wr(d[1]-d[0])){b=v;var y=p+d[1]-d[0];w[0]=Math.min(y,(y+h)/2),w[1]=Math.max(y,(y+h)/2)}else{b=h;var x=v+d[1]-d[0];w[0]=Math.min(p,(x+p)/2),w[1]=Math.max(p,(x+p)/2)}var N=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(t>N[0]&&t<=N[1]||t>=w[0]&&t<=w[1]){c=o[m].index;break}}else{var A=Math.min(h,v),E=Math.max(h,v);if(t>(A+p)/2&&t<=(E+p)/2){c=o[m].index;break}}}else for(var _=0;_<u;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<u-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===u-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){c=n[_].index;break}return c},fj=function(t){var r,n=t,o=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,c=s.stroke,u=s.fill,d;switch(o){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:u;break;default:d=u;break}return d},r9=function(t){var r=t.barSize,n=t.totalSize,o=t.stackGroups,s=o===void 0?{}:o;if(!s)return{};for(var c={},u=Object.keys(s),d=0,m=u.length;d<m;d++)for(var h=s[u[d]].stackGroups,p=Object.keys(h),v=0,b=p.length;v<b;v++){var w=h[p[v]],y=w.items,x=w.cateAxisId,N=y.filter(function(O){return Da(O.type).indexOf("Bar")>=0});if(N&&N.length){var A=N[0].type.defaultProps,E=A!==void 0?ir(ir({},A),N[0].props):N[0].props,_=E.barSize,P=E[x];c[P]||(c[P]=[]);var k=ht(_)?r:_;c[P].push({item:N[0],stackList:N.slice(1),barSize:ht(k)?void 0:Hr(k,n,0)})}}return c},n9=function(t){var r=t.barGap,n=t.barCategoryGap,o=t.bandSize,s=t.sizeList,c=s===void 0?[]:s,u=t.maxBarSize,d=c.length;if(d<1)return null;var m=Hr(r,o,0,!0),h,p=[];if(c[0].barSize===+c[0].barSize){var v=!1,b=o/d,w=c.reduce(function(_,P){return _+P.barSize||0},0);w+=(d-1)*m,w>=o&&(w-=(d-1)*m,m=0),w>=o&&b>0&&(v=!0,b*=.9,w=d*b);var y=(o-w)/2>>0,x={offset:y-m,size:0};h=c.reduce(function(_,P){var k={item:P.item,position:{offset:x.offset+x.size+m,size:v?b:P.barSize}},O=[].concat(QE(_),[k]);return x=O[O.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(L){O.push({item:L,position:x})}),O},p)}else{var N=Hr(n,o,0,!0);o-2*N-(d-1)*m<=0&&(m=0);var A=(o-2*N-(d-1)*m)/d;A>1&&(A>>=0);var E=u===+u?Math.min(A,u):A;h=c.reduce(function(_,P,k){var O=[].concat(QE(_),[{item:P.item,position:{offset:N+(A+m)*k+(A-E)/2,size:E}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(L){O.push({item:L,position:O[O.length-1].position})}),O},p)}return h},a9=function(t,r,n,o){var s=n.children,c=n.width,u=n.margin,d=c-(u.left||0)-(u.right||0),m=fI({children:s,legendWidth:d});if(m){var h=o||{},p=h.width,v=h.height,b=m.align,w=m.verticalAlign,y=m.layout;if((y==="vertical"||y==="horizontal"&&w==="middle")&&b!=="center"&&Re(t[b]))return ir(ir({},t),{},xs({},b,t[b]+(p||0)));if((y==="horizontal"||y==="vertical"&&b==="center")&&w!=="middle"&&Re(t[w]))return ir(ir({},t),{},xs({},w,t[w]+(v||0)))}return t},o9=function(t,r,n){return ht(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},mI=function(t,r,n,o,s){var c=r.props.children,u=xn(c,lu).filter(function(m){return o9(o,s,m.props.direction)});if(u&&u.length){var d=u.map(function(m){return m.props.dataKey});return t.reduce(function(m,h){var p=br(h,n);if(ht(p))return m;var v=Array.isArray(p)?[gm(p),hm(p)]:[p,p],b=d.reduce(function(w,y){var x=br(h,y,0),N=v[0]-Math.abs(Array.isArray(x)?x[0]:x),A=v[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(N,w[0]),Math.max(A,w[1])]},[1/0,-1/0]);return[Math.min(b[0],m[0]),Math.max(b[1],m[1])]},[1/0,-1/0])}return null},i9=function(t,r,n,o,s){var c=r.map(function(u){return mI(t,u,n,s,o)}).filter(function(u){return!ht(u)});return c&&c.length?c.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},pI=function(t,r,n,o,s){var c=r.map(function(d){var m=d.props.dataKey;return n==="number"&&m&&mI(t,d,m,o)||cc(t,m,n,s)});if(n==="number")return c.reduce(function(d,m){return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);var u={};return c.reduce(function(d,m){for(var h=0,p=m.length;h<p;h++)u[m[h]]||(u[m[h]]=!0,d.push(m[h]));return d},[])},hI=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},gI=function(t,r,n,o){if(o)return t.map(function(d){return d.coordinate});var s,c,u=t.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(c=!0),d.coordinate});return s||u.push(r),c||u.push(n),u},Ta=function(t,r,n){if(!t)return null;var o=t.scale,s=t.duplicateDomain,c=t.type,u=t.range,d=t.realScaleType==="scaleBand"?o.bandwidth()/2:2,m=(r||n)&&c==="category"&&o.bandwidth?o.bandwidth()/d:0;if(m=t.axisType==="angleAxis"&&u?.length>=2?Wr(u[0]-u[1])*2*m:m,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(p){var v=s?s.indexOf(p):p;return{coordinate:o(v)+m,value:p,offset:m}});return h.filter(function(p){return!tu(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,v){return{coordinate:o(p)+m,value:p,index:v,offset:m}}):o.ticks&&!n?o.ticks(t.tickCount).map(function(p){return{coordinate:o(p)+m,value:p,offset:m}}):o.domain().map(function(p,v){return{coordinate:o(p)+m,value:s?s[p]:p,index:v,offset:m}})},F0=new WeakMap,jd=function(t,r){if(typeof r!="function")return t;F0.has(t)||F0.set(t,new WeakMap);var n=F0.get(t);if(n.has(r))return n.get(r);var o=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,o),o},vI=function(t,r,n){var o=t.scale,s=t.type,c=t.layout,u=t.axisType;if(o==="auto")return c==="radial"&&u==="radiusAxis"?{scale:wc(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:cf(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:lc(),realScaleType:"point"}:s==="category"?{scale:wc(),realScaleType:"band"}:{scale:cf(),realScaleType:"linear"};if(mi(o)){var d="scale".concat(em(o));return{scale:(zE[d]||lc)(),realScaleType:zE[d]?d:"point"}}return mt(o)?{scale:o}:{scale:lc(),realScaleType:"point"}},tP=1e-4,yI=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,o=t.range(),s=Math.min(o[0],o[1])-tP,c=Math.max(o[0],o[1])+tP,u=t(r[0]),d=t(r[n-1]);(u<s||u>c||d<s||d>c)&&t.domain([r[0],r[n-1]])}},s9=function(t,r){if(!t)return null;for(var n=0,o=t.length;n<o;n++)if(t[n].item===r)return t[n].position;return null},l9=function(t,r){if(!r||r.length!==2||!Re(r[0])||!Re(r[1]))return t;var n=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Re(t[0])||t[0]<n)&&(s[0]=n),(!Re(t[1])||t[1]>o)&&(s[1]=o),s[0]>o&&(s[0]=o),s[1]<n&&(s[1]=n),s},c9=function(t){var r=t.length;if(!(r<=0))for(var n=0,o=t[0].length;n<o;++n)for(var s=0,c=0,u=0;u<r;++u){var d=tu(t[u][n][1])?t[u][n][0]:t[u][n][1];d>=0?(t[u][n][0]=s,t[u][n][1]=s+d,s=t[u][n][1]):(t[u][n][0]=c,t[u][n][1]=c+d,c=t[u][n][1])}},u9=function(t){var r=t.length;if(!(r<=0))for(var n=0,o=t[0].length;n<o;++n)for(var s=0,c=0;c<r;++c){var u=tu(t[c][n][1])?t[c][n][0]:t[c][n][1];u>=0?(t[c][n][0]=s,t[c][n][1]=s+u,s=t[c][n][1]):(t[c][n][0]=0,t[c][n][1]=0)}},d9={sign:c9,expand:Z6,none:Ss,silhouette:Q6,wiggle:eR,positive:u9},f9=function(t,r,n){var o=r.map(function(u){return u.props.dataKey}),s=d9[n],c=Y6().keys(o).value(function(u,d){return+br(u,d,0)}).order(Zy).offset(s);return c(t)},m9=function(t,r,n,o,s,c){if(!t)return null;var u=c?r.reverse():r,d={},m=u.reduce(function(p,v){var b,w=(b=v.type)!==null&&b!==void 0&&b.defaultProps?ir(ir({},v.type.defaultProps),v.props):v.props,y=w.stackId,x=w.hide;if(x)return p;var N=w[n],A=p[N]||{hasStack:!1,stackGroups:{}};if(jr(y)){var E=A.stackGroups[y]||{numericAxisId:n,cateAxisId:o,items:[]};E.items.push(v),A.hasStack=!0,A.stackGroups[y]=E}else A.stackGroups[Qs("_stackId_")]={numericAxisId:n,cateAxisId:o,items:[v]};return ir(ir({},p),{},xs({},N,A))},d),h={};return Object.keys(m).reduce(function(p,v){var b=m[v];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(y,x){var N=b.stackGroups[x];return ir(ir({},y),{},xs({},x,{numericAxisId:n,cateAxisId:o,items:N.items,stackedData:f9(t,N.items,s)}))},w)}return ir(ir({},p),{},xs({},v,b))},h)},xI=function(t,r){var n=r.realScaleType,o=r.type,s=r.tickCount,c=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&o==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var m=t.domain();if(!m.length)return null;var h=P8(m,s,u);return t.domain([gm(h),hm(h)]),{niceTicks:h}}if(s&&o==="number"){var p=t.domain(),v=O8(p,s,u);return{niceTicks:v}}return null};function rP(e){var t=e.axis,r=e.ticks,n=e.bandSize,o=e.entry,s=e.index,c=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(o[t.dataKey])){var u=Ud(r,"value",o[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=br(o,ht(c)?t.dataKey:c);return ht(d)?null:t.scale(d)}var nP=function(t){var r=t.axis,n=t.ticks,o=t.offset,s=t.bandSize,c=t.entry,u=t.index;if(r.type==="category")return n[u]?n[u].coordinate+o:null;var d=br(c,r.dataKey,r.domain[u]);return ht(d)?null:r.scale(d)-s/2+o},p9=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var o=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return o<=0&&s>=0?0:s<0?s:o}return n[0]},h9=function(t,r){var n,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,s=o.stackId;if(jr(s)){var c=r[s];if(c){var u=c.items.indexOf(t);return u>=0?c.stackedData[u]:null}}return null},g9=function(t){return t.reduce(function(r,n){return[gm(n.concat([r[0]]).filter(Re)),hm(n.concat([r[1]]).filter(Re))]},[1/0,-1/0])},bI=function(t,r,n){return Object.keys(t).reduce(function(o,s){var c=t[s],u=c.stackedData,d=u.reduce(function(m,h){var p=g9(h.slice(r,n+1));return[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],o[0]),Math.max(d[1],o[1])]},[1/0,-1/0]).map(function(o){return o===1/0||o===-1/0?0:o})},aP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nx=function(t,r,n){if(mt(t))return t(r,n);if(!Array.isArray(t))return r;var o=[];if(Re(t[0]))o[0]=n?t[0]:Math.min(t[0],r[0]);else if(aP.test(t[0])){var s=+aP.exec(t[0])[1];o[0]=r[0]-s}else mt(t[0])?o[0]=t[0](r[0]):o[0]=r[0];if(Re(t[1]))o[1]=n?t[1]:Math.max(t[1],r[1]);else if(oP.test(t[1])){var c=+oP.exec(t[1])[1];o[1]=r[1]+c}else mt(t[1])?o[1]=t[1](r[1]):o[1]=r[1];return o},gf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var o=t.scale.bandwidth();if(!n||o>0)return o}if(t&&r&&r.length>=2){for(var s=Fb(r,function(p){return p.coordinate}),c=1/0,u=1,d=s.length;u<d;u++){var m=s[u],h=s[u-1];c=Math.min((m.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},iP=function(t,r,n){return!t||!t.length||su(t,yn(n,"type.defaultProps.domain"))?r:t},jI=function(t,r){var n=t.type.defaultProps?ir(ir({},t.type.defaultProps),t.props):t.props,o=n.dataKey,s=n.name,c=n.unit,u=n.formatter,d=n.tooltipType,m=n.chartType,h=n.hide;return ir(ir({},lt(t,!1)),{},{dataKey:o,unit:c,formatter:u,name:s||o,color:fj(t),value:br(r,o),type:d,payload:r,chartType:m,hide:h})};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){wI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wI(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=y9(e,"string");return _c(t)=="symbol"?t:t+""}function y9(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x9(e,t){return N9(e)||w9(e,t)||j9(e,t)||b9()}function b9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(e,t){if(e){if(typeof e=="string")return lP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lP(e,t)}}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w9(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function N9(e){if(Array.isArray(e))return e}var vf=Math.PI/180,S9=function(t){return t*180/Math.PI},Xt=function(t,r,n,o){return{x:t+Math.cos(-vf*o)*n,y:r+Math.sin(-vf*o)*n}},NI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},C9=function(t,r,n,o,s){var c=t.width,u=t.height,d=t.startAngle,m=t.endAngle,h=Hr(t.cx,c,c/2),p=Hr(t.cy,u,u/2),v=NI(c,u,n),b=Hr(t.innerRadius,v,0),w=Hr(t.outerRadius,v,v*.8),y=Object.keys(r);return y.reduce(function(x,N){var A=r[N],E=A.domain,_=A.reversed,P;if(ht(A.range))o==="angleAxis"?P=[d,m]:o==="radiusAxis"&&(P=[b,w]),_&&(P=[P[1],P[0]]);else{P=A.range;var k=P,O=x9(k,2);d=O[0],m=O[1]}var L=vI(A,s),T=L.realScaleType,M=L.scale;M.domain(E).range(P),yI(M);var I=xI(M,ka(ka({},A),{},{realScaleType:T})),V=ka(ka(ka({},A),I),{},{range:P,radius:w,realScaleType:T,scale:M,cx:h,cy:p,innerRadius:b,outerRadius:w,startAngle:d,endAngle:m});return ka(ka({},x),{},wI({},N,V))},{})},E9=function(t,r){var n=t.x,o=t.y,s=r.x,c=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(o-c,2))},P9=function(t,r){var n=t.x,o=t.y,s=r.cx,c=r.cy,u=E9({x:n,y:o},{x:s,y:c});if(u<=0)return{radius:u};var d=(n-s)/u,m=Math.acos(d);return o>c&&(m=2*Math.PI-m),{radius:u,angle:S9(m),angleInRadian:m}},O9=function(t){var r=t.startAngle,n=t.endAngle,o=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(o,s);return{startAngle:r-c*360,endAngle:n-c*360}},A9=function(t,r){var n=r.startAngle,o=r.endAngle,s=Math.floor(n/360),c=Math.floor(o/360),u=Math.min(s,c);return t+u*360},cP=function(t,r){var n=t.x,o=t.y,s=P9({x:n,y:o},r),c=s.radius,u=s.angle,d=r.innerRadius,m=r.outerRadius;if(c<d||c>m)return!1;if(c===0)return!0;var h=O9(r),p=h.startAngle,v=h.endAngle,b=u,w;if(p<=v){for(;b>v;)b-=360;for(;b<p;)b+=360;w=b>=p&&b<=v}else{for(;b>p;)b-=360;for(;b<v;)b+=360;w=b>=v&&b<=p}return w?ka(ka({},r),{},{radius:c,angle:A9(b,r)}):null},SI=function(t){return!C.isValidElement(t)&&!mt(t)&&typeof t!="boolean"?t.className:""};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}var k9=["offset"];function _9(e){return $9(e)||D9(e)||T9(e)||I9()}function I9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T9(e,t){if(e){if(typeof e=="string")return Sx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sx(e,t)}}function D9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $9(e){if(Array.isArray(e))return Sx(e)}function Sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M9(e,t){if(e==null)return{};var r=R9(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return t=z9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=F9(e,"string");return Ic(t)=="symbol"?t:t+""}function F9(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}var B9=function(t){var r=t.value,n=t.formatter,o=ht(t.children)?r:t.children;return mt(n)?n(o):o},V9=function(t,r){var n=Wr(r-t),o=Math.min(Math.abs(r-t),360);return n*o},q9=function(t,r,n){var o=t.position,s=t.viewBox,c=t.offset,u=t.className,d=s,m=d.cx,h=d.cy,p=d.innerRadius,v=d.outerRadius,b=d.startAngle,w=d.endAngle,y=d.clockWise,x=(p+v)/2,N=V9(b,w),A=N>=0?1:-1,E,_;o==="insideStart"?(E=b+A*c,_=y):o==="insideEnd"?(E=w-A*c,_=!y):o==="end"&&(E=w+A*c,_=y),_=N<=0?_:!_;var P=Xt(m,h,x,E),k=Xt(m,h,x,E+(_?1:-1)*359),O="M".concat(P.x,",").concat(P.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),L=ht(t.id)?Qs("recharts-radial-line-"):t.id;return Z.createElement("text",Tc({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",u)}),Z.createElement("defs",null,Z.createElement("path",{id:L,d:O})),Z.createElement("textPath",{xlinkHref:"#".concat(L)},r))},U9=function(t){var r=t.viewBox,n=t.offset,o=t.position,s=r,c=s.cx,u=s.cy,d=s.innerRadius,m=s.outerRadius,h=s.startAngle,p=s.endAngle,v=(h+p)/2;if(o==="outside"){var b=Xt(c,u,m+n,v),w=b.x,y=b.y;return{x:w,y,textAnchor:w>=c?"start":"end",verticalAnchor:"middle"}}if(o==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(o==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(o==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(d+m)/2,N=Xt(c,u,x,v),A=N.x,E=N.y;return{x:A,y:E,textAnchor:"middle",verticalAnchor:"middle"}},W9=function(t){var r=t.viewBox,n=t.parentViewBox,o=t.offset,s=t.position,c=r,u=c.x,d=c.y,m=c.width,h=c.height,p=h>=0?1:-1,v=p*o,b=p>0?"end":"start",w=p>0?"start":"end",y=m>=0?1:-1,x=y*o,N=y>0?"end":"start",A=y>0?"start":"end";if(s==="top"){var E={x:u+m/2,y:d-p*o,textAnchor:"middle",verticalAnchor:b};return xr(xr({},E),n?{height:Math.max(d-n.y,0),width:m}:{})}if(s==="bottom"){var _={x:u+m/2,y:d+h+v,textAnchor:"middle",verticalAnchor:w};return xr(xr({},_),n?{height:Math.max(n.y+n.height-(d+h),0),width:m}:{})}if(s==="left"){var P={x:u-x,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return xr(xr({},P),n?{width:Math.max(P.x-n.x,0),height:h}:{})}if(s==="right"){var k={x:u+m+x,y:d+h/2,textAnchor:A,verticalAnchor:"middle"};return xr(xr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:h}:{})}var O=n?{width:m,height:h}:{};return s==="insideLeft"?xr({x:u+x,y:d+h/2,textAnchor:A,verticalAnchor:"middle"},O):s==="insideRight"?xr({x:u+m-x,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideTop"?xr({x:u+m/2,y:d+v,textAnchor:"middle",verticalAnchor:w},O):s==="insideBottom"?xr({x:u+m/2,y:d+h-v,textAnchor:"middle",verticalAnchor:b},O):s==="insideTopLeft"?xr({x:u+x,y:d+v,textAnchor:A,verticalAnchor:w},O):s==="insideTopRight"?xr({x:u+m-x,y:d+v,textAnchor:N,verticalAnchor:w},O):s==="insideBottomLeft"?xr({x:u+x,y:d+h-v,textAnchor:A,verticalAnchor:b},O):s==="insideBottomRight"?xr({x:u+m-x,y:d+h-v,textAnchor:N,verticalAnchor:b},O):Zs(s)&&(Re(s.x)||ii(s.x))&&(Re(s.y)||ii(s.y))?xr({x:u+Hr(s.x,m),y:d+Hr(s.y,h),textAnchor:"end",verticalAnchor:"end"},O):xr({x:u+m/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},H9=function(t){return"cx"in t&&Re(t.cx)};function Or(e){var t=e.offset,r=t===void 0?5:t,n=M9(e,k9),o=xr({offset:r},n),s=o.viewBox,c=o.position,u=o.value,d=o.children,m=o.content,h=o.className,p=h===void 0?"":h,v=o.textBreakAll;if(!s||ht(u)&&ht(d)&&!C.isValidElement(m)&&!mt(m))return null;if(C.isValidElement(m))return C.cloneElement(m,o);var b;if(mt(m)){if(b=C.createElement(m,o),C.isValidElement(b))return b}else b=B9(o);var w=H9(s),y=lt(o,!0);if(w&&(c==="insideStart"||c==="insideEnd"||c==="end"))return q9(o,b,y);var x=w?U9(o):W9(o);return Z.createElement(hi,Tc({className:vt("recharts-label",p)},y,x,{breakAll:v}),b)}Or.displayName="Label";var CI=function(t){var r=t.cx,n=t.cy,o=t.angle,s=t.startAngle,c=t.endAngle,u=t.r,d=t.radius,m=t.innerRadius,h=t.outerRadius,p=t.x,v=t.y,b=t.top,w=t.left,y=t.width,x=t.height,N=t.clockWise,A=t.labelViewBox;if(A)return A;if(Re(y)&&Re(x)){if(Re(p)&&Re(v))return{x:p,y:v,width:y,height:x};if(Re(b)&&Re(w))return{x:b,y:w,width:y,height:x}}return Re(p)&&Re(v)?{x:p,y:v,width:0,height:0}:Re(r)&&Re(n)?{cx:r,cy:n,startAngle:s||o||0,endAngle:c||o||0,innerRadius:m||0,outerRadius:h||d||u||0,clockWise:N}:t.viewBox?t.viewBox:{}},G9=function(t,r){return t?t===!0?Z.createElement(Or,{key:"label-implicit",viewBox:r}):jr(t)?Z.createElement(Or,{key:"label-implicit",viewBox:r,value:t}):C.isValidElement(t)?t.type===Or?C.cloneElement(t,{key:"label-implicit",viewBox:r}):Z.createElement(Or,{key:"label-implicit",content:t,viewBox:r}):mt(t)?Z.createElement(Or,{key:"label-implicit",content:t,viewBox:r}):Zs(t)?Z.createElement(Or,Tc({viewBox:r},t,{key:"label-implicit"})):null:null},K9=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var o=t.children,s=CI(t),c=xn(o,Or).map(function(d,m){return C.cloneElement(d,{viewBox:r||s,key:"label-".concat(m)})});if(!n)return c;var u=G9(t.label,r||s);return[u].concat(_9(c))};Or.parseViewBox=CI;Or.renderCallByParent=K9;var B0,dP;function J9(){if(dP)return B0;dP=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return B0=e,B0}var X9=J9();const Y9=qt(X9);function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}var Z9=["valueAccessor"],Q9=["data","dataKey","clockWise","id","textBreakAll"];function eB(e){return aB(e)||nB(e)||rB(e)||tB()}function tB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rB(e,t){if(e){if(typeof e=="string")return Cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cx(e,t)}}function nB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aB(e){if(Array.isArray(e))return Cx(e)}function Cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function mP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){oB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oB(e,t,r){return t=iB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=sB(e,"string");return Dc(t)=="symbol"?t:t+""}function sB(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pP(e,t){if(e==null)return{};var r=lB(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lB(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cB=function(t){return Array.isArray(t.value)?Y9(t.value):t.value};function Ma(e){var t=e.valueAccessor,r=t===void 0?cB:t,n=pP(e,Z9),o=n.data,s=n.dataKey,c=n.clockWise,u=n.id,d=n.textBreakAll,m=pP(n,Q9);return!o||!o.length?null:Z.createElement(Tt,{className:"recharts-label-list"},o.map(function(h,p){var v=ht(s)?r(h,p):br(h&&h.payload,s),b=ht(u)?{}:{id:"".concat(u,"-").concat(p)};return Z.createElement(Or,yf({},lt(h,!0),m,b,{parentViewBox:h.parentViewBox,value:v,textBreakAll:d,viewBox:Or.parseViewBox(ht(c)?h:mP(mP({},h),{},{clockWise:c})),key:"label-".concat(p),index:p}))}))}Ma.displayName="LabelList";function uB(e,t){return e?e===!0?Z.createElement(Ma,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||mt(e)?Z.createElement(Ma,{key:"labelList-implicit",data:t,content:e}):Zs(e)?Z.createElement(Ma,yf({data:t},e,{key:"labelList-implicit"})):null:null}function dB(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,o=xn(n,Ma).map(function(c,u){return C.cloneElement(c,{data:t,key:"labelList-".concat(u)})});if(!r)return o;var s=uB(e.label,t);return[s].concat(eB(o))}Ma.renderCallByParent=dB;function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(this,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return t=mB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mB(e){var t=pB(e,"string");return $c(t)=="symbol"?t:t+""}function pB(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hB=function(t,r){var n=Wr(r-t),o=Math.min(Math.abs(r-t),359.999);return n*o},wd=function(t){var r=t.cx,n=t.cy,o=t.radius,s=t.angle,c=t.sign,u=t.isExternal,d=t.cornerRadius,m=t.cornerIsExternal,h=d*(u?1:-1)+o,p=Math.asin(d/h)/vf,v=m?s:s+c*p,b=Xt(r,n,h,v),w=Xt(r,n,o,v),y=m?s-c*p:s,x=Xt(r,n,h*Math.cos(p*vf),y);return{center:b,circleTangency:w,lineTangency:x,theta:p}},EI=function(t){var r=t.cx,n=t.cy,o=t.innerRadius,s=t.outerRadius,c=t.startAngle,u=t.endAngle,d=hB(c,u),m=c+d,h=Xt(r,n,s,c),p=Xt(r,n,s,m),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(o>0){var b=Xt(r,n,o,c),w=Xt(r,n,o,m);v+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(o,",").concat(o,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},gB=function(t){var r=t.cx,n=t.cy,o=t.innerRadius,s=t.outerRadius,c=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,m=t.startAngle,h=t.endAngle,p=Wr(h-m),v=wd({cx:r,cy:n,radius:s,angle:m,sign:p,cornerRadius:c,cornerIsExternal:d}),b=v.circleTangency,w=v.lineTangency,y=v.theta,x=wd({cx:r,cy:n,radius:s,angle:h,sign:-p,cornerRadius:c,cornerIsExternal:d}),N=x.circleTangency,A=x.lineTangency,E=x.theta,_=d?Math.abs(m-h):Math.abs(m-h)-y-E;if(_<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):EI({cx:r,cy:n,innerRadius:o,outerRadius:s,startAngle:m,endAngle:h});var P="M ".concat(w.x,",").concat(w.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
  `);if(o>0){var k=wd({cx:r,cy:n,radius:o,angle:m,sign:p,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),O=k.circleTangency,L=k.lineTangency,T=k.theta,M=wd({cx:r,cy:n,radius:o,angle:h,sign:-p,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),I=M.circleTangency,V=M.lineTangency,z=M.theta,B=d?Math.abs(m-h):Math.abs(m-h)-T-z;if(B<0&&c===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(V.x,",").concat(V.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,").concat(+(B>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},vB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PI=function(t){var r=gP(gP({},vB),t),n=r.cx,o=r.cy,s=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,m=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,v=r.className;if(c<s||h===p)return null;var b=vt("recharts-sector",v),w=c-s,y=Hr(u,w,0,!0),x;return y>0&&Math.abs(h-p)<360?x=gB({cx:n,cy:o,innerRadius:s,outerRadius:c,cornerRadius:Math.min(y,w/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:h,endAngle:p}):x=EI({cx:n,cy:o,innerRadius:s,outerRadius:c,startAngle:h,endAngle:p}),Z.createElement("path",Ex({},lt(r,!0),{className:b,d:x,role:"img"}))};function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function yP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return t=xB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xB(e){var t=bB(e,"string");return Mc(t)=="symbol"?t:t+""}function bB(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xP={curveBasisClosed:F6,curveBasisOpen:B6,curveBasis:z6,curveBumpX:C6,curveBumpY:E6,curveLinearClosed:V6,curveLinear:rm,curveMonotoneX:q6,curveMonotoneY:U6,curveNatural:W6,curveStep:H6,curveStepAfter:K6,curveStepBefore:G6},Nd=function(t){return t.x===+t.x&&t.y===+t.y},Hl=function(t){return t.x},Gl=function(t){return t.y},jB=function(t,r){if(mt(t))return t;var n="curve".concat(em(t));return(n==="curveMonotone"||n==="curveBump")&&r?xP["".concat(n).concat(r==="vertical"?"Y":"X")]:xP[n]||rm},wB=function(t){var r=t.type,n=r===void 0?"linear":r,o=t.points,s=o===void 0?[]:o,c=t.baseLine,u=t.layout,d=t.connectNulls,m=d===void 0?!1:d,h=jB(n,u),p=m?s.filter(function(y){return Nd(y)}):s,v;if(Array.isArray(c)){var b=m?c.filter(function(y){return Nd(y)}):c,w=p.map(function(y,x){return yP(yP({},y),{},{base:b[x]})});return u==="vertical"?v=pd().y(Gl).x1(Hl).x0(function(y){return y.base.x}):v=pd().x(Hl).y1(Gl).y0(function(y){return y.base.y}),v.defined(Nd).curve(h),v(w)}return u==="vertical"&&Re(c)?v=pd().y(Gl).x1(Hl).x0(c):Re(c)?v=pd().x(Hl).y1(Gl).y0(c):v=Ck().x(Hl).y(Gl),v.defined(Nd).curve(h),v(p)},xf=function(t){var r=t.className,n=t.points,o=t.path,s=t.pathRef;if((!n||!n.length)&&!o)return null;var c=n&&n.length?wB(t):o;return C.createElement("path",Px({},lt(t,!1),Wd(t),{className:vt("recharts-curve",r),d:c,ref:s}))},V0={exports:{}},q0,bP;function NB(){if(bP)return q0;bP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return q0=e,q0}var U0,jP;function SB(){if(jP)return U0;jP=1;var e=NB();function t(){}function r(){}return r.resetWarningCache=t,U0=function(){function n(c,u,d,m,h,p){if(p!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function o(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},U0}var wP;function CB(){return wP||(wP=1,V0.exports=SB()()),V0.exports}var EB=CB();const zt=qt(EB);var PB=Object.getOwnPropertyNames,OB=Object.getOwnPropertySymbols,AB=Object.prototype.hasOwnProperty;function NP(e,t){return function(n,o,s){return e(n,o,s)&&t(n,o,s)}}function Sd(e){return function(r,n,o){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,o);var s=o.cache,c=s.get(r),u=s.get(n);if(c&&u)return c===n&&u===r;s.set(r,n),s.set(n,r);var d=e(r,n,o);return s.delete(r),s.delete(n),d}}function kB(e){return e?.[Symbol.toStringTag]}function SP(e){return PB(e).concat(OB(e))}var _B=Object.hasOwn||(function(e,t){return AB.call(e,t)});function Si(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var IB="__v",TB="__o",DB="_owner",CP=Object.getOwnPropertyDescriptor,EP=Object.keys;function $B(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function MB(e,t){return Si(e.getTime(),t.getTime())}function RB(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function LB(e,t){return e===t}function PP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var o=new Array(n),s=e.entries(),c,u,d=0;(c=s.next())&&!c.done;){for(var m=t.entries(),h=!1,p=0;(u=m.next())&&!u.done;){if(o[p]){p++;continue}var v=c.value,b=u.value;if(r.equals(v[0],b[0],d,p,e,t,r)&&r.equals(v[1],b[1],v[0],b[0],e,t,r)){h=o[p]=!0;break}p++}if(!h)return!1;d++}return!0}var zB=Si;function FB(e,t,r){var n=EP(e),o=n.length;if(EP(t).length!==o)return!1;for(;o-- >0;)if(!OI(e,t,r,n[o]))return!1;return!0}function Kl(e,t,r){var n=SP(e),o=n.length;if(SP(t).length!==o)return!1;for(var s,c,u;o-- >0;)if(s=n[o],!OI(e,t,r,s)||(c=CP(e,s),u=CP(t,s),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function BB(e,t){return Si(e.valueOf(),t.valueOf())}function VB(e,t){return e.source===t.source&&e.flags===t.flags}function OP(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var o=new Array(n),s=e.values(),c,u;(c=s.next())&&!c.done;){for(var d=t.values(),m=!1,h=0;(u=d.next())&&!u.done;){if(!o[h]&&r.equals(c.value,u.value,c.value,u.value,e,t,r)){m=o[h]=!0;break}h++}if(!m)return!1}return!0}function qB(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function UB(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function OI(e,t,r,n){return(n===DB||n===TB||n===IB)&&(e.$$typeof||t.$$typeof)?!0:_B(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var WB="[object Arguments]",HB="[object Boolean]",GB="[object Date]",KB="[object Error]",JB="[object Map]",XB="[object Number]",YB="[object Object]",ZB="[object RegExp]",QB="[object Set]",eV="[object String]",tV="[object URL]",rV=Array.isArray,AP=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,kP=Object.assign,nV=Object.prototype.toString.call.bind(Object.prototype.toString);function aV(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,o=e.areFunctionsEqual,s=e.areMapsEqual,c=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,m=e.areRegExpsEqual,h=e.areSetsEqual,p=e.areTypedArraysEqual,v=e.areUrlsEqual,b=e.unknownTagComparators;return function(y,x,N){if(y===x)return!0;if(y==null||x==null)return!1;var A=typeof y;if(A!==typeof x)return!1;if(A!=="object")return A==="number"?c(y,x,N):A==="function"?o(y,x,N):!1;var E=y.constructor;if(E!==x.constructor)return!1;if(E===Object)return u(y,x,N);if(rV(y))return t(y,x,N);if(AP!=null&&AP(y))return p(y,x,N);if(E===Date)return r(y,x,N);if(E===RegExp)return m(y,x,N);if(E===Map)return s(y,x,N);if(E===Set)return h(y,x,N);var _=nV(y);if(_===GB)return r(y,x,N);if(_===ZB)return m(y,x,N);if(_===JB)return s(y,x,N);if(_===QB)return h(y,x,N);if(_===YB)return typeof y.then!="function"&&typeof x.then!="function"&&u(y,x,N);if(_===tV)return v(y,x,N);if(_===KB)return n(y,x,N);if(_===WB)return u(y,x,N);if(_===HB||_===XB||_===eV)return d(y,x,N);if(b){var P=b[_];if(!P){var k=kB(y);k&&(P=b[k])}if(P)return P(y,x,N)}return!1}}function oV(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,o={areArraysEqual:n?Kl:$B,areDatesEqual:MB,areErrorsEqual:RB,areFunctionsEqual:LB,areMapsEqual:n?NP(PP,Kl):PP,areNumbersEqual:zB,areObjectsEqual:n?Kl:FB,arePrimitiveWrappersEqual:BB,areRegExpsEqual:VB,areSetsEqual:n?NP(OP,Kl):OP,areTypedArraysEqual:n?Kl:qB,areUrlsEqual:UB,unknownTagComparators:void 0};if(r&&(o=kP({},o,r(o))),t){var s=Sd(o.areArraysEqual),c=Sd(o.areMapsEqual),u=Sd(o.areObjectsEqual),d=Sd(o.areSetsEqual);o=kP({},o,{areArraysEqual:s,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:d})}return o}function iV(e){return function(t,r,n,o,s,c,u){return e(t,r,u)}}function sV(e){var t=e.circular,r=e.comparator,n=e.createState,o=e.equals,s=e.strict;if(n)return function(d,m){var h=n(),p=h.cache,v=p===void 0?t?new WeakMap:void 0:p,b=h.meta;return r(d,m,{cache:v,equals:o,meta:b,strict:s})};if(t)return function(d,m){return r(d,m,{cache:new WeakMap,equals:o,meta:void 0,strict:s})};var c={cache:void 0,equals:o,meta:void 0,strict:s};return function(d,m){return r(d,m,c)}}var lV=Do();Do({strict:!0});Do({circular:!0});Do({circular:!0,strict:!0});Do({createInternalComparator:function(){return Si}});Do({strict:!0,createInternalComparator:function(){return Si}});Do({circular:!0,createInternalComparator:function(){return Si}});Do({circular:!0,createInternalComparator:function(){return Si},strict:!0});function Do(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,o=e.createState,s=e.strict,c=s===void 0?!1:s,u=oV(e),d=aV(u),m=n?n(d):iV(d);return sV({circular:r,comparator:d,createState:o,equals:m,strict:c})}function cV(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _P(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function o(s){r<0&&(r=s),s-r>t?(e(s),r=-1):cV(o)};requestAnimationFrame(n)}function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function uV(e){return pV(e)||mV(e)||fV(e)||dV()}function dV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fV(e,t){if(e){if(typeof e=="string")return IP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pV(e){if(Array.isArray(e))return e}function hV(){var e={},t=function(){return null},r=!1,n=function o(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,u=uV(c),d=u[0],m=u.slice(1);if(typeof d=="number"){_P(o.bind(null,m),d);return}o(d),_P(o.bind(null,m));return}Ox(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function DP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){AI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AI(e,t,r){return t=gV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=vV(e,"string");return Rc(t)==="symbol"?t:String(t)}function vV(e,t){if(Rc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yV=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,o){return n.filter(function(s){return o.includes(s)})})},xV=function(t){return t},bV=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},uc=function(t,r){return Object.keys(r).reduce(function(n,o){return DP(DP({},n),{},AI({},o,t(o,r[o])))},{})},$P=function(t,r,n){return t.map(function(o){return"".concat(bV(o)," ").concat(r,"ms ").concat(n)}).join(",")};function jV(e,t){return SV(e)||NV(e,t)||kI(e,t)||wV()}function wV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function SV(e){if(Array.isArray(e))return e}function CV(e){return OV(e)||PV(e)||kI(e)||EV()}function EV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kI(e,t){if(e){if(typeof e=="string")return Ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ax(e,t)}}function PV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OV(e){if(Array.isArray(e))return Ax(e)}function Ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bf=1e-4,_I=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},II=function(t,r){return t.map(function(n,o){return n*Math.pow(r,o)}).reduce(function(n,o){return n+o})},MP=function(t,r){return function(n){var o=_I(t,r);return II(o,n)}},AV=function(t,r){return function(n){var o=_I(t,r),s=[].concat(CV(o.map(function(c,u){return c*u}).slice(1)),[0]);return II(s,n)}},RP=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[0],s=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":o=0,s=0,c=1,u=1;break;case"ease":o=.25,s=.1,c=.25,u=1;break;case"ease-in":o=.42,s=0,c=1,u=1;break;case"ease-out":o=.42,s=0,c=.58,u=1;break;case"ease-in-out":o=0,s=0,c=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var m=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=jV(m,4);o=h[0],s=h[1],c=h[2],u=h[3]}}}var p=MP(o,c),v=MP(s,u),b=AV(o,c),w=function(N){return N>1?1:N<0?0:N},y=function(N){for(var A=N>1?1:N,E=A,_=0;_<8;++_){var P=p(E)-A,k=b(E);if(Math.abs(P-A)<bf||k<bf)return v(E);E=w(E-P/k)}return v(E)};return y.isStepper=!1,y},kV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,o=t.damping,s=o===void 0?8:o,c=t.dt,u=c===void 0?17:c,d=function(h,p,v){var b=-(h-p)*n,w=v*s,y=v+(b-w)*u/1e3,x=v*u/1e3+h;return Math.abs(x-p)<bf&&Math.abs(y)<bf?[p,0]:[x,y]};return d.isStepper=!0,d.dt=u,d},_V=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r[0];if(typeof o=="string")switch(o){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RP(o);case"spring":return kV();default:if(o.split("(")[0]==="cubic-bezier")return RP(o)}return typeof o=="function"?o:null};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function LP(e){return DV(e)||TV(e)||TI(e)||IV()}function IV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DV(e){if(Array.isArray(e))return _x(e)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kx(e,t,r){return t=$V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=MV(e,"string");return Lc(t)==="symbol"?t:String(t)}function MV(e,t){if(Lc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RV(e,t){return FV(e)||zV(e,t)||TI(e,t)||LV()}function LV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TI(e,t){if(e){if(typeof e=="string")return _x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _x(e,t)}}function _x(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zV(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function FV(e){if(Array.isArray(e))return e}var jf=function(t,r,n){return t+(r-t)*n},Ix=function(t){var r=t.from,n=t.to;return r!==n},BV=function e(t,r,n){var o=uc(function(s,c){if(Ix(c)){var u=t(c.from,c.to,c.velocity),d=RV(u,2),m=d[0],h=d[1];return Dr(Dr({},c),{},{from:m,velocity:h})}return c},r);return n<1?uc(function(s,c){return Ix(c)?Dr(Dr({},c),{},{velocity:jf(c.velocity,o[s].velocity,n),from:jf(c.from,o[s].from,n)}):c},r):e(t,o,n-1)};const VV=(function(e,t,r,n,o){var s=yV(e,t),c=s.reduce(function(x,N){return Dr(Dr({},x),{},kx({},N,[e[N],t[N]]))},{}),u=s.reduce(function(x,N){return Dr(Dr({},x),{},kx({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,m,h,p=function(){return null},v=function(){return uc(function(N,A){return A.from},u)},b=function(){return!Object.values(u).filter(Ix).length},w=function(N){m||(m=N);var A=N-m,E=A/r.dt;u=BV(r,u,E),o(Dr(Dr(Dr({},e),t),v())),m=N,b()||(d=requestAnimationFrame(p))},y=function(N){h||(h=N);var A=(N-h)/n,E=uc(function(P,k){return jf.apply(void 0,LP(k).concat([r(A)]))},c);if(o(Dr(Dr(Dr({},e),t),E)),A<1)d=requestAnimationFrame(p);else{var _=uc(function(P,k){return jf.apply(void 0,LP(k).concat([r(1)]))},c);o(Dr(Dr(Dr({},e),t),_))}};return p=r.isStepper?w:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}});function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}var qV=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UV(e,t){if(e==null)return{};var r=WV(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WV(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function W0(e){return JV(e)||KV(e)||GV(e)||HV()}function HV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GV(e,t){if(e){if(typeof e=="string")return Tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tx(e,t)}}function KV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JV(e){if(Array.isArray(e))return Tx(e)}function Tx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){nc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nc(e,t,r){return t=DI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DI(n.key),n)}}function ZV(e,t,r){return t&&YV(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DI(e){var t=QV(e,"string");return Ts(t)==="symbol"?t:String(t)}function QV(e,t){if(Ts(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ts(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dx(e,t)}function Dx(e,t){return Dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Dx(e,t)}function tq(e){var t=rq();return function(){var n=wf(e),o;if(t){var s=wf(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return $x(this,o)}}function $x(e,t){if(t&&(Ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mx(e)}function Mx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wf(e)}var ua=(function(e){eq(r,e);var t=tq(r);function r(n,o){var s;XV(this,r),s=t.call(this,n,o);var c=s.props,u=c.isActive,d=c.attributeName,m=c.from,h=c.to,p=c.steps,v=c.children,b=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Mx(s)),s.changeStyle=s.changeStyle.bind(Mx(s)),!u||b<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:h}),$x(s);if(p&&p.length)s.state={style:p[0].style};else if(m){if(typeof v=="function")return s.state={style:m},$x(s);s.state={style:d?nc({},d,m):m}}else s.state={style:{}};return s}return ZV(r,[{key:"componentDidMount",value:function(){var o=this.props,s=o.isActive,c=o.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(o){var s=this.props,c=s.isActive,u=s.canBegin,d=s.attributeName,m=s.shouldReAnimate,h=s.to,p=s.from,v=this.state.style;if(u){if(!c){var b={style:d?nc({},d,h):h};this.state&&v&&(d&&v[d]!==h||!d&&v!==h)&&this.setState(b);return}if(!(lV(o.to,h)&&o.canBegin&&o.isActive)){var w=!o.canBegin||!o.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=w||m?p:o.to;if(this.state&&v){var x={style:d?nc({},d,y):y};(d&&v[d]!==y||!d&&v!==y)&&this.setState(x)}this.runAnimation(qn(qn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),o&&o()}},{key:"handleStyleChange",value:function(o){this.changeStyle(o)}},{key:"changeStyle",value:function(o){this.mounted&&this.setState({style:o})}},{key:"runJSAnimation",value:function(o){var s=this,c=o.from,u=o.to,d=o.duration,m=o.easing,h=o.begin,p=o.onAnimationEnd,v=o.onAnimationStart,b=VV(c,u,_V(m),d,this.changeStyle),w=function(){s.stopJSAnimation=b()};this.manager.start([v,h,w,d,p])}},{key:"runStepAnimation",value:function(o){var s=this,c=o.steps,u=o.begin,d=o.onAnimationStart,m=c[0],h=m.style,p=m.duration,v=p===void 0?0:p,b=function(y,x,N){if(N===0)return y;var A=x.duration,E=x.easing,_=E===void 0?"ease":E,P=x.style,k=x.properties,O=x.onAnimationEnd,L=N>0?c[N-1]:x,T=k||Object.keys(P);if(typeof _=="function"||_==="spring")return[].concat(W0(y),[s.runJSAnimation.bind(s,{from:L.style,to:P,duration:A,easing:_}),A]);var M=$P(T,A,_),I=qn(qn(qn({},L.style),P),{},{transition:M});return[].concat(W0(y),[I,A,O]).filter(xV)};return this.manager.start([d].concat(W0(c.reduce(b,[h,Math.max(v,u)])),[o.onAnimationEnd]))}},{key:"runAnimation",value:function(o){this.manager||(this.manager=hV());var s=o.begin,c=o.duration,u=o.attributeName,d=o.to,m=o.easing,h=o.onAnimationStart,p=o.onAnimationEnd,v=o.steps,b=o.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof m=="function"||typeof b=="function"||m==="spring"){this.runJSAnimation(o);return}if(v.length>1){this.runStepAnimation(o);return}var y=u?nc({},u,d):d,x=$P(Object.keys(y),c,m);w.start([h,s,qn(qn({},y),{},{transition:x}),c,p])}},{key:"render",value:function(){var o=this.props,s=o.children;o.begin;var c=o.duration;o.attributeName,o.easing;var u=o.isActive;o.steps,o.from,o.to,o.canBegin,o.onAnimationEnd,o.shouldReAnimate,o.onAnimationReStart;var d=UV(o,qV),m=C.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!u||m===0||c<=0)return s;var p=function(b){var w=b.props,y=w.style,x=y===void 0?{}:y,N=w.className,A=C.cloneElement(b,qn(qn({},d),{},{style:qn(qn({},x),h),className:N}));return A};return m===1?p(C.Children.only(s)):Z.createElement("div",null,C.Children.map(s,function(v){return p(v)}))}}]),r})(C.PureComponent);ua.displayName="Animate";ua.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ua.propTypes={from:zt.oneOfType([zt.object,zt.string]),to:zt.oneOfType([zt.object,zt.string]),attributeName:zt.string,duration:zt.number,begin:zt.number,easing:zt.oneOfType([zt.string,zt.func]),steps:zt.arrayOf(zt.shape({duration:zt.number.isRequired,style:zt.object.isRequired,easing:zt.oneOfType([zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zt.func]),properties:zt.arrayOf("string"),onAnimationEnd:zt.func})),children:zt.oneOfType([zt.node,zt.func]),isActive:zt.bool,canBegin:zt.bool,onAnimationEnd:zt.func,shouldReAnimate:zt.bool,onAnimationStart:zt.func,onAnimationReStart:zt.func};var nq=QA();function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function aq(e,t){return lq(e)||sq(e,t)||iq(e,t)||oq()}function oq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iq(e,t){if(e){if(typeof e=="string")return BP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BP(e,t)}}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function lq(e){if(Array.isArray(e))return e}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cq(e,t,r){return t=uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=dq(e,"string");return zc(t)=="symbol"?t:t+""}function dq(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UP=function(t,r,n,o,s){var c=Math.min(Math.abs(n)/2,Math.abs(o)/2),u=o>=0?1:-1,d=n>=0?1:-1,m=o>=0&&n>=0||o<0&&n<0?1:0,h;if(c>0&&s instanceof Array){for(var p=[0,0,0,0],v=0,b=4;v<b;v++)p[v]=s[v]>c?c:s[v];h="M".concat(t,",").concat(r+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(t+d*p[0],",").concat(r)),h+="L ".concat(t+n-d*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(t+n,",").concat(r+u*p[1])),h+="L ".concat(t+n,",").concat(r+o-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(t+n-d*p[2],",").concat(r+o)),h+="L ".concat(t+d*p[3],",").concat(r+o),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(t,",").concat(r+o-u*p[3])),h+="Z"}else if(c>0&&s===+s&&s>0){var w=Math.min(c,s);h="M ".concat(t,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t+n,",").concat(r+u*w,`
            L `).concat(t+n,",").concat(r+o-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t+n-d*w,",").concat(r+o,`
            L `).concat(t+d*w,",").concat(r+o,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t,",").concat(r+o-u*w," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(o," h ").concat(-n," Z");return h},fq=function(t,r){if(!t||!r)return!1;var n=t.x,o=t.y,s=r.x,c=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var m=Math.min(s,s+u),h=Math.max(s,s+u),p=Math.min(c,c+d),v=Math.max(c,c+d);return n>=m&&n<=h&&o>=p&&o<=v}return!1},mq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mj=function(t){var r=qP(qP({},mq),t),n=C.useRef(),o=C.useState(-1),s=aq(o,2),c=s[0],u=s[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&u(_)}catch{}},[]);var d=r.x,m=r.y,h=r.width,p=r.height,v=r.radius,b=r.className,w=r.animationEasing,y=r.animationDuration,x=r.animationBegin,N=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||m!==+m||h!==+h||p!==+p||h===0||p===0)return null;var E=vt("recharts-rectangle",b);return A?Z.createElement(ua,{canBegin:c>0,from:{width:h,height:p,x:d,y:m},to:{width:h,height:p,x:d,y:m},duration:y,animationEasing:w,isActive:A},function(_){var P=_.width,k=_.height,O=_.x,L=_.y;return Z.createElement(ua,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:N,easing:w},Z.createElement("path",Nf({},lt(r,!0),{className:E,d:UP(O,L,P,k,v),ref:n})))}):Z.createElement("path",Nf({},lt(r,!0),{className:E,d:UP(d,m,h,p,v)}))},pq=["points","className","baseLinePoints","connectNulls"];function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(this,arguments)}function hq(e,t){if(e==null)return{};var r=gq(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WP(e){return bq(e)||xq(e)||yq(e)||vq()}function vq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yq(e,t){if(e){if(typeof e=="string")return Rx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rx(e,t)}}function xq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bq(e){if(Array.isArray(e))return Rx(e)}function Rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var HP=function(t){return t&&t.x===+t.x&&t.y===+t.y},jq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){HP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),HP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},dc=function(t,r){var n=jq(t);r&&(n=[n.reduce(function(s,c){return[].concat(WP(s),WP(c))},[])]);var o=n.map(function(s){return s.reduce(function(c,u,d){return"".concat(c).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(o,"Z"):o},wq=function(t,r,n){var o=dc(t,n);return"".concat(o.slice(-1)==="Z"?o.slice(0,-1):o,"L").concat(dc(r.reverse(),n).slice(1))},Nq=function(t){var r=t.points,n=t.className,o=t.baseLinePoints,s=t.connectNulls,c=hq(t,pq);if(!r||!r.length)return null;var u=vt("recharts-polygon",n);if(o&&o.length){var d=c.stroke&&c.stroke!=="none",m=wq(r,o,s);return Z.createElement("g",{className:u},Z.createElement("path",us({},lt(c,!0),{fill:m.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:m})),d?Z.createElement("path",us({},lt(c,!0),{fill:"none",d:dc(r,s)})):null,d?Z.createElement("path",us({},lt(c,!0),{fill:"none",d:dc(o,s)})):null)}var h=dc(r,s);return Z.createElement("path",us({},lt(c,!0),{fill:h.slice(-1)==="Z"?c.fill:"none",className:u,d:h}))};function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(this,arguments)}var xm=function(t){var r=t.cx,n=t.cy,o=t.r,s=t.className,c=vt("recharts-dot",s);return r===+r&&n===+n&&o===+o?C.createElement("circle",Lx({},lt(t,!1),Wd(t),{className:c,cx:r,cy:n,r:o})):null};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}var Sq=["x","y","top","left","width","height","className"];function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(this,arguments)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Cq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return t=Pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Oq(e,"string");return Fc(t)=="symbol"?t:t+""}function Oq(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aq(e,t){if(e==null)return{};var r=kq(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var _q=function(t,r,n,o,s,c){return"M".concat(t,",").concat(s,"v").concat(o,"M").concat(c,",").concat(r,"h").concat(n)},Iq=function(t){var r=t.x,n=r===void 0?0:r,o=t.y,s=o===void 0?0:o,c=t.top,u=c===void 0?0:c,d=t.left,m=d===void 0?0:d,h=t.width,p=h===void 0?0:h,v=t.height,b=v===void 0?0:v,w=t.className,y=Aq(t,Sq),x=Cq({x:n,y:s,top:u,left:m,width:p,height:b},y);return!Re(n)||!Re(s)||!Re(p)||!Re(b)||!Re(u)||!Re(m)?null:Z.createElement("path",zx({},lt(x,!0),{className:vt("recharts-cross",w),d:_q(n,s,p,b,u,m)}))},H0,KP;function Tq(){if(KP)return H0;KP=1;var e=pm(),t=J_(),r=ma();function n(o,s){return o&&o.length?e(o,r(s,2),t):void 0}return H0=n,H0}var Dq=Tq();const $q=qt(Dq);var G0,JP;function Mq(){if(JP)return G0;JP=1;var e=pm(),t=ma(),r=X_();function n(o,s){return o&&o.length?e(o,t(s,2),r):void 0}return G0=n,G0}var Rq=Mq();const Lq=qt(Rq);var zq=["cx","cy","angle","ticks","axisLine"],Fq=["ticks","tick","angle","tickFormatter","stroke"];function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(this,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YP(e,t){if(e==null)return{};var r=Bq(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MI(n.key),n)}}function qq(e,t,r){return t&&ZP(e.prototype,t),r&&ZP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uq(e,t,r){return t=Sf(t),Wq(e,$I()?Reflect.construct(t,r||[],Sf(e).constructor):t.apply(e,r))}function Wq(e,t){if(t&&(Ds(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hq(e)}function Hq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($I=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}function Gq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fx(e,t)}function Fx(e,t){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Fx(e,t)}function bm(e,t,r){return t=MI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MI(e){var t=Kq(e,"string");return Ds(t)=="symbol"?t:t+""}function Kq(e,t){if(Ds(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jm=(function(e){function t(){return Vq(this,t),Uq(this,t,arguments)}return Gq(t,e),qq(t,[{key:"getTickValueCoord",value:function(n){var o=n.coordinate,s=this.props,c=s.angle,u=s.cx,d=s.cy;return Xt(u,d,o,c)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,o;switch(n){case"left":o="end";break;case"right":o="start";break;default:o="middle";break}return o}},{key:"getViewBox",value:function(){var n=this.props,o=n.cx,s=n.cy,c=n.angle,u=n.ticks,d=$q(u,function(h){return h.coordinate||0}),m=Lq(u,function(h){return h.coordinate||0});return{cx:o,cy:s,startAngle:c,endAngle:c,innerRadius:m.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,o=n.cx,s=n.cy,c=n.angle,u=n.ticks,d=n.axisLine,m=YP(n,zq),h=u.reduce(function(w,y){return[Math.min(w[0],y.coordinate),Math.max(w[1],y.coordinate)]},[1/0,-1/0]),p=Xt(o,s,h[0],c),v=Xt(o,s,h[1],c),b=Qo(Qo(Qo({},lt(m,!1)),{},{fill:"none"},lt(d,!1)),{},{x1:p.x,y1:p.y,x2:v.x,y2:v.y});return Z.createElement("line",fc({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,o=this.props,s=o.ticks,c=o.tick,u=o.angle,d=o.tickFormatter,m=o.stroke,h=YP(o,Fq),p=this.getTickTextAnchor(),v=lt(h,!1),b=lt(c,!1),w=s.map(function(y,x){var N=n.getTickValueCoord(y),A=Qo(Qo(Qo(Qo({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(N.x,", ").concat(N.y,")")},v),{},{stroke:"none",fill:m},b),{},{index:x},N),{},{payload:y});return Z.createElement(Tt,fc({className:vt("recharts-polar-radius-axis-tick",SI(c)),key:"tick-".concat(y.coordinate)},pi(n.props,y,x)),t.renderTickItem(c,A,d?d(y.value,x):y.value))});return Z.createElement(Tt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,o=n.ticks,s=n.axisLine,c=n.tick;return!o||!o.length?null:Z.createElement(Tt,{className:vt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),c&&this.renderTicks(),Or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,o,s){var c;return Z.isValidElement(n)?c=Z.cloneElement(n,o):mt(n)?c=n(o):c=Z.createElement(hi,fc({},o,{className:"recharts-polar-radius-axis-tick-value"}),s),c}}])})(C.PureComponent);bm(jm,"displayName","PolarRadiusAxis");bm(jm,"axisType","radiusAxis");bm(jm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(this,arguments)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LI(n.key),n)}}function Xq(e,t,r){return t&&eO(e.prototype,t),r&&eO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yq(e,t,r){return t=Cf(t),Zq(e,RI()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function Zq(e,t){if(t&&($s(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qq(e)}function Qq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RI=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function eU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bx(e,t)}function Bx(e,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Bx(e,t)}function wm(e,t,r){return t=LI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LI(e){var t=tU(e,"string");return $s(t)=="symbol"?t:t+""}function tU(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rU=Math.PI/180,tO=1e-5,Nm=(function(e){function t(){return Jq(this,t),Yq(this,t,arguments)}return eU(t,e),Xq(t,[{key:"getTickLineCoord",value:function(n){var o=this.props,s=o.cx,c=o.cy,u=o.radius,d=o.orientation,m=o.tickSize,h=m||8,p=Xt(s,c,u,n.coordinate),v=Xt(s,c,u+(d==="inner"?-1:1)*h,n.coordinate);return{x1:p.x,y1:p.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var o=this.props.orientation,s=Math.cos(-n.coordinate*rU),c;return s>tO?c=o==="outer"?"start":"end":s<-tO?c=o==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var n=this.props,o=n.cx,s=n.cy,c=n.radius,u=n.axisLine,d=n.axisLineType,m=ei(ei({},lt(this.props,!1)),{},{fill:"none"},lt(u,!1));if(d==="circle")return Z.createElement(xm,oi({className:"recharts-polar-angle-axis-line"},m,{cx:o,cy:s,r:c}));var h=this.props.ticks,p=h.map(function(v){return Xt(o,s,c,v.coordinate)});return Z.createElement(Nq,oi({className:"recharts-polar-angle-axis-line"},m,{points:p}))}},{key:"renderTicks",value:function(){var n=this,o=this.props,s=o.ticks,c=o.tick,u=o.tickLine,d=o.tickFormatter,m=o.stroke,h=lt(this.props,!1),p=lt(c,!1),v=ei(ei({},h),{},{fill:"none"},lt(u,!1)),b=s.map(function(w,y){var x=n.getTickLineCoord(w),N=n.getTickTextAnchor(w),A=ei(ei(ei({textAnchor:N},h),{},{stroke:"none",fill:m},p),{},{index:y,payload:w,x:x.x2,y:x.y2});return Z.createElement(Tt,oi({className:vt("recharts-polar-angle-axis-tick",SI(c)),key:"tick-".concat(w.coordinate)},pi(n.props,w,y)),u&&Z.createElement("line",oi({className:"recharts-polar-angle-axis-tick-line"},v,x)),c&&t.renderTickItem(c,A,d?d(w.value,y):w.value))});return Z.createElement(Tt,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,o=n.ticks,s=n.radius,c=n.axisLine;return s<=0||!o||!o.length?null:Z.createElement(Tt,{className:vt("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,o,s){var c;return Z.isValidElement(n)?c=Z.cloneElement(n,o):mt(n)?c=n(o):c=Z.createElement(hi,oi({},o,{className:"recharts-polar-angle-axis-tick-value"}),s),c}}])})(C.PureComponent);wm(Nm,"displayName","PolarAngleAxis");wm(Nm,"axisType","angleAxis");wm(Nm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var K0,rO;function nU(){if(rO)return K0;rO=1;var e=Kk(),t=e(Object.getPrototypeOf,Object);return K0=t,K0}var J0,nO;function aU(){if(nO)return J0;nO=1;var e=Fa(),t=nU(),r=Ba(),n="[object Object]",o=Function.prototype,s=Object.prototype,c=o.toString,u=s.hasOwnProperty,d=c.call(Object);function m(h){if(!r(h)||e(h)!=n)return!1;var p=t(h);if(p===null)return!0;var v=u.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&c.call(v)==d}return J0=m,J0}var oU=aU();const iU=qt(oU);var X0,aO;function sU(){if(aO)return X0;aO=1;var e=Fa(),t=Ba(),r="[object Boolean]";function n(o){return o===!0||o===!1||t(o)&&e(o)==r}return X0=n,X0}var lU=sU();const cU=qt(lU);function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function uU(e,t){return pU(e)||mU(e,t)||fU(e,t)||dU()}function dU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fU(e,t){if(e){if(typeof e=="string")return oO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(e,t)}}function oO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function pU(e){if(Array.isArray(e))return e}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function sO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return t=gU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=vU(e,"string");return Bc(t)=="symbol"?t:t+""}function vU(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lO=function(t,r,n,o,s){var c=n-o,u;return u="M ".concat(t,",").concat(r),u+="L ".concat(t+n,",").concat(r),u+="L ".concat(t+n-c/2,",").concat(r+s),u+="L ".concat(t+n-c/2-o,",").concat(r+s),u+="L ".concat(t,",").concat(r," Z"),u},yU={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xU=function(t){var r=sO(sO({},yU),t),n=C.useRef(),o=C.useState(-1),s=uU(o,2),c=s[0],u=s[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&u(E)}catch{}},[]);var d=r.x,m=r.y,h=r.upperWidth,p=r.lowerWidth,v=r.height,b=r.className,w=r.animationEasing,y=r.animationDuration,x=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||m!==+m||h!==+h||p!==+p||v!==+v||h===0&&p===0||v===0)return null;var A=vt("recharts-trapezoid",b);return N?Z.createElement(ua,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:m},to:{upperWidth:h,lowerWidth:p,height:v,x:d,y:m},duration:y,animationEasing:w,isActive:N},function(E){var _=E.upperWidth,P=E.lowerWidth,k=E.height,O=E.x,L=E.y;return Z.createElement(ua,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:w},Z.createElement("path",Ef({},lt(r,!0),{className:A,d:lO(O,L,_,P,k),ref:n})))}):Z.createElement("g",null,Z.createElement("path",Ef({},lt(r,!0),{className:A,d:lO(d,m,h,p,v)})))},bU=["option","shapeType","propTransformer","activeClassName","isActive"];function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function jU(e,t){if(e==null)return{};var r=wU(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wU(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){NU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NU(e,t,r){return t=SU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=CU(e,"string");return Vc(t)=="symbol"?t:t+""}function CU(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EU(e,t){return Pf(Pf({},t),e)}function PU(e,t){return e==="symbols"}function uO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Z.createElement(mj,r);case"trapezoid":return Z.createElement(xU,r);case"sector":return Z.createElement(PI,r);case"symbols":if(PU(t))return Z.createElement(Ib,r);break;default:return null}}function OU(e){return C.isValidElement(e)?e.props:e}function zI(e){var t=e.option,r=e.shapeType,n=e.propTransformer,o=n===void 0?EU:n,s=e.activeClassName,c=s===void 0?"recharts-active-shape":s,u=e.isActive,d=jU(e,bU),m;if(C.isValidElement(t))m=C.cloneElement(t,Pf(Pf({},d),OU(t)));else if(mt(t))m=t(d);else if(iU(t)&&!cU(t)){var h=o(t,d);m=Z.createElement(uO,{shapeType:r,elementProps:h})}else{var p=d;m=Z.createElement(uO,{shapeType:r,elementProps:p})}return u?Z.createElement(Tt,{className:c},m):m}function Sm(e,t){return t!=null&&"trapezoids"in e.props}function Cm(e,t){return t!=null&&"sectors"in e.props}function qc(e,t){return t!=null&&"points"in e.props}function AU(e,t){var r,n,o=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return o&&s}function kU(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function _U(e,t){var r=e.x===t.x,n=e.y===t.y,o=e.z===t.z;return r&&n&&o}function IU(e,t){var r;return Sm(e,t)?r=AU:Cm(e,t)?r=kU:qc(e,t)&&(r=_U),r}function TU(e,t){var r;return Sm(e,t)?r="trapezoids":Cm(e,t)?r="sectors":qc(e,t)&&(r="points"),r}function DU(e,t){if(Sm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Cm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qc(e,t)?t.payload:{}}function $U(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,o=TU(r,t),s=DU(r,t),c=n.filter(function(d,m){var h=su(s,d),p=r.props[o].filter(function(w){var y=IU(r,t);return y(w,t)}),v=r.props[o].indexOf(p[p.length-1]),b=m===v;return h&&b}),u=n.indexOf(c[c.length-1]);return u}var Fd;function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(this,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){_n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BI(n.key),n)}}function RU(e,t,r){return t&&fO(e.prototype,t),r&&fO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LU(e,t,r){return t=Of(t),zU(e,FI()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function zU(e,t){if(t&&(Ms(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FU(e)}function FU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FI=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function BU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vx(e,t)}function Vx(e,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Vx(e,t)}function _n(e,t,r){return t=BI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BI(e){var t=VU(e,"string");return Ms(t)=="symbol"?t:t+""}function VU(e,t){if(Ms(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qa=(function(e){function t(r){var n;return MU(this,t),n=LU(this,t,[r]),_n(n,"pieRef",null),_n(n,"sectorRefs",[]),_n(n,"id",Qs("recharts-pie-")),_n(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),mt(o)&&o()}),_n(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),mt(o)&&o()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return BU(t,e),RU(t,[{key:"isActiveIndex",value:function(n){var o=this.props.activeIndex;return Array.isArray(o)?o.indexOf(n)!==-1:n===o}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.label,u=s.labelLine,d=s.dataKey,m=s.valueKey,h=lt(this.props,!1),p=lt(c,!1),v=lt(u,!1),b=c&&c.offsetRadius||20,w=n.map(function(y,x){var N=(y.startAngle+y.endAngle)/2,A=Xt(y.cx,y.cy,y.outerRadius+b,N),E=Kt(Kt(Kt(Kt({},h),y),{},{stroke:"none"},p),{},{index:x,textAnchor:t.getTextAnchor(A.x,y.cx)},A),_=Kt(Kt(Kt(Kt({},h),y),{},{fill:"none",stroke:y.fill},v),{},{index:x,points:[Xt(y.cx,y.cy,y.outerRadius,N),A]}),P=d;return ht(d)&&ht(m)?P="value":ht(d)&&(P=m),Z.createElement(Tt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},u&&t.renderLabelLineItem(u,_,"line"),t.renderLabelItem(c,E,br(y,P)))});return Z.createElement(Tt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var o=this,s=this.props,c=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return n.map(function(m,h){if(m?.startAngle===0&&m?.endAngle===0&&n.length!==1)return null;var p=o.isActiveIndex(h),v=d&&o.hasActiveIndex()?d:null,b=p?c:v,w=Kt(Kt({},m),{},{stroke:u?m.fill:m.stroke,tabIndex:-1});return Z.createElement(Tt,ds({ref:function(x){x&&!o.sectorRefs.includes(x)&&o.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},pi(o.props,m,h),{key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(h)}),Z.createElement(zI,ds({option:b,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,o=this.props,s=o.sectors,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,m=o.animationEasing,h=o.animationId,p=this.state,v=p.prevSectors,b=p.prevIsAnimationActive;return Z.createElement(ua,{begin:u,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var y=w.t,x=[],N=s&&s[0],A=N.startAngle;return s.forEach(function(E,_){var P=v&&v[_],k=_>0?yn(E,"paddingAngle",0):0;if(P){var O=gn(P.endAngle-P.startAngle,E.endAngle-E.startAngle),L=Kt(Kt({},E),{},{startAngle:A+k,endAngle:A+O(y)+k});x.push(L),A=L.endAngle}else{var T=E.endAngle,M=E.startAngle,I=gn(0,T-M),V=I(y),z=Kt(Kt({},E),{},{startAngle:A+k,endAngle:A+V+k});x.push(z),A=z.endAngle}}),Z.createElement(Tt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var o=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var c=++o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[c].focus(),o.setState({sectorToFocus:c});break}case"ArrowRight":{var u=--o.state.sectorToFocus<0?o.sectorRefs.length-1:o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[u].focus(),o.setState({sectorToFocus:u});break}case"Escape":{o.sectorRefs[o.state.sectorToFocus].blur(),o.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,o=n.sectors,s=n.isAnimationActive,c=this.state.prevSectors;return s&&o&&o.length&&(!c||!su(c,o))?this.renderSectorsWithAnimation():this.renderSectorsStatically(o)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,o=this.props,s=o.hide,c=o.sectors,u=o.className,d=o.label,m=o.cx,h=o.cy,p=o.innerRadius,v=o.outerRadius,b=o.isAnimationActive,w=this.state.isAnimationFinished;if(s||!c||!c.length||!Re(m)||!Re(h)||!Re(p)||!Re(v))return null;var y=vt("recharts-pie",u);return Z.createElement(Tt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(N){n.pieRef=N}},this.renderSectors(),d&&this.renderLabels(c),Or.renderCallByParent(this.props,null,!1),(!b||w)&&Ma.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,o){return o.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==o.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:o.curSectors,isAnimationFinished:!0}:n.sectors!==o.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,o){return n>o?"start":n<o?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,o,s){if(Z.isValidElement(n))return Z.cloneElement(n,o);if(mt(n))return n(o);var c=vt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Z.createElement(xf,ds({},o,{key:s,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(n,o,s){if(Z.isValidElement(n))return Z.cloneElement(n,o);var c=s;if(mt(n)&&(c=n(o),Z.isValidElement(c)))return c;var u=vt("recharts-pie-label-text",typeof n!="boolean"&&!mt(n)?n.className:"");return Z.createElement(hi,ds({},o,{alignmentBaseline:"middle",className:u}),c)}}])})(C.PureComponent);Fd=qa;_n(qa,"displayName","Pie");_n(qa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ji.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});_n(qa,"parseDeltaAngle",function(e,t){var r=Wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});_n(qa,"getRealPieData",function(e){var t=e.data,r=e.children,n=lt(e,!1),o=xn(r,sm);return t&&t.length?t.map(function(s,c){return Kt(Kt(Kt({payload:s},n),s),o&&o[c]&&o[c].props)}):o&&o.length?o.map(function(s){return Kt(Kt({},n),s.props)}):[]});_n(qa,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,o=t.width,s=t.height,c=NI(o,s),u=n+Hr(e.cx,o,o/2),d=r+Hr(e.cy,s,s/2),m=Hr(e.innerRadius,c,0),h=Hr(e.outerRadius,c,c*.8),p=e.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:u,cy:d,innerRadius:m,outerRadius:h,maxRadius:p}});_n(qa,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Kt(Kt({},t.type.defaultProps),t.props):t.props,o=Fd.getRealPieData(n);if(!o||!o.length)return null;var s=n.cornerRadius,c=n.startAngle,u=n.endAngle,d=n.paddingAngle,m=n.dataKey,h=n.nameKey,p=n.valueKey,v=n.tooltipType,b=Math.abs(n.minAngle),w=Fd.parseCoordinateOfPie(n,r),y=Fd.parseDeltaAngle(c,u),x=Math.abs(y),N=m;ht(m)&&ht(p)?(Kn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):ht(m)&&(Kn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=p);var A=o.filter(function(L){return br(L,N,0)!==0}).length,E=(x>=360?A:A-1)*d,_=x-A*b-E,P=o.reduce(function(L,T){var M=br(T,N,0);return L+(Re(M)?M:0)},0),k;if(P>0){var O;k=o.map(function(L,T){var M=br(L,N,0),I=br(L,h,T),V=(Re(M)?M:0)/P,z;T?z=O.endAngle+Wr(y)*d*(M!==0?1:0):z=c;var B=z+Wr(y)*((M!==0?b:0)+V*_),D=(z+B)/2,G=(w.innerRadius+w.outerRadius)/2,te=[{name:I,value:M,payload:L,dataKey:N,type:v}],R=Xt(w.cx,w.cy,G,D);return O=Kt(Kt(Kt({percent:V,cornerRadius:s,name:I,tooltipPayload:te,midAngle:D,middleRadius:G,tooltipPosition:R},L),w),{},{value:br(L,N),startAngle:z,endAngle:B,payload:L,paddingAngle:Wr(y)*d}),O})}return Kt(Kt({},w),{},{sectors:k,data:o})});var Y0,mO;function qU(){if(mO)return Y0;mO=1;var e=Math.ceil,t=Math.max;function r(n,o,s,c){for(var u=-1,d=t(e((o-n)/(s||1)),0),m=Array(d);d--;)m[c?d:++u]=n,n+=s;return m}return Y0=r,Y0}var Z0,pO;function VI(){if(pO)return Z0;pO=1;var e=u_(),t=1/0,r=17976931348623157e292;function n(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var s=o<0?-1:1;return s*r}return o===o?o:0}return Z0=n,Z0}var Q0,hO;function UU(){if(hO)return Q0;hO=1;var e=qU(),t=im(),r=VI();function n(o){return function(s,c,u){return u&&typeof u!="number"&&t(s,c,u)&&(c=u=void 0),s=r(s),c===void 0?(c=s,s=0):c=r(c),u=u===void 0?s<c?1:-1:r(u),e(s,c,u,o)}}return Q0=n,Q0}var ey,gO;function WU(){if(gO)return ey;gO=1;var e=UU(),t=e();return ey=t,ey}var HU=WU();const Af=qt(HU);function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function vO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function yO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vO(Object(r),!0).forEach(function(n){qI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qI(e,t,r){return t=GU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=KU(e,"string");return Uc(t)=="symbol"?t:t+""}function KU(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JU=["Webkit","Moz","O","ms"],XU=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),o=JU.reduce(function(s,c){return yO(yO({},s),{},qI({},c+n,r))},{});return o[t]=r,o};function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(this,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WI(n.key),n)}}function ZU(e,t,r){return t&&bO(e.prototype,t),r&&bO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QU(e,t,r){return t=_f(t),eW(e,UI()?Reflect.construct(t,r||[],_f(e).constructor):t.apply(e,r))}function eW(e,t){if(t&&(Rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tW(e)}function tW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UI=function(){return!!e})()}function _f(e){return _f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_f(e)}function rW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qx(e,t)}function qx(e,t){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},qx(e,t)}function mn(e,t,r){return t=WI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WI(e){var t=nW(e,"string");return Rs(t)=="symbol"?t:t+""}function nW(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aW=function(t){var r=t.data,n=t.startIndex,o=t.endIndex,s=t.x,c=t.width,u=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,m=lc().domain(Af(0,d)).range([s,s+c-u]),h=m.domain().map(function(p){return m(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(n),endX:m(o),scale:m,scaleValues:h}},jO=function(t){return t.changedTouches&&!!t.changedTouches.length},Ls=(function(e){function t(r){var n;return YU(this,t),n=QU(this,t,[r]),mn(n,"handleDrag",function(o){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(o):n.state.isSlideMoving&&n.handleSlideDrag(o)}),mn(n,"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&n.handleDrag(o.changedTouches[0])}),mn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=n.props,s=o.endIndex,c=o.onDragEnd,u=o.startIndex;c?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),mn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),mn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),mn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),mn(n,"handleSlideDragStart",function(o){var s=jO(o)?o.changedTouches[0]:o;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return rW(t,e),ZU(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var o=n.startX,s=n.endX,c=this.state.scaleValues,u=this.props,d=u.gap,m=u.data,h=m.length-1,p=Math.min(o,s),v=Math.max(o,s),b=t.getIndexInRange(c,p),w=t.getIndexInRange(c,v);return{startIndex:b-b%d,endIndex:w===h?h:w-w%d}}},{key:"getTextOfTick",value:function(n){var o=this.props,s=o.data,c=o.tickFormatter,u=o.dataKey,d=br(s[n],u,n);return mt(c)?c(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var o=this.state,s=o.slideMoveStartX,c=o.startX,u=o.endX,d=this.props,m=d.x,h=d.width,p=d.travellerWidth,v=d.startIndex,b=d.endIndex,w=d.onChange,y=n.pageX-s;y>0?y=Math.min(y,m+h-p-u,m+h-p-c):y<0&&(y=Math.max(y,m-c,m-u));var x=this.getIndex({startX:c+y,endX:u+y});(x.startIndex!==v||x.endIndex!==b)&&w&&w(x),this.setState({startX:c+y,endX:u+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,o){var s=jO(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var o=this.state,s=o.brushMoveStartX,c=o.movingTravellerId,u=o.endX,d=o.startX,m=this.state[c],h=this.props,p=h.x,v=h.width,b=h.travellerWidth,w=h.onChange,y=h.gap,x=h.data,N={startX:this.state.startX,endX:this.state.endX},A=n.pageX-s;A>0?A=Math.min(A,p+v-b-m):A<0&&(A=Math.max(A,p-m)),N[c]=m+A;var E=this.getIndex(N),_=E.startIndex,P=E.endIndex,k=function(){var L=x.length-1;return c==="startX"&&(u>d?_%y===0:P%y===0)||u<d&&P===L||c==="endX"&&(u>d?P%y===0:_%y===0)||u>d&&P===L};this.setState(mn(mn({},c,m+A),"brushMoveStartX",n.pageX),function(){w&&k()&&w(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,o){var s=this,c=this.state,u=c.scaleValues,d=c.startX,m=c.endX,h=this.state[o],p=u.indexOf(h);if(p!==-1){var v=p+n;if(!(v===-1||v>=u.length)){var b=u[v];o==="startX"&&b>=m||o==="endX"&&b<=d||this.setState(mn({},o,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,o=n.x,s=n.y,c=n.width,u=n.height,d=n.fill,m=n.stroke;return Z.createElement("rect",{stroke:m,fill:d,x:o,y:s,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,o=n.x,s=n.y,c=n.width,u=n.height,d=n.data,m=n.children,h=n.padding,p=C.Children.only(m);return p?Z.cloneElement(p,{x:o,y:s,width:c,height:u,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,o){var s,c,u=this,d=this.props,m=d.y,h=d.travellerWidth,p=d.height,v=d.traveller,b=d.ariaLabel,w=d.data,y=d.startIndex,x=d.endIndex,N=Math.max(n,this.props.x),A=ty(ty({},lt(this.props,!1)),{},{x:N,y:m,width:h,height:p}),E=b||"Min value: ".concat((s=w[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=w[x])===null||c===void 0?void 0:c.name);return Z.createElement(Tt,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),u.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,o))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,A))}},{key:"renderSlide",value:function(n,o){var s=this.props,c=s.y,u=s.height,d=s.stroke,m=s.travellerWidth,h=Math.min(n,o)+m,p=Math.max(Math.abs(o-n)-m,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:c,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,o=n.startIndex,s=n.endIndex,c=n.y,u=n.height,d=n.travellerWidth,m=n.stroke,h=this.state,p=h.startX,v=h.endX,b=5,w={pointerEvents:"none",fill:m};return Z.createElement(Tt,{className:"recharts-brush-texts"},Z.createElement(hi,kf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-b,y:c+u/2},w),this.getTextOfTick(o)),Z.createElement(hi,kf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+d+b,y:c+u/2},w),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,o=n.data,s=n.className,c=n.children,u=n.x,d=n.y,m=n.width,h=n.height,p=n.alwaysShowText,v=this.state,b=v.startX,w=v.endX,y=v.isTextActive,x=v.isSlideMoving,N=v.isTravellerMoving,A=v.isTravellerFocused;if(!o||!o.length||!Re(u)||!Re(d)||!Re(m)||!Re(h)||m<=0||h<=0)return null;var E=vt("recharts-brush",s),_=Z.Children.count(c)===1,P=XU("userSelect","none");return Z.createElement(Tt,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(y||x||N||A||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var o=n.x,s=n.y,c=n.width,u=n.height,d=n.stroke,m=Math.floor(s+u/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:o,y:s,width:c,height:u,fill:d,stroke:"none"}),Z.createElement("line",{x1:o+1,y1:m,x2:o+c-1,y2:m,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:o+1,y1:m+2,x2:o+c-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,o){var s;return Z.isValidElement(n)?s=Z.cloneElement(n,o):mt(n)?s=n(o):s=t.renderDefaultTraveller(o),s}},{key:"getDerivedStateFromProps",value:function(n,o){var s=n.data,c=n.width,u=n.x,d=n.travellerWidth,m=n.updateId,h=n.startIndex,p=n.endIndex;if(s!==o.prevData||m!==o.prevUpdateId)return ty({prevData:s,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c},s&&s.length?aW({data:s,width:c,x:u,travellerWidth:d,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(o.scale&&(c!==o.prevWidth||u!==o.prevX||d!==o.prevTravellerWidth)){o.scale.range([u,u+c-d]);var v=o.scale.domain().map(function(b){return o.scale(b)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c,startX:o.scale(n.startIndex),endX:o.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,o){for(var s=n.length,c=0,u=s-1;u-c>1;){var d=Math.floor((c+u)/2);n[d]>o?u=d:c=d}return o>=n[u]?u:c}}])})(C.PureComponent);mn(Ls,"displayName","Brush");mn(Ls,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ry,wO;function oW(){if(wO)return ry;wO=1;var e=zb();function t(r,n){var o;return e(r,function(s,c,u){return o=n(s,c,u),!o}),!!o}return ry=t,ry}var ny,NO;function iW(){if(NO)return ny;NO=1;var e=Bk(),t=ma(),r=oW(),n=sn(),o=im();function s(c,u,d){var m=n(c)?e:r;return d&&o(c,u,d)&&(u=void 0),m(c,t(u,3))}return ny=s,ny}var sW=iW();const lW=qt(sW);var la=function(t,r){var n=t.alwaysShow,o=t.ifOverflow;return n&&(o="extendDomain"),o===r},ay,SO;function cW(){if(SO)return ay;SO=1;var e=o_();function t(r,n,o){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}return ay=t,ay}var oy,CO;function uW(){if(CO)return oy;CO=1;var e=cW(),t=n_(),r=ma();function n(o,s){var c={};return s=r(s,3),t(o,function(u,d,m){e(c,d,s(u,d,m))}),c}return oy=n,oy}var dW=uW();const fW=qt(dW);var iy,EO;function mW(){if(EO)return iy;EO=1;function e(t,r){for(var n=-1,o=t==null?0:t.length;++n<o;)if(!r(t[n],n,t))return!1;return!0}return iy=e,iy}var sy,PO;function pW(){if(PO)return sy;PO=1;var e=zb();function t(r,n){var o=!0;return e(r,function(s,c,u){return o=!!n(s,c,u),o}),o}return sy=t,sy}var ly,OO;function hW(){if(OO)return ly;OO=1;var e=mW(),t=pW(),r=ma(),n=sn(),o=im();function s(c,u,d){var m=n(c)?e:t;return d&&o(c,u,d)&&(u=void 0),m(c,r(u,3))}return ly=s,ly}var gW=hW();const HI=qt(gW);var vW=["x","y"];function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){yW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yW(e,t,r){return t=xW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=bW(e,"string");return Wc(t)=="symbol"?t:t+""}function bW(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jW(e,t){if(e==null)return{};var r=wW(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NW(e,t){var r=e.x,n=e.y,o=jW(e,vW),s="".concat(r),c=parseInt(s,10),u="".concat(n),d=parseInt(u,10),m="".concat(t.height||o.height),h=parseInt(m,10),p="".concat(t.width||o.width),v=parseInt(p,10);return Jl(Jl(Jl(Jl(Jl({},t),o),c?{x:c}:{}),d?{y:d}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function kO(e){return Z.createElement(zI,Ux({shapeType:"rectangle",propTransformer:NW,activeClassName:"recharts-active-bar"},e))}var SW=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,o){if(typeof t=="number")return t;var s=Re(n)||HM(n);return s?t(n,o):(s||vi(),r)}},CW=["value","background"],GI;function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function EW(e,t){if(e==null)return{};var r=PW(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JI(n.key),n)}}function AW(e,t,r){return t&&IO(e.prototype,t),r&&IO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kW(e,t,r){return t=Tf(t),_W(e,KI()?Reflect.construct(t,r||[],Tf(e).constructor):t.apply(e,r))}function _W(e,t){if(t&&(zs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IW(e)}function IW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KI=function(){return!!e})()}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tf(e)}function TW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wx(e,t)}function Wx(e,t){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Wx(e,t)}function bo(e,t,r){return t=JI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JI(e){var t=DW(e,"string");return zs(t)=="symbol"?t:t+""}function DW(e,t){if(zs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ci=(function(e){function t(){var r;OW(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return r=kW(this,t,[].concat(o)),bo(r,"state",{isAnimationFinished:!1}),bo(r,"id",Qs("recharts-bar-")),bo(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),bo(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return TW(t,e),AW(t,[{key:"renderRectanglesStatically",value:function(n){var o=this,s=this.props,c=s.shape,u=s.dataKey,d=s.activeIndex,m=s.activeBar,h=lt(this.props,!1);return n&&n.map(function(p,v){var b=v===d,w=b?m:c,y=mr(mr(mr({},h),p),{},{isActive:b,option:w,index:v,dataKey:u,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return Z.createElement(Tt,If({className:"recharts-bar-rectangle"},pi(o.props,p,v),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(v)}),Z.createElement(kO,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,o=this.props,s=o.data,c=o.layout,u=o.isAnimationActive,d=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,v=this.state.prevData;return Z.createElement(ua,{begin:d,duration:m,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,y=s.map(function(x,N){var A=v&&v[N];if(A){var E=gn(A.x,x.x),_=gn(A.y,x.y),P=gn(A.width,x.width),k=gn(A.height,x.height);return mr(mr({},x),{},{x:E(w),y:_(w),width:P(w),height:k(w)})}if(c==="horizontal"){var O=gn(0,x.height),L=O(w);return mr(mr({},x),{},{y:x.y+x.height-L,height:L})}var T=gn(0,x.width),M=T(w);return mr(mr({},x),{},{width:M})});return Z.createElement(Tt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,o=n.data,s=n.isAnimationActive,c=this.state.prevData;return s&&o&&o.length&&(!c||!su(c,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var n=this,o=this.props,s=o.data,c=o.dataKey,u=o.activeIndex,d=lt(this.props.background,!1);return s.map(function(m,h){m.value;var p=m.background,v=EW(m,CW);if(!p)return null;var b=mr(mr(mr(mr(mr({},v),{},{fill:"#eee"},p),d),pi(n.props,m,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:h,className:"recharts-bar-background-rectangle"});return Z.createElement(kO,If({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(n,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,u=s.xAxis,d=s.yAxis,m=s.layout,h=s.children,p=xn(h,lu);if(!p)return null;var v=m==="vertical"?c[0].height/2:c[0].width/2,b=function(x,N){var A=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:A,errorVal:br(x,N)}},w={clipPath:n?"url(#clipPath-".concat(o,")"):null};return Z.createElement(Tt,w,p.map(function(y){return Z.cloneElement(y,{key:"error-bar-".concat(o,"-").concat(y.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,o=n.hide,s=n.data,c=n.className,u=n.xAxis,d=n.yAxis,m=n.left,h=n.top,p=n.width,v=n.height,b=n.isAnimationActive,w=n.background,y=n.id;if(o||!s||!s.length)return null;var x=this.state.isAnimationFinished,N=vt("recharts-bar",c),A=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,_=A||E,P=ht(y)?this.id:y;return Z.createElement(Tt,{className:N},A||E?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(P)},Z.createElement("rect",{x:A?m:m-p/2,y:E?h:h-v/2,width:A?p:p*2,height:E?v:v*2}))):null,Z.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(P,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,P),(!b||x)&&Ma.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,o){return n.animationId!==o.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:o.curData}:n.data!==o.curData?{curData:n.data}:null}}])})(C.PureComponent);GI=Ci;bo(Ci,"displayName","Bar");bo(Ci,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ji.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bo(Ci,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,o=e.bandSize,s=e.xAxis,c=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,m=e.stackedData,h=e.dataStartIndex,p=e.displayedData,v=e.offset,b=s9(n,r);if(!b)return null;var w=t.layout,y=r.type.defaultProps,x=y!==void 0?mr(mr({},y),r.props):r.props,N=x.dataKey,A=x.children,E=x.minPointSize,_=w==="horizontal"?c:s,P=m?_.scale.domain():null,k=p9({numericAxis:_}),O=xn(A,sm),L=p.map(function(T,M){var I,V,z,B,D,G;m?I=l9(m[h+M],P):(I=br(T,N),Array.isArray(I)||(I=[k,I]));var te=SW(E,GI.defaultProps.minPointSize)(I[1],M);if(w==="horizontal"){var R,Y=[c.scale(I[0]),c.scale(I[1])],U=Y[0],F=Y[1];V=nP({axis:s,ticks:u,bandSize:o,offset:b.offset,entry:T,index:M}),z=(R=F??U)!==null&&R!==void 0?R:void 0,B=b.size;var W=U-F;if(D=Number.isNaN(W)?0:W,G={x:V,y:c.y,width:B,height:c.height},Math.abs(te)>0&&Math.abs(D)<Math.abs(te)){var ce=Wr(D||te)*(Math.abs(te)-Math.abs(D));z-=ce,D+=ce}}else{var ie=[s.scale(I[0]),s.scale(I[1])],K=ie[0],pe=ie[1];if(V=K,z=nP({axis:c,ticks:d,bandSize:o,offset:b.offset,entry:T,index:M}),B=pe-K,D=b.size,G={x:s.x,y:z,width:s.width,height:D},Math.abs(te)>0&&Math.abs(B)<Math.abs(te)){var me=Wr(B||te)*(Math.abs(te)-Math.abs(B));B+=me}}return mr(mr(mr({},T),{},{x:V,y:z,width:B,height:D,value:m?I:I[1],payload:T,background:G},O&&O[M]&&O[M].props),{},{tooltipPayload:[jI(r,T)],tooltipPosition:{x:V+B/2,y:z+D/2}})});return mr({data:L,layout:w},v)});function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function $W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XI(n.key),n)}}function MW(e,t,r){return t&&TO(e.prototype,t),r&&TO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){Em(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Em(e,t,r){return t=XI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XI(e){var t=RW(e,"string");return Hc(t)=="symbol"?t:t+""}function RW(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YI=function(t,r,n,o,s){var c=t.width,u=t.height,d=t.layout,m=t.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!pn(m,Ci);return h.reduce(function(b,w){var y=r[w],x=y.orientation,N=y.domain,A=y.padding,E=A===void 0?{}:A,_=y.mirror,P=y.reversed,k="".concat(x).concat(_?"Mirror":""),O,L,T,M,I;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var V=N[1]-N[0],z=1/0,B=y.categoricalDomain.sort(JM);if(B.forEach(function(ie,K){K>0&&(z=Math.min((ie||0)-(B[K-1]||0),z))}),Number.isFinite(z)){var D=z/V,G=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(O=D*G/2),y.padding==="no-gap"){var te=Hr(t.barCategoryGap,D*G),R=D*G/2;O=R-te-(R-te)/G*te}}}o==="xAxis"?L=[n.left+(E.left||0)+(O||0),n.left+n.width-(E.right||0)-(O||0)]:o==="yAxis"?L=d==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(O||0),n.top+n.height-(E.bottom||0)-(O||0)]:L=y.range,P&&(L=[L[1],L[0]]);var Y=vI(y,s,v),U=Y.scale,F=Y.realScaleType;U.domain(N).range(L),yI(U);var W=xI(U,Un(Un({},y),{},{realScaleType:F}));o==="xAxis"?(I=x==="top"&&!_||x==="bottom"&&_,T=n.left,M=p[k]-I*y.height):o==="yAxis"&&(I=x==="left"&&!_||x==="right"&&_,T=p[k]-I*y.width,M=n.top);var ce=Un(Un(Un({},y),W),{},{realScaleType:F,x:T,y:M,scale:U,width:o==="xAxis"?n.width:y.width,height:o==="yAxis"?n.height:y.height});return ce.bandSize=gf(ce,W),!y.hide&&o==="xAxis"?p[k]+=(I?-1:1)*ce.height:y.hide||(p[k]+=(I?-1:1)*ce.width),Un(Un({},b),{},Em({},w,ce))},{})},ZI=function(t,r){var n=t.x,o=t.y,s=r.x,c=r.y;return{x:Math.min(n,s),y:Math.min(o,c),width:Math.abs(s-n),height:Math.abs(c-o)}},LW=function(t){var r=t.x1,n=t.y1,o=t.x2,s=t.y2;return ZI({x:r,y:n},{x:o,y:s})},QI=(function(){function e(t){$W(this,e),this.scale=t}return MW(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(o){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),o=n[0],s=n[n.length-1];return o<=s?r>=o&&r<=s:r>=s&&r<=o}}],[{key:"create",value:function(r){return new e(r)}}])})();Em(QI,"EPS",1e-4);var pj=function(t){var r=Object.keys(t).reduce(function(n,o){return Un(Un({},n),{},Em({},o,QI.create(t[o])))},{});return Un(Un({},r),{},{apply:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,u=s.position;return fW(o,function(d,m){return r[m].apply(d,{bandAware:c,position:u})})},isInRange:function(o){return HI(o,function(s,c){return r[c].isInRange(s)})}})};function zW(e){return(e%180+180)%180}var FW=function(t){var r=t.width,n=t.height,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=zW(o),c=s*Math.PI/180,u=Math.atan(n/r),d=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(d)},cy,$O;function BW(){if($O)return cy;$O=1;var e=ma(),t=ru(),r=am();function n(o){return function(s,c,u){var d=Object(s);if(!t(s)){var m=e(c,3);s=r(s),c=function(p){return m(d[p],p,d)}}var h=o(s,c,u);return h>-1?d[m?s[h]:h]:void 0}}return cy=n,cy}var uy,MO;function VW(){if(MO)return uy;MO=1;var e=VI();function t(r){var n=e(r),o=n%1;return n===n?o?n-o:n:0}return uy=t,uy}var dy,RO;function qW(){if(RO)return dy;RO=1;var e=Zk(),t=ma(),r=VW(),n=Math.max;function o(s,c,u){var d=s==null?0:s.length;if(!d)return-1;var m=u==null?0:r(u);return m<0&&(m=n(d+m,0)),e(s,t(c,3),m)}return dy=o,dy}var fy,LO;function UW(){if(LO)return fy;LO=1;var e=BW(),t=qW(),r=e(t);return fy=r,fy}var WW=UW();const HW=qt(WW);var GW=pk();const KW=qt(GW);var JW=KW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hj=C.createContext(void 0),gj=C.createContext(void 0),eT=C.createContext(void 0),tT=C.createContext({}),rT=C.createContext(void 0),nT=C.createContext(0),aT=C.createContext(0),zO=function(t){var r=t.state,n=r.xAxisMap,o=r.yAxisMap,s=r.offset,c=t.clipPathId,u=t.children,d=t.width,m=t.height,h=JW(s);return Z.createElement(hj.Provider,{value:n},Z.createElement(gj.Provider,{value:o},Z.createElement(tT.Provider,{value:s},Z.createElement(eT.Provider,{value:h},Z.createElement(rT.Provider,{value:c},Z.createElement(nT.Provider,{value:m},Z.createElement(aT.Provider,{value:d},u)))))))},XW=function(){return C.useContext(rT)},oT=function(t){var r=C.useContext(hj);r==null&&vi();var n=r[t];return n==null&&vi(),n},YW=function(){var t=C.useContext(hj);return xo(t)},ZW=function(){var t=C.useContext(gj),r=HW(t,function(n){return HI(n.domain,Number.isFinite)});return r||xo(t)},iT=function(t){var r=C.useContext(gj);r==null&&vi();var n=r[t];return n==null&&vi(),n},QW=function(){var t=C.useContext(eT);return t},eH=function(){return C.useContext(tT)},vj=function(){return C.useContext(aT)},yj=function(){return C.useContext(nT)};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function tH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lT(n.key),n)}}function nH(e,t,r){return t&&rH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aH(e,t,r){return t=Df(t),oH(e,sT()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function oH(e,t){if(t&&(Fs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iH(e)}function iH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sT=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function sH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Hx(e,t)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xj(e,t,r){return t=lT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(e){var t=lH(e,"string");return Fs(t)=="symbol"?t:t+""}function lH(e,t){if(Fs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cH(e,t){return mH(e)||fH(e,t)||dH(e,t)||uH()}function uH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e,t){if(e){if(typeof e=="string")return VO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VO(e,t)}}function VO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function mH(e){if(Array.isArray(e))return e}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}var pH=function(t,r){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,r):mt(t)?n=t(r):n=Z.createElement("line",Gx({},r,{className:"recharts-reference-line-line"})),n},hH=function(t,r,n,o,s,c,u,d,m){var h=s.x,p=s.y,v=s.width,b=s.height;if(n){var w=m.y,y=t.y.apply(w,{position:c});if(la(m,"discard")&&!t.y.isInRange(y))return null;var x=[{x:h+v,y},{x:h,y}];return d==="left"?x.reverse():x}if(r){var N=m.x,A=t.x.apply(N,{position:c});if(la(m,"discard")&&!t.x.isInRange(A))return null;var E=[{x:A,y:p+b},{x:A,y:p}];return u==="top"?E.reverse():E}if(o){var _=m.segment,P=_.map(function(k){return t.apply(k,{position:c})});return la(m,"discard")&&lW(P,function(k){return!t.isInRange(k)})?null:P}return null};function gH(e){var t=e.x,r=e.y,n=e.segment,o=e.xAxisId,s=e.yAxisId,c=e.shape,u=e.className,d=e.alwaysShow,m=XW(),h=oT(o),p=iT(s),v=QW();if(!m||!v)return null;Kn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=pj({x:h.scale,y:p.scale}),w=jr(t),y=jr(r),x=n&&n.length===2,N=hH(b,w,y,x,v,e.position,h.orientation,p.orientation,e);if(!N)return null;var A=cH(N,2),E=A[0],_=E.x,P=E.y,k=A[1],O=k.x,L=k.y,T=la(e,"hidden")?"url(#".concat(m,")"):void 0,M=BO(BO({clipPath:T},lt(e,!0)),{},{x1:_,y1:P,x2:O,y2:L});return Z.createElement(Tt,{className:vt("recharts-reference-line",u)},pH(c,M),Or.renderCallByParent(e,LW({x1:_,y1:P,x2:O,y2:L})))}var bj=(function(e){function t(){return tH(this,t),aH(this,t,arguments)}return sH(t,e),nH(t,[{key:"render",value:function(){return Z.createElement(gH,this.props)}}])})(Z.Component);xj(bj,"displayName","ReferenceLine");xj(bj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function UO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){Pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uT(n.key),n)}}function xH(e,t,r){return t&&yH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bH(e,t,r){return t=$f(t),jH(e,cT()?Reflect.construct(t,r||[],$f(e).constructor):t.apply(e,r))}function jH(e,t){if(t&&(Bs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wH(e)}function wH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cT=function(){return!!e})()}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$f(e)}function NH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jx(e,t)}function Jx(e,t){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Jx(e,t)}function Pm(e,t,r){return t=uT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uT(e){var t=SH(e,"string");return Bs(t)=="symbol"?t:t+""}function SH(e,t){if(Bs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CH=function(t){var r=t.x,n=t.y,o=t.xAxis,s=t.yAxis,c=pj({x:o.scale,y:s.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return la(t,"discard")&&!c.isInRange(u)?null:u},Om=(function(e){function t(){return vH(this,t),bH(this,t,arguments)}return NH(t,e),xH(t,[{key:"render",value:function(){var n=this.props,o=n.x,s=n.y,c=n.r,u=n.alwaysShow,d=n.clipPathId,m=jr(o),h=jr(s);if(Kn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!h)return null;var p=CH(this.props);if(!p)return null;var v=p.x,b=p.y,w=this.props,y=w.shape,x=w.className,N=la(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=UO(UO({clipPath:N},lt(this.props,!0)),{},{cx:v,cy:b});return Z.createElement(Tt,{className:vt("recharts-reference-dot",x)},t.renderDot(y,A),Or.renderCallByParent(this.props,{x:v-c,y:b-c,width:2*c,height:2*c}))}}])})(Z.Component);Pm(Om,"displayName","ReferenceDot");Pm(Om,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pm(Om,"renderDot",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):mt(e)?r=e(t):r=Z.createElement(xm,Kx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(this,arguments)}function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function HO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Am(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fT(n.key),n)}}function OH(e,t,r){return t&&PH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AH(e,t,r){return t=Mf(t),kH(e,dT()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function kH(e,t){if(t&&(Vs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _H(e)}function _H(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dT=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function IH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Yx(e,t)}function Am(e,t,r){return t=fT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fT(e){var t=TH(e,"string");return Vs(t)=="symbol"?t:t+""}function TH(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DH=function(t,r,n,o,s){var c=s.x1,u=s.x2,d=s.y1,m=s.y2,h=s.xAxis,p=s.yAxis;if(!h||!p)return null;var v=pj({x:h.scale,y:p.scale}),b={x:t?v.x.apply(c,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},w={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:o?v.y.apply(m,{position:"end"}):v.y.rangeMax};return la(s,"discard")&&(!v.isInRange(b)||!v.isInRange(w))?null:ZI(b,w)},km=(function(e){function t(){return EH(this,t),AH(this,t,arguments)}return IH(t,e),OH(t,[{key:"render",value:function(){var n=this.props,o=n.x1,s=n.x2,c=n.y1,u=n.y2,d=n.className,m=n.alwaysShow,h=n.clipPathId;Kn(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=jr(o),v=jr(s),b=jr(c),w=jr(u),y=this.props.shape;if(!p&&!v&&!b&&!w&&!y)return null;var x=DH(p,v,b,w,this.props);if(!x&&!y)return null;var N=la(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Z.createElement(Tt,{className:vt("recharts-reference-area",d)},t.renderRect(y,HO(HO({clipPath:N},lt(this.props,!0)),x)),Or.renderCallByParent(this.props,x))}}])})(Z.Component);Am(km,"displayName","ReferenceArea");Am(km,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Am(km,"renderRect",function(e,t){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,t):mt(e)?r=e(t):r=Z.createElement(mj,Xx({},t,{className:"recharts-reference-area-rect"})),r});function mT(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],o=0;o<e.length;o+=t)n.push(e[o]);return n}function $H(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return FW(n,r)}function MH(e,t,r){var n=r==="width",o=e.x,s=e.y,c=e.width,u=e.height;return t===1?{start:n?o:s,end:n?o+c:s+u}:{start:n?o+c:s+u,end:n?o:s}}function Rf(e,t,r,n,o){if(e*t<e*n||e*t>e*o)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-o)<=0}function RH(e,t){return mT(e,t+1)}function LH(e,t,r,n,o){for(var s=(n||[]).slice(),c=t.start,u=t.end,d=0,m=1,h=c,p=function(){var w=n?.[d];if(w===void 0)return{v:mT(n,m)};var y=d,x,N=function(){return x===void 0&&(x=r(w,y)),x},A=w.coordinate,E=d===0||Rf(e,A,N,h,u);E||(d=0,h=c,m+=1),E&&(h=A+e*(N()/2+o),d+=m)},v;m<=s.length;)if(v=p(),v)return v.v;return[]}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=BH(e,"string");return Gc(t)=="symbol"?t:t+""}function BH(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VH(e,t,r,n,o){for(var s=(n||[]).slice(),c=s.length,u=t.start,d=t.end,m=function(v){var b=s[v],w,y=function(){return w===void 0&&(w=r(b,v)),w};if(v===c-1){var x=e*(b.coordinate+e*y()/2-d);s[v]=b=Br(Br({},b),{},{tickCoord:x>0?b.coordinate-x*e:b.coordinate})}else s[v]=b=Br(Br({},b),{},{tickCoord:b.coordinate});var N=Rf(e,b.tickCoord,y,u,d);N&&(d=b.tickCoord-e*(y()/2+o),s[v]=Br(Br({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return s}function qH(e,t,r,n,o,s){var c=(n||[]).slice(),u=c.length,d=t.start,m=t.end;if(s){var h=n[u-1],p=r(h,u-1),v=e*(h.coordinate+e*p/2-m);c[u-1]=h=Br(Br({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var b=Rf(e,h.tickCoord,function(){return p},d,m);b&&(m=h.tickCoord-e*(p/2+o),c[u-1]=Br(Br({},h),{},{isShow:!0}))}for(var w=s?u-1:u,y=function(A){var E=c[A],_,P=function(){return _===void 0&&(_=r(E,A)),_};if(A===0){var k=e*(E.coordinate-e*P()/2-d);c[A]=E=Br(Br({},E),{},{tickCoord:k<0?E.coordinate-k*e:E.coordinate})}else c[A]=E=Br(Br({},E),{},{tickCoord:E.coordinate});var O=Rf(e,E.tickCoord,P,d,m);O&&(d=E.tickCoord+e*(P()/2+o),c[A]=Br(Br({},E),{},{isShow:!0}))},x=0;x<w;x++)y(x);return c}function jj(e,t,r){var n=e.tick,o=e.ticks,s=e.viewBox,c=e.minTickGap,u=e.orientation,d=e.interval,m=e.tickFormatter,h=e.unit,p=e.angle;if(!o||!o.length||!n)return[];if(Re(d)||ji.isSsr)return RH(o,typeof d=="number"&&Re(d)?d:0);var v=[],b=u==="top"||u==="bottom"?"width":"height",w=h&&b==="width"?sc(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(E,_){var P=mt(m)?m(E.value,_):E.value;return b==="width"?$H(sc(P,{fontSize:t,letterSpacing:r}),w,p):sc(P,{fontSize:t,letterSpacing:r})[b]},x=o.length>=2?Wr(o[1].coordinate-o[0].coordinate):1,N=MH(s,x,b);return d==="equidistantPreserveStart"?LH(x,N,y,o,c):(d==="preserveStart"||d==="preserveStartEnd"?v=qH(x,N,y,o,c,d==="preserveStartEnd"):v=VH(x,N,y,o,c),v.filter(function(A){return A.isShow}))}var UH=["viewBox"],WH=["viewBox"],HH=["ticks"];function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){wj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function my(e,t){if(e==null)return{};var r=GH(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hT(n.key),n)}}function JH(e,t,r){return t&&JO(e.prototype,t),r&&JO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XH(e,t,r){return t=Lf(t),YH(e,pT()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function YH(e,t){if(t&&(qs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZH(e)}function ZH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pT=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function QH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zx(e,t)}function Zx(e,t){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Zx(e,t)}function wj(e,t,r){return t=hT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hT(e){var t=eG(e,"string");return qs(t)=="symbol"?t:t+""}function eG(e,t){if(qs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var al=(function(e){function t(r){var n;return KH(this,t),n=XH(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return QH(t,e),JH(t,[{key:"shouldComponentUpdate",value:function(n,o){var s=n.viewBox,c=my(n,UH),u=this.props,d=u.viewBox,m=my(u,WH);return!vs(s,d)||!vs(c,m)||!vs(o,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var o=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var o=this.props,s=o.x,c=o.y,u=o.width,d=o.height,m=o.orientation,h=o.tickSize,p=o.mirror,v=o.tickMargin,b,w,y,x,N,A,E=p?-1:1,_=n.tickSize||h,P=Re(n.tickCoord)?n.tickCoord:n.coordinate;switch(m){case"top":b=w=n.coordinate,x=c+ +!p*d,y=x-E*_,A=y-E*v,N=P;break;case"left":y=x=n.coordinate,w=s+ +!p*u,b=w-E*_,N=b-E*v,A=P;break;case"right":y=x=n.coordinate,w=s+ +p*u,b=w+E*_,N=b+E*v,A=P;break;default:b=w=n.coordinate,x=c+ +p*d,y=x+E*_,A=y+E*v,N=P;break}return{line:{x1:b,y1:y,x2:w,y2:x},tick:{x:N,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,o=n.orientation,s=n.mirror,c;switch(o){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,o=n.orientation,s=n.mirror,c="end";switch(o){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,o=n.x,s=n.y,c=n.width,u=n.height,d=n.orientation,m=n.mirror,h=n.axisLine,p=vr(vr(vr({},lt(this.props,!1)),lt(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!m||d==="bottom"&&m);p=vr(vr({},p),{},{x1:o,y1:s+v*u,x2:o+c,y2:s+v*u})}else{var b=+(d==="left"&&!m||d==="right"&&m);p=vr(vr({},p),{},{x1:o+b*c,y1:s,x2:o+b*c,y2:s+u})}return Z.createElement("line",fs({},p,{className:vt("recharts-cartesian-axis-line",yn(h,"className"))}))}},{key:"renderTicks",value:function(n,o,s){var c=this,u=this.props,d=u.tickLine,m=u.stroke,h=u.tick,p=u.tickFormatter,v=u.unit,b=jj(vr(vr({},this.props),{},{ticks:n}),o,s),w=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=lt(this.props,!1),N=lt(h,!1),A=vr(vr({},x),{},{fill:"none"},lt(d,!1)),E=b.map(function(_,P){var k=c.getTickLineCoord(_),O=k.line,L=k.tick,T=vr(vr(vr(vr({textAnchor:w,verticalAnchor:y},x),{},{stroke:"none",fill:m},N),L),{},{index:P,payload:_,visibleTicksCount:b.length,tickFormatter:p});return Z.createElement(Tt,fs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},pi(c.props,_,P)),d&&Z.createElement("line",fs({},A,O,{className:vt("recharts-cartesian-axis-tick-line",yn(d,"className"))})),h&&t.renderTickItem(h,T,"".concat(mt(p)?p(_.value,P):_.value).concat(v||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,o=this.props,s=o.axisLine,c=o.width,u=o.height,d=o.ticksGenerator,m=o.className,h=o.hide;if(h)return null;var p=this.props,v=p.ticks,b=my(p,HH),w=v;return mt(d)&&(w=v&&v.length>0?d(this.props):d(b)),c<=0||u<=0||!w||!w.length?null:Z.createElement(Tt,{className:vt("recharts-cartesian-axis",m),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,o,s){var c,u=vt(o.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(n)?c=Z.cloneElement(n,vr(vr({},o),{},{className:u})):mt(n)?c=n(vr(vr({},o),{},{className:u})):c=Z.createElement(hi,fs({},o,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(C.Component);wj(al,"displayName","CartesianAxis");wj(al,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tG=["x1","y1","x2","y2","key"],rG=["offset"];function yi(e){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){nG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nG(e,t,r){return t=aG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=oG(e,"string");return yi(t)=="symbol"?t:t+""}function oG(e,t){if(yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function YO(e,t){if(e==null)return{};var r=iG(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sG=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,o=t.x,s=t.y,c=t.width,u=t.height,d=t.ry;return Z.createElement("rect",{x:o,y:s,ry:d,width:c,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function gT(e,t){var r;if(Z.isValidElement(e))r=Z.cloneElement(e,t);else if(mt(e))r=e(t);else{var n=t.x1,o=t.y1,s=t.x2,c=t.y2,u=t.key,d=YO(t,tG),m=lt(d,!1);m.offset;var h=YO(m,rG);r=Z.createElement("line",ci({},h,{x1:n,y1:o,x2:s,y2:c,fill:"none",key:u}))}return r}function lG(e){var t=e.x,r=e.width,n=e.horizontal,o=n===void 0?!0:n,s=e.horizontalPoints;if(!o||!s||!s.length)return null;var c=s.map(function(u,d){var m=Vr(Vr({},e),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return gT(o,m)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function cG(e){var t=e.y,r=e.height,n=e.vertical,o=n===void 0?!0:n,s=e.verticalPoints;if(!o||!s||!s.length)return null;var c=s.map(function(u,d){var m=Vr(Vr({},e),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return gT(o,m)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function uG(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,o=e.y,s=e.width,c=e.height,u=e.horizontalPoints,d=e.horizontal,m=d===void 0?!0:d;if(!m||!t||!t.length)return null;var h=u.map(function(v){return Math.round(v+o-o)}).sort(function(v,b){return v-b});o!==h[0]&&h.unshift(0);var p=h.map(function(v,b){var w=!h[b+1],y=w?o+c-v:h[b+1]-v;if(y<=0)return null;var x=b%t.length;return Z.createElement("rect",{key:"react-".concat(b),y:v,x:n,height:y,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function dG(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,o=e.fillOpacity,s=e.x,c=e.y,u=e.width,d=e.height,m=e.verticalPoints;if(!r||!n||!n.length)return null;var h=m.map(function(v){return Math.round(v+s-s)}).sort(function(v,b){return v-b});s!==h[0]&&h.unshift(0);var p=h.map(function(v,b){var w=!h[b+1],y=w?s+u-v:h[b+1]-v;if(y<=0)return null;var x=b%n.length;return Z.createElement("rect",{key:"react-".concat(b),x:v,y:c,width:y,height:d,stroke:"none",fill:n[x],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var fG=function(t,r){var n=t.xAxis,o=t.width,s=t.height,c=t.offset;return gI(jj(Vr(Vr(Vr({},al.defaultProps),n),{},{ticks:Ta(n,!0),viewBox:{x:0,y:0,width:o,height:s}})),c.left,c.left+c.width,r)},mG=function(t,r){var n=t.yAxis,o=t.width,s=t.height,c=t.offset;return gI(jj(Vr(Vr(Vr({},al.defaultProps),n),{},{ticks:Ta(n,!0),viewBox:{x:0,y:0,width:o,height:s}})),c.top,c.top+c.height,r)},Qi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qx(e){var t,r,n,o,s,c,u=vj(),d=yj(),m=eH(),h=Vr(Vr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qi.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qi.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qi.horizontal,horizontalFill:(o=e.horizontalFill)!==null&&o!==void 0?o:Qi.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Qi.vertical,verticalFill:(c=e.verticalFill)!==null&&c!==void 0?c:Qi.verticalFill,x:Re(e.x)?e.x:m.left,y:Re(e.y)?e.y:m.top,width:Re(e.width)?e.width:m.width,height:Re(e.height)?e.height:m.height}),p=h.x,v=h.y,b=h.width,w=h.height,y=h.syncWithTicks,x=h.horizontalValues,N=h.verticalValues,A=YW(),E=ZW();if(!Re(b)||b<=0||!Re(w)||w<=0||!Re(p)||p!==+p||!Re(v)||v!==+v)return null;var _=h.verticalCoordinatesGenerator||fG,P=h.horizontalCoordinatesGenerator||mG,k=h.horizontalPoints,O=h.verticalPoints;if((!k||!k.length)&&mt(P)){var L=x&&x.length,T=P({yAxis:E?Vr(Vr({},E),{},{ticks:L?x:E.ticks}):void 0,width:u,height:d,offset:m},L?!0:y);Kn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yi(T),"]")),Array.isArray(T)&&(k=T)}if((!O||!O.length)&&mt(_)){var M=N&&N.length,I=_({xAxis:A?Vr(Vr({},A),{},{ticks:M?N:A.ticks}):void 0,width:u,height:d,offset:m},M?!0:y);Kn(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yi(I),"]")),Array.isArray(I)&&(O=I)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(sG,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Z.createElement(lG,ci({},h,{offset:m,horizontalPoints:k,xAxis:A,yAxis:E})),Z.createElement(cG,ci({},h,{offset:m,verticalPoints:O,xAxis:A,yAxis:E})),Z.createElement(uG,ci({},h,{horizontalPoints:k})),Z.createElement(dG,ci({},h,{verticalPoints:O})))}Qx.displayName="CartesianGrid";var pG=["type","layout","connectNulls","ref"],hG=["key"];function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}function ZO(e,t){if(e==null)return{};var r=gG(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gG(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mc.apply(this,arguments)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Wn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function es(e){return bG(e)||xG(e)||yG(e)||vG()}function vG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yG(e,t){if(e){if(typeof e=="string")return eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eb(e,t)}}function xG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bG(e){if(Array.isArray(e))return eb(e)}function eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yT(n.key),n)}}function wG(e,t,r){return t&&eA(e.prototype,t),r&&eA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NG(e,t,r){return t=zf(t),SG(e,vT()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function SG(e,t){if(t&&(Us(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CG(e)}function CG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vT=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function EG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tb(e,t)}function tb(e,t){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},tb(e,t)}function Wn(e,t,r){return t=yT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yT(e){var t=PG(e,"string");return Us(t)=="symbol"?t:t+""}function PG(e,t){if(Us(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cu=(function(e){function t(){var r;jG(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return r=NG(this,t,[].concat(o)),Wn(r,"state",{isAnimationFinished:!0,totalLength:0}),Wn(r,"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),Wn(r,"getStrokeDasharray",function(c,u,d){var m=d.reduce(function(N,A){return N+A});if(!m)return r.generateSimpleStrokeDasharray(u,c);for(var h=Math.floor(c/m),p=c%m,v=u-c,b=[],w=0,y=0;w<d.length;y+=d[w],++w)if(y+d[w]>p){b=[].concat(es(d.slice(0,w)),[p-y]);break}var x=b.length%2===0?[0,v]:[v];return[].concat(es(t.repeat(d,h)),es(b),x).map(function(N){return"".concat(N,"px")}).join(", ")}),Wn(r,"id",Qs("recharts-line-")),Wn(r,"pathRef",function(c){r.mainCurve=c}),Wn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Wn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return EG(t,e),wG(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,u=s.xAxis,d=s.yAxis,m=s.layout,h=s.children,p=xn(h,lu);if(!p)return null;var v=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:br(y.payload,x)}},b={clipPath:n?"url(#clipPath-".concat(o,")"):null};return Z.createElement(Tt,b,p.map(function(w){return Z.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,dataPointFormatter:v})}))}},{key:"renderDots",value:function(n,o,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,m=u.points,h=u.dataKey,p=lt(this.props,!1),v=lt(d,!0),b=m.map(function(y,x){var N=fn(fn(fn({key:"dot-".concat(x),r:3},p),v),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:h,payload:y.payload,points:m});return t.renderDotItem(d,N)}),w={clipPath:n?"url(#clipPath-".concat(o?"":"dots-").concat(s,")"):null};return Z.createElement(Tt,mc({className:"recharts-line-dots",key:"dots"},w),b)}},{key:"renderCurveStatically",value:function(n,o,s,c){var u=this.props,d=u.type,m=u.layout,h=u.connectNulls;u.ref;var p=ZO(u,pG),v=fn(fn(fn({},lt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:o?"url(#clipPath-".concat(s,")"):null,points:n},c),{},{type:d,layout:m,connectNulls:h});return Z.createElement(xf,mc({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,o){var s=this,c=this.props,u=c.points,d=c.strokeDasharray,m=c.isAnimationActive,h=c.animationBegin,p=c.animationDuration,v=c.animationEasing,b=c.animationId,w=c.animateNewValues,y=c.width,x=c.height,N=this.state,A=N.prevPoints,E=N.totalLength;return Z.createElement(ua,{begin:h,duration:p,isActive:m,easing:v,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var P=_.t;if(A){var k=A.length/u.length,O=u.map(function(V,z){var B=Math.floor(z*k);if(A[B]){var D=A[B],G=gn(D.x,V.x),te=gn(D.y,V.y);return fn(fn({},V),{},{x:G(P),y:te(P)})}if(w){var R=gn(y*2,V.x),Y=gn(x/2,V.y);return fn(fn({},V),{},{x:R(P),y:Y(P)})}return fn(fn({},V),{},{x:V.x,y:V.y})});return s.renderCurveStatically(O,n,o)}var L=gn(0,E),T=L(P),M;if(d){var I="".concat(d).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});M=s.getStrokeDasharray(T,E,I)}else M=s.generateSimpleStrokeDasharray(E,T);return s.renderCurveStatically(u,n,o,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,o){var s=this.props,c=s.points,u=s.isAnimationActive,d=this.state,m=d.prevPoints,h=d.totalLength;return u&&c&&c.length&&(!m&&h>0||!su(m,c))?this.renderCurveWithAnimation(n,o):this.renderCurveStatically(c,n,o)}},{key:"render",value:function(){var n,o=this.props,s=o.hide,c=o.dot,u=o.points,d=o.className,m=o.xAxis,h=o.yAxis,p=o.top,v=o.left,b=o.width,w=o.height,y=o.isAnimationActive,x=o.id;if(s||!u||!u.length)return null;var N=this.state.isAnimationFinished,A=u.length===1,E=vt("recharts-line",d),_=m&&m.allowDataOverflow,P=h&&h.allowDataOverflow,k=_||P,O=ht(x)?this.id:x,L=(n=lt(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=L.r,M=T===void 0?3:T,I=L.strokeWidth,V=I===void 0?2:I,z=a6(c)?c:{},B=z.clipDot,D=B===void 0?!0:B,G=M*2+V;return Z.createElement(Tt,{className:E},_||P?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(O)},Z.createElement("rect",{x:_?v:v-b/2,y:P?p:p-w/2,width:_?b:b*2,height:P?w:w*2})),!D&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Z.createElement("rect",{x:v-G/2,y:p-G/2,width:b+G,height:w+G}))):null,!A&&this.renderCurve(k,O),this.renderErrorBar(k,O),(A||c)&&this.renderDots(k,D,O),(!y||N)&&Ma.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,o){return n.animationId!==o.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:o.curPoints}:n.points!==o.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,o){for(var s=n.length%2!==0?[].concat(es(n),[0]):n,c=[],u=0;u<o;++u)c=[].concat(es(c),es(s));return c}},{key:"renderDotItem",value:function(n,o){var s;if(Z.isValidElement(n))s=Z.cloneElement(n,o);else if(mt(n))s=n(o);else{var c=o.key,u=ZO(o,hG),d=vt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Z.createElement(xm,mc({key:c},u,{className:d}))}return s}}])})(C.PureComponent);Wn(cu,"displayName","Line");Wn(cu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ji.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Wn(cu,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,c=e.dataKey,u=e.bandSize,d=e.displayedData,m=e.offset,h=t.layout,p=d.map(function(v,b){var w=br(v,c);return h==="horizontal"?{x:rP({axis:r,ticks:o,bandSize:u,entry:v,index:b}),y:ht(w)?null:n.scale(w),value:w,payload:v}:{x:ht(w)?null:r.scale(w),y:rP({axis:n,ticks:s,bandSize:u,entry:v,index:b}),value:w,payload:v}});return fn({points:p,layout:h},m)});function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function OG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jT(n.key),n)}}function kG(e,t,r){return t&&AG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _G(e,t,r){return t=Ff(t),IG(e,xT()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function IG(e,t){if(t&&(Ws(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TG(e)}function TG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xT=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function DG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rb(e,t)}function rb(e,t){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},rb(e,t)}function bT(e,t,r){return t=jT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jT(e){var t=$G(e,"string");return Ws(t)=="symbol"?t:t+""}function $G(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(this,arguments)}function MG(e){var t=e.xAxisId,r=vj(),n=yj(),o=oT(t);return o==null?null:C.createElement(al,nb({},o,{className:vt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return Ta(c,!0)}}))}var Hs=(function(e){function t(){return OG(this,t),_G(this,t,arguments)}return DG(t,e),kG(t,[{key:"render",value:function(){return C.createElement(MG,this.props)}}])})(C.Component);bT(Hs,"displayName","XAxis");bT(Hs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function RG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ST(n.key),n)}}function zG(e,t,r){return t&&LG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FG(e,t,r){return t=Bf(t),BG(e,wT()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function BG(e,t){if(t&&(Gs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VG(e)}function VG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wT=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function qG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ab(e,t)}function ab(e,t){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ab(e,t)}function NT(e,t,r){return t=ST(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ST(e){var t=UG(e,"string");return Gs(t)=="symbol"?t:t+""}function UG(e,t){if(Gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(this,arguments)}var WG=function(t){var r=t.yAxisId,n=vj(),o=yj(),s=iT(r);return s==null?null:C.createElement(al,ob({},s,{className:vt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:o},ticksGenerator:function(u){return Ta(u,!0)}}))},Ks=(function(e){function t(){return RG(this,t),FG(this,t,arguments)}return qG(t,e),zG(t,[{key:"render",value:function(){return C.createElement(WG,this.props)}}])})(C.Component);NT(Ks,"displayName","YAxis");NT(Ks,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tA(e){return JG(e)||KG(e)||GG(e)||HG()}function HG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(e,t){if(e){if(typeof e=="string")return ib(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ib(e,t)}}function KG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JG(e){if(Array.isArray(e))return ib(e)}function ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sb=function(t,r,n,o,s){var c=xn(t,bj),u=xn(t,Om),d=[].concat(tA(c),tA(u)),m=xn(t,km),h="".concat(o,"Id"),p=o[0],v=r;if(d.length&&(v=d.reduce(function(y,x){if(x.props[h]===n&&la(x.props,"extendDomain")&&Re(x.props[p])){var N=x.props[p];return[Math.min(y[0],N),Math.max(y[1],N)]}return y},v)),m.length){var b="".concat(p,"1"),w="".concat(p,"2");v=m.reduce(function(y,x){if(x.props[h]===n&&la(x.props,"extendDomain")&&Re(x.props[b])&&Re(x.props[w])){var N=x.props[b],A=x.props[w];return[Math.min(y[0],N,A),Math.max(y[1],N,A)]}return y},v)}return s&&s.length&&(v=s.reduce(function(y,x){return Re(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},v)),v},py={exports:{}},rA;function XG(){return rA||(rA=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(d,m,h){this.fn=d,this.context=m,this.once=h||!1}function s(d,m,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new o(h,p||d,v),w=r?r+m:m;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function c(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,p;if(this._eventsCount===0)return m;for(p in h=this._events)t.call(h,p)&&m.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=r?r+m:m,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,w=new Array(b);v<b;v++)w[v]=p[v].fn;return w},u.prototype.listenerCount=function(m){var h=r?r+m:m,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(m,h,p,v,b,w){var y=r?r+m:m;if(!this._events[y])return!1;var x=this._events[y],N=arguments.length,A,E;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),N){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,p),!0;case 4:return x.fn.call(x.context,h,p,v),!0;case 5:return x.fn.call(x.context,h,p,v,b),!0;case 6:return x.fn.call(x.context,h,p,v,b,w),!0}for(E=1,A=new Array(N-1);E<N;E++)A[E-1]=arguments[E];x.fn.apply(x.context,A)}else{var _=x.length,P;for(E=0;E<_;E++)switch(x[E].once&&this.removeListener(m,x[E].fn,void 0,!0),N){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,h);break;case 3:x[E].fn.call(x[E].context,h,p);break;case 4:x[E].fn.call(x[E].context,h,p,v);break;default:if(!A)for(P=1,A=new Array(N-1);P<N;P++)A[P-1]=arguments[P];x[E].fn.apply(x[E].context,A)}}return!0},u.prototype.on=function(m,h,p){return s(this,m,h,p,!1)},u.prototype.once=function(m,h,p){return s(this,m,h,p,!0)},u.prototype.removeListener=function(m,h,p,v){var b=r?r+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var w=this._events[b];if(w.fn)w.fn===h&&(!v||w.once)&&(!p||w.context===p)&&c(this,b);else{for(var y=0,x=[],N=w.length;y<N;y++)(w[y].fn!==h||v&&!w[y].once||p&&w[y].context!==p)&&x.push(w[y]);x.length?this._events[b]=x.length===1?x[0]:x:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=r?r+m:m,this._events[h]&&c(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(py)),py.exports}var YG=XG();const ZG=qt(YG);var hy=new ZG,gy="recharts.syncMouseEvents";function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function QG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CT(n.key),n)}}function tK(e,t,r){return t&&eK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vy(e,t,r){return t=CT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CT(e){var t=rK(e,"string");return Kc(t)=="symbol"?t:t+""}function rK(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nK=(function(){function e(){QG(this,e),vy(this,"activeIndex",0),vy(this,"coordinateList",[]),vy(this,"layout","horizontal")}return tK(e,[{key:"setDetails",value:function(r){var n,o=r.coordinateList,s=o===void 0?null:o,c=r.container,u=c===void 0?null:c,d=r.layout,m=d===void 0?null:d,h=r.offset,p=h===void 0?null:h,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=m??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var o=this.container.getBoundingClientRect(),s=o.x,c=o.y,u=o.height,d=this.coordinateList[this.activeIndex].coordinate,m=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+d+m,v=c+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])})();function aK(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],o=e?.[1];if(n&&o&&Re(n)&&Re(o))return!0}return!1}function oK(e,t,r,n){var o=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-o,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ET(e){var t=e.cx,r=e.cy,n=e.radius,o=e.startAngle,s=e.endAngle,c=Xt(t,r,n,o),u=Xt(t,r,n,s);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:o,endAngle:s}}function iK(e,t,r){var n,o,s,c;if(e==="horizontal")n=t.x,s=n,o=r.top,c=r.top+r.height;else if(e==="vertical")o=t.y,c=o,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,m=t.innerRadius,h=t.outerRadius,p=t.angle,v=Xt(u,d,m,p),b=Xt(u,d,h,p);n=v.x,o=v.y,s=b.x,c=b.y}else return ET(t);return[{x:n,y:o},{x:s,y:c}]}function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){sK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sK(e,t,r){return t=lK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=cK(e,"string");return Jc(t)=="symbol"?t:t+""}function cK(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uK(e){var t,r,n=e.element,o=e.tooltipEventType,s=e.isActive,c=e.activeCoordinate,u=e.activePayload,d=e.offset,m=e.activeTooltipIndex,h=e.tooltipAxisBandSize,p=e.layout,v=e.chartName,b=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!s||!c||v!=="ScatterChart"&&o!=="axis")return null;var w,y=xf;if(v==="ScatterChart")w=c,y=Iq;else if(v==="BarChart")w=oK(p,c,d,h),y=mj;else if(p==="radial"){var x=ET(c),N=x.cx,A=x.cy,E=x.radius,_=x.startAngle,P=x.endAngle;w={cx:N,cy:A,startAngle:_,endAngle:P,innerRadius:E,outerRadius:E},y=PI}else w={points:iK(p,c,d)},y=xf;var k=Cd(Cd(Cd(Cd({stroke:"#ccc",pointerEvents:"none"},d),w),lt(b,!1)),{},{payload:u,payloadIndex:m,className:vt("recharts-tooltip-cursor",b.className)});return C.isValidElement(b)?C.cloneElement(b,k):C.createElement(y,k)}var dK=["item"],fK=["children","className","width","height","style","compact","title","desc"];function Js(e){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Js(e)}function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}function aA(e,t){return hK(e)||pK(e,t)||OT(e,t)||mK()}function mK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pK(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(h){m=!0,o=h}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw o}}return u}}function hK(e){if(Array.isArray(e))return e}function oA(e,t){if(e==null)return{};var r=gK(e,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gK(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vK(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AT(n.key),n)}}function xK(e,t,r){return t&&yK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bK(e,t,r){return t=Vf(t),jK(e,PT()?Reflect.construct(t,r||[],Vf(e).constructor):t.apply(e,r))}function jK(e,t){if(t&&(Js(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wK(e)}function wK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PT=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vf(e)}function NK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},lb(e,t)}function Xs(e){return EK(e)||CK(e)||OT(e)||SK()}function SK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OT(e,t){if(e){if(typeof e=="string")return cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cb(e,t)}}function CK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EK(e){if(Array.isArray(e))return cb(e)}function cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ct(e,t,r){return t=AT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AT(e){var t=PK(e,"string");return Js(t)=="symbol"?t:t+""}function PK(e,t){if(Js(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OK={xAxis:["bottom","top"],yAxis:["left","right"]},AK={width:"100%",height:"100%"},kT={x:0,y:0};function Ed(e){return e}var kK=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},_K=function(t,r,n,o){var s=r.find(function(h){return h&&h.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:o.y};if(t==="vertical")return{x:o.x,y:s.coordinate};if(t==="centric"){var c=s.coordinate,u=o.radius;return be(be(be({},o),Xt(o.cx,o.cy,u,c)),{},{angle:c,radius:u})}var d=s.coordinate,m=o.angle;return be(be(be({},o),Xt(o.cx,o.cy,d,m)),{},{angle:m,radius:d})}return kT},_m=function(t,r){var n=r.graphicalItems,o=r.dataStartIndex,s=r.dataEndIndex,c=(n??[]).reduce(function(u,d){var m=d.props.data;return m&&m.length?[].concat(Xs(u),Xs(m)):u},[]);return c.length>0?c:t&&t.length&&Re(o)&&Re(s)?t.slice(o,s+1):[]};function _T(e){return e==="number"?[0,"auto"]:void 0}var ub=function(t,r,n,o){var s=t.graphicalItems,c=t.tooltipAxis,u=_m(r,t);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,m){var h,p=(h=m.props.data)!==null&&h!==void 0?h:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(c.dataKey&&!c.allowDuplicatedCategory){var b=p===void 0?u:p;v=Ud(b,c.dataKey,o)}else v=p&&p[n]||u[n];return v?[].concat(Xs(d),[jI(m,v)]):d},[])},sA=function(t,r,n,o){var s=o||{x:t.chartX,y:t.chartY},c=kK(s,n),u=t.orderedTooltipTicks,d=t.tooltipAxis,m=t.tooltipTicks,h=t9(c,u,m,d);if(h>=0&&m){var p=m[h]&&m[h].value,v=ub(t,r,h,p),b=_K(n,u,h,s);return{activeTooltipIndex:h,activeLabel:p,activePayload:v,activeCoordinate:b}}return null},IK=function(t,r){var n=r.axes,o=r.graphicalItems,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,h=t.layout,p=t.children,v=t.stackOffset,b=hI(h,s);return n.reduce(function(w,y){var x,N=y.type.defaultProps!==void 0?be(be({},y.type.defaultProps),y.props):y.props,A=N.type,E=N.dataKey,_=N.allowDataOverflow,P=N.allowDuplicatedCategory,k=N.scale,O=N.ticks,L=N.includeHidden,T=N[c];if(w[T])return w;var M=_m(t.data,{graphicalItems:o.filter(function(W){var ce,ie=c in W.props?W.props[c]:(ce=W.type.defaultProps)===null||ce===void 0?void 0:ce[c];return ie===T}),dataStartIndex:d,dataEndIndex:m}),I=M.length,V,z,B;aK(N.domain,_,A)&&(V=Nx(N.domain,null,_),b&&(A==="number"||k!=="auto")&&(B=cc(M,E,"category")));var D=_T(A);if(!V||V.length===0){var G,te=(G=N.domain)!==null&&G!==void 0?G:D;if(E){if(V=cc(M,E,A),A==="category"&&b){var R=KM(V);P&&R?(z=V,V=Af(0,I)):P||(V=iP(te,V,y).reduce(function(W,ce){return W.indexOf(ce)>=0?W:[].concat(Xs(W),[ce])},[]))}else if(A==="category")P?V=V.filter(function(W){return W!==""&&!ht(W)}):V=iP(te,V,y).reduce(function(W,ce){return W.indexOf(ce)>=0||ce===""||ht(ce)?W:[].concat(Xs(W),[ce])},[]);else if(A==="number"){var Y=i9(M,o.filter(function(W){var ce,ie,K=c in W.props?W.props[c]:(ce=W.type.defaultProps)===null||ce===void 0?void 0:ce[c],pe="hide"in W.props?W.props.hide:(ie=W.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return K===T&&(L||!pe)}),E,s,h);Y&&(V=Y)}b&&(A==="number"||k!=="auto")&&(B=cc(M,E,"category"))}else b?V=Af(0,I):u&&u[T]&&u[T].hasStack&&A==="number"?V=v==="expand"?[0,1]:bI(u[T].stackGroups,d,m):V=pI(M,o.filter(function(W){var ce=c in W.props?W.props[c]:W.type.defaultProps[c],ie="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return ce===T&&(L||!ie)}),A,h,!0);if(A==="number")V=sb(p,V,T,s,O),te&&(V=Nx(te,V,_));else if(A==="category"&&te){var U=te,F=V.every(function(W){return U.indexOf(W)>=0});F&&(V=U)}}return be(be({},w),{},ct({},T,be(be({},N),{},{axisType:s,domain:V,categoricalDomain:B,duplicateDomain:z,originalDomain:(x=N.domain)!==null&&x!==void 0?x:D,isCategorical:b,layout:h})))},{})},TK=function(t,r){var n=r.graphicalItems,o=r.Axis,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,h=t.layout,p=t.children,v=_m(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:m}),b=v.length,w=hI(h,s),y=-1;return n.reduce(function(x,N){var A=N.type.defaultProps!==void 0?be(be({},N.type.defaultProps),N.props):N.props,E=A[c],_=_T("number");if(!x[E]){y++;var P;return w?P=Af(0,b):u&&u[E]&&u[E].hasStack?(P=bI(u[E].stackGroups,d,m),P=sb(p,P,E,s)):(P=Nx(_,pI(v,n.filter(function(k){var O,L,T=c in k.props?k.props[c]:(O=k.type.defaultProps)===null||O===void 0?void 0:O[c],M="hide"in k.props?k.props.hide:(L=k.type.defaultProps)===null||L===void 0?void 0:L.hide;return T===E&&!M}),"number",h),o.defaultProps.allowDataOverflow),P=sb(p,P,E,s)),be(be({},x),{},ct({},E,be(be({axisType:s},o.defaultProps),{},{hide:!0,orientation:yn(OK,"".concat(s,".").concat(y%2),null),domain:P,originalDomain:_,isCategorical:w,layout:h})))}return x},{})},DK=function(t,r){var n=r.axisType,o=n===void 0?"xAxis":n,s=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,h=t.children,p="".concat(o,"Id"),v=xn(h,s),b={};return v&&v.length?b=IK(t,{axes:v,graphicalItems:c,axisType:o,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:m}):c&&c.length&&(b=TK(t,{Axis:s,graphicalItems:c,axisType:o,axisIdKey:p,stackGroups:u,dataStartIndex:d,dataEndIndex:m})),b},$K=function(t){var r=xo(t),n=Ta(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Fb(n,function(o){return o.coordinate}),tooltipAxis:r,tooltipAxisBandSize:gf(r,n)}},lA=function(t){var r=t.children,n=t.defaultShowTooltip,o=pn(r,Ls),s=0,c=0;return t.data&&t.data.length!==0&&(c=t.data.length-1),o&&o.props&&(o.props.startIndex>=0&&(s=o.props.startIndex),o.props.endIndex>=0&&(c=o.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},MK=function(t){return!t||!t.length?!1:t.some(function(r){var n=Da(r&&r.type);return n&&n.indexOf("Bar")>=0})},cA=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},RK=function(t,r){var n=t.props,o=t.graphicalItems,s=t.xAxisMap,c=s===void 0?{}:s,u=t.yAxisMap,d=u===void 0?{}:u,m=n.width,h=n.height,p=n.children,v=n.margin||{},b=pn(p,Ls),w=pn(p,wo),y=Object.keys(d).reduce(function(P,k){var O=d[k],L=O.orientation;return!O.mirror&&!O.hide?be(be({},P),{},ct({},L,P[L]+O.width)):P},{left:v.left||0,right:v.right||0}),x=Object.keys(c).reduce(function(P,k){var O=c[k],L=O.orientation;return!O.mirror&&!O.hide?be(be({},P),{},ct({},L,yn(P,"".concat(L))+O.height)):P},{top:v.top||0,bottom:v.bottom||0}),N=be(be({},x),y),A=N.bottom;b&&(N.bottom+=b.props.height||Ls.defaultProps.height),w&&r&&(N=a9(N,o,n,r));var E=m-N.left-N.right,_=h-N.top-N.bottom;return be(be({brushBottom:A},N),{},{width:Math.max(E,0),height:Math.max(_,0)})},LK=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Nj=function(t){var r=t.chartName,n=t.GraphicalChild,o=t.defaultTooltipEventType,s=o===void 0?"axis":o,c=t.validateTooltipEventTypes,u=c===void 0?["axis"]:c,d=t.axisComponents,m=t.legendContent,h=t.formatAxisMap,p=t.defaultProps,v=function(N,A){var E=A.graphicalItems,_=A.stackGroups,P=A.offset,k=A.updateId,O=A.dataStartIndex,L=A.dataEndIndex,T=N.barSize,M=N.layout,I=N.barGap,V=N.barCategoryGap,z=N.maxBarSize,B=cA(M),D=B.numericAxisName,G=B.cateAxisName,te=MK(E),R=[];return E.forEach(function(Y,U){var F=_m(N.data,{graphicalItems:[Y],dataStartIndex:O,dataEndIndex:L}),W=Y.type.defaultProps!==void 0?be(be({},Y.type.defaultProps),Y.props):Y.props,ce=W.dataKey,ie=W.maxBarSize,K=W["".concat(D,"Id")],pe=W["".concat(G,"Id")],me={},ne=d.reduce(function(ee,ae){var we=A["".concat(ae.axisType,"Map")],Ve=W["".concat(ae.axisType,"Id")];we&&we[Ve]||ae.axisType==="zAxis"||vi();var Fe=we[Ve];return be(be({},ee),{},ct(ct({},ae.axisType,Fe),"".concat(ae.axisType,"Ticks"),Ta(Fe)))},me),se=ne[G],ue=ne["".concat(G,"Ticks")],Me=_&&_[K]&&_[K].hasStack&&h9(Y,_[K].stackGroups),ve=Da(Y.type).indexOf("Bar")>=0,Ne=gf(se,ue),Se=[],ge=te&&r9({barSize:T,stackGroups:_,totalSize:LK(ne,G)});if(ve){var Ee,Ge,Q=ht(ie)?z:ie,$e=(Ee=(Ge=gf(se,ue,!0))!==null&&Ge!==void 0?Ge:Q)!==null&&Ee!==void 0?Ee:0;Se=n9({barGap:I,barCategoryGap:V,bandSize:$e!==Ne?$e:Ne,sizeList:ge[pe],maxBarSize:Q}),$e!==Ne&&(Se=Se.map(function(ee){return be(be({},ee),{},{position:be(be({},ee.position),{},{offset:ee.position.offset-$e/2})})}))}var Pe=Y&&Y.type&&Y.type.getComposedData;Pe&&R.push({props:be(be({},Pe(be(be({},ne),{},{displayedData:F,props:N,dataKey:ce,item:Y,bandSize:Ne,barPosition:Se,offset:P,stackedData:Me,layout:M,dataStartIndex:O,dataEndIndex:L}))),{},ct(ct(ct({key:Y.key||"item-".concat(U)},D,ne[D]),G,ne[G]),"animationId",k)),childIndex:s6(Y,N.children),item:Y})}),R},b=function(N,A){var E=N.props,_=N.dataStartIndex,P=N.dataEndIndex,k=N.updateId;if(!bS({props:E}))return null;var O=E.children,L=E.layout,T=E.stackOffset,M=E.data,I=E.reverseStackOrder,V=cA(L),z=V.numericAxisName,B=V.cateAxisName,D=xn(O,n),G=m9(M,D,"".concat(z,"Id"),"".concat(B,"Id"),T,I),te=d.reduce(function(W,ce){var ie="".concat(ce.axisType,"Map");return be(be({},W),{},ct({},ie,DK(E,be(be({},ce),{},{graphicalItems:D,stackGroups:ce.axisType===z&&G,dataStartIndex:_,dataEndIndex:P}))))},{}),R=RK(be(be({},te),{},{props:E,graphicalItems:D}),A?.legendBBox);Object.keys(te).forEach(function(W){te[W]=h(E,te[W],R,W.replace("Map",""),r)});var Y=te["".concat(B,"Map")],U=$K(Y),F=v(E,be(be({},te),{},{dataStartIndex:_,dataEndIndex:P,updateId:k,graphicalItems:D,stackGroups:G,offset:R}));return be(be({formattedGraphicalItems:F,graphicalItems:D,offset:R,stackGroups:G},U),te)},w=(function(x){function N(A){var E,_,P;return vK(this,N),P=bK(this,N,[A]),ct(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ct(P,"accessibilityManager",new nK),ct(P,"handleLegendBBoxUpdate",function(k){if(k){var O=P.state,L=O.dataStartIndex,T=O.dataEndIndex,M=O.updateId;P.setState(be({legendBBox:k},b({props:P.props,dataStartIndex:L,dataEndIndex:T,updateId:M},be(be({},P.state),{},{legendBBox:k}))))}}),ct(P,"handleReceiveSyncEvent",function(k,O,L){if(P.props.syncId===k){if(L===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(O)}}),ct(P,"handleBrushChange",function(k){var O=k.startIndex,L=k.endIndex;if(O!==P.state.dataStartIndex||L!==P.state.dataEndIndex){var T=P.state.updateId;P.setState(function(){return be({dataStartIndex:O,dataEndIndex:L},b({props:P.props,dataStartIndex:O,dataEndIndex:L,updateId:T},P.state))}),P.triggerSyncEvent({dataStartIndex:O,dataEndIndex:L})}}),ct(P,"handleMouseEnter",function(k){var O=P.getMouseInfo(k);if(O){var L=be(be({},O),{},{isTooltipActive:!0});P.setState(L),P.triggerSyncEvent(L);var T=P.props.onMouseEnter;mt(T)&&T(L,k)}}),ct(P,"triggeredAfterMouseMove",function(k){var O=P.getMouseInfo(k),L=O?be(be({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(L),P.triggerSyncEvent(L);var T=P.props.onMouseMove;mt(T)&&T(L,k)}),ct(P,"handleItemMouseEnter",function(k){P.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),ct(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),ct(P,"handleMouseMove",function(k){k.persist(),P.throttleTriggeredAfterMouseMove(k)}),ct(P,"handleMouseLeave",function(k){P.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var L=P.props.onMouseLeave;mt(L)&&L(O,k)}),ct(P,"handleOuterEvent",function(k){var O=i6(k),L=yn(P.props,"".concat(O));if(O&&mt(L)){var T,M;/.*touch.*/i.test(O)?M=P.getMouseInfo(k.changedTouches[0]):M=P.getMouseInfo(k),L((T=M)!==null&&T!==void 0?T:{},k)}}),ct(P,"handleClick",function(k){var O=P.getMouseInfo(k);if(O){var L=be(be({},O),{},{isTooltipActive:!0});P.setState(L),P.triggerSyncEvent(L);var T=P.props.onClick;mt(T)&&T(L,k)}}),ct(P,"handleMouseDown",function(k){var O=P.props.onMouseDown;if(mt(O)){var L=P.getMouseInfo(k);O(L,k)}}),ct(P,"handleMouseUp",function(k){var O=P.props.onMouseUp;if(mt(O)){var L=P.getMouseInfo(k);O(L,k)}}),ct(P,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),ct(P,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseDown(k.changedTouches[0])}),ct(P,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&P.handleMouseUp(k.changedTouches[0])}),ct(P,"handleDoubleClick",function(k){var O=P.props.onDoubleClick;if(mt(O)){var L=P.getMouseInfo(k);O(L,k)}}),ct(P,"handleContextMenu",function(k){var O=P.props.onContextMenu;if(mt(O)){var L=P.getMouseInfo(k);O(L,k)}}),ct(P,"triggerSyncEvent",function(k){P.props.syncId!==void 0&&hy.emit(gy,P.props.syncId,k,P.eventEmitterSymbol)}),ct(P,"applySyncEvent",function(k){var O=P.props,L=O.layout,T=O.syncMethod,M=P.state.updateId,I=k.dataStartIndex,V=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)P.setState(be({dataStartIndex:I,dataEndIndex:V},b({props:P.props,dataStartIndex:I,dataEndIndex:V,updateId:M},P.state)));else if(k.activeTooltipIndex!==void 0){var z=k.chartX,B=k.chartY,D=k.activeTooltipIndex,G=P.state,te=G.offset,R=G.tooltipTicks;if(!te)return;if(typeof T=="function")D=T(R,k);else if(T==="value"){D=-1;for(var Y=0;Y<R.length;Y++)if(R[Y].value===k.activeLabel){D=Y;break}}var U=be(be({},te),{},{x:te.left,y:te.top}),F=Math.min(z,U.x+U.width),W=Math.min(B,U.y+U.height),ce=R[D]&&R[D].value,ie=ub(P.state,P.props.data,D),K=R[D]?{x:L==="horizontal"?R[D].coordinate:F,y:L==="horizontal"?W:R[D].coordinate}:kT;P.setState(be(be({},k),{},{activeLabel:ce,activeCoordinate:K,activePayload:ie,activeTooltipIndex:D}))}else P.setState(k)}),ct(P,"renderCursor",function(k){var O,L=P.state,T=L.isTooltipActive,M=L.activeCoordinate,I=L.activePayload,V=L.offset,z=L.activeTooltipIndex,B=L.tooltipAxisBandSize,D=P.getTooltipEventType(),G=(O=k.props.active)!==null&&O!==void 0?O:T,te=P.props.layout,R=k.key||"_recharts-cursor";return Z.createElement(uK,{key:R,activeCoordinate:M,activePayload:I,activeTooltipIndex:z,chartName:r,element:k,isActive:G,layout:te,offset:V,tooltipAxisBandSize:B,tooltipEventType:D})}),ct(P,"renderPolarAxis",function(k,O,L){var T=yn(k,"type.axisType"),M=yn(P.state,"".concat(T,"Map")),I=k.type.defaultProps,V=I!==void 0?be(be({},I),k.props):k.props,z=M&&M[V["".concat(T,"Id")]];return C.cloneElement(k,be(be({},z),{},{className:vt(T,z.className),key:k.key||"".concat(O,"-").concat(L),ticks:Ta(z,!0)}))}),ct(P,"renderPolarGrid",function(k){var O=k.props,L=O.radialLines,T=O.polarAngles,M=O.polarRadius,I=P.state,V=I.radiusAxisMap,z=I.angleAxisMap,B=xo(V),D=xo(z),G=D.cx,te=D.cy,R=D.innerRadius,Y=D.outerRadius;return C.cloneElement(k,{polarAngles:Array.isArray(T)?T:Ta(D,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(M)?M:Ta(B,!0).map(function(U){return U.coordinate}),cx:G,cy:te,innerRadius:R,outerRadius:Y,key:k.key||"polar-grid",radialLines:L})}),ct(P,"renderLegend",function(){var k=P.state.formattedGraphicalItems,O=P.props,L=O.children,T=O.width,M=O.height,I=P.props.margin||{},V=T-(I.left||0)-(I.right||0),z=fI({children:L,formattedGraphicalItems:k,legendWidth:V,legendContent:m});if(!z)return null;var B=z.item,D=oA(z,dK);return C.cloneElement(B,be(be({},D),{},{chartWidth:T,chartHeight:M,margin:I,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),ct(P,"renderTooltip",function(){var k,O=P.props,L=O.children,T=O.accessibilityLayer,M=pn(L,kn);if(!M)return null;var I=P.state,V=I.isTooltipActive,z=I.activeCoordinate,B=I.activePayload,D=I.activeLabel,G=I.offset,te=(k=M.props.active)!==null&&k!==void 0?k:V;return C.cloneElement(M,{viewBox:be(be({},G),{},{x:G.left,y:G.top}),active:te,label:D,payload:te?B:[],coordinate:z,accessibilityLayer:T})}),ct(P,"renderBrush",function(k){var O=P.props,L=O.margin,T=O.data,M=P.state,I=M.offset,V=M.dataStartIndex,z=M.dataEndIndex,B=M.updateId;return C.cloneElement(k,{key:k.key||"_recharts-brush",onChange:jd(P.handleBrushChange,k.props.onChange),data:T,x:Re(k.props.x)?k.props.x:I.left,y:Re(k.props.y)?k.props.y:I.top+I.height+I.brushBottom-(L.bottom||0),width:Re(k.props.width)?k.props.width:I.width,startIndex:V,endIndex:z,updateId:"brush-".concat(B)})}),ct(P,"renderReferenceElement",function(k,O,L){if(!k)return null;var T=P,M=T.clipPathId,I=P.state,V=I.xAxisMap,z=I.yAxisMap,B=I.offset,D=k.type.defaultProps||{},G=k.props,te=G.xAxisId,R=te===void 0?D.xAxisId:te,Y=G.yAxisId,U=Y===void 0?D.yAxisId:Y;return C.cloneElement(k,{key:k.key||"".concat(O,"-").concat(L),xAxis:V[R],yAxis:z[U],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:M})}),ct(P,"renderActivePoints",function(k){var O=k.item,L=k.activePoint,T=k.basePoint,M=k.childIndex,I=k.isRange,V=[],z=O.props.key,B=O.item.type.defaultProps!==void 0?be(be({},O.item.type.defaultProps),O.item.props):O.item.props,D=B.activeDot,G=B.dataKey,te=be(be({index:M,dataKey:G,cx:L.x,cy:L.y,r:4,fill:fj(O.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},lt(D,!1)),Wd(D));return V.push(N.renderActiveDot(D,te,"".concat(z,"-activePoint-").concat(M))),T?V.push(N.renderActiveDot(D,be(be({},te),{},{cx:T.x,cy:T.y}),"".concat(z,"-basePoint-").concat(M))):I&&V.push(null),V}),ct(P,"renderGraphicChild",function(k,O,L){var T=P.filterFormatItem(k,O,L);if(!T)return null;var M=P.getTooltipEventType(),I=P.state,V=I.isTooltipActive,z=I.tooltipAxis,B=I.activeTooltipIndex,D=I.activeLabel,G=P.props.children,te=pn(G,kn),R=T.props,Y=R.points,U=R.isRange,F=R.baseLine,W=T.item.type.defaultProps!==void 0?be(be({},T.item.type.defaultProps),T.item.props):T.item.props,ce=W.activeDot,ie=W.hide,K=W.activeBar,pe=W.activeShape,me=!!(!ie&&V&&te&&(ce||K||pe)),ne={};M!=="axis"&&te&&te.props.trigger==="click"?ne={onClick:jd(P.handleItemMouseEnter,k.props.onClick)}:M!=="axis"&&(ne={onMouseLeave:jd(P.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:jd(P.handleItemMouseEnter,k.props.onMouseEnter)});var se=C.cloneElement(k,be(be({},T.props),ne));function ue(ae){return typeof z.dataKey=="function"?z.dataKey(ae.payload):null}if(me)if(B>=0){var Me,ve;if(z.dataKey&&!z.allowDuplicatedCategory){var Ne=typeof z.dataKey=="function"?ue:"payload.".concat(z.dataKey.toString());Me=Ud(Y,Ne,D),ve=U&&F&&Ud(F,Ne,D)}else Me=Y?.[B],ve=U&&F&&F[B];if(pe||K){var Se=k.props.activeIndex!==void 0?k.props.activeIndex:B;return[C.cloneElement(k,be(be(be({},T.props),ne),{},{activeIndex:Se})),null,null]}if(!ht(Me))return[se].concat(Xs(P.renderActivePoints({item:T,activePoint:Me,basePoint:ve,childIndex:B,isRange:U})))}else{var ge,Ee=(ge=P.getItemByXY(P.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:se},Ge=Ee.graphicalItem,Q=Ge.item,$e=Q===void 0?k:Q,Pe=Ge.childIndex,ee=be(be(be({},T.props),ne),{},{activeIndex:Pe});return[C.cloneElement($e,ee),null,null]}return U?[se,null,null]:[se,null]}),ct(P,"renderCustomized",function(k,O,L){return C.cloneElement(k,be(be({key:"recharts-customized-".concat(L)},P.props),P.state))}),ct(P,"renderMap",{CartesianGrid:{handler:Ed,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Ed},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Ed},YAxis:{handler:Ed},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((E=A.id)!==null&&E!==void 0?E:Qs("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=d_(P.triggeredAfterMouseMove,(_=A.throttleDelay)!==null&&_!==void 0?_:1e3/60),P.state={},P}return NK(N,x),xK(N,[{key:"componentDidMount",value:function(){var E,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,_=E.children,P=E.data,k=E.height,O=E.layout,L=pn(_,kn);if(L){var T=L.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,I=ub(this.state,P,T,M),V=this.state.tooltipTicks[T].coordinate,z=(this.state.offset.top+k)/2,B=O==="horizontal",D=B?{x:V,y:z}:{y:V,x:z},G=this.state.formattedGraphicalItems.find(function(R){var Y=R.item;return Y.type.name==="Scatter"});G&&(D=be(be({},D),G.props.points[T].tooltipPosition),I=G.props.points[T].tooltipPayload);var te={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:M,activePayload:I,activeCoordinate:D};this.setState(te),this.renderCursor(L),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var P,k;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(E){Wy([pn(E.children,kn)],[pn(this.props.children,kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=pn(this.props.children,kn);if(E&&typeof E.props.shared=="boolean"){var _=E.props.shared?"axis":"item";return u.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var _=this.container,P=_.getBoundingClientRect(),k=GL(P),O={chartX:Math.round(E.pageX-k.left),chartY:Math.round(E.pageY-k.top)},L=P.width/_.offsetWidth||1,T=this.inRange(O.chartX,O.chartY,L);if(!T)return null;var M=this.state,I=M.xAxisMap,V=M.yAxisMap,z=this.getTooltipEventType(),B=sA(this.state,this.props.data,this.props.layout,T);if(z!=="axis"&&I&&V){var D=xo(I).scale,G=xo(V).scale,te=D&&D.invert?D.invert(O.chartX):null,R=G&&G.invert?G.invert(O.chartY):null;return be(be({},O),{},{xValue:te,yValue:R},B)}return B?be(be({},O),B):null}},{key:"inRange",value:function(E,_){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,O=E/P,L=_/P;if(k==="horizontal"||k==="vertical"){var T=this.state.offset,M=O>=T.left&&O<=T.left+T.width&&L>=T.top&&L<=T.top+T.height;return M?{x:O,y:L}:null}var I=this.state,V=I.angleAxisMap,z=I.radiusAxisMap;if(V&&z){var B=xo(V);return cP({x:O,y:L},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,_=this.getTooltipEventType(),P=pn(E,kn),k={};P&&_==="axis"&&(P.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Wd(this.props,this.handleOuterEvent);return be(be({},O),k)}},{key:"addListener",value:function(){hy.on(gy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){hy.removeListener(gy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,_,P){for(var k=this.state.formattedGraphicalItems,O=0,L=k.length;O<L;O++){var T=k[O];if(T.item===E||T.props.key===E.key||_===Da(T.item.type)&&P===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,_=this.state.offset,P=_.left,k=_.top,O=_.height,L=_.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:E},Z.createElement("rect",{x:P,y:k,height:O,width:L})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(_,P){var k=aA(P,2),O=k[0],L=k[1];return be(be({},_),{},ct({},O,L.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(_,P){var k=aA(P,2),O=k[0],L=k[1];return be(be({},_),{},ct({},O,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[E])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(E){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[E])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(E){var _=this.state,P=_.formattedGraphicalItems,k=_.activeItem;if(P&&P.length)for(var O=0,L=P.length;O<L;O++){var T=P[O],M=T.props,I=T.item,V=I.type.defaultProps!==void 0?be(be({},I.type.defaultProps),I.props):I.props,z=Da(I.type);if(z==="Bar"){var B=(M.data||[]).find(function(R){return fq(E,R)});if(B)return{graphicalItem:T,payload:B}}else if(z==="RadialBar"){var D=(M.data||[]).find(function(R){return cP(E,R)});if(D)return{graphicalItem:T,payload:D}}else if(Sm(T,k)||Cm(T,k)||qc(T,k)){var G=$U({graphicalItem:T,activeTooltipItem:k,itemData:V.data}),te=V.activeIndex===void 0?G:V.activeIndex;return{graphicalItem:be(be({},T),{},{childIndex:te}),payload:qc(T,k)?V.data[G]:T.props.data[G]}}}return null}},{key:"render",value:function(){var E=this;if(!bS(this))return null;var _=this.props,P=_.children,k=_.className,O=_.width,L=_.height,T=_.style,M=_.compact,I=_.title,V=_.desc,z=oA(_,fK),B=lt(z,!1);if(M)return Z.createElement(zO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(Gy,ms({},B,{width:O,height:L,title:I,desc:V}),this.renderClipPath(),wS(P,this.renderMap)));if(this.props.accessibilityLayer){var D,G;B.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,B.role=(G=this.props.role)!==null&&G!==void 0?G:"application",B.onKeyDown=function(R){E.accessibilityManager.keyboardEvent(R)},B.onFocus=function(){E.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return Z.createElement(zO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",ms({className:vt("recharts-wrapper",k),style:be({position:"relative",cursor:"default",width:O,height:L},T)},te,{ref:function(Y){E.container=Y}}),Z.createElement(Gy,ms({},B,{width:O,height:L,title:I,desc:V,style:AK}),this.renderClipPath(),wS(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);ct(w,"displayName",r),ct(w,"defaultProps",be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),ct(w,"getDerivedStateFromProps",function(x,N){var A=x.dataKey,E=x.data,_=x.children,P=x.width,k=x.height,O=x.layout,L=x.stackOffset,T=x.margin,M=N.dataStartIndex,I=N.dataEndIndex;if(N.updateId===void 0){var V=lA(x);return be(be(be({},V),{},{updateId:0},b(be(be({props:x},V),{},{updateId:0}),N)),{},{prevDataKey:A,prevData:E,prevWidth:P,prevHeight:k,prevLayout:O,prevStackOffset:L,prevMargin:T,prevChildren:_})}if(A!==N.prevDataKey||E!==N.prevData||P!==N.prevWidth||k!==N.prevHeight||O!==N.prevLayout||L!==N.prevStackOffset||!vs(T,N.prevMargin)){var z=lA(x),B={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},D=be(be({},sA(N,E,O)),{},{updateId:N.updateId+1}),G=be(be(be({},z),B),D);return be(be(be({},G),b(be({props:x},G),N)),{},{prevDataKey:A,prevData:E,prevWidth:P,prevHeight:k,prevLayout:O,prevStackOffset:L,prevMargin:T,prevChildren:_})}if(!Wy(_,N.prevChildren)){var te,R,Y,U,F=pn(_,Ls),W=F&&(te=(R=F.props)===null||R===void 0?void 0:R.startIndex)!==null&&te!==void 0?te:M,ce=F&&(Y=(U=F.props)===null||U===void 0?void 0:U.endIndex)!==null&&Y!==void 0?Y:I,ie=W!==M||ce!==I,K=!ht(E),pe=K&&!ie?N.updateId:N.updateId+1;return be(be({updateId:pe},b(be(be({props:x},N),{},{updateId:pe,dataStartIndex:W,dataEndIndex:ce}),N)),{},{prevChildren:_,dataStartIndex:W,dataEndIndex:ce})}return null}),ct(w,"renderActiveDot",function(x,N,A){var E;return C.isValidElement(x)?E=C.cloneElement(x,N):mt(x)?E=x(N):E=Z.createElement(xm,N),Z.createElement(Tt,{className:"recharts-active-dot",key:A},E)});var y=C.forwardRef(function(N,A){return Z.createElement(w,ms({},N,{ref:A}))});return y.displayName=w.displayName,y},zK=Nj({chartName:"LineChart",GraphicalChild:cu,axisComponents:[{axisType:"xAxis",AxisComp:Hs},{axisType:"yAxis",AxisComp:Ks}],formatAxisMap:YI}),FK=Nj({chartName:"BarChart",GraphicalChild:Ci,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hs},{axisType:"yAxis",AxisComp:Ks}],formatAxisMap:YI}),BK=Nj({chartName:"PieChart",GraphicalChild:qa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nm},{axisType:"radiusAxis",AxisComp:jm}],formatAxisMap:C9,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function uA(){const e=[{title:"Ventas del Mes",value:"$45,280",change:"+12.5%",trend:"up",icon:vb,color:"from-green-500 to-green-600"},{title:"Pedidos Pendientes",value:"28",change:"-5.2%",trend:"down",icon:an,color:"from-blue-500 to-blue-600"},{title:"Clientes Activos",value:"1,245",change:"+8.1%",trend:"up",icon:Ns,color:"from-purple-500 to-purple-600"},{title:"Devoluciones",value:"12",change:"+2.3%",trend:"up",icon:ws,color:"from-orange-500 to-orange-600"}],t=[{month:"Ene",ventas:35e3,pedidos:120},{month:"Feb",ventas:42e3,pedidos:145},{month:"Mar",ventas:38e3,pedidos:132},{month:"Abr",ventas:51e3,pedidos:178},{month:"May",ventas:48e3,pedidos:165},{month:"Jun",ventas:45280,pedidos:152}],r=[{name:"Vestido Largo Elegante",sales:45,revenue:22500},{name:"Set Casual Primavera",sales:38,revenue:19e3},{name:"Vestido Corto Floral",sales:32,revenue:16e3},{name:"Enterizo Formal",sales:28,revenue:14e3},{name:"Set Ejecutivo",sales:25,revenue:12500}],n=[{name:"Vestidos Largos",value:35,color:"#6366f1"},{name:"Vestidos Cortos",value:28,color:"#8b5cf6"},{name:"Sets",value:22,color:"#ec4899"},{name:"Enterizos",value:15,color:"#f59e0b"}],s=[{id:"PED-001",customer:"Mara Gonzlez",product:"Vestido Largo Elegante",amount:450,status:"Enviado"},{id:"PED-002",customer:"Ana Rodrguez",product:"Set Casual",amount:380,status:"Pendiente"},{id:"PED-003",customer:"Laura Martnez",product:"Enterizo Formal",amount:520,status:"Enviado"},{id:"PED-004",customer:"Carmen Silva",product:"Vestido Corto",amount:290,status:"En Proceso"},{id:"PED-005",customer:"Sofa Torres",product:"Set Ejecutivo",amount:410,status:"Devolucin"}].filter(c=>c.status==="Pendiente");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Vista general de tu tienda DAMABELLA"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((c,u)=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${c.color} flex items-center justify-center text-white`,children:a.jsx(c.icon,{size:24})}),a.jsxs("div",{className:`flex items-center gap-1 text-sm ${c.trend==="up"?"text-green-600":"text-red-600"}`,children:[c.trend==="up"?a.jsx(lk,{size:16}):a.jsx(q3,{size:16}),c.change]})]}),a.jsx("div",{className:"text-gray-600 mb-1",children:c.title}),a.jsx("div",{className:"text-gray-900",children:c.value})]})},u))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-gray-900 mb-4",children:"Ventas mensuales (COP)"}),a.jsx(w0,{width:"100%",height:300,children:a.jsxs(zK,{data:t,margin:{top:20,right:20,left:60,bottom:20},children:[a.jsx(Qx,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Hs,{dataKey:"month",stroke:"#6b7280",label:{value:"Mes",position:"InsideBottom",offset:-10}}),a.jsx(Ks,{stroke:"#6b7280",tickMargin:12,tickFormatter:c=>`$${c.toLocaleString()}`}),a.jsx(kn,{formatter:c=>`$${Number(c).toLocaleString()}`}),a.jsx(wo,{}),a.jsx(cu,{type:"monotone",dataKey:"ventas",stroke:"#6366f1",strokeWidth:2,name:"Ventas"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-gray-900 mb-4",children:"Distribucin porcentual de ventas por categora"}),a.jsx(w0,{width:"100%",height:300,children:a.jsxs(BK,{children:[a.jsx(qa,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((c,u)=>a.jsx(sm,{fill:c.color},`cell-${u}`))}),a.jsx(kn,{})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-gray-900 mb-4",children:"Productos Ms Vendidos"}),a.jsx(w0,{width:"100%",height:300,children:a.jsxs(FK,{data:r,children:[a.jsx(Qx,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(Hs,{dataKey:"name",stroke:"#6b7280"}),a.jsx(Ks,{stroke:"#6b7280"}),a.jsx(kn,{}),a.jsx(wo,{}),a.jsx(Ci,{dataKey:"sales",fill:"#6366f1",name:"Unidades Vendidas"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-gray-900 mb-4",children:"Pedidos Pendientes"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Cliente"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Producto"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Monto"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Estado"})]})}),a.jsx("tbody",{children:s.map(c=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 text-gray-900",children:c.id}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:c.customer}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:c.product}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:["$",c.amount]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${c.status==="Enviado"?"bg-green-100 text-green-700":c.status==="Pendiente"?"bg-yellow-100 text-yellow-700":c.status==="Devolucin"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:c.status})})]},c.id))})]})})]})]})}const Te=C.forwardRef(({variant:e="primary",size:t="md",className:r="",children:n,...o},s)=>{const c="inline-flex items-center justify-center rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",u={primary:"bg-black text-white hover:bg-gray-800 focus:ring-black",secondary:"bg-gray-200 text-black hover:bg-gray-300 focus:ring-gray-400",outline:"border border-gray-300 bg-transparent hover:bg-gray-100 focus:ring-gray-400",ghost:"bg-transparent hover:bg-gray-100 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3"};return a.jsx("button",{ref:s,className:`${c} ${u[e]} ${d[t]} ${r}`,...o,children:n})});Te.displayName="Button";const Le=C.forwardRef(({className:e="",type:t="text",...r},n)=>a.jsx("input",{type:t,ref:n,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed ${e}`,...r}));Le.displayName="Input";const Ct=C.forwardRef(({className:e="",children:t,...r},n)=>a.jsx("label",{ref:n,className:`block text-sm font-medium text-gray-700 mb-1 ${e}`,...r,children:t}));Ct.displayName="Label";const ps=C.forwardRef(({className:e="",children:t,...r},n)=>a.jsx("div",{ref:n,className:`border border-gray-200 rounded-lg shadow-sm bg-white ${e}`,...r,children:t}));ps.displayName="Card";const ss=C.forwardRef(({className:e="",children:t,...r},n)=>a.jsx("select",{ref:n,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed bg-white ${e}`,...r,children:t}));ss.displayName="Select";const IT=C.createContext(void 0);function TT({children:e}){const[t,r]=C.useState([]),n=C.useCallback((u,d)=>{const m=Math.random().toString(36).substr(2,9);r(h=>[...h,{id:m,message:u,type:d}]),setTimeout(()=>{r(h=>h.filter(p=>p.id!==m))},3e3)},[]),o=u=>{r(d=>d.filter(m=>m.id!==u))},s={success:Co,error:Mt,info:Q4,warning:Kf},c={success:"bg-green-50 border-green-500 text-green-800",error:"bg-red-50 border-red-500 text-red-800",info:"bg-blue-50 border-blue-500 text-blue-800",warning:"bg-yellow-50 border-yellow-500 text-yellow-800"};return a.jsxs(IT.Provider,{value:{showToast:n},children:[e,a.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(u=>{const d=s[u.type];return a.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border-l-4 shadow-lg min-w-[300px] animate-in slide-in-from-right ${c[u.type]}`,children:[a.jsx(d,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("p",{className:"flex-1 text-sm",children:u.message}),a.jsx("button",{onClick:()=>o(u.id),className:"p-1 hover:bg-black/10 rounded-md transition-colors",children:a.jsx(da,{className:"h-4 w-4"})})]},u.id)})})]})}function $o(){const e=C.useContext(IT);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function Bd({variant:e="default",className:t="",children:r,...n}){const o={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"};return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o[e]} ${t}`,...n,children:r})}const DT=C.forwardRef(({className:e="",...t},r)=>a.jsx("textarea",{ref:r,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed min-h-[100px] ${e}`,...t}));DT.displayName="Textarea";function VK({className:e="",...t}){return a.jsx("div",{className:"w-full overflow-auto",children:a.jsx("table",{className:`w-full border-collapse ${e}`,...t})})}function qK({className:e="",...t}){return a.jsx("thead",{className:`bg-gray-50 ${e}`,...t})}function UK({className:e="",...t}){return a.jsx("tbody",{className:`divide-y divide-gray-200 ${e}`,...t})}function yy({className:e="",...t}){return a.jsx("tr",{className:`hover:bg-gray-50 ${e}`,...t})}function WK({className:e="",...t}){return a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider ${e}`,...t})}function dA({className:e="",...t}){return a.jsx("td",{className:`px-4 py-3 text-sm ${e}`,...t})}function pt({isOpen:e,onClose:t,title:r,children:n,size:o="md"}){const s=C.useRef(null);if(C.useEffect(()=>{const u=d=>{d.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[e,t]),!e)return null;const c={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{ref:s,className:`relative bg-gray-50 rounded-lg shadow-xl w-full ${c[o]} max-h-[90vh] flex flex-col`,children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold",children:r}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-200 rounded-md transition-colors",children:a.jsx(da,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:n})]})]})}function HK({data:e,columns:t,searchPlaceholder:r="Buscar...",onRowClick:n}){const[o,s]=C.useState(""),[c,u]=C.useState(1),d=10,m=e.filter(b=>Object.values(b).some(w=>String(w).toLowerCase().includes(o.toLowerCase()))),h=Math.ceil(m.length/d),p=(c-1)*d,v=m.slice(p,p+d);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(Le,{placeholder:r,value:o,onChange:b=>{s(b.target.value),u(1)},className:"pl-10"})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[m.length," registro",m.length!==1?"s":""]})]}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs(VK,{children:[a.jsx(qK,{children:a.jsx(yy,{children:t.map(b=>a.jsx(WK,{children:b.label},b.key))})}),a.jsx(UK,{children:v.length>0?v.map(b=>a.jsx(yy,{onClick:()=>n?.(b),className:n?"cursor-pointer":"",children:t.map(w=>a.jsx(dA,{children:w.render?w.render(b):String(b[w.key]||"-")},w.key))},b.id)):a.jsx(yy,{children:a.jsx(dA,{colSpan:t.length,className:"text-center text-gray-500",children:"No se encontraron registros"})})})]})}),h>1&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",c," de ",h]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>u(b=>Math.max(1,b-1)),disabled:c===1,children:a.jsx(O4,{className:"h-4 w-4"})}),a.jsx(Te,{variant:"outline",size:"sm",onClick:()=>u(b=>Math.min(h,b+1)),disabled:c===h,children:a.jsx(ls,{className:"h-4 w-4"})})]})]})]})}const $T=C.createContext(void 0),GK=()=>{const e="damabella_users";if(console.log(" [AuthContext.initializeAuthSystem] Verificando datos de autenticacin..."),localStorage.removeItem("damabella_user"),console.log(" [AuthContext] Sesin local limpiada"),localStorage.getItem(e))console.log(" [AuthContext] Usuarios existentes preservados");else{console.log(" [AuthContext] No existen usuarios, creando admin por defecto...");const r={id:1,nombre:"Administrador Damabella",email:"pabonjuanjose6@gmail.com",password:"Joses421700#",tipoDoc:"CC",numeroDoc:"0000000001",celular:"3001234567",direccion:"Administracin",roleId:1,role:"Administrador",activo:!0,createdAt:new Date().toISOString()};localStorage.setItem(e,JSON.stringify([r])),console.log(" [AuthContext] Admin creado por defecto")}};function KK({children:e}){const[t,r]=C.useState(null);C.useEffect(()=>{GK();const c=localStorage.getItem("damabella_user");c&&r(JSON.parse(c))},[]);const n=async(c,u)=>{console.log(` [AuthContext.login] Intentando login: ${c}`);const m=localStorage.getItem("damabella_users");if(console.log(" [AuthContext.login] usuarios almacenados:",m?JSON.parse(m).length:0),m){const p=JSON.parse(m).find(v=>v.email===c&&v.password===u&&(v.activo||v.estado==="Activo"));if(p){console.log(" [AuthContext.login] Usuario encontrado:",p);const v={id:p.id.toString(),name:p.nombre||p.name,email:p.email,document:p.numeroDoc||p.documento,phone:p.celular||p.phone,address:p.direccion||p.address,role:p.role||p.rol||"Cliente",status:p.activo?"Activo":p.estado||"Inactivo",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop",createdAt:p.createdAt||p.fechaCreacion};return console.log(" [AuthContext.login] Usuario autenticado con rol:",v.role),r(v),localStorage.setItem("damabella_user",JSON.stringify(v)),!0}else console.log(" [AuthContext.login] Usuario no encontrado o credenciales incorrectas")}return!1},o=()=>{r(null),localStorage.removeItem("damabella_user")},s=c=>{if(t){const u={...t,...c};r(u),localStorage.setItem("damabella_user",JSON.stringify(u))}};return a.jsx($T.Provider,{value:{user:t,login:n,logout:o,updateProfile:s,isAuthenticated:!!t},children:e})}function Sj(){const e=C.useContext($T);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Pd="damabella_roles",pc=["Usuarios","Roles","Clientes","Proveedores","Categorias","Productos","Tallas","Colores","Pedidos","Ventas","Compras","Devoluciones"],fA=[{id:"1",name:"Administrador",description:"Acceso completo al sistema",userCount:2,permissions:pc.map(e=>({module:e,canView:!0,canCreate:!0,canEdit:!0,canDelete:!0}))},{id:"2",name:"Empleado",description:"Puede gestionar ventas y pedidos",userCount:5,permissions:pc.map(e=>({module:e,canView:!0,canCreate:["Pedidos","Ventas","Clientes","Productos"].includes(e),canEdit:["Pedidos","Ventas","Clientes","Productos"].includes(e),canDelete:!1}))},{id:"3",name:"Cliente",description:"Acceso limitado a su perfil",userCount:150,permissions:[{module:"Pedidos",canView:!0,canCreate:!0,canEdit:!1,canDelete:!1},{module:"Productos",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1}]}];function JK(){const[e,t]=C.useState(()=>{console.log(" [RolesPage] Inicializando roles...");const T=localStorage.getItem(Pd);if(T)try{const M=JSON.parse(T);if(Array.isArray(M)&&M.length>0)return console.log(" [RolesPage] Roles cargados desde localStorage:",M.map(I=>I.name||I.nombre)),M.map(I=>({id:I.id,name:I.name||I.nombre,description:I.description||I.descripcion,permissions:I.permissions||[],userCount:I.userCount||0}))}catch(M){console.error(" [RolesPage] Error parsing roles:",M)}return console.log(" [RolesPage] Usando roles por defecto"),localStorage.setItem(Pd,JSON.stringify(fA)),fA}),[r,n]=C.useState(!1),[o,s]=C.useState(!1),[c,u]=C.useState(null),[d,m]=C.useState(null),[h,p]=C.useState({name:"",description:"",permissions:pc.map(T=>({module:T,canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}))}),[v,b]=C.useState({}),{showToast:w}=$o(),{user:y}=Sj();y?.role,C.useEffect(()=>{console.log(" [RolesPage] Configurando listeners de sincronizacin...");let T=null;const M=()=>{const V=localStorage.getItem(Pd);if(V!==T&&(T=V,V))try{const z=JSON.parse(V);Array.isArray(z)&&(console.log(" [RolesPage] Roles actualizados en otro tab/ventana"),t(z.map(B=>({id:B.id,name:B.name||B.nombre,description:B.description||B.descripcion,permissions:B.permissions||[],userCount:B.userCount||0}))))}catch(z){console.error("Error updating roles:",z)}};M(),window.addEventListener("storage",M);const I=setInterval(M,500);return()=>{window.removeEventListener("storage",M),clearInterval(I)}},[]),C.useEffect(()=>{if(e&&e.length>0)try{localStorage.setItem(Pd,JSON.stringify(e)),console.log(` [RolesPage] ${e.length} roles guardados en localStorage`)}catch(T){console.error("Error guardando roles:",T),w("Error al guardar roles","error")}},[e,w]);const x=(T,M)=>{const I={};return T==="name"&&(M.trim()?M.trim().length<3?I.name="Debe tener al menos 3 caracteres":/^[a-zA-Z0-9\s]+$/.test(M)||(I.name="No puede contener caracteres especiales"):I.name="El nombre es obligatorio"),T==="description"&&(M.trim()?M.trim().length<10&&(I.description="Debe tener al menos 10 caracteres"):I.description="Este campo es obligatorio"),I},N=(T,M)=>{p({...h,[T]:M});const I=x(T,M);b({...v,...I,[T]:I[T]})},A=T=>{T?(u(T),p({name:T.name,description:T.description,permissions:T.permissions.length>0?T.permissions:pc.map(M=>({module:M,canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}))})):(u(null),p({name:"",description:"",permissions:pc.map(M=>({module:M,canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}))})),b({}),n(!0)},E=(T,M,I)=>{const V=[...h.permissions];V[T]={...V[T],[M]:I},p({...h,permissions:V})},_=(T,M)=>{const I=[...h.permissions];I[T]={...I[T],canView:M,canCreate:M,canEdit:M,canDelete:M},p({...h,permissions:I})},P=T=>{T.preventDefault();const M={};if(["name","description"].forEach(I=>{const V=x(I,h[I]);V[I]&&(M[I]=V[I])}),Object.keys(M).length>0){b(M);return}if(c){const I=e.map(V=>V.id===c.id?{...V,...h}:V);t(I),w("Rol actualizado correctamente","success")}else{const I={id:Date.now().toString(),...h,userCount:0};t([...e,I]),w("Rol creado correctamente","success"),console.log(" [RolesPage] Nuevo rol creado:",I)}n(!1)},k=T=>{const M=e.find(I=>I.id===T);if(M&&M.name==="Administrador"){w("No se puede eliminar el rol Administrador","error");return}m(M||null),s(!0)},O=()=>{if(d){const T=e.filter(M=>M.id!==d.id);t(T),w(`Rol "${d.name}" eliminado correctamente`,"success"),s(!1),m(null)}},L=[{key:"name",label:"Rol",render:T=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oo,{className:"h-4 w-4 text-gray-600"}),a.jsx("span",{className:"font-medium",children:T.name})]})},{key:"description",label:"Descripcin"},{key:"userCount",label:"Usuarios",render:T=>a.jsx(Bd,{variant:"info",children:T.userCount})},{key:"permissions",label:"Permisos",render:T=>a.jsxs("span",{className:"text-sm text-gray-600",children:[T.permissions.filter(M=>M.canView).length," mdulos"]})},{key:"actions",label:"Acciones",render:T=>a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsx("button",{onClick:()=>A(T),className:"p-1.5 hover:bg-gray-100 rounded-md transition-colors",title:"Editar rol",children:a.jsx(ik,{className:"h-4 w-4 text-gray-600"})}),T.name!=="Administrador"&&a.jsx("button",{onClick:()=>k(T.id),className:"p-1.5 hover:bg-red-50 rounded-md transition-colors",title:"Eliminar rol",children:a.jsx(Ao,{className:"h-4 w-4 text-red-600"})})]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Roles y Permisos"}),a.jsx("p",{className:"text-gray-600",children:"Gestin de roles y permisos del sistema"})]}),a.jsxs(Te,{onClick:()=>A(),children:[a.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Nuevo Rol"]})]}),a.jsx(ps,{className:"p-6",children:a.jsx(HK,{data:e,columns:L,searchPlaceholder:"Buscar roles..."})}),a.jsx(pt,{isOpen:r,onClose:()=>n(!1),title:c?"Editar Rol":"Nuevo Rol",size:"lg",children:a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"name",children:"Nombre del Rol"}),a.jsx(Le,{id:"name",value:h.name,onChange:T=>N("name",T.target.value),placeholder:"Ej: Supervisor, Vendedor",required:!0}),v.name&&a.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:v.name})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"description",children:"Descripcin"}),a.jsx(DT,{id:"description",value:h.description,onChange:T=>N("description",T.target.value),placeholder:"Descripcin del rol",required:!0}),v.description&&a.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:v.description})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ct,{children:"Permisos por Mdulo"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700",children:"Mdulo"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Ver"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Crear"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Editar"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Eliminar"}),a.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700",children:"Todos"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:h.permissions.map((T,M)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:T.module}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"checkbox",checked:T.canView,onChange:I=>E(M,"canView",I.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"checkbox",checked:T.canCreate,onChange:I=>E(M,"canCreate",I.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"checkbox",checked:T.canEdit,onChange:I=>E(M,"canEdit",I.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsx("input",{type:"checkbox",checked:T.canDelete,onChange:I=>E(M,"canDelete",I.target.checked),className:"h-4 w-4 rounded border-gray-300 text-gray-700 focus:ring-gray-700"})}),a.jsx("td",{className:"px-4 py-3 text-center",children:a.jsxs("div",{className:"flex justify-center gap-1",children:[a.jsx("button",{type:"button",onClick:()=>_(M,!0),className:"p-1 hover:bg-green-50 rounded",title:"Habilitar todos",children:a.jsx(C4,{className:"h-4 w-4 text-green-600"})}),a.jsx("button",{type:"button",onClick:()=>_(M,!1),className:"p-1 hover:bg-red-50 rounded",title:"Deshabilitar todos",children:a.jsx(da,{className:"h-4 w-4 text-red-600"})})]})})]},T.module))})]})})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx(Te,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),a.jsx(Te,{type:"submit",children:c?"Actualizar":"Crear"})]})]})}),a.jsx(pt,{isOpen:o,onClose:()=>s(!1),title:"Confirmar Eliminacin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mt,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 font-medium",children:"Ests seguro de que deseas eliminar este rol?"}),a.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Esta accin no se puede deshacer. El rol ",a.jsx("strong",{children:d?.name})," ser eliminado permanentemente del sistema."]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),a.jsxs(Te,{type:"button",className:"bg-red-600 hover:bg-red-700",onClick:O,children:[a.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})})]})}function ts(e){return e==null||typeof e=="string"&&e.trim()===""}function Gn(e,t){if(e==="nombre"||e==="name")return ts(t)?"Este campo es obligatorio":String(t).trim().length<3?"Debe tener al menos 3 caracteres":/^[a-zA-Z0-9\s\-]+$/.test(String(t))?"":"No se permiten caracteres especiales";if(e==="email")return ts(t)?"Este campo es obligatorio":/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\\.,;:\s@\"]+\.)+[^<>()[\]\\.,;:\s@\"]{2,})$/i.test(String(t).toLowerCase())?"":"Correo invlido";if(e==="password")return ts(t)?"Este campo es obligatorio":String(t).length<6?"La contrasea debe tener al menos 6 caracteres":"";if(e==="documento")return ts(t)?"Este campo es obligatorio":/^[0-9]+$/.test(String(t))?String(t).length<6?"Documento demasiado corto":"":"El documento debe ser numrico";if(e==="price"||e==="precio"||e==="price"){if(ts(t))return"Este campo es obligatorio";const r=parseFloat(t);return isNaN(r)||r<=0?"Debe ser un nmero mayor a 0":""}return e==="hex"||e==="hexCode"||e==="newColorHex"?ts(t)?"Este campo es obligatorio":/^#([0-9A-Fa-f]{3}){1,2}$/.test(String(t))?"":"Cdigo hex invlido":""}function XK(){const[e,t]=C.useState({notificaciones:{email:!0,push:!0,ventas:!0,inventario:!0,pedidos:!0},apariencia:{tema:"claro",idioma:"es"},seguridad:{autenticacionDosFactores:!1,sesionExpira:"30"}}),r=()=>{localStorage.setItem("damabella_config",JSON.stringify(e)),alert("Configuracin guardada exitosamente")};return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900 mb-2",children:"Configuracin"}),a.jsx("p",{className:"text-gray-600",children:"Personaliza tu experiencia en el sistema"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(oc,{className:"text-gray-700",size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900",children:"Notificaciones"}),a.jsx("p",{className:"text-gray-600",children:"Configura cmo deseas recibir notificaciones"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:"Notificaciones por Email"}),a.jsx("div",{className:"text-gray-600",children:"Recibir alertas en tu correo electrnico"})]}),a.jsx("input",{type:"checkbox",checked:e.notificaciones.email,onChange:n=>t({...e,notificaciones:{...e.notificaciones,email:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:"Notificaciones Push"}),a.jsx("div",{className:"text-gray-600",children:"Recibir alertas en tiempo real"})]}),a.jsx("input",{type:"checkbox",checked:e.notificaciones.push,onChange:n=>t({...e,notificaciones:{...e.notificaciones,push:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:"Alertas de Ventas"}),a.jsx("div",{className:"text-gray-600",children:"Notificar cuando se realice una venta"})]}),a.jsx("input",{type:"checkbox",checked:e.notificaciones.ventas,onChange:n=>t({...e,notificaciones:{...e.notificaciones,ventas:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:"Alertas de Inventario"}),a.jsx("div",{className:"text-gray-600",children:"Notificar cuando el stock est bajo"})]}),a.jsx("input",{type:"checkbox",checked:e.notificaciones.inventario,onChange:n=>t({...e,notificaciones:{...e.notificaciones,inventario:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:"Nuevos Pedidos"}),a.jsx("div",{className:"text-gray-600",children:"Notificar cuando llegue un pedido nuevo"})]}),a.jsx("input",{type:"checkbox",checked:e.notificaciones.pedidos,onChange:n=>t({...e,notificaciones:{...e.notificaciones,pedidos:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(p3,{className:"text-gray-700",size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900",children:"Apariencia"}),a.jsx("p",{className:"text-gray-600",children:"Personaliza la interfaz del sistema"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Tema"}),a.jsxs("select",{value:e.apariencia.tema,onChange:n=>t({...e,apariencia:{...e.apariencia,tema:n.target.value}}),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"claro",children:"Claro"}),a.jsx("option",{value:"oscuro",children:"Oscuro"}),a.jsx("option",{value:"auto",children:"Automtico"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(U4,{size:16}),"Idioma"]}),a.jsxs("select",{value:e.apariencia.idioma,onChange:n=>t({...e,apariencia:{...e.apariencia,idioma:n.target.value}}),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"es",children:"Espaol"}),a.jsx("option",{value:"en",children:"English"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(Oo,{className:"text-gray-700",size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900",children:"Seguridad"}),a.jsx("p",{className:"text-gray-600",children:"Protege tu cuenta y datos"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:"Autenticacin de dos factores"}),a.jsx("div",{className:"text-gray-600",children:"Aade una capa extra de seguridad"})]}),a.jsx("input",{type:"checkbox",checked:e.seguridad.autenticacionDosFactores,onChange:n=>t({...e,seguridad:{...e.seguridad,autenticacionDosFactores:n.target.checked}}),className:"w-5 h-5 rounded border-gray-300 text-gray-700 focus:ring-2 focus:ring-gray-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-2 flex items-center gap-2",children:[a.jsx(gs,{size:16}),"Tiempo de expiracin de sesin (minutos)"]}),a.jsxs("select",{value:e.seguridad.sesionExpira,onChange:n=>t({...e,seguridad:{...e.seguridad,sesionExpira:n.target.value}}),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"15",children:"15 minutos"}),a.jsx("option",{value:"30",children:"30 minutos"}),a.jsx("option",{value:"60",children:"1 hora"}),a.jsx("option",{value:"120",children:"2 horas"})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Te,{onClick:r,variant:"primary",className:"flex items-center gap-2",children:[a.jsx(ok,{size:18}),"Guardar Configuracin"]})})]})}function YK(){const[e,t]=C.useState([{id:1,name:"Crear Usuarios",module:"Usuarios",description:"Permite crear nuevos usuarios en el sistema"},{id:2,name:"Editar Usuarios",module:"Usuarios",description:"Permite editar informacin de usuarios existentes"},{id:3,name:"Eliminar Usuarios",module:"Usuarios",description:"Permite eliminar usuarios del sistema"},{id:4,name:"Ver Productos",module:"Productos",description:"Permite ver el catlogo de productos"},{id:5,name:"Crear Productos",module:"Productos",description:"Permite crear y registrar nuevos productos"},{id:6,name:"Editar Productos",module:"Productos",description:"Permite editar productos existentes"},{id:7,name:"Eliminar Productos",module:"Productos",description:"Permite eliminar productos del catlogo"},{id:8,name:"Ver Ventas",module:"Ventas",description:"Permite ver registros de ventas"},{id:9,name:"Crear Ventas",module:"Ventas",description:"Permite registrar nuevas ventas"},{id:10,name:"Ver Reportes",module:"Reportes",description:"Permite acceder a reportes del sistema"},{id:11,name:"Exportar Datos",module:"Reportes",description:"Permite exportar informacin en diferentes formatos"},{id:12,name:"Gestionar Roles",module:"Configuracin",description:"Permite administrar roles y permisos del sistema"}]),[r,n]=C.useState(!1),[o,s]=C.useState(null),[c,u]=C.useState({name:"",module:"",description:""}),[d,m]=C.useState(""),[h,p]=C.useState("all"),v=["all",...new Set(e.map(E=>E.module))],b=()=>{s(null),u({name:"",module:"",description:""}),n(!0)},w=E=>{s(E),u(E),n(!0)},y=()=>{t(o?e.map(E=>E.id===o.id?{...E,...c}:E):[...e,{id:Date.now(),...c}]),n(!1)},x=E=>{confirm("Est seguro de eliminar este permiso?")&&t(e.filter(_=>_.id!==E))},A=e.filter(E=>h==="all"||E.module===h).filter(E=>E.name.toLowerCase().includes(d.toLowerCase())||E.description.toLowerCase().includes(d.toLowerCase())).reduce((E,_)=>(E[_.module]||(E[_.module]=[]),E[_.module].push(_),E),{});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Permisos"}),a.jsx("p",{className:"text-gray-600",children:"Define y administra los permisos del sistema"})]}),a.jsxs(Te,{onClick:b,variant:"primary",children:[a.jsx(Kr,{size:20}),"Crear Permiso"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx(Le,{placeholder:"Buscar permisos...",value:d,onChange:E=>m(E.target.value)})}),a.jsx("div",{children:a.jsxs("select",{value:h,onChange:E=>p(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900",children:[a.jsx("option",{value:"all",children:"Todos los mdulos"}),v.filter(E=>E!=="all").map(E=>a.jsx("option",{value:E,children:E},E))]})})]})}),a.jsx("div",{className:"space-y-6",children:Object.keys(A).map(E=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-700 to-gray-900 rounded-lg flex items-center justify-center text-white",children:a.jsx(Oo,{size:20})}),a.jsx("h3",{className:"text-gray-900",children:E}),a.jsxs("span",{className:"text-gray-500",children:["(",A[E].length,")"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Nombre"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600",children:"Descripcin"}),a.jsx("th",{className:"text-right py-3 px-4 text-gray-600",children:"Acciones"})]})}),a.jsx("tbody",{children:A[E].map(_=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gs,{size:16,className:"text-gray-400"}),a.jsx("span",{className:"text-gray-900",children:_.name})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:_.description}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>w(_),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",children:a.jsx(fi,{size:16})}),a.jsx("button",{onClick:()=>x(_.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",children:a.jsx(Ao,{size:16})})]})})]},_.id))})]})})]},E))}),a.jsx(pt,{isOpen:r,onClose:()=>n(!1),title:o?"Editar Permiso":"Crear Permiso",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre del Permiso"}),a.jsx(Le,{value:c.name,onChange:E=>u({...c,name:E.target.value}),placeholder:"Ej: Crear Productos"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Mdulo"}),a.jsx(Le,{value:c.module,onChange:E=>u({...c,module:E.target.value}),placeholder:"Ej: Productos"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Descripcin"}),a.jsx("textarea",{value:c.description,onChange:E=>u({...c,description:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900",rows:3,placeholder:"Describe qu permite hacer este permiso"})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{onClick:()=>n(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:y,variant:"primary",children:o?"Guardar Cambios":"Crear Permiso"})]})]})})]})}const mA=[{id:"1",nombre:"Ana Garca",email:"admin@damabella.com",tipoDoc:"CC",documento:"1234567890",celular:"3001234567",direccion:"Calle 123",rol:"Administrador",estado:"Activo",fechaCreacion:"2024-01-15",creadoPor:"Sistema",password:"Admin123!"},{id:"2",nombre:"Mara Lpez",email:"empleado@damabella.com",tipoDoc:"CC",documento:"0987654321",celular:"3107654321",direccion:"Carrera 456",rol:"Empleado",estado:"Activo",fechaCreacion:"2024-02-20",creadoPor:"Ana Garca",password:"Empleado123!"},{id:"3",nombre:"Laura Martnez",email:"cliente@damabella.com",tipoDoc:"CC",documento:"5555555555",celular:"3209876543",direccion:"Avenida 789",rol:"Cliente",estado:"Activo",fechaCreacion:"2024-03-10",creadoPor:"Mara Lpez",password:"Cliente123!"},{id:"4",nombre:"Sofa Ramrez",email:"sofia.r@example.com",tipoDoc:"CE",documento:"1111222233",celular:"3156789012",direccion:"Calle 321",rol:"Cliente",estado:"Activo",fechaCreacion:"2024-06-05",creadoPor:"Mara Lpez",password:"Sofia123!"},{id:"5",nombre:"Carolina Ruiz",email:"carolina.r@example.com",tipoDoc:"TI",documento:"4444555566",celular:"3145678901",direccion:"Carrera 654",rol:"Cliente",estado:"Inactivo",fechaCreacion:"2024-05-12",creadoPor:"Ana Garca",password:"Carolina123!"}];function ZK(){const{user:e}=Sj(),{showToast:t}=$o(),[r,n]=C.useState(()=>{console.log(" [UsuariosModule] INICIALIZANDO - Verificando localStorage...");const Q=localStorage.getItem("damabella_users");if(console.log(`    damabella_users existe: ${!!Q}`),Q&&console.log(`    Largo de dato: ${Q.length} caracteres`),Q)try{const $e=JSON.parse(Q);if(console.log("    JSON parseado correctamente"),console.log(`    Total de registros: ${Array.isArray($e)?$e.length:"no es array"}`),Array.isArray($e)&&$e.length>0){const Pe=$e.map(ee=>({id:ee.id?.toString()||String(Date.now()),nombre:ee.nombre||ee.name||"",email:ee.email||"",tipoDoc:ee.tipoDoc||"CC",documento:ee.documento||ee.numeroDoc||"",celular:ee.celular||ee.phone||"",direccion:ee.direccion||ee.address||"",rol:ee.rol||ee.role||"Cliente",estado:ee.estado==="Activo"||ee.estado==="Inactivo"?ee.estado:ee.status==="Activo"?"Activo":"Inactivo",fechaCreacion:ee.fechaCreacion||ee.createdAt||new Date().toISOString().split("T")[0],creadoPor:ee.creadoPor||"Sistema",password:ee.password||""}));return console.log(` [Init] Cargados ${Pe.length} usuarios desde localStorage`),console.log("   Usuarios cargados:",Pe.map(ee=>({nombre:ee.nombre,rol:ee.rol,email:ee.email}))),Pe}}catch($e){console.error(" [Init] Error parsing users:",$e)}return console.log(" [Init] Usando INITIAL_USERS"),localStorage.setItem("damabella_users",JSON.stringify(mA)),mA}),[o,s]=C.useState(()=>{console.log(" [UsuariosModule] Cargando roles desde localStorage...");const Q=localStorage.getItem("damabella_roles");if(console.log("    localStorage.damabella_roles:",Q),Q)try{const Pe=JSON.parse(Q);if(Array.isArray(Pe)&&Pe.length>0)return console.log(" Roles cargados desde localStorage:",Pe.map(ee=>ee.name||ee.nombre).join(", ")),Pe}catch(Pe){console.error(" Error loading roles:",Pe)}console.log(" Usando roles por defecto");const $e=[{id:"1",name:"Administrador",nombre:"Administrador",description:"Acceso completo al sistema",descripcion:"Acceso completo al sistema",userCount:1,usuariosAsociados:1,permissions:[{module:"Usuarios",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Roles",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Categorias",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Productos",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Clientes",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Proveedores",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Tallas",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Colores",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Pedidos",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Ventas",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Compras",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0},{module:"Devoluciones",canView:!0,canCreate:!0,canEdit:!0,canDelete:!0}],permisos:[]},{id:"2",name:"Empleado",nombre:"Empleado",description:"Gestin de ventas y productos",descripcion:"Gestin de ventas y productos",userCount:1,usuariosAsociados:1,permissions:[{module:"Usuarios",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1},{module:"Roles",canView:!1,canCreate:!1,canEdit:!1,canDelete:!1},{module:"Categorias",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1},{module:"Productos",canView:!0,canCreate:!1,canEdit:!1,canDelete:!1}],permisos:[]},{id:"3",name:"Cliente",nombre:"Cliente",description:"Acceso limitado para compras",descripcion:"Acceso limitado para compras",userCount:3,usuariosAsociados:3,permissions:[],permisos:[]}];return console.log("    Guardando roles por defecto en localStorage"),localStorage.setItem("damabella_roles",JSON.stringify($e)),$e}),[c,u]=C.useState(""),[d,m]=C.useState("todos"),[h,p]=C.useState("todos"),[v,b]=C.useState(1),w=10,[y,x]=C.useState(!1),[N,A]=C.useState(!1),[E,_]=C.useState(!1),[P,k]=C.useState(!1),[O,L]=C.useState(null),[T,M]=C.useState({nombre:"",tipoDoc:"CC",email:"",documento:"",celular:"",direccion:"",rol:"Cliente",estado:"Activo",password:"",confirmPassword:""}),[I,V]=C.useState({}),[z,B]=C.useState(!1),[D,G]=C.useState(!1),te=e?.role==="Administrador",R=Q=>Q.trim()?Q.trim().length<3?"El nombre debe tener al menos 3 caracteres":/^[a-zA-Z0-9\s]+$/.test(Q)?"":"El nombre no puede contener caracteres especiales":"El nombre es obligatorio",Y=Q=>Q.trim()?/^\d+$/.test(Q)?Q.length<8?"El documento debe tener al menos 8 dgitos":"":"El documento solo puede contener nmeros":"El documento es obligatorio",U=Q=>Q.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q)?"":"El email no es vlido":"El email es obligatorio",F=(Q,$e)=>{if($e&&!Q)return"La contrasea es obligatoria";if(Q){const Pe=[];if(Q.length<8&&Pe.push("al menos 8 caracteres"),/[A-Z]/.test(Q)||Pe.push("una letra mayscula"),/[a-z]/.test(Q)||Pe.push("una letra minscula"),/\d/.test(Q)||Pe.push("un nmero"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(Q)||Pe.push("un carcter especial"),Pe.length>0)return`La contrasea debe contener: ${Pe.join(", ")}`}return""},W=Q=>Q.trim()?/^\d+$/.test(Q)?Q.length!==10?"El celular debe tener exactamente 10 dgitos":"":"El celular solo puede contener nmeros":"El celular es obligatorio";C.useEffect(()=>{if(r&&r.length>0)try{const Q=JSON.stringify(r);localStorage.setItem("damabella_users",Q),localStorage.getItem("damabella_users")===Q?console.log(` [UsuariosModule] Guardados ${r.length} usuarios correctamente`):console.error(" [UsuariosModule] Error: datos no guardados correctamente")}catch(Q){console.error(" [UsuariosModule] Error guardando usuarios:",Q)}},[r]),C.useEffect(()=>{console.log(" [UsuariosModule] useEffect iniciado - Roles actuales:",o.map(ae=>ae.name||ae.nombre));let Q=null;const $e=()=>{const ae=localStorage.getItem("damabella_roles");if(ae!==Q&&(console.log(" [UsuariosModule] Storage cambi. Antes:",Q?`${Q.length} chars`:"null","Ahora:",ae?`${ae.length} chars`:"null"),Q=ae,ae))try{const we=JSON.parse(ae);Array.isArray(we)&&(console.log(" [UsuariosModule] Roles actualizados:",we.map(Ve=>Ve.name||Ve.nombre)),s(we))}catch(we){console.error(" Error updating roles:",we)}};$e();const Pe=()=>{console.log(" [UsuariosModule] Storage cambi en otro tab"),$e()};window.addEventListener("storage",Pe);const ee=setInterval($e,300);return()=>{window.removeEventListener("storage",Pe),clearInterval(ee)}},[]),C.useEffect(()=>{const Q=()=>{try{const $e=localStorage.getItem("damabella_roles");if($e){const Pe=JSON.parse($e),ee={};r.forEach(we=>{const Ve=we.rol;ee[Ve]=(ee[Ve]||0)+1});const ae=Pe.map(we=>({...we,userCount:ee[we.name||we.nombre]||0}));localStorage.setItem("damabella_roles",JSON.stringify(ae)),console.log(" [UsuariosModule] Contadores de usuarios actualizados en roles:",ee),s(ae)}}catch($e){console.error(" [UsuariosModule] Error actualizando contadores:",$e)}};r&&r.length>=0&&Q()},[r]);const ce=r.length,ie=r.filter(Q=>Q.estado==="Activo").length,K=r.filter(Q=>Q.estado==="Inactivo").length,pe=r.filter(Q=>Q.rol==="Administrador").length,me=r.filter(Q=>{const $e=c.toLowerCase(),Pe=Q.nombre.toLowerCase().includes($e)||Q.documento.toLowerCase().includes($e)||Q.email.toLowerCase().includes($e)||Q.rol.toLowerCase().includes($e)||Q.estado.toLowerCase().includes($e)||Q.fechaCreacion.toLowerCase().includes($e)||Q.creadoPor.toLowerCase().includes($e),ee=d==="todos"||Q.rol===d,ae=h==="todos"||Q.estado===h;return Pe&&ee&&ae}),ne=()=>{L(null),M({nombre:"",tipoDoc:"CC",email:"",documento:"",celular:"",direccion:"",rol:"",estado:"Activo",password:"",confirmPassword:""}),V({}),B(!1),G(!1),x(!0)},se=Q=>{L(Q),M({nombre:Q.nombre,tipoDoc:Q.tipoDoc,email:Q.email,documento:Q.documento,celular:Q.celular,direccion:Q.direccion||"",rol:Q.rol,estado:Q.estado,password:"",confirmPassword:""}),V({}),B(!1),G(!1),x(!0)},ue=Q=>{L(Q),A(!0)},Me=Q=>{if(!te){t("No tienes permisos para eliminar usuarios","error");return}const $e=r.find(Pe=>Pe.id===Q);L($e||null),_(!0)},ve=()=>{if(O)try{const Q=r.filter($e=>$e.id!==O.id);n(Q),localStorage.setItem("damabella_users",JSON.stringify(Q)),t(`Usuario "${O.nombre}" eliminado correctamente`,"success"),_(!1),L(null)}catch(Q){console.error("Error al eliminar usuario:",Q),t("Error al eliminar el usuario","error")}},Ne=Q=>{L(Q),k(!0)},Se=()=>{if(O)try{const Q=O.estado==="Activo"?"Inactivo":"Activo",$e=r.map(Pe=>Pe.id===O.id?{...Pe,estado:Q}:Pe);n($e),localStorage.setItem("damabella_users",JSON.stringify($e)),t(`Usuario "${O.nombre}" ${Q==="Activo"?"activado":"desactivado"} correctamente`,"success"),k(!1),L(null)}catch(Q){console.error("Error al cambiar estado:",Q),t("Error al cambiar el estado del usuario","error")}},ge=()=>{const Q=me.map(Fe=>({ID:Fe.id,Nombre:Fe.nombre,Email:Fe.email,Rol:Fe.rol,Estado:Fe.estado,"Fecha de Creacin":Fe.fechaCreacion})),Pe=[["ID","Nombre","Email","Rol","Estado","Fecha de Creacin"].join(","),...Q.map(Fe=>[Fe.ID,`"${Fe.Nombre}"`,Fe.Email,Fe.Rol,Fe.Estado,Fe["Fecha de Creacin"]].join(","))].join(`
`),ee="\uFEFF",ae=new Blob([ee+Pe],{type:"text/csv;charset=utf-8;"}),we=document.createElement("a"),Ve=URL.createObjectURL(ae);we.setAttribute("href",Ve),we.setAttribute("download",`reporte_usuarios_${new Date().toISOString().split("T")[0]}.csv`),we.style.visibility="hidden",document.body.appendChild(we),we.click(),document.body.removeChild(we),t("Reporte descargado correctamente","success")},Ee=Q=>{Q.preventDefault();const $e=R(T.nombre),Pe=Y(T.documento),ee=W(T.celular),ae=U(T.email),we=F(T.password,!O),Ve={};if($e&&(Ve.nombre=$e),Pe&&(Ve.documento=Pe),ee&&(Ve.celular=ee),ae&&(Ve.email=ae),we&&(Ve.password=we),r.some(Pt=>Pt.email.toLowerCase()===T.email.toLowerCase()&&Pt.id!==O?.id)&&(Ve.email="Este email ya est registrado"),r.some(Pt=>Pt.documento===T.documento&&Pt.id!==O?.id)&&(Ve.documento="Este nmero de documento ya est registrado"),V(Ve),!(Object.keys(Ve).length>0))try{if(O){const Pt={...O,nombre:T.nombre,tipoDoc:T.tipoDoc,documento:T.documento,email:T.email,celular:T.celular,direccion:T.direccion,rol:T.rol,role:T.rol,estado:O.estado,password:T.password||O.password,fechaCreacion:O.fechaCreacion,creadoPor:O.creadoPor},At=r.map(ar=>ar.id===O.id?Pt:ar);n(At),localStorage.setItem("damabella_users",JSON.stringify(At)),t("Usuario actualizado correctamente","success")}else{const Pt="Activo";console.log(` [handleSubmit] Creando nuevo usuario con rol: ${T.rol}`);const At={id:Date.now().toString(),nombre:T.nombre,tipoDoc:T.tipoDoc,documento:T.documento,email:T.email,celular:T.celular,direccion:T.direccion,rol:T.rol,role:T.rol,estado:Pt,password:T.password,fechaCreacion:new Date().toISOString().split("T")[0],creadoPor:e?.name||"Sistema"};console.log(" [handleSubmit] Usuario creado:",JSON.stringify(At,null,2)),console.log(`    rol: ${At.rol}, role: ${At.role}`);const ar=[...r,At];n(ar),localStorage.setItem("damabella_users",JSON.stringify(ar)),console.log(" [handleSubmit] Guardados en localStorage:",localStorage.getItem("damabella_users")),t("Usuario creado correctamente","success")}x(!1),M({nombre:"",tipoDoc:"CC",email:"",documento:"",celular:"",direccion:"",rol:"Cliente",estado:"Activo",password:"",confirmPassword:""}),V({}),b(1)}catch(Pt){console.error("Error al guardar usuario:",Pt),t("Error al guardar el usuario","error")}},Ge=(Q,$e)=>{let Pe=$e;Q==="nombre"?Pe=$e.split("").filter(ae=>/^[a-zA-Z0-9\s]$/.test(ae)).join(""):Q==="documento"?Pe=$e.split("").filter(ae=>/^\d$/.test(ae)).join(""):Q==="celular"?Pe=$e.split("").filter(ae=>/^\d$/.test(ae)).join("").slice(0,10):(Q==="password"||Q==="confirmPassword")&&(Pe=$e.split("").filter(ae=>!/['"`]/.test(ae)).join("")),M({...T,[Q]:Pe});let ee="";if(Q==="nombre")ee=R(Pe);else if(Q==="documento")ee=Y(Pe);else if(Q==="celular")ee=W(Pe);else if(Q==="email")ee=U(Pe);else if(Q==="password"){if(ee=F(Pe,!O),T.confirmPassword&&Pe!==T.confirmPassword)V(ae=>({...ae,confirmPassword:"Las contraseas no coinciden"}));else if(T.confirmPassword&&Pe===T.confirmPassword){const{confirmPassword:ae,...we}=I;V(we)}}else Q==="confirmPassword"?!Pe&&!O?ee="Debes repetir la contrasea":T.password&&Pe!==T.password&&(ee="Las contraseas no coinciden"):Q==="direccion"&&Pe&&Pe.trim().length>0&&Pe.trim().length<5&&(ee="La direccin debe tener al menos 5 caracteres");if(ee)V({...I,[Q]:ee});else{const{[Q]:ae,...we}=I;V(we)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-gray-900",children:"Gestin de Usuarios"}),a.jsx("p",{className:"text-gray-600",children:"Administra usuarios, roles y permisos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Te,{onClick:ge,variant:"outline",className:"border-gray-300",children:[a.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Descargar Reporte"]}),a.jsxs(Te,{onClick:ne,className:"bg-black hover:bg-gray-800",children:[a.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Agregar Usuario"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white p-4 rounded-lg border border-gray-200",children:[a.jsx(Dn,{className:"w-5 h-5 text-gray-400"}),a.jsx(Le,{placeholder:"Buscar por nombre, documento o email...",value:c,onChange:Q=>{u(Q.target.value),b(1)},className:"border-0 focus-visible:ring-0"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ss,{value:d,onChange:Q=>m(Q.target.value),children:[a.jsx("option",{value:"todos",children:"Todos"}),o.map(Q=>a.jsx("option",{value:Q.name||Q.nombre,children:Q.name||Q.nombre},Q.id))]}),a.jsxs(ss,{value:h,onChange:Q=>p(Q.target.value),children:[a.jsx("option",{value:"todos",children:"Todos"}),a.jsx("option",{value:"Activo",children:"Activo"}),a.jsx("option",{value:"Inactivo",children:"Inactivo"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(ps,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Usuarios"}),a.jsx("p",{className:"text-3xl",children:ce})]}),a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(Ns,{className:"w-6 h-6 text-gray-600"})})]})}),a.jsx(ps,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Activos"}),a.jsx("p",{className:"text-3xl",children:ie})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Y3,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(ps,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Inactivos"}),a.jsx("p",{className:"text-3xl",children:K})]}),a.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:a.jsx(rM,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(ps,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Administradores"}),a.jsx("p",{className:"text-3xl",children:pe})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Oo,{className:"w-6 h-6 text-blue-600"})})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Nombre"}),a.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Documento"}),a.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Rol"}),a.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Estado"}),a.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Fecha Creacin"}),a.jsx("th",{className:"text-left py-3 px-4 whitespace-nowrap",children:"Creado por"}),a.jsx("th",{className:"text-center py-3 px-4 whitespace-nowrap",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{Math.ceil(me.length/w);const Q=(v-1)*w,$e=Q+w,Pe=me.slice(Q,$e);return Pe.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"py-12 text-center text-gray-500",children:[a.jsx(Ns,{className:"mx-auto mb-2 text-gray-300",size:40}),a.jsx("p",{children:"No se encontraron usuarios"})]})}):Pe.map(ee=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm",children:ee.nombre}),a.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm",children:ee.documento}),a.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm",children:ee.email}),a.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:a.jsx(Bd,{variant:"default",className:"bg-gray-100",children:ee.rol})}),a.jsx("td",{className:"py-3 px-4 whitespace-nowrap",children:a.jsx(Bd,{variant:ee.estado==="Activo"?"success":"default",children:ee.estado})}),a.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm text-gray-600",children:ee.fechaCreacion}),a.jsx("td",{className:"py-3 px-4 whitespace-nowrap text-sm text-gray-600",children:ee.creadoPor}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex justify-center gap-1",children:[a.jsx("button",{onClick:()=>ue(ee),className:"p-1 hover:bg-gray-100 rounded",title:"Ver",children:a.jsx(Ar,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ne(ee),className:`p-1 rounded transition-colors ${ee.estado==="Activo"?"hover:bg-red-50 text-red-600":"hover:bg-green-50 text-green-600"}`,title:ee.estado==="Activo"?"Desactivar usuario":"Activar usuario",children:ee.estado==="Activo"?a.jsx(dN,{className:"w-4 h-4"}):a.jsx(Co,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>se(ee),className:"p-1 hover:bg-gray-100 rounded",title:"Editar",children:a.jsx(ik,{className:"w-4 h-4"})}),te&&a.jsx("button",{onClick:()=>Me(ee.id),className:"p-1 hover:bg-red-50 rounded text-red-600",title:"Eliminar",children:a.jsx(Ao,{className:"w-4 h-4"})})]})})]},ee.id))})()})]})}),a.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",a.jsx("span",{className:"font-medium",children:Math.min((v-1)*w+1,me.length)})," a ",a.jsx("span",{className:"font-medium",children:Math.min(v*w,me.length)})," de ",a.jsx("span",{className:"font-medium",children:me.length})," usuarios"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>b(Q=>Math.max(Q-1,1)),disabled:v===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.ceil(me.length/w)},(Q,$e)=>$e+1).map(Q=>a.jsx("button",{onClick:()=>b(Q),className:`px-3 py-2 rounded-lg transition-colors ${v===Q?"bg-gray-900 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-100"}`,children:Q},Q))}),a.jsx("button",{onClick:()=>b(Q=>Math.min(Q+1,Math.ceil(me.length/w))),disabled:v===Math.ceil(me.length/w)||me.length===0,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"})]})]})]}),a.jsx(pt,{isOpen:y,onClose:()=>x(!1),title:O?"Editar Usuario":"Nuevo Usuario",children:a.jsxs("form",{onSubmit:Ee,className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"nombre",children:"Nombre completo"}),a.jsx(Le,{id:"nombre",value:T.nombre,onChange:Q=>Ge("nombre",Q.target.value),placeholder:"Ej: Juan Prez",className:T.nombre&&!I.nombre?"border-green-500":I.nombre?"border-red-500":"",required:!0}),I.nombre&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:I.nombre})]}),T.nombre&&!I.nombre&&a.jsx("p",{className:"text-green-600 text-xs",children:" Nombre vlido"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"tipoDoc",children:"Tipo de Documento"}),a.jsxs(ss,{value:T.tipoDoc,onChange:Q=>M({...T,tipoDoc:Q.target.value}),children:[a.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),a.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),a.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),a.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"documento",children:"Documento (nmeros)"}),a.jsx(Le,{id:"documento",value:T.documento,onChange:Q=>Ge("documento",Q.target.value),placeholder:"Ej: 1234567890",className:T.documento&&!I.documento?"border-green-500":I.documento?"border-red-500":"",required:!0}),I.documento&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:I.documento})]}),T.documento&&!I.documento&&a.jsx("p",{className:"text-green-600 text-xs",children:" Documento vlido"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"celular",children:"Celular"}),a.jsx(Le,{id:"celular",value:T.celular,onChange:Q=>Ge("celular",Q.target.value),placeholder:"Ej: 3001234567",className:T.celular&&!I.celular?"border-green-500":I.celular?"border-red-500":"",required:!0}),I.celular&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:I.celular})]}),T.celular&&!I.celular&&a.jsx("p",{className:"text-green-600 text-xs",children:" Celular vlido"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"rol",children:"Rol"}),a.jsxs(ss,{value:T.rol,onChange:Q=>M({...T,rol:Q.target.value}),className:T.rol&&!I.rol?"border-green-500":I.rol?"border-red-500":"",children:[a.jsx("option",{value:"",children:"Seleccione un rol"}),o.map(Q=>a.jsx("option",{value:Q.name||Q.nombre,children:Q.name||Q.nombre},Q.id))]}),T.rol&&!I.rol&&a.jsx("p",{className:"text-green-600 text-xs",children:" Rol seleccionado"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"email",children:"Email"}),a.jsx(Le,{id:"email",type:"email",value:T.email,onChange:Q=>Ge("email",Q.target.value),placeholder:"Ej: usuario@ejemplo.com",className:T.email&&!I.email?"border-green-500":I.email?"border-red-500":"",required:!0}),I.email&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:I.email})]}),T.email&&!I.email&&a.jsx("p",{className:"text-green-600 text-xs",children:" Email vlido"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"direccion",children:"Direccin"}),a.jsx(Le,{id:"direccion",value:T.direccion,onChange:Q=>Ge("direccion",Q.target.value),placeholder:"Ej: Calle 123 # 45-67",className:T.direccion&&!I.direccion?"border-green-500":I.direccion?"border-red-500":""}),I.direccion&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:I.direccion})]}),T.direccion&&!I.direccion&&a.jsx("p",{className:"text-green-600 text-xs",children:" Direccin vlida"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"password",children:O?"Contrasea (dejar en blanco para no cambiar)":"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{id:"password",type:z?"text":"password",value:T.password,onChange:Q=>Ge("password",Q.target.value),placeholder:O?"Dejar en blanco para no cambiar":"Mnimo 6 caracteres",className:T.password&&!I.password?"border-green-500":I.password?"border-red-500":"",required:!O}),a.jsx("button",{type:"button",onClick:()=>B(!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:z?a.jsx(jo,{size:20}):a.jsx(Ar,{size:20})})]}),I.password&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:I.password})]}),T.password&&!I.password&&a.jsx("p",{className:"text-green-600 text-xs",children:" Contrasea vlida"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"confirmPassword",children:"Repetir Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{id:"confirmPassword",type:D?"text":"password",value:T.confirmPassword,onChange:Q=>Ge("confirmPassword",Q.target.value),placeholder:"Repetir contrasea",className:T.confirmPassword&&!I.confirmPassword&&T.password===T.confirmPassword?"border-green-500":I.confirmPassword?"border-red-500":"",required:!O}),a.jsx("button",{type:"button",onClick:()=>G(!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:D?a.jsx(jo,{size:20}):a.jsx(Ar,{size:20})})]}),I.confirmPassword&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Mt,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-red-500 text-sm",children:I.confirmPassword})]}),T.password&&T.confirmPassword&&!I.confirmPassword&&a.jsx("p",{className:"text-green-600 text-xs",children:" Las contraseas coinciden"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Ct,{htmlFor:"estado",children:"Estado"}),a.jsxs(ss,{value:T.estado,onChange:Q=>M({...T,estado:Q.target.value}),children:[a.jsx("option",{value:"Activo",children:"Activo"}),a.jsx("option",{value:"Inactivo",children:"Inactivo"})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancelar"}),a.jsx(Te,{type:"submit",className:"bg-black hover:bg-gray-800",children:O?"Actualizar":"Crear"})]})]})}),a.jsx(pt,{isOpen:N,onClose:()=>A(!1),title:"Detalles del Usuario",children:O&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ct,{className:"text-gray-600",children:"Nombre"}),a.jsx("p",{className:"text-gray-900",children:O.nombre})]}),a.jsxs("div",{children:[a.jsx(Ct,{className:"text-gray-600",children:"Documento"}),a.jsx("p",{className:"text-gray-900",children:O.documento})]}),a.jsxs("div",{children:[a.jsx(Ct,{className:"text-gray-600",children:"Email"}),a.jsx("p",{className:"text-gray-900",children:O.email})]}),a.jsxs("div",{children:[a.jsx(Ct,{className:"text-gray-600",children:"Rol"}),a.jsx("p",{className:"text-gray-900",children:O.rol})]}),a.jsxs("div",{children:[a.jsx(Ct,{className:"text-gray-600",children:"Estado"}),a.jsx(Bd,{variant:O.estado==="Activo"?"success":"default",children:O.estado})]}),a.jsxs("div",{children:[a.jsx(Ct,{className:"text-gray-600",children:"Fecha de Creacin"}),a.jsx("p",{className:"text-gray-900",children:O.fechaCreacion})]}),a.jsxs("div",{children:[a.jsx(Ct,{className:"text-gray-600",children:"Creado por"}),a.jsx("p",{className:"text-gray-900",children:O.creadoPor})]})]})}),a.jsx(pt,{isOpen:E,onClose:()=>_(!1),title:"Confirmar Eliminacin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mt,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 font-medium",children:"Deseas eliminar este usuario?"}),a.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Esta accin no se puede deshacer. El usuario ",a.jsx("strong",{children:O?.nombre})," ser eliminado permanentemente del sistema."]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),a.jsxs(Te,{type:"button",className:"bg-red-600 hover:bg-red-700",onClick:ve,children:[a.jsx(Ao,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})}),a.jsx(pt,{isOpen:P,onClose:()=>k(!1),title:O?.estado==="Activo"?"Desactivar Usuario":"Activar Usuario",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mt,{className:`w-6 h-6 flex-shrink-0 mt-0.5 ${O?.estado==="Activo"?"text-orange-500":"text-blue-500"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-900 font-medium",children:O?.estado==="Activo"?"Ests seguro de que deseas desactivar este usuario?":"Ests seguro de que deseas activar este usuario?"}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:O?.estado==="Activo"?a.jsxs(a.Fragment,{children:["El usuario ",a.jsx("strong",{children:O?.nombre})," ser desactivado y no podr acceder al sistema."]}):a.jsxs(a.Fragment,{children:["El usuario ",a.jsx("strong",{children:O?.nombre})," ser activado y podr acceder al sistema nuevamente."]})}),O?.estado==="Activo"&&a.jsx("p",{className:"text-orange-600 text-xs mt-2 bg-orange-50 p-2 rounded",children:" Esta accin desactivar el usuario temporalmente. Podrs reactivarlo en cualquier momento."})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancelar"}),a.jsx(Te,{type:"button",className:O?.estado==="Activo"?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700",onClick:Se,children:O?.estado==="Activo"?a.jsxs(a.Fragment,{children:[a.jsx(dN,{className:"w-4 h-4 mr-2"}),"Desactivar Usuario"]}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Activar Usuario"]})})]})]})})]})}const QK=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},eJ=(e,t)=>({classGroupId:e,validator:t}),MT=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),qf="-",pA=[],tJ="arbitrary..",rJ=e=>{const t=aJ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return nJ(c);const u=c.split(qf),d=u[0]===""&&u.length>1?1:0;return RT(u,d,t)},getConflictingClassGroupIds:(c,u)=>{if(u){const d=n[c],m=r[c];return d?m?QK(m,d):d:m||pA}return r[c]||pA}}},RT=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],s=r.nextPart.get(o);if(s){const m=RT(e,t+1,s);if(m)return m}const c=r.validators;if(c===null)return;const u=t===0?e.join(qf):e.slice(t).join(qf),d=c.length;for(let m=0;m<d;m++){const h=c[m];if(h.validator(u))return h.classGroupId}},nJ=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?tJ+n:void 0})(),aJ=e=>{const{theme:t,classGroups:r}=e;return oJ(r,t)},oJ=(e,t)=>{const r=MT();for(const n in e){const o=e[n];Cj(o,r,n,t)}return r},Cj=(e,t,r,n)=>{const o=e.length;for(let s=0;s<o;s++){const c=e[s];iJ(c,t,r,n)}},iJ=(e,t,r,n)=>{if(typeof e=="string"){sJ(e,t,r);return}if(typeof e=="function"){lJ(e,t,r,n);return}cJ(e,t,r,n)},sJ=(e,t,r)=>{const n=e===""?t:LT(t,e);n.classGroupId=r},lJ=(e,t,r,n)=>{if(uJ(e)){Cj(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(eJ(r,e))},cJ=(e,t,r,n)=>{const o=Object.entries(e),s=o.length;for(let c=0;c<s;c++){const[u,d]=o[c];Cj(d,LT(t,u),r,n)}},LT=(e,t)=>{let r=e;const n=t.split(qf),o=n.length;for(let s=0;s<o;s++){const c=n[s];let u=r.nextPart.get(c);u||(u=MT(),r.nextPart.set(c,u)),r=u}return r},uJ=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,dJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(s,c)=>{r[s]=c,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(s){let c=r[s];if(c!==void 0)return c;if((c=n[s])!==void 0)return o(s,c),c},set(s,c){s in r?r[s]=c:o(s,c)}}},db="!",hA=":",fJ=[],gA=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),mJ=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const s=[];let c=0,u=0,d=0,m;const h=o.length;for(let y=0;y<h;y++){const x=o[y];if(c===0&&u===0){if(x===hA){s.push(o.slice(d,y)),d=y+1;continue}if(x==="/"){m=y;continue}}x==="["?c++:x==="]"?c--:x==="("?u++:x===")"&&u--}const p=s.length===0?o:o.slice(d);let v=p,b=!1;p.endsWith(db)?(v=p.slice(0,-1),b=!0):p.startsWith(db)&&(v=p.slice(1),b=!0);const w=m&&m>d?m-d:void 0;return gA(s,b,v,w)};if(t){const o=t+hA,s=n;n=c=>c.startsWith(o)?s(c.slice(o.length)):gA(fJ,!1,c,void 0,!0)}if(r){const o=n;n=s=>r({className:s,parseClassName:o})}return n},pJ=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let s=0;s<r.length;s++){const c=r[s],u=c[0]==="[",d=t.has(c);u||d?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(c)):o.push(c)}return o.length>0&&(o.sort(),n.push(...o)),n}},hJ=e=>({cache:dJ(e.cacheSize),parseClassName:mJ(e),sortModifiers:pJ(e),...rJ(e)}),gJ=/\s+/,vJ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:s}=t,c=[],u=e.trim().split(gJ);let d="";for(let m=u.length-1;m>=0;m-=1){const h=u[m],{isExternal:p,modifiers:v,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:y}=r(h);if(p){d=h+(d.length>0?" "+d:d);continue}let x=!!y,N=n(x?w.substring(0,y):w);if(!N){if(!x){d=h+(d.length>0?" "+d:d);continue}if(N=n(w),!N){d=h+(d.length>0?" "+d:d);continue}x=!1}const A=v.length===0?"":v.length===1?v[0]:s(v).join(":"),E=b?A+db:A,_=E+N;if(c.indexOf(_)>-1)continue;c.push(_);const P=o(N,x);for(let k=0;k<P.length;++k){const O=P[k];c.push(E+O)}d=h+(d.length>0?" "+d:d)}return d},yJ=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=zT(r))&&(o&&(o+=" "),o+=n);return o},zT=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zT(e[n]))&&(r&&(r+=" "),r+=t);return r},xJ=(e,...t)=>{let r,n,o,s;const c=d=>{const m=t.reduce((h,p)=>p(h),e());return r=hJ(m),n=r.cache.get,o=r.cache.set,s=u,u(d)},u=d=>{const m=n(d);if(m)return m;const h=vJ(d,r);return o(d,h),h};return s=c,(...d)=>s(yJ(...d))},bJ=[],yr=e=>{const t=r=>r[e]||bJ;return t.isThemeGetter=!0,t},FT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jJ=/^\d+\/\d+$/,wJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=e=>jJ.test(e),jt=e=>!!e&&!Number.isNaN(Number(e)),ho=e=>!!e&&Number.isInteger(Number(e)),xy=e=>e.endsWith("%")&&jt(e.slice(0,-1)),Oa=e=>wJ.test(e),PJ=()=>!0,OJ=e=>NJ.test(e)&&!SJ.test(e),VT=()=>!1,AJ=e=>CJ.test(e),kJ=e=>EJ.test(e),_J=e=>!Ye(e)&&!Ze(e),IJ=e=>ol(e,WT,VT),Ye=e=>FT.test(e),ti=e=>ol(e,HT,OJ),by=e=>ol(e,RJ,jt),vA=e=>ol(e,qT,VT),TJ=e=>ol(e,UT,kJ),Od=e=>ol(e,GT,AJ),Ze=e=>BT.test(e),Xl=e=>il(e,HT),DJ=e=>il(e,LJ),yA=e=>il(e,qT),$J=e=>il(e,WT),MJ=e=>il(e,UT),Ad=e=>il(e,GT,!0),ol=(e,t,r)=>{const n=FT.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},il=(e,t,r=!1)=>{const n=BT.exec(e);return n?n[1]?t(n[1]):r:!1},qT=e=>e==="position"||e==="percentage",UT=e=>e==="image"||e==="url",WT=e=>e==="length"||e==="size"||e==="bg-size",HT=e=>e==="length",RJ=e=>e==="number",LJ=e=>e==="family-name",GT=e=>e==="shadow",zJ=()=>{const e=yr("color"),t=yr("font"),r=yr("text"),n=yr("font-weight"),o=yr("tracking"),s=yr("leading"),c=yr("breakpoint"),u=yr("container"),d=yr("spacing"),m=yr("radius"),h=yr("shadow"),p=yr("inset-shadow"),v=yr("text-shadow"),b=yr("drop-shadow"),w=yr("blur"),y=yr("perspective"),x=yr("aspect"),N=yr("ease"),A=yr("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[..._(),Ze,Ye],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],L=()=>[Ze,Ye,d],T=()=>[rs,"full","auto",...L()],M=()=>[ho,"none","subgrid",Ze,Ye],I=()=>["auto",{span:["full",ho,Ze,Ye]},ho,Ze,Ye],V=()=>[ho,"auto",Ze,Ye],z=()=>["auto","min","max","fr",Ze,Ye],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...L()],te=()=>[rs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],R=()=>[e,Ze,Ye],Y=()=>[..._(),yA,vA,{position:[Ze,Ye]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",$J,IJ,{size:[Ze,Ye]}],W=()=>[xy,Xl,ti],ce=()=>["","none","full",m,Ze,Ye],ie=()=>["",jt,Xl,ti],K=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[jt,xy,yA,vA],ne=()=>["","none",w,Ze,Ye],se=()=>["none",jt,Ze,Ye],ue=()=>["none",jt,Ze,Ye],Me=()=>[jt,Ze,Ye],ve=()=>[rs,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oa],breakpoint:[Oa],color:[PJ],container:[Oa],"drop-shadow":[Oa],ease:["in","out","in-out"],font:[_J],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oa],shadow:[Oa],spacing:["px",jt],text:[Oa],"text-shadow":[Oa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rs,Ye,Ze,x]}],container:["container"],columns:[{columns:[jt,Ye,Ze,u]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[ho,"auto",Ze,Ye]}],basis:[{basis:[rs,"full","auto",u,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[jt,rs,"auto","initial","none",Ye]}],grow:[{grow:["",jt,Ze,Ye]}],shrink:[{shrink:["",jt,Ze,Ye]}],order:[{order:[ho,"first","last","none",Ze,Ye]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[u,"screen",...te()]}],"min-w":[{"min-w":[u,"screen","none",...te()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",r,Xl,ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ze,by]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xy,Ye]}],"font-family":[{font:[DJ,Ye,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ze,Ye]}],"line-clamp":[{"line-clamp":[jt,"none",Ze,by]}],leading:[{leading:[s,...L()]}],"list-image":[{"list-image":["none",Ze,Ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ze,Ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:[jt,"from-font","auto",Ze,ti]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[jt,"auto",Ze,Ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze,Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze,Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ho,Ze,Ye],radial:["",Ze,Ye],conic:[ho,Ze,Ye]},MJ,TJ]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...K(),"hidden","none"]}],"divide-style":[{divide:[...K(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...K(),"none","hidden"]}],"outline-offset":[{"outline-offset":[jt,Ze,Ye]}],"outline-w":[{outline:["",jt,Xl,ti]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",h,Ad,Od]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",p,Ad,Od]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[jt,ti]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",v,Ad,Od]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[jt,Ze,Ye]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[Ze,Ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ze,Ye]}],filter:[{filter:["","none",Ze,Ye]}],blur:[{blur:ne()}],brightness:[{brightness:[jt,Ze,Ye]}],contrast:[{contrast:[jt,Ze,Ye]}],"drop-shadow":[{"drop-shadow":["","none",b,Ad,Od]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",jt,Ze,Ye]}],"hue-rotate":[{"hue-rotate":[jt,Ze,Ye]}],invert:[{invert:["",jt,Ze,Ye]}],saturate:[{saturate:[jt,Ze,Ye]}],sepia:[{sepia:["",jt,Ze,Ye]}],"backdrop-filter":[{"backdrop-filter":["","none",Ze,Ye]}],"backdrop-blur":[{"backdrop-blur":ne()}],"backdrop-brightness":[{"backdrop-brightness":[jt,Ze,Ye]}],"backdrop-contrast":[{"backdrop-contrast":[jt,Ze,Ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",jt,Ze,Ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[jt,Ze,Ye]}],"backdrop-invert":[{"backdrop-invert":["",jt,Ze,Ye]}],"backdrop-opacity":[{"backdrop-opacity":[jt,Ze,Ye]}],"backdrop-saturate":[{"backdrop-saturate":[jt,Ze,Ye]}],"backdrop-sepia":[{"backdrop-sepia":["",jt,Ze,Ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ze,Ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[jt,"initial",Ze,Ye]}],ease:[{ease:["linear","initial",N,Ze,Ye]}],delay:[{delay:[jt,Ze,Ye]}],animate:[{animate:["none",A,Ze,Ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ze,Ye]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:ue()}],"scale-x":[{"scale-x":ue()}],"scale-y":[{"scale-y":ue()}],"scale-z":[{"scale-z":ue()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[Ze,Ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze,Ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze,Ye]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[jt,Xl,ti,by]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},FJ=xJ(zJ);function BJ(...e){return FJ(vt(e))}function xA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ej(...e){return t=>{let r=!1;const n=e.map(o=>{const s=xA(o,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let o=0;o<n.length;o++){const s=n[o];typeof s=="function"?s():xA(e[o],null)}}}}function Ei(...e){return C.useCallback(Ej(...e),e)}function So(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return t?.(o)}}function VJ(e,t){const r=C.createContext(t),n=s=>{const{children:c,...u}=s,d=C.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:d,children:c})};n.displayName=e+"Provider";function o(s){const c=C.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,o]}function qJ(e,t=[]){let r=[];function n(s,c){const u=C.createContext(c),d=r.length;r=[...r,c];const m=p=>{const{scope:v,children:b,...w}=p,y=v?.[e]?.[d]||u,x=C.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:x,children:b})};m.displayName=s+"Provider";function h(p,v){const b=v?.[e]?.[d]||u,w=C.useContext(b);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[m,h]}const o=()=>{const s=r.map(c=>C.createContext(c));return function(u){const d=u?.[e]||s;return C.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return o.scopeName=e,[n,UJ(o,...t)]}function UJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const c=n.reduce((u,{useScope:d,scopeName:m})=>{const p=d(s)[`__scope${m}`];return{...u,...p}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var bA=globalThis?.document?C.useLayoutEffect:()=>{};function WJ(e){const t=HJ(e),r=C.forwardRef((n,o)=>{const{children:s,...c}=n,u=C.Children.toArray(s),d=u.find(KJ);if(d){const m=d.props.children,h=u.map(p=>p===d?C.Children.count(m)>1?C.Children.only(null):C.isValidElement(m)?m.props.children:null:p);return a.jsx(t,{...c,ref:o,children:C.isValidElement(m)?C.cloneElement(m,void 0,h):null})}return a.jsx(t,{...c,ref:o,children:s})});return r.displayName=`${e}.Slot`,r}function HJ(e){const t=C.forwardRef((r,n)=>{const{children:o,...s}=r;if(C.isValidElement(o)){const c=XJ(o),u=JJ(s,o.props);return o.type!==C.Fragment&&(u.ref=n?Ej(n,c):c),C.cloneElement(o,u)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GJ=Symbol("radix.slottable");function KJ(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GJ}function JJ(e,t){const r={...t};for(const n in t){const o=e[n],s=t[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...u)=>{const d=s(...u);return o(...u),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...e,...r}}function XJ(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var YJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mo=YJ.reduce((e,t)=>{const r=WJ(`Primitive.${t}`),n=C.forwardRef((o,s)=>{const{asChild:c,...u}=o,d=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ZJ(e,t){e&&nq.flushSync(()=>e.dispatchEvent(t))}function Xc(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>t.current?.(...r),[])}function QJ(e,t=globalThis?.document){const r=Xc(e);C.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var eX="DismissableLayer",fb="dismissableLayer.update",tX="dismissableLayer.pointerDownOutside",rX="dismissableLayer.focusOutside",jA,KT=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),JT=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:c,onDismiss:u,...d}=e,m=C.useContext(KT),[h,p]=C.useState(null),v=h?.ownerDocument??globalThis?.document,[,b]=C.useState({}),w=Ei(t,O=>p(O)),y=Array.from(m.layers),[x]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(x),A=h?y.indexOf(h):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,_=A>=N,P=oX(O=>{const L=O.target,T=[...m.branches].some(M=>M.contains(L));!_||T||(o?.(O),c?.(O),O.defaultPrevented||u?.())},v),k=iX(O=>{const L=O.target;[...m.branches].some(M=>M.contains(L))||(s?.(O),c?.(O),O.defaultPrevented||u?.())},v);return QJ(O=>{A===m.layers.size-1&&(n?.(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},v),C.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(jA=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),wA(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=jA)}},[h,v,r,m]),C.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),wA())},[h,m]),C.useEffect(()=>{const O=()=>b({});return document.addEventListener(fb,O),()=>document.removeEventListener(fb,O)},[]),a.jsx(Mo.div,{...d,ref:w,style:{pointerEvents:E?_?"auto":"none":void 0,...e.style},onFocusCapture:So(e.onFocusCapture,k.onFocusCapture),onBlurCapture:So(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:So(e.onPointerDownCapture,P.onPointerDownCapture)})});JT.displayName=eX;var nX="DismissableLayerBranch",aX=C.forwardRef((e,t)=>{const r=C.useContext(KT),n=C.useRef(null),o=Ei(t,n);return C.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Mo.div,{...e,ref:o})});aX.displayName=nX;function oX(e,t=globalThis?.document){const r=Xc(e),n=C.useRef(!1),o=C.useRef(()=>{});return C.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let d=function(){XT(tX,r,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function iX(e,t=globalThis?.document){const r=Xc(e),n=C.useRef(!1);return C.useEffect(()=>{const o=s=>{s.target&&!n.current&&XT(rX,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function wA(){const e=new CustomEvent(fb);document.dispatchEvent(e)}function XT(e,t,r,{discrete:n}){const o=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?ZJ(o,s):o.dispatchEvent(s)}var jy="focusScope.autoFocusOnMount",wy="focusScope.autoFocusOnUnmount",NA={bubbles:!1,cancelable:!0},sX="FocusScope",YT=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...c}=e,[u,d]=C.useState(null),m=Xc(o),h=Xc(s),p=C.useRef(null),v=Ei(t,y=>d(y)),b=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let y=function(E){if(b.paused||!u)return;const _=E.target;u.contains(_)?p.current=_:vo(p.current,{select:!0})},x=function(E){if(b.paused||!u)return;const _=E.relatedTarget;_!==null&&(u.contains(_)||vo(p.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&vo(u)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const A=new MutationObserver(N);return u&&A.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),A.disconnect()}}},[n,u,b.paused]),C.useEffect(()=>{if(u){CA.add(b);const y=document.activeElement;if(!u.contains(y)){const N=new CustomEvent(jy,NA);u.addEventListener(jy,m),u.dispatchEvent(N),N.defaultPrevented||(lX(mX(ZT(u)),{select:!0}),document.activeElement===y&&vo(u))}return()=>{u.removeEventListener(jy,m),setTimeout(()=>{const N=new CustomEvent(wy,NA);u.addEventListener(wy,h),u.dispatchEvent(N),N.defaultPrevented||vo(y??document.body,{select:!0}),u.removeEventListener(wy,h),CA.remove(b)},0)}}},[u,m,h,b]);const w=C.useCallback(y=>{if(!r&&!n||b.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,N=document.activeElement;if(x&&N){const A=y.currentTarget,[E,_]=cX(A);E&&_?!y.shiftKey&&N===_?(y.preventDefault(),r&&vo(E,{select:!0})):y.shiftKey&&N===E&&(y.preventDefault(),r&&vo(_,{select:!0})):N===A&&y.preventDefault()}},[r,n,b.paused]);return a.jsx(Mo.div,{tabIndex:-1,...c,ref:v,onKeyDown:w})});YT.displayName=sX;function lX(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(vo(n,{select:t}),document.activeElement!==r)return}function cX(e){const t=ZT(e),r=SA(t,e),n=SA(t.reverse(),e);return[r,n]}function ZT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function SA(e,t){for(const r of e)if(!uX(r,{upTo:t}))return r}function uX(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dX(e){return e instanceof HTMLInputElement&&"select"in e}function vo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dX(e)&&t&&e.select()}}var CA=fX();function fX(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=EA(e,t),e.unshift(t)},remove(t){e=EA(e,t),e[0]?.resume()}}}function EA(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mX(e){return e.filter(t=>t.tagName!=="A")}function pX(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var Pj=e=>{const{present:t,children:r}=e,n=hX(t),o=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),s=Ei(n.ref,gX(o));return typeof r=="function"||n.isPresent?C.cloneElement(o,{ref:s}):null};Pj.displayName="Presence";function hX(e){const[t,r]=C.useState(),n=C.useRef(null),o=C.useRef(e),s=C.useRef("none"),c=e?"mounted":"unmounted",[u,d]=pX(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const m=kd(n.current);s.current=u==="mounted"?m:"none"},[u]),bA(()=>{const m=n.current,h=o.current;if(h!==e){const v=s.current,b=kd(m);e?d("MOUNT"):b==="none"||m?.display==="none"?d("UNMOUNT"):d(h&&v!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),bA(()=>{if(t){let m;const h=t.ownerDocument.defaultView??window,p=b=>{const y=kd(n.current).includes(CSS.escape(b.animationName));if(b.target===t&&y&&(d("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",m=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},v=b=>{b.target===t&&(s.current=kd(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:C.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function kd(e){return e?.animationName||"none"}function gX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ny=0;function vX(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PA()),document.body.insertAdjacentElement("beforeend",e[1]??PA()),Ny++,()=>{Ny===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ny--}},[])}function PA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oa=function(){return oa=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},oa.apply(this,arguments)};function QT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function yX(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Vd="right-scroll-bar-position",qd="width-before-scroll-bar",xX="with-scroll-bars-hidden",bX="--removed-body-scroll-bar-size";function Sy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jX(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var wX=typeof window<"u"?C.useLayoutEffect:C.useEffect,OA=new WeakMap;function NX(e,t){var r=jX(null,function(n){return e.forEach(function(o){return Sy(o,n)})});return wX(function(){var n=OA.get(r);if(n){var o=new Set(n),s=new Set(e),c=r.current;o.forEach(function(u){s.has(u)||Sy(u,null)}),s.forEach(function(u){o.has(u)||Sy(u,c)})}OA.set(r,e)},[e]),r}function SX(e){return e}function CX(e,t){t===void 0&&(t=SX);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var c=t(s,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(s){for(n=!0;r.length;){var c=r;r=[],c.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(s),c=r}var d=function(){var h=c;c=[],h.forEach(s)},m=function(){return Promise.resolve().then(d)};m(),r={push:function(h){c.push(h),m()},filter:function(h){return c=c.filter(h),r}}}};return o}function EX(e){e===void 0&&(e={});var t=CX(null);return t.options=oa({async:!0,ssr:!1},e),t}var eD=function(e){var t=e.sideCar,r=QT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,oa({},r))};eD.isSideCarExport=!0;function PX(e,t){return e.useMedium(t),eD}var tD=EX(),Cy=function(){},Im=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:Cy,onWheelCapture:Cy,onTouchMoveCapture:Cy}),o=n[0],s=n[1],c=e.forwardProps,u=e.children,d=e.className,m=e.removeScrollBar,h=e.enabled,p=e.shards,v=e.sideCar,b=e.noRelative,w=e.noIsolation,y=e.inert,x=e.allowPinchZoom,N=e.as,A=N===void 0?"div":N,E=e.gapMode,_=QT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,k=NX([r,t]),O=oa(oa({},_),o);return C.createElement(C.Fragment,null,h&&C.createElement(P,{sideCar:tD,removeScrollBar:m,shards:p,noRelative:b,noIsolation:w,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:E}),c?C.cloneElement(C.Children.only(u),oa(oa({},O),{ref:k})):C.createElement(A,oa({},O,{className:d,ref:k}),u))});Im.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Im.classNames={fullWidth:qd,zeroRight:Vd};var OX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=OX();return t&&e.setAttribute("nonce",t),e}function kX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _X(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var IX=function(){var e=0,t=null;return{add:function(r){e==0&&(t=AX())&&(kX(t,r),_X(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TX=function(){var e=IX();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rD=function(){var e=TX(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},DX={left:0,top:0,right:0,gap:0},Ey=function(e){return parseInt(e||"",10)||0},$X=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Ey(r),Ey(n),Ey(o)]},MX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DX;var t=$X(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},RX=rD(),bs="data-scroll-locked",LX=function(e,t,r,n){var o=e.left,s=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(bs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vd,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(qd,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Vd," .").concat(Vd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qd," .").concat(qd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bs,`] {
    `).concat(bX,": ").concat(u,`px;
  }
`)},AA=function(){var e=parseInt(document.body.getAttribute(bs)||"0",10);return isFinite(e)?e:0},zX=function(){C.useEffect(function(){return document.body.setAttribute(bs,(AA()+1).toString()),function(){var e=AA()-1;e<=0?document.body.removeAttribute(bs):document.body.setAttribute(bs,e.toString())}},[])},FX=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;zX();var s=C.useMemo(function(){return MX(o)},[o]);return C.createElement(RX,{styles:LX(s,!t,o,r?"":"!important")})},mb=!1;if(typeof window<"u")try{var _d=Object.defineProperty({},"passive",{get:function(){return mb=!0,!0}});window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{mb=!1}var ns=mb?{passive:!1}:!1,BX=function(e){return e.tagName==="TEXTAREA"},nD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!BX(e)&&r[t]==="visible")},VX=function(e){return nD(e,"overflowY")},qX=function(e){return nD(e,"overflowX")},kA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=aD(e,n);if(o){var s=oD(e,n),c=s[1],u=s[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UX=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},WX=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},aD=function(e,t){return e==="v"?VX(t):qX(t)},oD=function(e,t){return e==="v"?UX(t):WX(t)},HX=function(e,t){return e==="h"&&t==="rtl"?-1:1},GX=function(e,t,r,n,o){var s=HX(e,window.getComputedStyle(t).direction),c=s*n,u=r.target,d=t.contains(u),m=!1,h=c>0,p=0,v=0;do{if(!u)break;var b=oD(e,u),w=b[0],y=b[1],x=b[2],N=y-x-s*w;(w||N)&&aD(e,u)&&(p+=N,v+=w);var A=u.parentNode;u=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(h&&Math.abs(p)<1||!h&&Math.abs(v)<1)&&(m=!0),m},Id=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_A=function(e){return[e.deltaX,e.deltaY]},IA=function(e){return e&&"current"in e?e.current:e},KX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XX=0,as=[];function YX(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),o=C.useState(XX++)[0],s=C.useState(rD)[0],c=C.useRef(e);C.useEffect(function(){c.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var y=yX([e.lockRef.current],(e.shards||[]).map(IA),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=C.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!c.current.allowPinchZoom;var N=Id(y),A=r.current,E="deltaX"in y?y.deltaX:A[0]-N[0],_="deltaY"in y?y.deltaY:A[1]-N[1],P,k=y.target,O=Math.abs(E)>Math.abs(_)?"h":"v";if("touches"in y&&O==="h"&&k.type==="range")return!1;var L=kA(O,k);if(!L)return!0;if(L?P=O:(P=O==="v"?"h":"v",L=kA(O,k)),!L)return!1;if(!n.current&&"changedTouches"in y&&(E||_)&&(n.current=P),!P)return!0;var T=n.current||P;return GX(T,x,y,T==="h"?E:_)},[]),d=C.useCallback(function(y){var x=y;if(!(!as.length||as[as.length-1]!==s)){var N="deltaY"in x?_A(x):Id(x),A=t.current.filter(function(P){return P.name===x.type&&(P.target===x.target||x.target===P.shadowParent)&&KX(P.delta,N)})[0];if(A&&A.should){x.cancelable&&x.preventDefault();return}if(!A){var E=(c.current.shards||[]).map(IA).filter(Boolean).filter(function(P){return P.contains(x.target)}),_=E.length>0?u(x,E[0]):!c.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),m=C.useCallback(function(y,x,N,A){var E={name:y,delta:x,target:N,should:A,shadowParent:ZX(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(_){return _!==E})},1)},[]),h=C.useCallback(function(y){r.current=Id(y),n.current=void 0},[]),p=C.useCallback(function(y){m(y.type,_A(y),y.target,u(y,e.lockRef.current))},[]),v=C.useCallback(function(y){m(y.type,Id(y),y.target,u(y,e.lockRef.current))},[]);C.useEffect(function(){return as.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",d,ns),document.addEventListener("touchmove",d,ns),document.addEventListener("touchstart",h,ns),function(){as=as.filter(function(y){return y!==s}),document.removeEventListener("wheel",d,ns),document.removeEventListener("touchmove",d,ns),document.removeEventListener("touchstart",h,ns)}},[]);var b=e.removeScrollBar,w=e.inert;return C.createElement(C.Fragment,null,w?C.createElement(s,{styles:JX(o)}):null,b?C.createElement(FX,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ZX(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QX=PX(tD,YX);var iD=C.forwardRef(function(e,t){return C.createElement(Im,oa({},e,{ref:t,sideCar:QX}))});iD.classNames=Im.classNames;var eY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},os=new WeakMap,Td=new WeakMap,Dd={},Py=0,sD=function(e){return e&&(e.host||sD(e.parentNode))},tY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=sD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rY=function(e,t,r,n){var o=tY(t,Array.isArray(e)?e:[e]);Dd[r]||(Dd[r]=new WeakMap);var s=Dd[r],c=[],u=new Set,d=new Set(o),m=function(p){!p||u.has(p)||(u.add(p),m(p.parentNode))};o.forEach(m);var h=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(v){if(u.has(v))h(v);else try{var b=v.getAttribute(n),w=b!==null&&b!=="false",y=(os.get(v)||0)+1,x=(s.get(v)||0)+1;os.set(v,y),s.set(v,x),c.push(v),y===1&&w&&Td.set(v,!0),x===1&&v.setAttribute(r,"true"),w||v.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return h(t),u.clear(),Py++,function(){c.forEach(function(p){var v=os.get(p)-1,b=s.get(p)-1;os.set(p,v),s.set(p,b),v||(Td.has(p)||p.removeAttribute(n),Td.delete(p)),b||p.removeAttribute(r)}),Py--,Py||(os=new WeakMap,os=new WeakMap,Td=new WeakMap,Dd={})}},nY=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=eY(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),rY(n,o,r,"aria-hidden")):function(){return null}};function aY(e){const t=oY(e),r=C.forwardRef((n,o)=>{const{children:s,...c}=n,u=C.Children.toArray(s),d=u.find(sY);if(d){const m=d.props.children,h=u.map(p=>p===d?C.Children.count(m)>1?C.Children.only(null):C.isValidElement(m)?m.props.children:null:p);return a.jsx(t,{...c,ref:o,children:C.isValidElement(m)?C.cloneElement(m,void 0,h):null})}return a.jsx(t,{...c,ref:o,children:s})});return r.displayName=`${e}.Slot`,r}function oY(e){const t=C.forwardRef((r,n)=>{const{children:o,...s}=r;if(C.isValidElement(o)){const c=cY(o),u=lY(s,o.props);return o.type!==C.Fragment&&(u.ref=n?Ej(n,c):c),C.cloneElement(o,u)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iY=Symbol("radix.slottable");function sY(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iY}function lY(e,t){const r={...t};for(const n in t){const o=e[n],s=t[n];/^on[A-Z]/.test(n)?o&&s?r[n]=(...u)=>{const d=s(...u);return o(...u),d}:o&&(r[n]=o):n==="style"?r[n]={...o,...s}:n==="className"&&(r[n]=[o,s].filter(Boolean).join(" "))}return{...e,...r}}function cY(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var lD="Dialog",[cD]=qJ(lD),[FZ,pa]=cD(lD),uD="DialogTrigger",uY=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=pa(uD,r),s=Ei(t,o.triggerRef);return a.jsx(Mo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Aj(o.open),...n,ref:s,onClick:So(e.onClick,o.onOpenToggle)})});uY.displayName=uD;var dY="DialogPortal",[BZ,dD]=cD(dY,{forceMount:void 0}),Uf="DialogOverlay",fD=C.forwardRef((e,t)=>{const r=dD(Uf,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=pa(Uf,e.__scopeDialog);return s.modal?a.jsx(Pj,{present:n||s.open,children:a.jsx(mY,{...o,ref:t})}):null});fD.displayName=Uf;var fY=aY("DialogOverlay.RemoveScroll"),mY=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=pa(Uf,r);return a.jsx(iD,{as:fY,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Mo.div,{"data-state":Aj(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),xi="DialogContent",pY=C.forwardRef((e,t)=>{const r=dD(xi,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,s=pa(xi,e.__scopeDialog);return a.jsx(Pj,{present:n||s.open,children:s.modal?a.jsx(hY,{...o,ref:t}):a.jsx(gY,{...o,ref:t})})});pY.displayName=xi;var hY=C.forwardRef((e,t)=>{const r=pa(xi,e.__scopeDialog),n=C.useRef(null),o=Ei(t,r.contentRef,n);return C.useEffect(()=>{const s=n.current;if(s)return nY(s)},[]),a.jsx(mD,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:So(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:So(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&s.preventDefault()}),onFocusOutside:So(e.onFocusOutside,s=>s.preventDefault())})}),gY=C.forwardRef((e,t)=>{const r=pa(xi,e.__scopeDialog),n=C.useRef(!1),o=C.useRef(!1);return a.jsx(mD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;r.triggerRef.current?.contains(c)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),mD=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...c}=e,u=pa(xi,r),d=C.useRef(null),m=Ei(t,d);return vX(),a.jsxs(a.Fragment,{children:[a.jsx(YT,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:a.jsx(JT,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Aj(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(bY,{titleId:u.titleId}),a.jsx(wY,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Oj="DialogTitle",vY=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=pa(Oj,r);return a.jsx(Mo.h2,{id:o.titleId,...n,ref:t})});vY.displayName=Oj;var pD="DialogDescription",yY=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=pa(pD,r);return a.jsx(Mo.p,{id:o.descriptionId,...n,ref:t})});yY.displayName=pD;var hD="DialogClose",xY=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=pa(hD,r);return a.jsx(Mo.button,{type:"button",...n,ref:t,onClick:So(e.onClick,()=>o.onOpenChange(!1))})});xY.displayName=hD;function Aj(e){return e?"open":"closed"}var gD="DialogTitleWarning",[VZ,vD]=VJ(gD,{contentName:xi,titleName:Oj,docsSlug:"dialog"}),bY=({titleId:e})=>{const t=vD(gD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jY="DialogDescriptionWarning",wY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vD(jY).contentName}}.`;return C.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},NY=fD;function SY({className:e,...t},r){return a.jsx(NY,{ref:r,"data-slot":"dialog-overlay",className:BJ("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[999998] bg-black/50",e),...t})}C.forwardRef(SY);function CY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let pb=1;class EY{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,s=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:pb++,c=this.toasts.find(d=>d.id===s),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),c?this.toasts=this.toasts.map(d=>d.id===s?(this.publish({...d,...t,id:s,title:n}),{...d,...t,id:s,dismissible:u,title:n}):d):this.addToast({title:n,...o,dismissible:u,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let s=n!==void 0,c;const u=o.then(async m=>{if(c=["resolve",m],Z.isValidElement(m))s=!1,this.create({id:n,type:"default",message:m});else if(OY(m)&&!m.ok){s=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,w=typeof p=="object"&&!Z.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:v,...w})}else if(m instanceof Error){s=!1;const p=typeof r.error=="function"?await r.error(m):r.error,v=typeof r.description=="function"?await r.description(m):r.description,w=typeof p=="object"&&!Z.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:v,...w})}else if(r.success!==void 0){s=!1;const p=typeof r.success=="function"?await r.success(m):r.success,v=typeof r.description=="function"?await r.description(m):r.description,w=typeof p=="object"&&!Z.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:v,...w})}}).catch(async m=>{if(c=["reject",m],r.error!==void 0){s=!1;const h=typeof r.error=="function"?await r.error(m):r.error,p=typeof r.description=="function"?await r.description(m):r.description,b=typeof h=="object"&&!Z.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:p,...b})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((m,h)=>u.then(()=>c[0]==="reject"?h(c[1]):m(c[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||pb++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const An=new EY,PY=(e,t)=>{const r=t?.id||pb++;return An.addToast({title:e,...t,id:r}),r},OY=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AY=PY,kY=()=>An.toasts,_Y=()=>An.getActiveToasts(),ra=Object.assign(AY,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:kY,getToasts:_Y});CY("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();function IY(){const{user:e}=Sj(),[t,r]=C.useState(null),[n,o]=C.useState(!0),[s,c]=C.useState(""),u=C.useCallback(b=>b.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),[]),d=C.useCallback(()=>{if(s)return s;if(e?.role)return console.log(" [usePermissions.getUserRole] User role from AuthContext:",e.role),e.role;const b=localStorage.getItem("damabella_user");if(b)try{const w=JSON.parse(b);if(w.role)return console.log(" [usePermissions.getUserRole] User role from localStorage['damabella_user']:",w.role),w.role}catch(w){console.error("Error parsing saved user:",w)}try{const w=localStorage.getItem("damabella_users");if(w&&JSON.parse(w).find(N=>(N.nombre==="Administrador Damabella"||N.name==="Administrador Damabella")&&(N.activo===!0||N.estado==="Activo")))return console.log(" [usePermissions.getUserRole] Detected admin from damabella_users"),"Administrador"}catch(w){console.error("Error detecting admin:",w)}return console.warn(" [usePermissions.getUserRole] No role found anywhere"),""},[s,e?.role]);C.useEffect(()=>{const b=()=>{try{console.log(" [usePermissions.loadUserRole] INICIANDO - user?.role:",e?.role);let y="";if(e?.role)y=e.role,console.log(" [usePermissions.loadUserRole] Rol desde AuthContext:",y);else{const N=localStorage.getItem("damabella_user");if(N)try{const A=JSON.parse(N);A.role&&(y=A.role,console.log(" [usePermissions.loadUserRole] Rol desde localStorage['damabella_user']:",y))}catch(A){console.error(" [usePermissions.loadUserRole] Error parsing saved user:",A)}}if(!y){console.warn(" [usePermissions.loadUserRole] No se encontr rol de usuario, buscando en damabella_users...");const N=localStorage.getItem("damabella_users");if(N)try{const E=JSON.parse(N).find(_=>_.activo===!0||_.estado==="Activo");E?.role&&(y=E.role,console.log(" [usePermissions.loadUserRole] Rol desde damabella_users:",y))}catch(A){console.error(" Error parsing users:",A)}}if(c(y),!y){console.warn(" [usePermissions.loadUserRole] FINAL: No se encontr rol de usuario en ningn lado"),r(null),o(!1);return}if(y==="Administrador"){console.log(" [usePermissions.loadUserRole] Usuario es Administrador - Acceso Total"),r(null),o(!1);return}const x=localStorage.getItem("damabella_roles");if(x){const N=JSON.parse(x);console.log(" [usePermissions.loadUserRole] Roles disponibles:",N.map(E=>E.name));const A=N.find(E=>E.name===y);A?(console.log(` [usePermissions.loadUserRole] Permisos cargados para rol: ${y}`,A),r(A)):(console.warn(` [usePermissions.loadUserRole] Rol "${y}" no encontrado en damabella_roles`),r(null))}else console.warn(" [usePermissions.loadUserRole] No hay roles definidos en localStorage['damabella_roles']"),r(null)}catch(y){console.error(" [usePermissions.loadUserRole] Error cargando permisos:",y),r(null)}finally{o(!1)}};b();const w=y=>{(y.key==="damabella_roles"||y.key==="damabella_user")&&y.newValue&&(console.log(" [usePermissions] Roles/Usuario actualizados desde otro tab, recargando..."),b())};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[e?.role]);const m=C.useCallback((b,w)=>{const y=w.replace("can","").toLowerCase();if(s==="Administrador")return console.log(` [usePermissions.hasPermission] ADMIN: Acceso total a ${b}.${w}`),!0;if(!t)return s?(console.warn(" [usePermissions.hasPermission] No hay rol cargado"),!1):(console.warn(` [usePermissions.hasPermission] No hay rol, asumiendo Administrador por fallback para ${b}.${w}`),!0);const x=u(b),N=t.permissions.find(_=>u(_.module)===x);if(!N)return console.warn(` [usePermissions.hasPermission] Mdulo no encontrado: ${b}`),!1;const A=`can${y.charAt(0).toUpperCase()}${y.slice(1)}`,E=N[A]===!0;return console.log(` [usePermissions.hasPermission] ${b}.${w} = ${E}`),E},[t,s,u]),h=C.useCallback(()=>s==="Administrador"?["Usuarios","Roles","Categorias","Productos","Clientes","Proveedores","Tallas","Colores","Pedidos","Ventas","Compras","Devoluciones"]:t?t.permissions.filter(b=>b.canView).map(b=>b.module):[],[t,s]),p=C.useCallback(b=>{if(s==="Administrador")return!0;if(!t||!s)return!1;const w=u(b),y=t.permissions.find(x=>u(x.module)===w);return y?y.canView||y.canCreate||y.canEdit||y.canDelete:!1},[t,s,u]),v=C.useCallback(b=>{if(console.log(` [usePermissions.getModulePermissions] Buscando permisos para: ${b}, currentUserRole: ${s}, userRole: ${t?"loaded":"null"}`),s==="Administrador")return console.log(` [usePermissions.getModulePermissions] ADMIN: Acceso total a ${b}`),{canView:!0,canCreate:!0,canEdit:!0,canDelete:!0};if(!t)return s?(console.warn(` [usePermissions.getModulePermissions] No hay rol cargado para ${b}`),{canView:!1,canCreate:!1,canEdit:!1,canDelete:!1}):(console.warn(` [usePermissions.getModulePermissions] No hay rol cargado para ${b}, asumiendo Administrador por fallback`),{canView:!0,canCreate:!0,canEdit:!0,canDelete:!0});const w=u(b),y=t.permissions.find(x=>u(x.module)===w);return y?(console.log(` [usePermissions.getModulePermissions] ${b}:`,y),{canView:y.canView,canCreate:y.canCreate,canEdit:y.canEdit,canDelete:y.canDelete}):(console.warn(` [usePermissions.getModulePermissions] Mdulo no encontrado: ${b}`),{canView:!1,canCreate:!1,canEdit:!1,canDelete:!1})},[t,s,u]);return{userRole:t,isLoading:n,getUserRole:d,hasPermission:m,getVisibleModules:h,canAccessModule:p,getModulePermissions:v}}const TA="damabella_categorias",$d="damabella_productos",Oy="damabella_disabled_products_by_category",TY=[{id:1,name:"Vestidos Largos",description:"Vestidos elegantes de largo completo",active:!0},{id:2,name:"Vestidos Cortos",description:"Vestidos casuales y formales cortos",active:!0},{id:3,name:"Sets",description:"Conjuntos de dos piezas",active:!0},{id:4,name:"Enterizos",description:"Prendas de una sola pieza",active:!0}];function DY(){const[e,t]=C.useState(()=>{const ge=localStorage.getItem(TA);return ge?JSON.parse(ge).map(Ge=>({id:Ge.id,name:Ge.name||Ge.nombre,description:Ge.description||Ge.descripcion,active:Ge.active!==void 0?Ge.active:Ge.activo})):TY}),[r,n]=C.useState(()=>{const ge=localStorage.getItem($d);return ge?JSON.parse(ge):[]}),[o,s]=C.useState(()=>{const ge=localStorage.getItem(Oy);return ge?JSON.parse(ge):{}}),{showToast:c}=$o(),{getModulePermissions:u}=IY(),[d,m]=C.useState(!1),[h,p]=C.useState(null),[v,b]=C.useState({name:"",description:""}),[w,y]=C.useState({}),[x,N]=C.useState(""),[A,E]=C.useState(1),[_,P]=C.useState(!1),[k,O]=C.useState(!1),[L,T]=C.useState(null),[M,I]=C.useState(null),[V,z]=C.useState(!1),[B,D]=C.useState("grid"),G=10,te=u("Categorias"),R=te.canView,Y=te.canCreate,U=te.canEdit;C.useEffect(()=>{console.log(" [CategoriasManager] Permisos del usuario:",{canViewCategorias:R,canCreateCategorias:Y,canEditCategorias:U});const ge=Ee=>{Ee.key==="damabella_roles"&&(console.log(" [CategoriasManager] Roles actualizados en otro tab/mdulo, recalculando permisos"),window.location.reload())};return window.addEventListener("storage",ge),()=>window.removeEventListener("storage",ge)},[R,Y,U]),C.useEffect(()=>{localStorage.setItem(TA,JSON.stringify(e))},[e]),C.useEffect(()=>{const ge=()=>{const Ee=localStorage.getItem($d);Ee&&n(JSON.parse(Ee))};return window.addEventListener("storage",ge),()=>window.removeEventListener("storage",ge)},[]);const F=ge=>r.filter(Ee=>Ee.categoria===ge&&Ee.activo===!0).length,W=ge=>r.filter(Ee=>Ee.categoria===ge&&Ee.activo===!0),ce=ge=>{I(ge),z(!0)},ie=(ge,Ee)=>{let Ge=Ee;Ge=Ee.split("").filter($e=>/^[a-zA-Z0-9\s\-]$/.test($e)).join(""),b({...v,[ge]:Ge});const Q={};Ge.trim()||(Q.name="El nombre de la categora es requerido"),y({...w,...Q})},K=()=>{p(null),b({name:"",description:""}),y({name:""}),m(!0)},pe=ge=>{p(ge),b({name:ge.name,description:ge.description}),y({name:""}),m(!0)},me=()=>{const ge={};if(v.name.trim()||(ge.name="El nombre de la categora es requerido"),Object.keys(ge).length>0){y(ge);return}h?(t(e.map(Ee=>Ee.id===h.id?{...Ee,...v}:Ee)),c(` Categora "${v.name}" actualizada correctamente`,"success")):(t([...e,{id:Date.now(),...v,active:!0,productos:0}]),c(` Categora "${v.name}" creada correctamente`,"success")),m(!1)},ne=ge=>{const Ee=e.find(Ge=>Ge.id===ge);Ee&&Ee.active?(T(Ee),P(!0)):Ee&&!Ee.active&&(T(Ee),O(!0))},se=()=>{if(L){const ge=L.name;if(t(e.map(Ee=>Ee.id===L.id?{...Ee,active:!0}:Ee)),o[ge]){const Ee=r.map(Q=>o[ge].includes(Q.id)?{...Q,activo:!0}:Q);n(Ee),localStorage.setItem($d,JSON.stringify(Ee));const Ge={...o};delete Ge[ge],s(Ge),localStorage.setItem(Oy,JSON.stringify(Ge)),console.log(` Categora "${ge}" activada. Se reactivaron ${o[ge].length} producto(s)`)}else console.log(` Categora "${ge}" activada (sin productos desactivados)`)}O(!1),T(null)},ue=()=>{if(L){const ge=L.name;t(e.map($e=>$e.id===L.id?{...$e,active:!1}:$e));const Ee=[],Ge=r.map($e=>$e.categoria===ge?(Ee.push($e.id),{...$e,activo:!1}):$e),Q={...o};Q[ge]=Ee,s(Q),localStorage.setItem(Oy,JSON.stringify(Q)),n(Ge),localStorage.setItem($d,JSON.stringify(Ge)),console.log(` Categora "${ge}" desactivada. Se guardaron ${Ee.length} producto(s) para futura reactivacin`)}P(!1),T(null)},Me=e.filter(ge=>{const Ee=x.toLowerCase();return ge.id.toString().includes(x)||(ge.name?.toLowerCase()??"").includes(Ee)||(ge.description?.toLowerCase()??"").includes(Ee)||(ge.active?"activa":"inactiva").includes(Ee)}),ve=Math.ceil(Me.length/G),Ne=(A-1)*G,Se=Me.slice(Ne,Ne+G);return C.useEffect(()=>{E(1)},[x]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Categoras de Productos"}),a.jsx("p",{className:"text-gray-600",children:"Gestiona las categoras: Vestidos Largos, Vestidos Cortos, Sets y Enterizos"})]}),a.jsxs(Te,{onClick:K,variant:"primary",disabled:!Y,title:Y?"":"No tienes permiso para crear categoras",children:[a.jsx(Kr,{size:20}),"Nueva Categora"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:'Buscar por nombre, descripcin o escribe "activa" / "inactiva"',value:x,onChange:ge=>N(ge.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>D("grid"),className:`p-2 rounded-lg transition-colors ${B==="grid"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Vista de cuadrcula",children:a.jsx(H4,{size:20})}),a.jsx("button",{onClick:()=>D("list"),className:`p-2 rounded-lg transition-colors ${B==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:"Vista de lista",children:a.jsx(a3,{size:20})})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>N("activa"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${x==="activa"?"bg-green-600 text-white":"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100"}`,children:" Activas"}),a.jsx("button",{onClick:()=>N("inactiva"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${x==="inactiva"?"bg-gray-600 text-white":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:" Inactivas"}),x&&a.jsx("button",{onClick:()=>N(""),className:"px-3 py-1.5 rounded-lg text-sm font-medium bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 transition-colors ml-auto",children:"Limpiar filtro"})]})]})}),Me.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 py-16 text-center",children:[a.jsx(an,{className:"mx-auto mb-4 text-gray-300",size:64}),a.jsx("h3",{className:"text-gray-900 text-xl mb-2",children:"No se encontraron categoras"}),a.jsx("p",{className:"text-gray-600",children:"Intenta con otro trmino de bsqueda"})]}):a.jsxs(a.Fragment,{children:[B==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Se.map(ge=>a.jsxs("div",{className:"bg-gray-50 rounded-2xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200",children:[a.jsxs("div",{className:"bg-white p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-2xl flex items-center justify-center",children:a.jsx(V4,{size:28,className:"text-gray-600"})}),a.jsx("button",{onClick:()=>ne(ge.id),className:`relative w-14 h-7 rounded-full transition-colors ${ge.active?"bg-green-500":"bg-gray-400"}`,children:a.jsx("div",{className:`absolute top-0.5 left-0.5 w-6 h-6 bg-white rounded-full transition-transform ${ge.active?"translate-x-7":"translate-x-0"}`})})]}),a.jsx("h3",{className:"text-gray-900 text-xl",children:ge.name})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-gray-600 mb-4 min-h-[3rem]",children:ge.description}),a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-500 text-sm",children:"Productos"}),a.jsxs("button",{onClick:()=>ce(ge),className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 transition-colors cursor-pointer",title:"Ver productos",children:[a.jsx(an,{size:16}),a.jsx("span",{className:"font-semibold",children:F(ge.name)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${ge.active?"text-green-600":"text-gray-400"}`,children:ge.active?"Activa":"Inactiva"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ce(ge),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Ver productos",children:a.jsx(Ar,{size:18})}),a.jsx("button",{onClick:()=>pe(ge),disabled:!U,className:`p-2 rounded-lg transition-colors ${U?"hover:bg-white text-gray-600":"opacity-50 cursor-not-allowed text-gray-400"}`,title:U?"Editar":"No tienes permiso para editar",children:a.jsx(fi,{size:18})})]})]})]})]},ge.id))}):a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Nombre"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Descripcin"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Productos"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Acciones"})]})}),a.jsx("tbody",{children:Se.map((ge,Ee)=>a.jsxs("tr",{className:Ee!==Se.length-1?"border-b border-gray-200":"",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:ge.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ge.description}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("button",{onClick:()=>ce(ge),className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100 transition-colors text-sm font-medium",children:[a.jsx(an,{size:14}),F(ge.name)]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${ge.active?"bg-green-50 text-green-700 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-300"}`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${ge.active?"bg-green-600":"bg-gray-400"}`}),ge.active?"Activa":"Inactiva"]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>ce(ge),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Ver productos",children:a.jsx(Ar,{size:18})}),a.jsx("button",{onClick:()=>pe(ge),disabled:!U,className:`p-2 rounded-lg transition-colors ${U?"hover:bg-gray-100 text-gray-600":"opacity-50 cursor-not-allowed text-gray-400"}`,title:U?"Editar":"No tienes permiso para editar",children:a.jsx(fi,{size:18})})]})})]},ge.id))})]})})}),ve>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8 pb-6",children:[a.jsx("button",{onClick:()=>E(Math.max(1,A-1)),disabled:A===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:ve},(ge,Ee)=>Ee+1).map(ge=>a.jsx("button",{onClick:()=>E(ge),className:`px-3 py-2 rounded-lg transition-colors ${A===ge?"bg-blue-600 text-white":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:ge},ge))}),a.jsx("button",{onClick:()=>E(Math.min(ve,A+1)),disabled:A===ve,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"}),a.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Pgina ",A," de ",ve]})]})]}),a.jsx(pt,{isOpen:d,onClose:()=>m(!1),title:h?"Editar Categora":"Nueva Categora",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre de la Categora *"}),a.jsx(Le,{value:v.name,onChange:ge=>ie("name",ge.target.value),placeholder:"Ej: Vestidos Largos",required:!0}),w.name&&a.jsx("p",{className:"text-red-500 text-sm",children:w.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Descripcin"}),a.jsx("textarea",{value:v.description,onChange:ge=>b({...v,description:ge.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:3,placeholder:"Describe esta categora"})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{onClick:()=>m(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:me,variant:"primary",children:h?"Guardar Cambios":"Crear Categora"})]})]})}),a.jsx(pt,{isOpen:V,onClose:()=>{z(!1),I(null)},title:`Productos de ${M?.name}`,children:a.jsx("div",{className:"space-y-4",children:M&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:a.jsx("p",{className:"text-gray-700",children:M.description})}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:W(M.name).length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(an,{className:"mx-auto mb-2 text-gray-400",size:48}),a.jsx("p",{className:"text-gray-600",children:"No hay productos en esta categora"})]}):W(M.name).map((ge,Ee)=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:ge.nombre}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Proveedor: ",a.jsx("span",{className:"font-medium",children:ge.proveedor})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Precio Venta: ",a.jsxs("span",{className:"font-semibold text-green-600",children:["$",Number(ge.precioVenta).toLocaleString("es-CO")]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-green-50 border border-green-200",children:[a.jsx("span",{className:"w-2 h-2 bg-green-600 rounded-full"}),a.jsx("span",{className:"text-xs font-medium text-green-700",children:"Activo"})]})})]})},Ee))}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(Te,{onClick:()=>z(!1),variant:"secondary",children:"Cerrar"})})]})})}),a.jsx(pt,{isOpen:_,onClose:()=>{P(!1),T(null)},title:"Confirmar Desactivacin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-gray-700 mb-2",children:["Est seguro de que desea desactivar la categora ",a.jsx("strong",{children:L?.name}),"?"]}),a.jsxs("p",{className:"text-yellow-800 font-semibold text-sm mb-2",children:[" Se desactivarn ",F(L?.name||"")," producto(s) relacionado(s)"]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Esta categora y sus productos no sern visibles en el catlogo. Puede reactivarlos en cualquier momento."})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{onClick:()=>{P(!1),T(null)},variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:ue,variant:"primary",children:"Desactivar Categora y Productos"})]})]})}),a.jsx(pt,{isOpen:k,onClose:()=>{O(!1),T(null)},title:"Confirmar Activacin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("p",{className:"text-gray-700 mb-2",children:["Est seguro de que desea activar la categora ",a.jsx("strong",{children:L?.name}),"?"]}),a.jsxs("p",{className:"text-green-800 font-semibold text-sm mb-2",children:[" Se activarn ",o[L?.name]?.length||0," producto(s) relacionado(s)"]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Esta categora y sus productos volvern a ser visibles en el catlogo."})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{onClick:()=>{O(!1),T(null)},variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:se,variant:"primary",className:"bg-green-600 hover:bg-green-700",children:"Activar Categora y Productos"})]})]})})]})}const Md="damabella_productos",Ay="damabella_categorias",DA="damabella_proveedores",$A="damabella_tallas",MA="damabella_colores";function $Y(){const e=()=>[{nombre:"Negro",hex:"#000000"},{nombre:"Blanco",hex:"#FFFFFF"},{nombre:"Gris",hex:"#808080"},{nombre:"Azul",hex:"#0000FF"},{nombre:"Rojo",hex:"#FF0000"},{nombre:"Verde",hex:"#008000"},{nombre:"Amarillo",hex:"#FFFF00"},{nombre:"Rosa",hex:"#FFC0CB"},{nombre:"Naranja",hex:"#FFA500"},{nombre:"Prpura",hex:"#800080"},{nombre:"Beige",hex:"#F5F5DC"},{nombre:"Marrn",hex:"#A52A2A"},{nombre:"Azul Marino",hex:"#000080"},{nombre:"Turquesa",hex:"#40E0D0"},{nombre:"Dorado",hex:"#FFD700"}],[t,r]=C.useState(()=>{const ee=localStorage.getItem(Md);let ae=ee?JSON.parse(ee):[];const we=(()=>{const Fe=localStorage.getItem(Ay);return Fe?JSON.parse(Fe):[{id:1,name:"Vestidos Largos"},{id:2,name:"Vestidos Cortos"},{id:3,name:"Sets"},{id:4,name:"Enterizos"}]})(),Ve=ae.map(Fe=>{if(Fe.categoryId&&!Fe.categoria){const gt=we.find(Pt=>String(Pt.id)===String(Fe.categoryId)||Pt.name===Fe.categoryId)?.name;if(gt)return console.log(` [ProductosManager-INIT] Migrando ${Fe.nombre}: categoryId="${Fe.categoryId}"  categoria="${gt}"`),{...Fe,categoria:gt}}return Fe});return JSON.stringify(ae)!==JSON.stringify(Ve)&&(console.log(" [ProductosManager-INIT] Guardando productos migrados..."),localStorage.setItem(Md,JSON.stringify(Ve))),Ve}),[n,o]=C.useState(()=>{const ee=localStorage.getItem(Ay);return ee?JSON.parse(ee):[{id:1,name:"Vestidos Largos"},{id:2,name:"Vestidos Cortos"},{id:3,name:"Sets"},{id:4,name:"Enterizos"}]});C.useEffect(()=>{const ee=setInterval(()=>{const ae=localStorage.getItem(Ay);if(ae)try{const we=JSON.parse(ae);o(we),console.log("[ProductosManager]  Categoras actualizadas:",we.length),r(Ve=>{const Fe=Ve.map(gt=>{if(gt.categoryId&&!gt.categoria){const Pt=we.find(At=>String(At.id)===String(gt.categoryId)||At.name===gt.categoryId)?.name;if(Pt)return console.log(` [ProductosManager-SYNC] Resolviendo categora: ${gt.nombre} = "${Pt}"`),{...gt,categoria:Pt}}return gt});return JSON.stringify(Ve)!==JSON.stringify(Fe)&&localStorage.setItem(Md,JSON.stringify(Fe)),Fe})}catch(we){console.error("[ProductosManager] Error al actualizar categoras:",we)}},1e3);return()=>clearInterval(ee)},[]);const[s,c]=C.useState(()=>{const ee=localStorage.getItem(DA);return ee?JSON.parse(ee):[]});C.useEffect(()=>{const ee=setInterval(()=>{const ae=localStorage.getItem(DA);if(ae)try{const we=JSON.parse(ae);c(we)}catch(we){console.error("[ProductosManager] Error al actualizar proveedores:",we)}},1e3);return()=>clearInterval(ee)},[]);const[u,d]=C.useState(()=>{const ee=localStorage.getItem($A);if(ee)try{const we=JSON.parse(ee).map(Ve=>Ve.abbreviation||Ve.name||Ve).filter(Boolean);if(we.length>0)return we}catch{}return["XS","S","M","L","XL","XXL"]});C.useEffect(()=>{const ee=setInterval(()=>{const ae=localStorage.getItem($A);if(ae)try{const Ve=JSON.parse(ae).map(Fe=>Fe.abbreviation||Fe.name||Fe).filter(Boolean);Ve.length>0&&d(Ve)}catch(we){console.error("[ProductosManager] Error al actualizar tallas:",we)}},1e3);return()=>clearInterval(ee)},[]);const[m,h]=C.useState(()=>{const ee=localStorage.getItem(MA);if(ee)try{const we=JSON.parse(ee).map(Ve=>({nombre:Ve.name||Ve.nombre||"",hex:Ve.hexCode||Ve.hex||"#000000"})).filter(Ve=>Ve.nombre);if(we.length>0)return we}catch{}return e()});C.useEffect(()=>{const ee=setInterval(()=>{const ae=localStorage.getItem(MA);if(ae)try{const Ve=JSON.parse(ae).map(Fe=>({nombre:Fe.name||Fe.nombre||"",hex:Fe.hexCode||Fe.hex||"#000000"})).filter(Fe=>Fe.nombre);Ve.length>0&&h(Ve)}catch(we){console.error("[ProductosManager] Error al actualizar colores:",we)}},1e3);return()=>clearInterval(ee)},[]);const[p,v]=C.useState(!1),[b,w]=C.useState(!1),[y,x]=C.useState(!1),[N,A]=C.useState(null),[E,_]=C.useState(null),[P,k]=C.useState(""),[O,L]=C.useState(1),T=10,[M,I]=C.useState({nombre:"",proveedor:"",categoria:"",precioVenta:"",imagen:"",variantes:[]}),[V,z]=C.useState({}),[B,D]=C.useState(!1),[G,te]=C.useState(null),[R,Y]=C.useState(!1),[U,F]=C.useState(null),[W,ce]=C.useState({visible:!1,message:"",type:"error"}),[ie,K]=C.useState({talla:"",colores:[{color:"",cantidad:0}]});C.useEffect(()=>{localStorage.setItem(Md,JSON.stringify(t))},[t]);const pe=()=>{ce({visible:!0,message:" Los productos se crean SOLO desde el mdulo Compras. Este mdulo solo permite editar metadatos.",type:"error"})},me=ee=>{_(ee),w(!0),I({nombre:ee.nombre||"",proveedor:ee.proveedor||"",categoria:ee.categoria||"",precioVenta:ee.precioVenta?ee.precioVenta.toString():"",imagen:ee.imagen||"",variantes:ee.variantes&&ee.variantes.length>0?ee.variantes:[]}),K({talla:"",colores:[{color:"",cantidad:0}]}),z({}),v(!0)},ne=ee=>{A(ee),x(!0)},se=()=>{const ee={},ae=Gn("nombre",M.nombre);ae&&(ee.nombre=ae),M.proveedor||(ee.proveedor="Este campo es obligatorio"),M.categoria||(ee.categoria="Este campo es obligatorio");const we=Gn("price",M.precioVenta);if(we&&(ee.precioVenta=we),!E){ce({visible:!0,message:" No se pueden crear nuevos productos desde este mdulo. Solo editar metadatos de productos existentes.",type:"error"});return}if(Object.keys(ee).length>0){z(ee);return}const Ve={nombre:M.nombre,proveedor:M.proveedor,categoria:M.categoria,precioVenta:parseFloat(M.precioVenta),activo:E?E.activo:!0,variantes:E.variantes,imagen:M.imagen,createdAt:E?E.createdAt:new Date().toISOString()};if(E){const Fe={...E,...Ve,id:E.id,variantes:E.variantes,categoryId:E.categoryId};console.log(" [ProductosManager] Actualizando metadatos del producto:",{id:Fe.id,nombre:Fe.nombre,categoria:Fe.categoria,precioVenta:Fe.precioVenta,variantesMantenidas:Fe.variantes.length,camposEditados:["nombre","categoria","precioVenta","proveedor","imagen"],camposProtegidos:["categoryId","variantes","referencia","precioCompra"]}),r(t.map(gt=>gt.id===E.id?Fe:gt)),ce({visible:!0,message:" Metadatos del producto actualizados. Las variantes se crean desde Compras.",type:"success"})}v(!1),w(!1),z({}),K({talla:"",colores:[{color:"",cantidad:0}]})},ue=(ee,ae)=>{I({...M,[ee]:ae});let we="";if(ee==="nombre"?we=Gn("nombre",ae):ee==="precioVenta"?we=Gn("price",ae):(ee==="proveedor"||ee==="categoria")&&(we=ae?"":"Este campo es obligatorio"),we)z({...V,[ee]:we});else{const{[ee]:Ve,...Fe}=V;z(Fe)}},Me=ee=>{te(ee),D(!0)},ve=()=>{G&&(r(t.filter(ee=>ee.id!==G)),ce({visible:!0,message:"Producto eliminado exitosamente",type:"success"})),D(!1),te(null)},Ne=ee=>{F(ee),Y(!0)},Se=()=>{if(U){const ee=t.find(we=>we.id===U);r(t.map(we=>we.id===U?{...we,activo:!we.activo}:we));const ae=ee?.activo?"desactivado":"activado";ce({visible:!0,message:`Producto ${ae} exitosamente`,type:"success"})}Y(!1),F(null)},ge=ee=>{const ae=ee.target.files?.[0];if(ae){const we=new FileReader;we.onloadend=()=>{I({...M,imagen:we.result})},we.readAsDataURL(ae)}},Ee=t.filter(ee=>{const ae=P.toLowerCase();return(ee.nombre?.toLowerCase()??"").includes(ae)||(ee.categoria?.toLowerCase()??"").includes(ae)||(ee.proveedor?.toLowerCase()??"").includes(ae)||(ee.activo?"activo":"inactivo").includes(ae)||ee.precioVenta.toString().includes(ae)||(ee.variantes||[]).some(we=>(we.talla?.toLowerCase()??"").includes(ae)||(we.colores||[]).some(Ve=>(Ve.color?.toLowerCase()??"").includes(ae)))}),Ge=ee=>!ee.variantes||!Array.isArray(ee.variantes)?0:ee.variantes.reduce((ae,we)=>!we.colores||!Array.isArray(we.colores)?ae:ae+we.colores.reduce((Ve,Fe)=>Ve+(Fe.cantidad||0),0),0),Q=()=>{const ee=["Nombre","Categora","Proveedor","Precio","Estado","Stock Total","Tallas","Colores"],ae=t.map(gt=>[gt.nombre,gt.categoria,gt.proveedor,gt.precioVenta,gt.activo?"Activo":"Inactivo",Ge(gt),(gt.variantes||[]).map(Pt=>Pt.talla).join(" / ")||"Sin tallas",(gt.variantes||[]).flatMap(Pt=>Pt.colores.map(At=>At.color)).join(" / ")||"Sin colores"]),we=[ee.join("	"),...ae.map(gt=>gt.join("	"))].join(`
`),Ve=new Blob([we],{type:"text/plain;charset=utf-8;"}),Fe=document.createElement("a");Fe.href=URL.createObjectURL(Ve),Fe.download=`productos_${new Date().toISOString().split("T")[0]}.xlsx`,Fe.click()},$e=Math.ceil(Ee.length/T),Pe=Ee.slice((O-1)*T,O*T);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{isOpen:W.visible,onClose:()=>ce({...W,visible:!1}),title:W.type==="error"?"Error":W.type==="success"?"xito":"Informacin",size:"sm",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[W.type==="error"&&a.jsx(Mt,{className:"text-red-600",size:24}),W.type==="success"&&a.jsx(Co,{className:"text-green-600",size:24}),a.jsx("p",{className:"text-gray-700",children:W.message})]}),a.jsx("div",{className:"flex justify-end gap-2 mt-4",children:a.jsx(Te,{onClick:()=>ce({...W,visible:!1}),variant:"primary",children:"Aceptar"})})]}),a.jsx(pt,{isOpen:B,onClose:()=>D(!1),title:"Confirmar Eliminacin",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Est seguro de que desea eliminar este producto? Esta accin no se puede deshacer."}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(Te,{onClick:()=>D(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:ve,variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})}),a.jsx(pt,{isOpen:R,onClose:()=>Y(!1),title:"Confirmar Cambio de Estado",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:"Desea cambiar el estado de este producto?"}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(Te,{onClick:()=>Y(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:Se,variant:"primary",children:"Confirmar"})]})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Productos"}),a.jsx("p",{className:"text-gray-600",children:"Administra el inventario con mltiples tallas y colores por producto"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Te,{onClick:Q,variant:"secondary",children:[a.jsx(Eo,{size:20}),"Exportar Excel"]}),a.jsxs(Te,{onClick:pe,variant:"primary",disabled:!0,title:"Los productos se crean desde el mdulo Compras",children:[a.jsx(Kr,{size:20}),"Nuevo Producto (desde Compras)"]})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:"Buscar productos...",value:P,onChange:ee=>k(ee.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Pe.length===0?a.jsxs("div",{className:"col-span-full py-12 text-center text-gray-500",children:[a.jsx(an,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{children:"No se encontraron productos"})]}):Pe.map(ee=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"h-48 bg-gray-100 relative",children:[ee.imagen?a.jsx("img",{src:ee.imagen,alt:ee.nombre,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(Y4,{className:"text-gray-300",size:48})}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("button",{onClick:()=>Ne(ee.id),className:`px-3 py-1 rounded-full text-xs font-medium ${ee.activo?"bg-green-500 text-white":"bg-gray-300 text-gray-700"}`,children:ee.activo?"Activo":"Inactivo"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-gray-900 mb-1",children:ee.nombre}),a.jsx("p",{className:"text-sm text-gray-500 mb-3",children:ee.categoria}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",(ee.precioVenta||0).toLocaleString()]}),a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Stock total: ",a.jsx("span",{className:"font-semibold",children:Ge(ee)})," unidades"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>ne(ee),className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-gray-700 flex items-center justify-center gap-2 text-sm",children:[a.jsx(Ar,{size:16}),"Ver Detalle"]}),a.jsx("button",{onClick:()=>me(ee),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-gray-700",children:a.jsx(fi,{size:16})}),a.jsx("button",{onClick:()=>Me(ee.id),className:"px-3 py-2 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-red-600",children:a.jsx(Ao,{size:16})})]})]})]},ee.id))}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsx("button",{onClick:()=>L(O-1),disabled:O===1,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-gray-700",children:"Anterior"}),a.jsxs("div",{className:"text-gray-600",children:["Pgina ",O," de ",$e]}),a.jsx("button",{onClick:()=>L(O+1),disabled:O===$e,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors text-gray-700",children:"Siguiente"})]}),a.jsx(pt,{isOpen:y,onClose:()=>x(!1),title:"Detalle del Producto",size:"lg",children:N&&a.jsxs("div",{className:"space-y-6",children:[N.imagen&&a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:N.imagen,alt:N.nombre,className:"w-full max-w-md h-64 object-cover rounded-lg"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Nombre"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:N.nombre})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Categora"}),a.jsx("p",{className:"font-medium text-gray-900",children:N.categoria})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Precio"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",N.precioVenta.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${N.activo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:N.activo?"Activo":"Inactivo"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Tallas y Colores Disponibles"}),!N.variantes||N.variantes.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No hay variantes configuradas"}):a.jsx("div",{className:"space-y-4",children:N.variantes.map((ee,ae)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Talla: ",ee.talla]}),ee.colores.length===0?a.jsx("p",{className:"text-sm text-gray-600",children:"No hay colores disponibles"}):a.jsx("div",{className:"space-y-2",children:ee.colores.map((we,Ve)=>{const Fe=m.find(gt=>gt.nombre===we.color);return a.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-md",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded border border-gray-300",style:{backgroundColor:Fe?.hex||"#000000"}}),a.jsx("span",{className:"font-medium text-gray-900",children:we.color})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Stock"}),a.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${we.cantidad>20?"bg-green-100 text-green-700":we.cantidad>10?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[we.cantidad," unidades"]})]})]},Ve)})})]},ae))})]}),N.variantes&&N.variantes.length>0&&a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Stock Total:"}),a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[Ge(N)," unidades"]})]})})]})}),a.jsx(pt,{isOpen:p,onClose:()=>{v(!1),w(!1),z({}),_(null),I({nombre:"",proveedor:"",categoria:"",precioVenta:"",imagen:"",variantes:[]}),K({talla:"",colores:[{color:"",cantidad:0}]})},title:E?"Editar Producto":"Nuevo Producto",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre del Producto *"}),a.jsx(Le,{value:M.nombre,onChange:ee=>ue("nombre",ee.target.value),placeholder:"Ej: Vestido Elegante",required:!0}),V.nombre&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:V.nombre})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Precio de Venta *"}),a.jsx(Le,{type:"number",value:M.precioVenta,onChange:ee=>ue("precioVenta",ee.target.value),placeholder:"0",required:!0}),V.precioVenta&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:V.precioVenta})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Categora *"}),a.jsxs("select",{value:M.categoria,onChange:ee=>ue("categoria",ee.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"",children:"Seleccionar..."}),n.map(ee=>a.jsx("option",{value:ee.name,children:ee.name},ee.id))]}),V.categoria&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:V.categoria})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Proveedor *"}),a.jsxs("select",{value:M.proveedor,onChange:ee=>ue("proveedor",ee.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"",children:"Seleccionar..."}),s.map(ee=>a.jsx("option",{value:ee.nombre,children:ee.nombre},ee.id))]}),V.proveedor&&a.jsx("p",{className:"text-red-600 text-sm mt-1",children:V.proveedor})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Imagen del Producto"}),a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:M.imagen?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:M.imagen,alt:"Preview",className:"w-full h-48 object-cover rounded-lg mb-2"}),a.jsx("button",{type:"button",onClick:()=>I({...M,imagen:""}),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:a.jsx(da,{size:16})})]}):a.jsxs("label",{className:"cursor-pointer",children:[a.jsx(J3,{className:"mx-auto text-gray-400 mb-2",size:32}),a.jsx("p",{className:"text-gray-600",children:"Haz clic para subir una imagen"}),a.jsx("input",{type:"file",accept:"image/*",onChange:ge,className:"hidden"})]})})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-gray-900 mb-3",children:"Variantes Actuales"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 text-sm text-red-700",children:[a.jsx("strong",{children:" Variantes en modo lectura:"})," Las variantes solo se crean desde el mdulo ",a.jsx("strong",{children:"Compras"}),". El inventario se gestiona automticamente desde all."]}),M.variantes.length>0&&a.jsx("div",{className:"space-y-2",children:M.variantes.map((ee,ae)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[a.jsxs("div",{className:"font-medium text-gray-900 mb-2",children:["Talla ",ee.talla]}),a.jsx("div",{className:"text-sm text-gray-600",children:ee.colores.map((we,Ve)=>a.jsxs("span",{children:[we.color,": ",we.cantidad," unid.",Ve<ee.colores.length-1?" | ":""]},Ve))})]},ae))}),M.variantes.length===0&&a.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm text-amber-700",children:["Este producto an no tiene variantes. Se crean automticamente desde el mdulo ",a.jsx("strong",{children:"Compras"}),"."]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{onClick:()=>{v(!1),z({}),_(null),I({nombre:"",proveedor:"",categoria:"",precioVenta:"",imagen:"",variantes:[]}),K({talla:"",colores:[{color:"",cantidad:0}]})},variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:se,variant:"primary",children:E?"Guardar Cambios":"Crear Producto"})]})]})})]})}const RA="damabella_proveedores",ky="damabella_compras";function MY(){const[e,t]=C.useState(()=>{const ne=localStorage.getItem(RA);return ne?JSON.parse(ne):[]}),[r,n]=C.useState(()=>{const ne=localStorage.getItem(ky);return ne?JSON.parse(ne):[]}),[o,s]=C.useState(!1),[c,u]=C.useState(!1),[d,m]=C.useState(!1),[h,p]=C.useState(null),[v,b]=C.useState(null),[w,y]=C.useState(""),[x,N]=C.useState(1),[A,E]=C.useState(!1),[_,P]=C.useState(null),k=10,[O,L]=C.useState({numeroDoc:"",tipoDoc:"NIT",nombre:"",contacto:"",telefono:"",email:"",direccion:""}),[T,M]=C.useState({});C.useEffect(()=>{localStorage.setItem(RA,JSON.stringify(e))},[e]),C.useEffect(()=>{if(c){const ne=localStorage.getItem(ky);if(ne)try{n(JSON.parse(ne))}catch(se){console.error("Error al cargar compras:",se)}}},[c]),C.useEffect(()=>{const ne=()=>{const se=localStorage.getItem(ky);se&&n(JSON.parse(se))};return window.addEventListener("storage",ne),()=>window.removeEventListener("storage",ne)},[]);const I=(ne,se)=>{const ue={};return ne==="nombre"&&(se.trim()?/^[a-zA-Z\s&.,-]+$/.test(se)||(ue.nombre="Solo letras, espacios y caracteres & . , -"):ue.nombre="Este campo es obligatorio"),ne==="contacto"&&(se.trim()?/^[a-zA-Z\s]+$/.test(se)||(ue.contacto="Solo se permiten letras y espacios"):ue.contacto="Este campo es obligatorio"),ne==="numeroDoc"&&(se.trim()?/^\d{6,15}$/.test(se)||(ue.numeroDoc="Debe tener entre 6 y 15 dgitos"):ue.numeroDoc="Este campo es obligatorio"),ne==="telefono"&&se&&!/^\d{10}$/.test(se)&&(ue.telefono="Debe tener exactamente 10 dgitos"),ne==="email"&&se&&!/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(se)&&(ue.email="Email invlido (debe iniciar con letra)"),ue},V=(ne,se)=>{ne==="numeroDoc"&&(se=se.replace(/\D/g,"")),ne==="telefono"&&(se=se.replace(/\D/g,"")),L({...O,[ne]:se});const ue=I(ne,se);M({...T,[ne]:ue[ne]})},z=()=>{p(null),L({numeroDoc:"",tipoDoc:"NIT",nombre:"",contacto:"",telefono:"",email:"",direccion:"",publicado:!1}),M({}),s(!0)},B=ne=>{p(ne),L({numeroDoc:ne.numeroDoc||"",tipoDoc:ne.tipoDoc||"NIT",nombre:ne.nombre||"",contacto:ne.contacto||"",telefono:ne.telefono||"",email:ne.email||"",direccion:ne.direccion||"",publicado:ne.publicado||!1}),M({}),s(!0)},D=()=>{const ne={};if(["nombre","contacto","numeroDoc","telefono","email"].forEach(ue=>{const Me=I(ue,O[ue]);Me[ue]&&(ne[ue]=Me[ue])}),Object.keys(ne).length>0){M(ne);return}if(h){if(e.find(ue=>ue.numeroDoc===O.numeroDoc&&ue.id!==h.id)){M({...T,numeroDoc:"Ya existe un proveedor con este documento"});return}if(O.email&&e.find(ue=>(ue.email?.toLowerCase()??"")===(O.email?.toLowerCase()??"")&&ue.id!==h.id)){M({...T,email:"Ya existe un proveedor con este email"});return}}else{if(e.find(ue=>ue.numeroDoc===O.numeroDoc)){M({...T,numeroDoc:"Ya existe un proveedor con este documento"});return}if(O.email&&e.find(ue=>(ue.email?.toLowerCase()??"")===(O.email?.toLowerCase()??""))){M({...T,email:"Ya existe un proveedor con este email"});return}}const se={...O,activo:h?.activo??!0,createdAt:h?.createdAt??new Date().toISOString()};t(h?e.map(ue=>ue.id===h.id?{...ue,...se}:ue):[...e,{id:Date.now(),...se}]),s(!1)},G=ne=>{const se=e.find(ue=>ue.id===ne);se&&(P(se),E(!0))},te=()=>{_&&t(e.map(ne=>ne.id===_.id?{...ne,activo:!ne.activo}:ne)),E(!1),P(null)},R=ne=>{b(ne),u(!0)},Y=ne=>{b(ne),m(!0)},U=ne=>!r||!Array.isArray(r)?[]:r.filter(ue=>ue.proveedorId===ne||ue.proveedorId===String(ne)).sort((ue,Me)=>{const ve=new Date(ue.fechaCompra||ue.fechaRegistro||0).getTime();return new Date(Me.fechaCompra||Me.fechaRegistro||0).getTime()-ve}),F=ne=>U(ne).reduce((se,ue)=>se+(ue.total||0),0),W=ne=>U(ne).reduce((se,ue)=>{const Me=(ue.items||[]).reduce((ve,Ne)=>ve+(Ne.cantidad||0),0);return se+Me},0),ce=ne=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(ne),ie=e.filter(ne=>{const se=w.toLowerCase();return(ne.nombre?.toLowerCase()??"").includes(se)||(ne.numeroDoc??"").includes(w)||(ne.email?.toLowerCase()??"").includes(se)||(ne.activo?"activo":"inactivo").includes(se)}),K=Math.ceil(ie.length/k),pe=(x-1)*k,me=ie.slice(pe,pe+k);return C.useEffect(()=>{N(1)},[w]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Proveedores"}),a.jsx("p",{className:"text-gray-600",children:"Administra los proveedores y su informacin de contacto"})]}),a.jsxs(Te,{onClick:z,variant:"primary",children:[a.jsx(Kr,{size:20}),"Nuevo Proveedor"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:"Buscar proveedores...",value:w,onChange:ne=>y(ne.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Proveedor"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Contacto"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Documento"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Telfono"}),a.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:me.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[a.jsx(Vy,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{children:"No se encontraron proveedores"})]})}):me.map(ne=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center text-white",children:ne.nombre[0]?.toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-900",children:ne.nombre}),a.jsx("div",{className:"text-gray-500 text-sm",children:ne.email})]})]})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"text-gray-700",children:ne.contacto||"-"})}),a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("div",{className:"text-gray-700",children:ne.tipoDoc}),a.jsx("div",{className:"text-gray-500",children:ne.numeroDoc})]}),a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("div",{className:"text-gray-700",children:ne.telefono||"-"}),a.jsx("div",{className:"text-gray-500 text-sm",children:ne.direccion||"-"})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>G(ne.id),className:`relative w-12 h-6 rounded-full transition-colors ${ne.activo?"bg-green-500":"bg-gray-300"}`,children:a.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${ne.activo?"translate-x-6":"translate-x-0"}`})})})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>Y(ne),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver proveedor",children:a.jsx(Ar,{size:18})}),a.jsx("button",{onClick:()=>R(ne),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver historial",children:a.jsx(J4,{size:18})}),a.jsx("button",{onClick:()=>B(ne),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Editar",children:a.jsx(fi,{size:18})})]})})]},ne.id))})]})})}),K>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>N(Math.max(1,x-1)),disabled:x===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Anterior"}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:K},(ne,se)=>se+1).map(ne=>a.jsx("button",{onClick:()=>N(ne),className:`px-3 py-2 rounded-lg transition-colors ${x===ne?"bg-blue-600 text-white":"bg-white border border-gray-300 hover:bg-gray-50"}`,children:ne},ne))}),a.jsx("button",{onClick:()=>N(Math.min(K,x+1)),disabled:x===K,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Siguiente"}),a.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Pgina ",x," de ",K]})]}),a.jsx(pt,{isOpen:o,onClose:()=>s(!1),title:h?"Editar Proveedor":"Nuevo Proveedor",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo de Documento *"}),a.jsxs("select",{value:O.tipoDoc,onChange:ne=>L({...O,tipoDoc:ne.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"NIT",children:"NIT"}),a.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),a.jsx("option",{value:"CE",children:"Cdula de Extranjera"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero de Documento *"}),a.jsx(Le,{value:O.numeroDoc,onChange:ne=>V("numeroDoc",ne.target.value),placeholder:"900123456",maxLength:15,required:!0}),T.numeroDoc&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:T.numeroDoc})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre del Proveedor *"}),a.jsx(Le,{value:O.nombre,onChange:ne=>V("nombre",ne.target.value),placeholder:"Distribuidora XYZ",required:!0}),T.nombre&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:T.nombre})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Persona de Contacto *"}),a.jsx(Le,{value:O.contacto,onChange:ne=>V("contacto",ne.target.value),placeholder:"Nombre del contacto",required:!0}),T.contacto&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:T.contacto})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono"}),a.jsx(Le,{value:O.telefono,onChange:ne=>V("telefono",ne.target.value),placeholder:"3001234567",maxLength:10}),T.telefono&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:T.telefono})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),a.jsx(Le,{type:"email",value:O.email,onChange:ne=>V("email",ne.target.value),placeholder:"proveedor@ejemplo.com"}),T.email&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:T.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin"}),a.jsx(Le,{value:O.direccion,onChange:ne=>L({...O,direccion:ne.target.value}),placeholder:"Calle 123 # 45-67"})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>s(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:D,variant:"primary",children:h?"Guardar Cambios":"Crear Proveedor"})]})]})}),a.jsx(pt,{isOpen:c,onClose:()=>u(!1),title:`Historial de Compras  ${v?.nombre}`,children:a.jsx("div",{className:"space-y-6",children:v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium mb-1",children:"Total Compras"}),a.jsx("div",{className:"text-3xl font-bold text-blue-900",children:U(v.id).length})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium mb-1",children:"Productos Recibidos"}),a.jsx("div",{className:"text-3xl font-bold text-blue-900",children:W(v.id)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-blue-600 text-sm font-medium mb-1",children:"Monto Acumulado"}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:ce(F(v.id))})]})]})}),U(v.id).length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(Vy,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{className:"text-lg font-medium",children:"Este proveedor an no tiene compras registradas."}),a.jsx("p",{className:"text-sm mt-2",children:"Las compras aparecern aqu cuando se registren en el mdulo de Compras."})]}):a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"Fecha"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-700 font-semibold",children:"N Compra"}),a.jsx("th",{className:"text-center py-3 px-4 text-gray-700 font-semibold",children:"Cantidad"}),a.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"Subtotal"}),a.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"IVA"}),a.jsx("th",{className:"text-right py-3 px-4 text-gray-700 font-semibold",children:"Total"}),a.jsx("th",{className:"text-center py-3 px-4 text-gray-700 font-semibold",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:U(v.id).map(ne=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 text-gray-900",children:new Date(ne.fechaCompra||ne.fechaRegistro).toLocaleDateString("es-CO")}),a.jsx("td",{className:"py-3 px-4 text-gray-900 font-medium",children:ne.numeroCompra}),a.jsx("td",{className:"py-3 px-4 text-center text-gray-700",children:(ne.items||[]).reduce((se,ue)=>se+(ue.cantidad||0),0)}),a.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:ce(ne.subtotal||0)}),a.jsx("td",{className:"py-3 px-4 text-right text-gray-900",children:ce(ne.iva||0)}),a.jsx("td",{className:"py-3 px-4 text-right font-semibold text-gray-900",children:ce(ne.total||0)}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${ne.estado==="Recibida"?"bg-green-100 text-green-700":ne.estado==="Pendiente"?"bg-yellow-100 text-yellow-700":ne.estado==="Anulada"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:ne.estado||"Confirmada"})})]},ne.id))})]})})]})})}),a.jsx(pt,{isOpen:d,onClose:()=>m(!1),title:`Ver Proveedor - ${v?.nombre}`,children:a.jsx("div",{className:"space-y-4",children:v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Nombre"}),a.jsx("div",{className:"text-gray-900 font-semibold",children:v.nombre})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Documento"}),a.jsxs("div",{className:"text-gray-900 font-semibold",children:[v.tipoDoc,": ",v.numeroDoc]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Contacto"}),a.jsx("div",{className:"text-gray-900",children:v.contacto})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Telfono"}),a.jsx("div",{className:"text-gray-900",children:v.telefono||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Email"}),a.jsx("div",{className:"text-gray-900",children:v.email||"-"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Direccin"}),a.jsx("div",{className:"text-gray-900",children:v.direccion||"-"})]})]})}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Estado"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${v.activo?"bg-green-500":"bg-gray-400"}`}),a.jsx("span",{className:"text-gray-900 font-semibold",children:v.activo?"Activo":"Inactivo"})]})]})}),a.jsxs("div",{className:"bg-gray-100 rounded-lg p-3",children:[a.jsx("div",{className:"text-gray-600 text-sm mb-1",children:"Fecha de Creacin"}),a.jsx("div",{className:"text-gray-900",children:new Date(v.createdAt).toLocaleDateString("es-ES")})]}),a.jsx("div",{className:"flex gap-3 justify-end pt-4 border-t",children:a.jsx(Te,{onClick:()=>m(!1),variant:"primary",children:"Cerrar"})})]})})}),a.jsx(pt,{isOpen:A,onClose:()=>{E(!1),P(null)},title:"Confirmar Cambio de Estado",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[a.jsx(Kf,{className:"text-yellow-600 flex-shrink-0",size:24}),a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-800 font-semibold",children:"Cambio de estado"}),a.jsx("p",{className:"text-yellow-700 text-sm",children:"Esta accin modificar el estado del proveedor"})]})]}),a.jsxs("p",{className:"text-gray-700",children:["Est seguro de que desea ",a.jsx("strong",{children:_?.activo?"inactivar":"activar"})," el proveedor ",a.jsx("strong",{children:_?.nombre}),"?"]}),_?.activo&&a.jsx("p",{className:"text-gray-600 text-sm",children:"Al inactivar este proveedor, no podr realizar nuevas compras hasta que sea reactivado."}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx(Te,{onClick:()=>{E(!1),P(null)},variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:te,variant:"primary",children:_?.activo?"Inactivar":"Activar"})]})]})})]})}const Rd="damabella_compras",_y="damabella_proveedores",ri="damabella_productos",Iy="damabella_categorias",Yl={Negro:"#000000",Blanco:"#FFFFFF",Rojo:"#DC2626",Azul:"#2563EB",Verde:"#16A34A",Rosa:"#EC4899",Gris:"#6B7280",Beige:"#D4A574"},aa=e=>e.trim().toLowerCase();function LA(e){const t=new Map;e.forEach(n=>{const o=aa(n.nombre);t.has(o)?t.get(o).duplicados.push(n):t.set(o,{base:n,duplicados:[]})});const r=[];return t.forEach(n=>{const{base:o,duplicados:s}=n;let c=[...o.variantes||[]];s.forEach(u=>{u.variantes&&u.variantes.length>0&&u.variantes.forEach(d=>{const m=c.find(h=>h.talla===d.talla);m?d.colores.forEach(h=>{const p=m.colores.find(v=>v.color===h.color);p?p.cantidad+=h.cantidad:m.colores.push(h)}):c.push(d)})}),console.log(` [unificarProductosDuplicados] Unificado "${o.nombre}":`,{variantesBase:o.variantes?.length||0,variantesAadidas:s.length,variantesFinal:c.length}),r.push({...o,variantes:c,updatedAt:new Date().toISOString(),lastUpdatedFrom:"Unificacin de duplicados"})}),r}function RY(e,t){if(!e.categoriaId||String(e.categoriaId).trim()==="")return console.error(` [agregarOActualizarProducto] ABORTADO: categoryId faltante o vaco para ${e.productoNombre}`),console.error("   Recibido:",{categoriaId:e.categoriaId,categoriaNombre:e.categoriaNombre}),t;const r=aa(e.productoNombre),n=t.find(o=>aa(o.nombre)===r);if(n)return console.log(` [agregarOActualizarProducto] Producto existente encontrado por nombre: ${n.nombre}`),console.log("   Reutilizando:",{id:n.id,nombre:n.nombre,SKU:n.referencia,variantesActuales:n.variantes?.length||0}),t.map(s=>{if(aa(s.nombre)===r){let c=s.variantes||[],u=c.find(m=>m.talla===e.talla);if(u){let m=u.colores.find(h=>h.color===e.color);m?(m.cantidad+=e.cantidad||0,console.log(`    Color existente actualizado: ${e.color} += ${e.cantidad}`)):(u.colores.push({color:e.color,cantidad:e.cantidad||0}),console.log(`    Nuevo color agregado: ${e.color} = ${e.cantidad}`))}else c.push({talla:e.talla,colores:e.color?[{color:e.color,cantidad:e.cantidad||0}]:[]}),console.log(`    Nueva talla agregada: ${e.talla}`);const d={...s,variantes:c,precioCompra:e.precioCompra&&e.precioCompra>0?e.precioCompra:s.precioCompra,precioVenta:e.precioVenta&&e.precioVenta>0?e.precioVenta:s.precioVenta,imagen:e.imagen&&e.imagen.trim()!==""?e.imagen:s.imagen,categoryId:e.categoriaId&&String(e.categoriaId).trim()!==""?e.categoriaId:s.categoryId||e.categoriaId||"",categoria:e.categoriaNombre||s.categoria||"",updatedAt:new Date().toISOString(),lastUpdatedFrom:`Compra - ${s.referencia}`};return d.categoryId||console.warn(` [agregarOActualizarProducto] ADVERTENCIA: Producto ${s.nombre} qued sin categoryId despus de actualizar`),console.log(` [agregarOActualizarProducto] ${s.nombre} actualizado:`),console.log(`   Talla: ${e.talla}, Color: ${e.color}, Cantidad: ${e.cantidad}`),console.log(`   Precios mantenidos - Compra: $${d.precioCompra}, Venta: $${d.precioVenta}`),console.log(`   Category ID: ${d.categoryId}`),console.log(`   Imagen mantenida: ${d.imagen?"S":"No"}`),d}return s});{const o=` Producto no encontrado: "${e.productoNombre}"

COMPRAS NO PUEDE CREAR PRODUCTOS NUEVOS

El mdulo Compras SOLO puede:
 Seleccionar productos existentes del inventario
 Aumentar el stock de variantes (talla/color)
 Registrar la compra en el historial

Para usar "${e.productoNombre}" en compras:
1. Ve al mdulo PRODUCTOS
2. Crea el producto all
3. Vuelve a COMPRAS y selecciona el producto

Tienes ${t.length} producto(s) disponible(s) en el inventario.`;throw console.error(o),console.error(" [agregarOActualizarProducto] Intent crear producto no autorizado:",{nombreSolicitado:e.productoNombre,categoriaId:e.categoriaId,categoriaNombre:e.categoriaNombre,referencia:e.referencia,productosDisponibles:t.length,timestamp:new Date().toISOString()}),new Error(o)}}function LY(){const[e,t]=C.useState(()=>{const X=localStorage.getItem(Rd);return X?JSON.parse(X).map(Ce=>({...Ce,estado:Ce.estado==="Pendiente"?"Recibida":Ce.estado||"Recibida"})):[]}),[r,n]=C.useState(()=>{const X=localStorage.getItem(_y);return X?JSON.parse(X):[]}),[o,s]=C.useState(()=>{const X=localStorage.getItem(ri);if(X){const xe=JSON.parse(X);return LA(xe)}return[]}),[c,u]=C.useState(()=>{const X=localStorage.getItem("damabella_tallas");if(X)try{return JSON.parse(X).map(Ce=>Ce.abbreviation||Ce.name||Ce).filter(Boolean)}catch{return["XS","S","M","L","XL","XXL"]}return["XS","S","M","L","XL","XXL"]}),[d,m]=C.useState(()=>{const X=localStorage.getItem("damabella_colores");if(X)try{return JSON.parse(X).map(Ce=>Ce.name||Ce.nombre||"").filter(Boolean)}catch{return[]}return[]}),[h,p]=C.useState(()=>{const X=localStorage.getItem(Iy);if(X)try{const xe=JSON.parse(X);return Array.isArray(xe)&&typeof xe[0]=="string"?xe.map(Ce=>({id:Ce.toLowerCase().replace(/\s+/g,"_"),name:Ce,active:!0})):xe.map(Ce=>({id:Ce.id||Ce.name?.toLowerCase().replace(/\s+/g,"_")||"",name:Ce.name||Ce.nombre||"",active:Ce.active!==!1}))}catch(xe){return console.error("Error cargando categoras:",xe),[]}return[]}),[v,b]=C.useState(!1),[w,y]=C.useState(!1),[x,N]=C.useState(null),[A,E]=C.useState(""),[_,P]=C.useState(""),[k,O]=C.useState(""),[L,T]=C.useState(!1),M=Z.useRef(null),[I,V]=C.useState(!1),[z,B]=C.useState(!1),[D,G]=C.useState(""),[te,R]=C.useState("error"),[Y,U]=C.useState(!1),[F,W]=C.useState(""),[ce,ie]=C.useState(null),[K,pe]=C.useState({proveedorId:"",proveedorNombre:"",fechaCompra:new Date().toISOString().split("T")[0],iva:"19",observaciones:"",items:[]}),[me,ne]=C.useState({}),[se,ue]=C.useState(""),[Me,ve]=C.useState(""),[Ne,Se]=C.useState({productoId:"",productoNombre:"",categoriaId:"",categoriaNombre:"",talla:"",color:"",cantidad:"",precioCompra:"",precioVenta:"",imagen:"",referencia:""}),[ge,Ee]=C.useState(()=>{const X=localStorage.getItem("damabella_compra_counter");return X?parseInt(X):1});C.useEffect(()=>{localStorage.setItem(Rd,JSON.stringify(e))},[e]),C.useEffect(()=>{const X=localStorage.getItem(Rd);if(X)try{const xe=JSON.parse(X),Ce=xe.filter(ze=>{const Ue=String(ze.proveedorNombre||"").toLowerCase().trim();return!/^proveedor\s+[a-z]$/i.test(Ue)&&Ue!==""&&ze.numeroCompra&&ze.items&&Array.isArray(ze.items)});Ce.length!==xe.length&&(console.log(` [ComprasManager] Limpiando ${xe.length-Ce.length} compras ficticias`),localStorage.setItem(Rd,JSON.stringify(Ce)),t(Ce))}catch(xe){console.error(" [ComprasManager] Error limpiando datos ficticios:",xe)}},[]),C.useEffect(()=>{localStorage.setItem("damabella_compra_counter",ge.toString())},[ge]),C.useEffect(()=>{const X=()=>{const ze=localStorage.getItem(_y);if(ze)try{const Ue=JSON.parse(ze);n(Ue),console.log(" [ComprasManager] Proveedores sincronizados:",Ue.map(dt=>dt.nombre))}catch(Ue){console.error(" [ComprasManager] Error cargando proveedores:",Ue)}};X();const xe=ze=>{ze.key===_y&&ze.newValue&&(console.log(" [ComprasManager] Proveedores actualizados desde otro tab"),X())};window.addEventListener("storage",xe);const Ce=setInterval(X,500);return()=>{window.removeEventListener("storage",xe),clearInterval(Ce)}},[]),C.useEffect(()=>{const X=()=>{const ze=localStorage.getItem(ri);if(ze)try{const Ue=JSON.parse(ze);s(Ue),console.log(" [ComprasManager] Productos sincronizados:",Ue.map(dt=>dt.nombre))}catch(Ue){console.error(" [ComprasManager] Error cargando productos:",Ue)}};X();const xe=ze=>{ze.key===ri&&ze.newValue&&(console.log(" [ComprasManager] Productos actualizados desde otro tab"),X())};window.addEventListener("storage",xe);const Ce=setInterval(X,500);return()=>{window.removeEventListener("storage",xe),clearInterval(Ce)}},[]),C.useEffect(()=>{const X=()=>{const ze=localStorage.getItem("damabella_tallas");if(ze)try{const dt=JSON.parse(ze).map(ot=>ot.abbreviation||ot.name||ot).filter(Boolean);u(dt),console.log(" [ComprasManager] Tallas sincronizadas:",dt)}catch(Ue){console.error(" [ComprasManager] Error cargando tallas:",Ue)}};X();const xe=ze=>{ze.key==="damabella_tallas"&&ze.newValue&&(console.log(" [ComprasManager] Tallas actualizadas desde otro tab"),X())};window.addEventListener("storage",xe);const Ce=setInterval(X,500);return()=>{window.removeEventListener("storage",xe),clearInterval(Ce)}},[]),C.useEffect(()=>{const X=()=>{const ze=localStorage.getItem("damabella_colores");if(ze)try{const dt=JSON.parse(ze).map(ot=>ot.name||ot.nombre||"").filter(Boolean);m(dt),console.log(" [ComprasManager] Colores sincronizados:",dt)}catch(Ue){console.error(" [ComprasManager] Error cargando colores:",Ue)}};X();const xe=ze=>{ze.key==="damabella_colores"&&ze.newValue&&(console.log(" [ComprasManager] Colores actualizados desde otro tab"),X())};window.addEventListener("storage",xe);const Ce=setInterval(X,500);return()=>{window.removeEventListener("storage",xe),clearInterval(Ce)}},[]),C.useEffect(()=>{const X=()=>{const ze=localStorage.getItem(Iy);if(ze)try{const dt=JSON.parse(ze).filter(ot=>ot.active!==!1).map(ot=>typeof ot=="string"?{id:ot.toLowerCase().replace(/\s+/g,"_"),name:ot,active:!0}:{id:ot.id||ot.name?.toLowerCase().replace(/\s+/g,"_")||"",name:ot.name||ot.nombre||"",active:ot.active!==!1});p(dt),console.log(" [ComprasManager] Categoras sincronizadas:",dt.map(ot=>ot.name))}catch(Ue){console.error(" [ComprasManager] Error cargando categoras:",Ue)}};X();const xe=ze=>{ze.key===Iy&&ze.newValue&&(console.log(" [ComprasManager] Categoras actualizadas desde otro tab"),X())};window.addEventListener("storage",xe);const Ce=setInterval(X,500);return()=>{window.removeEventListener("storage",xe),clearInterval(Ce)}},[]);const Ge=(X,xe)=>{const Ce={};return X==="proveedorId"&&(xe||(Ce.proveedorId="Debes seleccionar un proveedor")),X==="fechaCompra"&&(xe||(Ce.fechaCompra="La fecha es obligatoria")),X==="iva"&&(!xe||parseFloat(xe)<0)&&(Ce.iva="El IVA debe ser mayor o igual a 0"),Ce},Q=(X,xe)=>{pe({...K,[X]:xe});const Ce=Ge(X,xe);ne({...me,[X]:Ce[X]})},$e=()=>{pe({proveedorId:"",proveedorNombre:"",fechaCompra:new Date().toISOString().split("T")[0],iva:"19",observaciones:"",items:[]}),Se({productoId:"",productoNombre:"",talla:"",color:"",cantidad:"",precioCompra:"",precioVenta:"",categoriaId:"",categoriaNombre:"",imagen:"",referencia:""}),ne({}),ue(""),P(""),O(""),b(!0)},Pe=X=>{N(X),y(!0)};r.filter(X=>X.activo&&(X.nombre?.toLowerCase()??"").includes(_.toLowerCase())),o.filter(X=>X.activo&&(X.nombre?.toLowerCase()??"").includes(k.toLowerCase()));const ee=()=>{let X=Ne.categoriaId,xe=Ne.categoriaNombre;if(!X){const Ft=M.current?.value;Ft&&(X=Ft,console.log(" [agregarItem] Fallback 1: Categora obtenida del select:",X))}if(!X){const Ft=o.find(kt=>aa(kt.nombre)===aa(Ne.productoNombre));Ft&&Ft.categoryId&&(X=Ft.categoryId,console.log(" [agregarItem] Fallback 2: Categora obtenida del producto en BD:",X))}X&&!xe&&(xe=h.find(kt=>String(kt.id)===String(X))?.name||"",console.log(" [agregarItem] Resolviendo nombre desde categoryId:",{categoryId:X,categoriaNombre:xe})),console.log(" [ComprasManager] agregarItem - Estado final:",{productoId:Ne.productoId,productoNombre:Ne.productoNombre,categoriaId:X,categoriaNombre:xe,color:Ne.color,cantidad:Ne.cantidad,precioCompra:Ne.precioCompra,precioVenta:Ne.precioVenta});const Ce=Ne.productoNombre||(Ne.productoId?o.find(Ft=>String(Ft.id)===String(Ne.productoId))?.nombre:"");if(!Ce||!Ne.color||!Ne.cantidad||!Ne.precioCompra||!Ne.precioVenta){G("Por favor completa: nombre del producto, color, cantidad, precios"),R("error"),B(!0);return}if(!X){console.warn(" [ComprasManager] Error: Categora no seleccionada. categoriaId=",X),G("Por favor selecciona una categora para el producto"),R("error"),B(!0);return}console.log(" [ComprasManager] Validaciones OK - Producto:",Ce,"Categora:",xe);const ze=parseFloat(Ne.cantidad),Ue=parseFloat(Ne.precioCompra),dt=parseFloat(Ne.precioVenta),ot=ze*Ue;console.log(" Creando item:",{productoNombre:Ne.productoNombre,cantidad:ze,precioCompra:Ue,precioVenta:dt,subtotal:ot,cantidadEsNumero:typeof ze=="number",precioCompraEsNumero:typeof Ue=="number"});const cr={id:Date.now().toString(),productoId:Ne.productoId,productoNombre:Ce,talla:Ne.talla,color:Ne.color,cantidad:ze,precioCompra:Ue,precioVenta:dt,subtotal:ot,categoriaId:X,categoriaNombre:xe,imagen:Ne.imagen,referencia:Ne.referencia};console.log(` Item agregado a tabla. Total items ahora: ${K.items.length+1}`),pe({...K,items:[...K.items,cr]}),Se({productoId:"",productoNombre:"",talla:"",color:"",cantidad:"",precioCompra:"",precioVenta:"",categoriaId:X,categoriaNombre:xe,imagen:"",referencia:""}),O("")},ae=X=>{pe({...K,items:K.items.filter(xe=>xe.id!==X)})},we=()=>{const X=K.items.reduce((xe,Ce)=>{const ze=Ce.subtotal||0;return console.log(` Item: ${Ce.productoNombre}, Cant: ${Ce.cantidad}, P.Compra: ${Ce.precioCompra}, Subtotal: ${ze}`),xe+ze},0);return console.log(` SUBTOTAL TOTAL DE COMPRA: $${X}`),X},Ve=()=>{const X=we(),xe=parseFloat(K.iva)||0;return X*xe/100},Fe=()=>we()+Ve(),gt=X=>X?e.filter(xe=>xe.proveedorId===X):[],Pt=X=>X.length,At=X=>X.reduce((xe,Ce)=>{const ze=(Ce.items||[]).reduce((Ue,dt)=>Ue+(dt.cantidad||0),0);return xe+ze},0),ar=X=>X.reduce((xe,Ce)=>xe+(Ce.total||0),0),Jr=X=>[...X].sort((xe,Ce)=>{const ze=new Date(xe.fechaCompra||"").getTime();return new Date(Ce.fechaCompra||"").getTime()-ze}),$r=X=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(X),Ua=()=>{try{const X={};if(["proveedorId","fechaCompra","iva"].forEach(he=>{const Oe=Ge(he,K[he]);Oe[he]&&(X[he]=Oe[he])}),Object.keys(X).length>0){ne(X);return}if(K.items.length===0){ue("Debes agregar al menos un producto a la compra");return}const xe=K.items.filter(he=>!he.categoriaId||String(he.categoriaId).trim()==="");if(xe.length>0){const Oe=` CRTICO: Los siguientes productos NO tienen categora asignada:
${xe.map(He=>He.productoNombre).join(", ")}

Todos los productos DEBEN tener una categora. No se puede continuar.`;ue(Oe),G(Oe),R("error"),B(!0);return}ue("");let Ce=K.proveedorNombre;Ce||(Ce=r.find(Oe=>String(Oe.id)===String(K.proveedorId))?.nombre||K.proveedorId);const ze=we(),Ue=Ve(),dt=Fe(),ot=`COMP-${ge.toString().padStart(3,"0")}`,cr={id:Date.now(),numeroCompra:ot,proveedorId:K.proveedorId,proveedorNombre:Ce,fechaCompra:K.fechaCompra,fechaRegistro:new Date().toISOString().split("T")[0],items:K.items,subtotal:ze,iva:Ue,total:dt,estado:"Recibida",observaciones:K.observaciones,createdAt:new Date().toISOString()};let kt=[...o.map(he=>{const Oe=K.items.filter(He=>String(He.productoId)===String(he.id));if(Oe.length>0){const He=Oe.reduce((yt,Et)=>yt+(Number(Et.cantidad)||0),0),at=(he.stock||0)+He;return console.log(` [Producto] ${he.nombre}: Stock ${he.stock||0} + ${He} = ${at}`),{...he,stock:at}}return he})];const sr=[],_r=[];K.items.forEach(he=>{const Oe=kt.some(He=>aa(He.nombre)===aa(he.productoNombre));kt=RY(he,kt),Oe?_r.push(he.productoNombre):sr.push(he.productoNombre)}),console.log(" [ComprasManager] Verificando productos duplicados...");const Xr=LA(kt);Xr.length<kt.length&&console.log(` [ComprasManager] ${kt.length-Xr.length} productos duplicados fueron unificados`),kt=Xr,kt=ha(kt),localStorage.setItem(ri,JSON.stringify(kt)),console.log(" [ComprasManager] Estado actual de productos en localStorage:"),console.log(`   Total de productos: ${kt.length}`),kt.forEach((he,Oe)=>{console.log(`   ${Oe+1}. ${he.nombre} (SKU: ${he.referencia}) - Variantes: ${he.variantes?.length||0} - Activo: ${he.activo}`)}),s(kt),window.dispatchEvent(new StorageEvent("storage",{key:ri,newValue:JSON.stringify(kt),oldValue:null,url:window.location.href})),sr.length>0&&console.log(` [ComprasManager] Se crearon ${sr.length} nuevos productos: ${sr.join(", ")}`),_r.length>0&&console.log(` [ComprasManager] Se actualizaron ${_r.length} productos: ${_r.join(", ")}`),console.log(" [ComprasManager] Productos sincronizados correctamente con el mdulo Productos"),t([...e,cr]),Ee(ge+1);let H=" Compra guardada correctamente";sr.length>0&&(H+=` |  ${sr.length} nuevo(s)`),_r.length>0&&(H+=` |  ${_r.length} actualizado(s)`),H+=" en Productos",G(H),R("success"),B(!0),pe({proveedorId:"",proveedorNombre:"",fechaCompra:new Date().toISOString().split("T")[0],items:[],iva:"0",observaciones:""}),ne({}),ue(""),b(!1)}catch(X){console.error(" [handleSave] Error durante el guardado:",X);const xe=X?.message||String(X);G(xe),R("error"),B(!0)}},ha=X=>X.map(xe=>{let Ce=0;xe.variantes&&Array.isArray(xe.variantes)&&(Ce=xe.variantes.reduce((ot,cr)=>{const Ft=(cr.colores||[]).reduce((kt,sr)=>kt+(sr.cantidad||0),0);return ot+Ft},0));const ze=Ce>0,Ue=xe.activo!==!1,dt=Ce>0?"Activo":"Inactivo";return ze!==Ue||xe.estado!==dt?(console.log(` [actualizarEstadoProductoSegunStock] ${xe.nombre}: Stock Total = ${Ce}, Activo: ${Ue}  ${ze}, Estado: "${xe.estado}"  "${dt}"`),{...xe,activo:ze,estado:dt}):xe}),Wa=(X,xe)=>{console.log(`
 [revertirStockCompra] INICIANDO reversin para compra: ${X.numeroCompra}`),console.log(`   Compra tiene ${X.items.length} item(s)`);let Ce=[...xe];return X.items.forEach((Ue,dt)=>{console.log(`
   Item ${dt+1}: ${Ue.productoNombre} (Talla: ${Ue.talla}, Color: ${Ue.color}, Qty: ${Ue.cantidad})`);const ot=aa(Ue.productoNombre),cr=Ce.findIndex(He=>aa(He.nombre)===ot);if(cr===-1){console.warn(`     Producto NO encontrado: ${Ue.productoNombre}`);return}const Ft=Ce[cr];if(console.log(`    Producto encontrado: ID ${Ft.id}`),!Ft.variantes||Ft.variantes.length===0){console.warn(`     Producto sin variantes: ${Ft.nombre}`);return}const kt=Ft.variantes.findIndex(He=>He.talla===Ue.talla);if(kt===-1){console.warn(`     Talla NO encontrada: ${Ue.talla}`);return}const sr=Ft.variantes[kt];console.log(`    Talla encontrada: ${sr.talla}`);const _r=sr.colores.findIndex(He=>He.color===Ue.color);if(_r===-1){console.warn(`     Color NO encontrado: ${Ue.color}`);return}const Xr=sr.colores[_r],H=Xr.cantidad,he=Ue.cantidad||0,Oe=Math.max(0,H-he);console.log(`    Stock: ${H} - ${he} = ${Oe}`),Oe<0&&console.warn(`     ADVERTENCIA: Stock sera negativo (${Oe}). Ajustando a 0`),Xr.cantidad=Oe,console.log(`    Stock actualizado: ${Ue.color} ahora tiene ${Oe} unidades`)}),console.log(`
 [revertirStockCompra] Reversin completada para ${X.numeroCompra}
`),ha(Ce)},ga=X=>{const xe=e.find(Ce=>Ce.id===X);if(!xe){G(" Compra no encontrada"),R("error"),B(!0);return}if(xe.estado==="Anulada"){G(" Esta compra ya fue anulada"),R("error"),B(!0);return}if(!xe.items||xe.items.length===0){G(" Compra sin items - no se puede anular"),R("error"),B(!0);return}W(`Est seguro de anular esta compra?

 Se revertir el stock exactamente.
 Esta accin no se puede deshacer.`),ie(()=>()=>{console.log(`
 [anularCompra] INICIANDO ANULACIN de compra: ${xe.numeroCompra}`),console.log(`   Items en compra: ${xe.items.length}`),console.log(`
 Step 1: Revertiendo stock en productos...`);const Ce=Wa(xe,o);Ce.some((dt,ot)=>{const cr=o[ot];return JSON.stringify(dt)!==JSON.stringify(cr)})||console.warn(`
  Advertencia: No hubo cambios en el stock`),console.log(`
 Step 2: Guardando productos actualizados en localStorage...`),localStorage.setItem(ri,JSON.stringify(Ce)),s(Ce),window.dispatchEvent(new StorageEvent("storage",{key:ri,newValue:JSON.stringify(Ce),oldValue:null,url:window.location.href})),console.log(`
 Step 3: Marcando compra como ANULADA...`);const Ue=e.map(dt=>dt.id===X?{...dt,estado:"Anulada"}:dt);t(Ue),console.log(`
 [anularCompra] ANULACIN COMPLETADA para ${xe.numeroCompra}
`),U(!1),G(` Compra ${xe.numeroCompra} anulada. Stock revertido correctamente.`),R("success"),B(!0)}),U(!0)},Xn=e.filter(X=>(X.numeroCompra?.toLowerCase()??"").includes(A.toLowerCase())||(X.proveedorNombre?.toLowerCase()??"").includes(A.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Compras"}),a.jsx("p",{className:"text-gray-600",children:"Administra las compras a proveedores"})]}),a.jsxs(Te,{onClick:$e,variant:"primary",children:[a.jsx(Kr,{size:20}),"Nueva Compra"]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-gray-900 font-semibold mb-4",children:"Historial de Compras por Proveedor"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Seleccionar proveedor"}),a.jsxs("select",{value:Me,onChange:X=>ve(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Seleccionar un proveedor --"}),r.map(X=>a.jsx("option",{value:X.id,children:X.nombre},X.id))]})]}),Me&&(()=>{const X=gt(Me),xe=Jr(X),Ce=r.find(ot=>ot.id===Me)?.nombre||"",ze=Pt(X),Ue=At(X),dt=ar(X);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-gray-800 font-semibold",children:["Historial de Compras  ",Ce]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total de compras"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:ze})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Cantidad total de productos"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:Ue})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Monto total acumulado"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:$r(dt)})]})]}),xe.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ic,{className:"mx-auto mb-2 text-gray-300",size:32}),a.jsx("p",{children:"Este proveedor an no tiene compras registradas."})]}):a.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Fecha"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"N Compra"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Cantidad de Productos"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Subtotal"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"IVA"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Total"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:xe.map(ot=>{const cr=(ot.items||[]).reduce((Ft,kt)=>Ft+(kt.cantidad||0),0);return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:new Date(ot.fechaCompra).toLocaleDateString("es-CO")}),a.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:ot.numeroCompra}),a.jsx("td",{className:"py-3 px-4 text-sm text-center text-gray-700",children:cr}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-700",children:$r(ot.subtotal||0)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right text-gray-700",children:$r(ot.iva||0)}),a.jsx("td",{className:"py-3 px-4 text-sm text-right font-semibold text-gray-900",children:$r(ot.total||0)}),a.jsx("td",{className:"py-3 px-4 text-sm text-center",children:a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${ot.estado==="Recibida"?"bg-green-100 text-green-800":ot.estado==="Pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ot.estado})})]},ot.id)})})]})})]})})()]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:"Buscar compras...",value:A,onChange:X=>E(X.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"N Compra"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Proveedor"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Fecha Compra"}),a.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Items"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Total"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:Xn.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[a.jsx(ic,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{children:"No se encontraron compras"})]})}):Xn.map(X=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ic,{size:16,className:"text-gray-400"}),a.jsx("span",{className:"text-gray-900 font-medium",children:X.numeroCompra})]})}),a.jsx("td",{className:"py-4 px-6 text-gray-700",children:X.proveedorNombre}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:X.fechaCompra}),a.jsx("td",{className:"py-4 px-6 text-center",children:a.jsxs("button",{onClick:()=>Pe(X),className:"text-gray-600 hover:text-gray-900 underline",children:[X.items.length," items"]})}),a.jsxs("td",{className:"py-4 px-6 text-right text-gray-900 font-semibold",children:["$",X.total.toLocaleString()]}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>Pe(X),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver detalles",children:a.jsx(Ar,{size:18})}),X.estado!=="Anulada"&&a.jsx("button",{onClick:()=>ga(X.id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors text-red-600",title:"Anular compra",children:a.jsx(gb,{size:18})})]})})]},X.id))})]})})}),a.jsx(pt,{isOpen:v,onClose:()=>b(!1),title:"Nueva Compra",size:"lg",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Proveedor *"}),a.jsxs("select",{value:K.proveedorId,onChange:X=>{const xe=X.target.value,Ce=r.find(Ue=>String(Ue.id)===String(xe)),ze=Ce?Ce.nombre:"";ze&&(pe({...K,proveedorId:xe,proveedorNombre:ze}),P(ze)),ne({...me,proveedorId:void 0})},className:`w-full px-3 py-2 border rounded-lg focus:outline-none ${me.proveedorId?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Seleccionar proveedor..."}),r.filter(X=>X.activo&&X.nombre).map(X=>a.jsx("option",{value:String(X.id),children:X.nombre},X.id))]}),me.proveedorId&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:me.proveedorId})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Fecha de Compra *"}),a.jsx(Le,{type:"date",value:K.fechaCompra,onChange:X=>Q("fechaCompra",X.target.value),className:me.fechaCompra?"border-red-500":"",required:!0}),me.fechaCompra&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:me.fechaCompra})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"IVA (%) *"}),a.jsx(Le,{type:"number",value:K.iva,onChange:X=>Q("iva",X.target.value),placeholder:"19",className:me.iva?"border-red-500":"",required:!0}),me.iva&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:me.iva})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-gray-900 mb-4",children:"Agregar Productos a la Compra"}),se&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex items-center gap-2",children:[a.jsx(Kf,{size:16}),se]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Nombre del Producto *"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Escribe el nombre del producto o selecciona uno existente",value:Ne.productoNombre,onChange:X=>Se({...Ne,productoNombre:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm"}),o.length>0&&a.jsxs("div",{className:"text-xs text-gray-600",children:["O selecciona uno existente:",a.jsxs("select",{value:Ne.productoId,onChange:X=>{const xe=X.target.value,Ce=o.find(ze=>String(ze.id)===String(xe));if(Ce){let ze=Ce.categoryId||"",Ue="";ze&&(Ue=h.find(ot=>String(ot.id)===String(ze))?.name||""),console.log(" [select-onChange] Producto seleccionado:",{nombre:Ce.nombre,categoryId:ze,categoriaNombre:Ue}),Se({...Ne,productoId:xe,productoNombre:Ce.nombre,categoriaId:ze,categoriaNombre:Ue,referencia:Ce.referencia||""})}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 mt-2",children:[a.jsx("option",{value:"",children:"-- Seleccionar producto existente --"}),o.filter(X=>X.activo).map(X=>a.jsxs("option",{value:String(X.id),children:[X.nombre," ",X.referencia?`(${X.referencia})`:""]},X.id))]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Talla *"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:Ne.talla,onChange:X=>Se({...Ne,talla:X.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"",children:"Seleccionar talla..."}),c.map(X=>a.jsx("option",{value:X,children:X},X))]}),a.jsx(Le,{type:"text",placeholder:"O crear nueva",className:"flex-1 px-3 py-2 text-sm",onKeyDown:X=>{if(X.key==="Enter"&&X.currentTarget.value){const xe=X.currentTarget.value.trim().toUpperCase();if(!c.includes(xe)){const Ce=[...c,xe];u(Ce),localStorage.setItem("damabella_tallas",JSON.stringify(Ce)),Se({...Ne,talla:xe})}X.currentTarget.value=""}}})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tallas globales disponibles: ",c.join(", ")]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Color *"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2 items-end",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("span",{className:"text-xs text-gray-600",children:"Selector:"}),a.jsx("input",{type:"color",value:Ne.color&&/^#[0-9A-F]{6}$/i.test(Ne.color)?Ne.color:Yl[Ne.color]||"#FFFFFF",onChange:X=>{const xe=X.target.value,Ce=Object.entries(Yl).find(([ze,Ue])=>Ue.toUpperCase()===xe.toUpperCase())?.[0];Se({...Ne,color:Ce||xe})},className:"w-12 h-10 p-1 cursor-pointer rounded-lg border border-gray-300"})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Le,{type:"text",placeholder:"Color (nombre o HEX)",value:Ne.color,onChange:X=>Se({...Ne,color:X.target.value}),onKeyPress:X=>{X.key==="Enter"&&(X.preventDefault(),ee())},className:"w-full px-3 py-2 text-sm pr-10"}),Ne.color&&a.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-md border border-gray-300 shadow-sm",style:{backgroundColor:/^#[0-9A-F]{6}$/i.test(Ne.color)?Ne.color:Yl[Ne.color]||"#FFFFFF"},title:Ne.color})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-gray-600 mb-3 block font-medium",children:"O selecciona un color predefinido:"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(Yl).map(([X,xe])=>{const Ce=Ne.color&&String(Ne.color).toLowerCase()===String(X).toLowerCase();return a.jsxs("button",{type:"button",onClick:()=>{Se({...Ne,color:X})},className:`flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all hover:shadow-md ${Ce?"border-blue-500 bg-blue-50 ring-2 ring-blue-300":"border-gray-200 hover:border-gray-300 bg-white"}`,title:X,children:[a.jsx("div",{className:"w-10 h-10 rounded-lg border border-gray-300 shadow-sm",style:{backgroundColor:xe}}),a.jsx("span",{className:"text-xs font-semibold text-gray-700",children:X})]},X)})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Los colores se definen en esta compra. Puedes escribir cualquier color personalizado."})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Cantidad"}),a.jsx(Le,{type:"number",value:Ne.cantidad,onChange:X=>Se({...Ne,cantidad:X.target.value}),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Precio Compra"}),a.jsx(Le,{type:"number",value:Ne.precioCompra,onChange:X=>Se({...Ne,precioCompra:X.target.value}),placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Precio Venta"}),a.jsx(Le,{type:"number",value:Ne.precioVenta,onChange:X=>Se({...Ne,precioVenta:X.target.value}),placeholder:"0"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Categora del Producto"}),a.jsxs("select",{ref:M,value:Ne.categoriaId||"",onChange:X=>{const xe=X.target.value,Ce=h.find(ze=>ze.id===xe);console.log(" [ComprasManager] Categora seleccionada en onChange:",{id:xe,nombre:Ce?.name}),Se(ze=>({...ze,categoriaId:xe,categoriaNombre:Ce?.name||""}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 text-sm",children:[a.jsx("option",{value:"",children:"Seleccionar categora..."}),h.map(X=>a.jsx("option",{value:X.id,children:X.name},X.id))]}),!Ne.categoriaId&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"La categora es importante para organizar productos"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Imagen del Producto"}),a.jsx(Le,{type:"text",value:Ne.imagen,onChange:X=>Se({...Ne,imagen:X.target.value}),placeholder:"URL de imagen o ruta",className:"text-sm"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL o ruta de la imagen del producto"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Referencia (SKU)"}),a.jsx(Le,{type:"text",value:Ne.referencia,onChange:X=>Se({...Ne,referencia:X.target.value}),placeholder:"Ref-001 o cdigo nico",className:"text-sm"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cdigo o referencia nico del producto (opcional)"})]})]}),a.jsxs(Te,{onClick:()=>{const X=M.current?.value||"",xe=h.find(Ce=>Ce.id===X);if(console.log(" [ComprasManager] ANTES de agregarItem:",{categoriaId_state:Ne.categoriaId,categoriaId_select:X,categoriaNombre_select:xe?.name,nuevoItem:JSON.stringify(Ne,null,2)}),X&&!Ne.categoriaId){console.log(" [ComprasManager] Actualizando estado con categora del select...");const Ce={...Ne,categoriaId:X,categoriaNombre:xe?.name||""};Se(Ce),setTimeout(()=>ee(),50)}else if(X&&Ne.categoriaId!==X){console.log(" [ComprasManager] Sincronizando categora del select...");const Ce={...Ne,categoriaId:X,categoriaNombre:xe?.name||""};Se(Ce),setTimeout(()=>ee(),50)}else ee()},variant:"primary",className:"w-full mb-4",children:[a.jsx(Kr,{size:16}),"Agregar Producto"]}),K.items.length>0&&a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Producto"}),a.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Categora"}),a.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Talla"}),a.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Color"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Cant."}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Compra"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Venta"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Subtotal"}),a.jsx("th",{className:"py-2 px-3"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:K.items.map(X=>{const xe=Yl[X.color]||X.color;return a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-3 text-gray-900",children:X.productoNombre}),a.jsx("td",{className:"py-2 px-3 text-gray-700",children:a.jsx("span",{className:"inline-block bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:X.categoriaNombre||" ERROR: Sin asignar"})}),a.jsx("td",{className:"py-2 px-3 text-gray-700",children:X.talla||"-"}),a.jsx("td",{className:"py-2 px-3 text-gray-700",children:a.jsxs("div",{className:"flex items-center gap-2",children:[X.color&&a.jsx("div",{className:"w-6 h-6 rounded-md border border-gray-300 shadow-sm",style:{backgroundColor:xe},title:X.color}),a.jsx("span",{children:X.color||"-"})]})}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-700",children:X.cantidad}),a.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",(X.precioCompra||0).toLocaleString()]}),a.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",(X.precioVenta||0).toLocaleString()]}),a.jsxs("td",{className:"py-2 px-3 text-right text-gray-900",children:["$",(X.subtotal||0).toLocaleString()]}),a.jsx("td",{className:"py-2 px-3",children:a.jsx("button",{onClick:()=>ae(X.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:a.jsx(da,{size:14})})})]},X.id)})})]})}),K.items.length>0&&a.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",we().toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsxs("span",{children:["IVA (",K.iva,"%):"]}),a.jsxs("span",{children:["$",Ve().toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-900 pt-2 border-t border-gray-300",children:[a.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-lg font-semibold",children:["$",Fe().toLocaleString()]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Observaciones"}),a.jsx("textarea",{value:K.observaciones,onChange:X=>pe({...K,observaciones:X.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:3,placeholder:"Notas adicionales sobre la compra..."})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>b(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:Ua,variant:"primary",children:"Crear Compra"})]})]})}),a.jsx(pt,{isOpen:w,onClose:()=>y(!1),title:`Detalles de la Compra ${x?.numeroCompra}`,children:x&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Proveedor"}),a.jsx("div",{className:"text-gray-900 font-medium",children:x.proveedorNombre})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Estado"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs ${x.estado==="Recibida"?"bg-green-100 text-green-700":x.estado==="Pendiente"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:x.estado})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Fecha de Compra"}),a.jsx("div",{className:"text-gray-900",children:x.fechaCompra})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Fecha de Registro"}),a.jsx("div",{className:"text-gray-900",children:x.fechaRegistro})]})]}),x.observaciones&&a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Observaciones"}),a.jsx("div",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:x.observaciones})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-gray-900 font-semibold mb-3",children:"Productos"}),a.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Producto"}),a.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Talla"}),a.jsx("th",{className:"text-left py-2 px-3 text-gray-600",children:"Color"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Cant."}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Compra"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"P. Venta"}),a.jsx("th",{className:"text-right py-2 px-3 text-gray-600",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:x.items.map(X=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-3 text-gray-900",children:X.productoNombre}),a.jsx("td",{className:"py-2 px-3 text-gray-700",children:X.talla||"-"}),a.jsx("td",{className:"py-2 px-3 text-gray-700",children:X.color||"-"}),a.jsx("td",{className:"py-2 px-3 text-right text-gray-700",children:X.cantidad}),a.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",X.precioCompra.toLocaleString()]}),a.jsxs("td",{className:"py-2 px-3 text-right text-gray-700",children:["$",X.precioVenta.toLocaleString()]}),a.jsxs("td",{className:"py-2 px-3 text-right text-gray-900",children:["$",X.subtotal.toLocaleString()]})]},X.id))})]})})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",x.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"IVA:"}),a.jsxs("span",{children:["$",x.iva.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-900 pt-2 border-t border-gray-300",children:[a.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),a.jsxs("span",{className:"text-lg font-semibold",children:["$",x.total.toLocaleString()]})]})]})]})}),a.jsx(pt,{isOpen:z,onClose:()=>B(!1),title:te==="error"?"Error":te==="success"?"xito":"Advertencia",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border ${te==="error"?"bg-red-50 border-red-200":te==="success"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center font-bold text-white ${te==="error"?"bg-red-600":te==="success"?"bg-green-600":"bg-yellow-600"}`,children:te==="error"?"!":te==="success"?"":""}),a.jsx("p",{className:te==="error"?"text-red-800":te==="success"?"text-green-800":"text-yellow-800",children:D})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Te,{onClick:()=>B(!1),variant:"primary",children:"Aceptar"})})]})}),a.jsx(pt,{isOpen:Y,onClose:()=>U(!1),title:"Confirmar accin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:F}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(Te,{onClick:()=>U(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:()=>ce&&ce(),variant:"primary",children:"Confirmar"})]})]})})]})}const Ty="damabella_clientes",zA="damabella_ventas",zY="damabella_devoluciones",FY="damabella_cambios";function BY(){const[e,t]=C.useState(()=>{const R=localStorage.getItem(Ty);return R?JSON.parse(R):[]}),[r,n]=C.useState(!1),[o,s]=C.useState(null),[c,u]=C.useState(""),[d,m]=C.useState({}),[h,p]=C.useState(!1),[v,b]=C.useState(""),[w,y]=C.useState("error"),[x,N]=C.useState(!1),[A,E]=C.useState(""),[_,P]=C.useState(null),[k,O]=C.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:"",ciudad:""}),L=R=>JSON.parse(localStorage.getItem(zA)||"[]").some(U=>U.clienteId===R&&(U.estado==="Aplicada"||U.estado==="APLICADA"||U.estado==="Completada"||U.estado==="COMPLETADA")),T=R=>R.map(Y=>L(Y.id)&&!Y.activo?(console.log(` [ClientesManager] Cliente "${Y.nombre}" activado automticamente (tiene venta APLICADA)`),{...Y,activo:!0}):Y);C.useEffect(()=>{const R=T(e);localStorage.setItem(Ty,JSON.stringify(R)),JSON.stringify(R)!==JSON.stringify(e)&&t(R)},[e]);const M=R=>{const Y={...R,activo:!R.activo},U=e.map(W=>W.id===R.id?Y:W);t(U),localStorage.setItem(Ty,JSON.stringify(U));const F=Y.activo?"activado":"desactivado";console.log(` Cliente "${R.nombre}" ${F}`),b(`Cliente "${R.nombre}" ha sido ${F}`),y("success"),p(!0)},I=(R,Y)=>{if((R==="numeroDoc"||R==="telefono")&&(Y=Y.replace(/\D/g,"")),R==="nombre"&&(Y=Y.replace(/[^a-zA-Z\s]/g,"")),O({...k,[R]:Y}),R==="nombre"){const U=Gn("nombre",Y);if(U)m({...d,nombre:U});else{const{nombre:F,...W}=d;m(W)}return}if(R==="numeroDoc"){if(Y.length<6||Y.length>10)m({...d,numeroDoc:"Debe tener entre 6 y 10 dgitos"});else{const{numeroDoc:U,...F}=d;m(F)}return}if(R==="telefono"){if(Y.trim()&&Y.length!==10)m({...d,telefono:"Debe tener exactamente 10 dgitos"});else{const{telefono:U,...F}=d;m(F)}return}if(R==="email"){if(Y.trim()){const U=Gn("email",Y);if(U)m({...d,email:U});else if(e.some(W=>(W.email?.toLowerCase()??"")===(Y?.toLowerCase()??"")&&W.id!==o?.id))m({...d,email:"Este correo electrnico ya est registrado"});else{const{email:W,...ce}=d;m(ce)}}else{const{email:U,...F}=d;m(F)}return}},V=()=>{k.numeroDoc.trim()&&e.some(Y=>Y.numeroDoc===k.numeroDoc&&Y.id!==o?.id)&&(b("Este cliente ya est registrado en el sistema"),y("warning"),p(!0))},z=()=>{s(null),O({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:"",ciudad:""}),n(!0)},B=R=>{s(R),O({nombre:R.nombre||"",tipoDoc:R.tipoDoc||"CC",numeroDoc:R.numeroDoc||"",telefono:R.telefono||"",email:R.email||"",direccion:R.direccion||"",ciudad:R.ciudad||""}),n(!0)},D=()=>{const R={};if(k.nombre.trim()?/^[a-zA-Z\s]+$/.test(k.nombre)||(R.nombre="Solo se permiten letras y espacios"):R.nombre="El nombre es obligatorio",k.numeroDoc.trim()?/^\d{6,12}$/.test(k.numeroDoc)||(R.numeroDoc="Debe tener entre 6 y 12 dgitos"):R.numeroDoc="El nmero de documento es obligatorio",k.telefono.trim()?/^\d{10}$/.test(k.telefono)||(R.telefono="Debe tener exactamente 10 dgitos"):R.telefono="El telfono es obligatorio",k.ciudad.trim()||(R.ciudad="La ciudad es obligatoria"),k.email.trim()?/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(k.email)?e.some(F=>(F.email?.toLowerCase()??"")===(k.email?.toLowerCase()??"")&&F.id!==o?.id)&&(R.email="Este correo electrnico ya est registrado"):R.email="Email invlido (debe iniciar con letra)":R.email="El correo es obligatorio",k.direccion.trim()||(R.direccion="La direccin es obligatoria"),m(R),Object.keys(R).length>0){b("Por favor completa todos los campos requeridos"),y("error"),p(!0);return}const Y={...k,activo:o?o.activo:!1,createdAt:o?.createdAt||new Date().toISOString()};t(o?e.map(U=>U.id===o.id?{...U,...Y}:U):[...e,{id:Date.now(),...Y}]),n(!1)},G=e.filter(R=>{const Y=c.toLowerCase();return(R.nombre?.toLowerCase()??"").includes(Y)||(R.numeroDoc??"").includes(c)||(R.email?.toLowerCase()??"").includes(Y)||(R.telefono??"").includes(c)||(R.tipoDoc?.toLowerCase()??"").includes(Y)||(R.ciudad?.toLowerCase()??"").includes(Y)||(R.direccion?.toLowerCase()??"").includes(Y)}),te=R=>{const Y=JSON.parse(localStorage.getItem(zA)||"[]"),U=JSON.parse(localStorage.getItem(zY)||"[]"),F=JSON.parse(localStorage.getItem(FY)||"[]"),W=R.toString(),ce=Y.filter(ue=>ue.clienteId===R||ue.clienteId?.toString()===W||ue.clienteId===W),ie=ce.reduce((ue,Me)=>ue+(Me.total||0),0),K=U.filter(ue=>ue.clienteId===R||ue.clienteId?.toString()===W||ue.clienteId===W),pe=K.reduce((ue,Me)=>ue+(Me.total||0),0),me=F.filter(ue=>ue.clienteId===R||ue.clienteId?.toString()===W||ue.clienteId===W),ne=me.reduce((ue,Me)=>ue+(Me.diferencia||0),0);return{totalVentas:ie,totalDevoluciones:pe,totalCambios:ne,saldoAFavor:pe,ventasCliente:ce,devolucionesCliente:K,cambiosCliente:me}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-gray-600",children:"Administra la informacin de tus clientes"})]}),a.jsxs(Te,{onClick:z,variant:"primary",children:[a.jsx(Kr,{size:20}),"Nuevo Cliente"]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:"Buscar clientes...",value:c,onChange:R=>u(R.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Cliente"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Documento"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Contacto"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Ciudad"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Resumen Comercial"}),a.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:G.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:[a.jsx(Ns,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{children:"No se encontraron clientes"})]})}):G.map(R=>{const Y=te(R.id);return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center text-white",children:R.nombre[0]?.toUpperCase()}),a.jsx("div",{children:a.jsx("div",{className:"text-gray-900",children:R.nombre})})]})}),a.jsxs("td",{className:"py-4 px-6",children:[a.jsx("div",{className:"text-gray-700",children:R.tipoDoc}),a.jsx("div",{className:"text-gray-500",children:R.numeroDoc})]}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"space-y-1",children:[R.telefono&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Gf,{size:14,className:"text-gray-400"}),R.telefono]}),R.email&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[a.jsx(Hf,{size:14,className:"text-gray-400"}),R.email]})]})}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:R.ciudad||"N/A"}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200 shadow-sm",children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex justify-between items-baseline border-b border-blue-200 pb-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Total Ventas"}),a.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",Y.totalVentas.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-baseline border-b border-blue-200 pb-2",children:[a.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Devoluciones"}),a.jsxs("span",{className:`text-sm font-bold ${Y.totalDevoluciones>0?"text-red-600":"text-gray-900"}`,children:["$",Y.totalDevoluciones.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-baseline pt-1",children:[a.jsx("span",{className:"text-xs font-bold text-green-700",children:"Saldo a Favor"}),a.jsxs("span",{className:`text-base font-bold ${Y.saldoAFavor>0?"text-green-600":"text-gray-900"}`,children:["$",Y.saldoAFavor.toLocaleString()]})]})]})})}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${R.activo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:R.activo?"Activo":"Inactivo"})})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>{if(!R||!R.id){console.error(" [ClientesManager] Error: Cliente sin ID",R),b("Error: No se puede abrir el detalle del cliente"),y("error"),p(!0);return}sessionStorage.setItem("cliente_detalle_actual",JSON.stringify(R)),window.dispatchEvent(new CustomEvent("navigate-cliente-detalle",{detail:R}))},className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Ver detalle",children:a.jsx(Ar,{size:18})}),a.jsx("button",{onClick:()=>B(R),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Editar",children:a.jsx(fi,{size:18})}),a.jsx("button",{onClick:()=>M(R),className:`p-2 rounded-lg transition-colors ${R.activo?"hover:bg-red-50 text-red-600":"hover:bg-green-50 text-green-600"}`,title:R.activo?"Desactivar cliente":"Activar cliente",children:a.jsx("div",{className:"flex items-center justify-center w-5 h-5 text-xs font-bold",children:R.activo?"":""})})]})})]},R.id)})})]})})}),a.jsx(pt,{isOpen:r,onClose:()=>n(!1),title:o?"Editar Cliente":"Nuevo Cliente",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo de Documento *"}),a.jsxs("select",{value:k.tipoDoc,onChange:R=>O({...k,tipoDoc:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),a.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),a.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),a.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero de Documento *"}),a.jsx(Le,{value:k.numeroDoc,onChange:R=>I("numeroDoc",R.target.value),onBlur:V,placeholder:"1234567890",maxLength:10,required:!0}),d.numeroDoc&&a.jsx("p",{className:"text-red-500 text-sm",children:d.numeroDoc})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre Completo *"}),a.jsx(Le,{value:k.nombre,onChange:R=>I("nombre",R.target.value),placeholder:"Juan Prez",required:!0}),d.nombre&&a.jsx("p",{className:"text-red-500 text-sm",children:d.nombre})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono *"}),a.jsx(Le,{value:k.telefono,onChange:R=>I("telefono",R.target.value),placeholder:"3001234567",maxLength:10,required:!0}),d.telefono&&a.jsx("p",{className:"text-red-500 text-sm",children:d.telefono})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Ciudad *"}),a.jsxs("select",{value:k.ciudad,onChange:R=>O({...k,ciudad:R.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"",children:"Seleccionar ciudad..."}),a.jsx("option",{value:"Bogot",children:"Bogot"}),a.jsx("option",{value:"Medelln",children:"Medelln"}),a.jsx("option",{value:"Cali",children:"Cali"}),a.jsx("option",{value:"Barranquilla",children:"Barranquilla"}),a.jsx("option",{value:"Bucaramanga",children:"Bucaramanga"})]}),d.ciudad&&a.jsx("p",{className:"text-red-500 text-sm",children:d.ciudad})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Correo Electrnico *"}),a.jsx(Le,{type:"email",value:k.email,onChange:R=>I("email",R.target.value),placeholder:"cliente@ejemplo.com",required:!0}),d.email&&a.jsx("p",{className:"text-red-500 text-sm",children:d.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin *"}),a.jsx(Le,{value:k.direccion,onChange:R=>O({...k,direccion:R.target.value}),placeholder:"Calle 123 # 45-67",required:!0}),d.direccion&&a.jsx("p",{className:"text-red-500 text-sm",children:d.direccion})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>n(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:D,variant:"primary",children:o?"Guardar Cambios":"Crear Cliente"})]})]})}),a.jsx(pt,{isOpen:h,onClose:()=>p(!1),title:w==="error"?"Error":w==="success"?"xito":"Advertencia",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-lg border ${w==="error"?"bg-red-50 border-red-200":w==="success"?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[a.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center font-bold text-white ${w==="error"?"bg-red-600":w==="success"?"bg-green-600":"bg-yellow-600"}`,children:w==="error"?"!":w==="success"?"":""}),a.jsx("p",{className:w==="error"?"text-red-800":w==="success"?"text-green-800":"text-yellow-800",children:v})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Te,{onClick:()=>p(!1),variant:"primary",children:"Aceptar"})})]})}),a.jsx(pt,{isOpen:x,onClose:()=>N(!1),title:"Confirmar accin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700",children:A}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(Te,{onClick:()=>N(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:()=>_&&_(),variant:"primary",children:"Confirmar"})]})]})})]})}const kj=C.createContext(void 0);function VY(e){return{Negro:"#000000",Blanco:"#FFFFFF",Rosa:"#FFB6C1",Azul:"#4169E1",Rojo:"#DC143C",Verde:"#32CD32",Amarillo:"#FFD700",Morado:"#9370DB",Naranja:"#FF8C00",Gris:"#808080",Beige:"#F5F5DC",Caf:"#8B4513",Turquesa:"#40E0D0",Lavanda:"#E6E6FA",Coral:"#FF7F50",Menta:"#98FF98"}[e]||"#000000"}const Dy=()=>{const e=localStorage.getItem("damabella_categorias"),t=[];if(!e)return t;try{return JSON.parse(e).forEach(n=>{n.active===!0&&t.push({id:n.id,name:n.name||n.nombre,description:n.description||n.descripcion||""})}),console.log("[EcommerceContext] Categoras activas para Navbar:",t.length),t}catch(r){return console.error("[EcommerceContext] Error al obtener categoras para navbar:",r),t}},$y=()=>{const e=localStorage.getItem("damabella_categorias"),t=localStorage.getItem("damabella_productos"),r=[];if(!e)return r;try{const n=JSON.parse(e),o=t?JSON.parse(t):[];return n.filter(c=>c.active===!0).forEach(c=>{o.some(d=>(d.categoria===c.name||d.categoria===c.id)&&d.activo!==!1&&d.stockTotal>0)&&r.push({id:c.id,name:c.name||c.nombre,description:c.description||c.descripcion||""})}),console.log("[EcommerceContext] Categoras activas para Home:",r.length),r}catch(n){return console.error("[EcommerceContext] Error al obtener categoras para home:",n),r}},My=()=>{const e=localStorage.getItem("damabella_productos"),t=[];if(e)try{const r=JSON.parse(e);console.log("[EcommerceContext] Productos encontrados en localStorage:",r.length),r.forEach((n,o)=>{console.log(`[EcommerceContext] Producto ${o+1}: ${n.nombre} | Categora: ${n.categoria} | activo: ${n.activo}`);let s=0;if(n.variantes&&Array.isArray(n.variantes)&&n.variantes.forEach(c=>{c.colores&&Array.isArray(c.colores)?c.colores.forEach(u=>{s+=u.cantidad||0}):s+=c.cantidad||0}),console.log(`[EcommerceContext] Stock total para ${n.nombre}: ${s}`),n.activo!==!1&&s>0){const c=[];n.variantes&&Array.isArray(n.variantes)&&n.variantes.forEach(u=>{const d=u.colores||[];d.length>0?d.forEach(m=>{c.push({color:m.color||"Negro",colorHex:VY(m.color||"Negro"),sizes:[{size:u.talla,stock:m.cantidad||0}]})}):c.push({color:"Negro",colorHex:"#000000",sizes:[{size:u.talla,stock:0}]})}),t.push({id:`admin_${n.id}`,name:n.nombre,description:`Proveedor: ${n.proveedor}`,price:n.precioVenta,image:n.imagen||"https://images.unsplash.com/photo-1505252585461-04db1921b902?w=500&h=500&fit=crop",category:n.categoria,featured:Math.random()>.6,new:!0,variants:c.length>0?c:[{color:"Negro",colorHex:"#000000",sizes:[{size:"nica",stock:0}]}],rating:4.5}),console.log(`[EcommerceContext]  Producto incluido: ${n.nombre} (Stock: ${s})`)}else n.activo===!1?console.log(`[EcommerceContext]  Producto excluido (inactivo): ${n.nombre}`):console.log(`[EcommerceContext]  Producto excluido (sin stock): ${n.nombre}`)}),console.log("[EcommerceContext] Total productos para mostrar:",t.length)}catch(r){console.error("Error al convertir productos del admin:",r)}else console.log("[EcommerceContext] No hay productos en localStorage");return t},FA=(e,t,r)=>{if(!e||!t||!r)return console.warn("[getProductStock] Parmetros invlidos:",{productId:e,color:t,size:r}),0;const n=localStorage.getItem("damabella_productos");if(!n)return console.warn("[getProductStock] No hay productos en localStorage"),0;try{const o=JSON.parse(n);if(!Array.isArray(o))return console.warn("[getProductStock] Productos no es un array"),0;const s=e.replace("admin_",""),c=o.find(u=>u&&u.id?.toString()===s);if(!c)return console.warn("[getProductStock] Producto no encontrado:",s),0;if(c.activo===!1)return console.warn("[getProductStock] Producto inactivo:",e),0;if(!c.variantes||!Array.isArray(c.variantes))return console.warn("[getProductStock] Producto sin variantes:",e),0;for(const u of c.variantes)if(!(!u||u.talla!==r)){if(u.colores&&Array.isArray(u.colores)){for(const d of u.colores)if(d&&d.color===t){const m=d.cantidad||0;return console.log(`[getProductStock] Stock encontrado: ${e} - ${t} - ${r} = ${m}`),m}}else if(u.color===t){const d=u.cantidad||0;return console.log(`[getProductStock] Stock encontrado (alt): ${e} - ${t} - ${r} = ${d}`),d}}return console.warn("[getProductStock] Combinacin color/talla no encontrada:",{color:t,size:r}),0}catch(o){return console.error("[getProductStock] Error obteniendo stock:",o),0}};function qY({children:e}){const[t,r]=C.useState([]),[n,o]=C.useState([]),[s,c]=C.useState([]),[u,d]=C.useState([]),[m,h]=C.useState([]),[p,v]=C.useState([]),[b,w]=C.useState([]);C.useEffect(()=>{const M=localStorage.getItem("damabella_cart"),I=localStorage.getItem("damabella_favorites"),V=localStorage.getItem("damabella_recently_viewed"),z=localStorage.getItem("damabella_orders");M&&d(JSON.parse(M)),I&&h(JSON.parse(I)),V&&v(JSON.parse(V)),z&&w(JSON.parse(z));const B=Dy(),D=$y();o(B),c(D);const G=My();r(G);const te=Y=>{if((Y.key==="damabella_productos"||Y.key==="damabella_categorias")&&Y.newValue){const U=My();r(U);const F=Dy(),W=$y();o(F),c(W)}};window.addEventListener("storage",te);const R=setInterval(()=>{const Y=My();r(Y);const U=Dy(),F=$y();o(U),c(F)},1e3);return()=>{window.removeEventListener("storage",te),clearInterval(R)}},[]),C.useEffect(()=>{localStorage.setItem("damabella_cart",JSON.stringify(u))},[u]),C.useEffect(()=>{localStorage.setItem("damabella_favorites",JSON.stringify(m))},[m]),C.useEffect(()=>{localStorage.setItem("damabella_recently_viewed",JSON.stringify(p))},[p]),C.useEffect(()=>{localStorage.setItem("damabella_ecommerce_products",JSON.stringify(t.filter(M=>!M.id.startsWith("p"))))},[t]),C.useEffect(()=>{localStorage.setItem("damabella_orders",JSON.stringify(b))},[b]);const y=M=>{try{if(!M)return console.error("[addToCart] Item es null/undefined"),ra.error(" Producto invlido"),!1;if(!M.productId)return console.error("[addToCart] Item sin productId:",M),ra.error(" Producto sin identificador"),!1;if(!M.productName)return console.error("[addToCart] Item sin productName:",M),ra.error(" Producto sin nombre"),!1;if(M.price===void 0||M.price===null||M.price<0)return console.error("[addToCart] Precio invlido:",M.price),ra.error(" Precio invlido"),!1;if(!M.color)return console.error("[addToCart] Item sin color:",M),ra.error(" Color no especificado"),!1;if(!M.size)return console.error("[addToCart] Item sin size:",M),ra.error(" Talla no especificada"),!1;if(!M.quantity||M.quantity<1)return console.error("[addToCart] Cantidad invlida:",M.quantity),ra.error(" Cantidad invlida"),!1;const I=FA(M.productId,M.color,M.size);return I<M.quantity?(console.warn(`[addToCart] Stock insuficiente: solicitado ${M.quantity}, disponible ${I}`),ra.error(` Stock insuficiente. Disponible: ${I}`),!1):(d(V=>{const z=V.findIndex(B=>B.productId===M.productId&&B.color===M.color&&B.size===M.size);if(z>-1){const B=[...V];return B[z].quantity+=M.quantity,B}return[...V,M]}),console.log("[addToCart]  Producto agregado:",M.productName),ra.success(` ${M.productName} agregado al carrito`),!0)}catch(I){return console.error("[addToCart] Error no controlado:",I),ra.error(" Error al agregar el producto. Intenta de nuevo."),!1}},x=(M,I,V)=>{d(z=>z.filter(B=>!(B.productId===M&&B.color===I&&B.size===V)))},N=(M,I,V,z)=>{if(z<=0)return x(M,I,V);d(B=>B.map(D=>D.productId===M&&D.color===I&&D.size===V?{...D,quantity:z}:D))},A=()=>d([]),E=M=>h(I=>I.includes(M)?I.filter(V=>V!==M):[...I,M]),_=M=>v(I=>[M,...I.filter(V=>V!==M)].slice(0,10)),P=M=>r(I=>[...I,M]),k=(M,I)=>r(V=>V.map(z=>z.id===M?{...z,...I}:z)),O=M=>r(I=>I.filter(V=>V.id!==M)),L=M=>w(I=>[...I,M]),T=(M,I)=>{w(V=>V.map(z=>z.id===M?{...z,status:I}:z))};return a.jsx(kj.Provider,{value:{products:t,categories:n,categoriesForHome:s,cart:u,favorites:m,recentlyViewed:p,orders:b,addToCart:y,removeFromCart:x,updateCartQuantity:N,clearCart:A,toggleFavorite:E,addToRecentlyViewed:_,addProduct:P,updateProduct:k,deleteProduct:O,addOrder:L,updateOrderStatus:T,getProductStock:FA},children:e})}function Ro(){const e=C.useContext(kj);if(!e)throw new Error("useEcommerce debe estar dentro de un EcommerceProvider");return e}function UY({onNavigate:e,currentUser:t}){const{orders:r}=Ro(),[n,o]=C.useState([]);C.useEffect(()=>{const c=JSON.parse(localStorage.getItem("purchaseHistory")||"[]"),u=[...r];c.forEach(d=>{u.find(m=>m.id===d.id)||u.push({id:d.id,items:d.items,subtotal:d.subtotal,iva:d.iva,total:d.total,paymentMethod:d.paymentMethod,clientName:d.shippingInfo?.fullName||"Cliente",clientEmail:t?.email||"",clientPhone:d.shippingInfo?.phone||"",clientAddress:d.shippingInfo?.address||"",date:d.date,status:"Pendiente",createdAt:new Date(d.timestamp).toISOString()})}),o(u)},[r,t]);const s=c=>{switch(c){case"Entregado":return"bg-green-100 text-green-800";case"Enviado":return"bg-blue-100 text-blue-800";case"Pendiente":return"bg-yellow-100 text-yellow-800";case"Cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"min-h-screen bg-[#F5F6F7]",children:[a.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3 sticky top-0 z-40",children:[a.jsx("button",{onClick:()=>e("profile"),children:a.jsx(g4,{size:24})}),a.jsx("h1",{className:"text-lg font-bold",children:"Mis Pedidos"})]}),n.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[a.jsx(an,{size:64,className:"text-gray-300 mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"An no tienes pedidos"}),a.jsx("button",{onClick:()=>e("home"),className:"bg-[#FFB6C1] text-white px-6 py-2 rounded-lg hover:bg-[#FF9EB1]",children:"Explorar Productos"})]}):a.jsx("div",{className:"p-4 space-y-3",children:n.map(c=>a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-lg",children:c.id}),a.jsx("p",{className:"text-sm text-gray-600",children:new Date(c.date||c.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s(c.status)}`,children:c.status})]}),a.jsx("div",{className:"space-y-2 mb-3",children:c.items.map((u,d)=>a.jsx("div",{className:"flex gap-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium line-clamp-1",children:u.productName}),a.jsxs("p",{className:"text-xs text-gray-600",children:[u.color," | Talla: ",u.size," | x",u.quantity]}),a.jsxs("p",{className:"text-sm font-bold",children:["$",u.price.toLocaleString()]})]})},d))}),a.jsxs("div",{className:"pt-3 border-t border-gray-200 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),a.jsxs("p",{className:"text-lg font-bold text-[#FFB6C1]",children:["$",c.total.toLocaleString()]})]}),a.jsx("p",{className:"text-xs text-gray-600",children:c.paymentMethod})]})]},c.id))})]})}const js="damabella_productos",hs="damabella_ventas",BA="damabella_venta_counter",yD=(e,t)=>{try{const r=localStorage.getItem(js);if(!r)return{exitoso:!1,error:" Error crtico: No hay productos en localStorage"};const o=JSON.parse(r).map(d=>{const m=t.filter(p=>String(p.productoId)===String(d.id));if(m.length===0)return d;if(!d.variantes||d.variantes.length===0)throw new Error(` CRTICO: Producto "${d.nombre}" no tiene variantes. Stock no puede descontarse.`);const h=d.variantes.map(p=>({...p,colores:p.colores.map(v=>{const b=m.reduce((w,y)=>y.talla===p.talla&&y.color===v.color?w+y.cantidad:w,0);if(b>0){if(v.cantidad<b)throw new Error(` Stock insuficiente para ${d.nombre} (${p.talla}, ${v.color}).
Disponible: ${v.cantidad} | Solicitado: ${b}`);const w=Math.max(0,v.cantidad-b);return console.log(` [finalizarVenta] ${d.nombre} - ${p.talla} ${v.color}: ${v.cantidad} - ${b} = ${w}`),{...v,cantidad:w}}return v})}));return{...d,variantes:h}}),s={...e,movimientosStock:{salidaEjecutada:!0,devolucionEjecutada:!1}},u=[...JSON.parse(localStorage.getItem(hs)||"[]"),s];return localStorage.setItem(hs,JSON.stringify(u)),localStorage.setItem(js,JSON.stringify(o)),window.dispatchEvent(new StorageEvent("storage",{key:js,newValue:JSON.stringify(o),oldValue:r,url:window.location.href})),window.dispatchEvent(new Event("ventaFinalizada")),window.dispatchEvent(new Event("salesUpdated")),console.log(` [finalizarVenta] Venta ${e.numeroVenta} finalizada - Stock descargado`),{exitoso:!0}}catch(r){const n=r.message||"Error desconocido al finalizar venta";return console.error(` [finalizarVenta] ${n}`),{exitoso:!1,error:n}}},xD=()=>{const e=parseInt(localStorage.getItem(BA)||"1",10),t=`VEN-${e.toString().padStart(3,"0")}`;return localStorage.setItem(BA,String(e+1)),t},WY=(e,t)=>{try{const r="damabella_cambios",n="damabella_devoluciones",o=JSON.parse(localStorage.getItem(r)||"[]"),c=JSON.parse(localStorage.getItem(n)||"[]").some(w=>w.ventaId===e.id||w.numeroVenta===e.numeroVenta),u=o.some(w=>w.ventaOriginalId===e.id.toString()&&w.stockAplicado===!0&&w.devolverAplicada===!0&&w.reversado!==!0);if(c)return{exitoso:!1,error:" Esta venta tiene devoluciones asociadas. Debe anularlas primero."};if(u)return{exitoso:!1,error:" Esta venta tiene cambios con movimientos de stock. Debe anular los cambios primero."};if(e.movimientosStock?.devolucionEjecutada===!0)return{exitoso:!0,error:void 0,stockDevuelto:[]};if(e.movimientosStock?.salidaEjecutada!==!0){console.log(` Venta ${e.numeroVenta} nunca tuvo stock descargado. Anulacin sin devolucin.`);const y=JSON.parse(localStorage.getItem(hs)||"[]").map(x=>x.id===e.id?{...x,estado:"Anulada",anulada:!0,motivoAnulacion:t,movimientosStock:{salidaEjecutada:!1,devolucionEjecutada:!1}}:x);return localStorage.setItem(hs,JSON.stringify(y)),{exitoso:!0,stockDevuelto:[]}}const d=localStorage.getItem(js);if(!d)return{exitoso:!1,error:" Error crtico: No hay productos en localStorage"};const m=JSON.parse(d),h=[],p=m.map(w=>{const y=e.items.filter(N=>String(N.productoId)===String(w.id));if(y.length===0)return w;const x=w.variantes.map(N=>({...N,colores:N.colores.map(A=>{const E=y.reduce((_,P)=>P.talla===N.talla&&P.color===A.color?_+P.cantidad:_,0);if(E>0){const _=A.cantidad,P=_+E;return console.log(` [anularVentaSegura] ${w.nombre} - ${N.talla} ${A.color}: ${_} + ${E} = ${P}`),h.push({productoId:w.id,nombreProducto:w.nombre,talla:N.talla,color:A.color,cantidad:E}),{...A,cantidad:P}}return A})}));return{...w,variantes:x}}),b=JSON.parse(localStorage.getItem(hs)||"[]").map(w=>w.id===e.id?{...w,estado:"Anulada",anulada:!0,motivoAnulacion:t,movimientosStock:{salidaEjecutada:!0,devolucionEjecutada:!0}}:w);return localStorage.setItem(js,JSON.stringify(p)),localStorage.setItem(hs,JSON.stringify(b)),window.dispatchEvent(new StorageEvent("storage",{key:js,newValue:JSON.stringify(p),oldValue:d,url:window.location.href})),window.dispatchEvent(new Event("salesUpdated")),console.log(` [anularVentaSegura] Venta ${e.numeroVenta} anulada - Stock devuelto (${h.length} items)`),{exitoso:!0,stockDevuelto:h}}catch(r){const n=r.message||"Error desconocido al anular venta";return console.error(` [anularVentaSegura] ${n}`),{exitoso:!1,error:n}}},VA="damabella_pedidos";function HY(e){return e==="Pendiente"}function GY(e){return e==="Anulado"}function KY(e,t,r){const n=r?.onLog||console.log,o=r?.onNotificar||(()=>{});try{if(n(`
 [cambiarEstadoCentralizado] Iniciando transicin: ${e.estado}  ${t}`,"log"),GY(e.estado)){const s=" No se puede cambiar estado de un pedido ANULADO. Estado terminal.";return n(s,"warn"),{exitoso:!1,error:s,mensaje:"Un pedido anulado no puede cambiar de estado"}}if(t==="Completada"&&!HY(e.estado)){const s=` No se puede pasar de ${e.estado} a Completada. Solo Pendiente puede completarse.`;return n(s,"warn"),{exitoso:!1,error:s,mensaje:"Solo pedidos Pendientes pueden completarse"}}if(t==="Completada"&&e.estado==="Pendiente"){n(`
 [Completada] Creando venta y descontando stock...`,"log");const s=xD(),c={id:Date.now(),numeroVenta:s,clienteId:e.clienteId,clienteNombre:e.clienteNombre,fechaVenta:e.fechaPedido,estado:"Completada",items:e.items,subtotal:e.subtotal,iva:e.iva,total:e.total,metodoPago:e.metodoPago||"Efectivo",observaciones:e.observaciones||"",anulada:!1,createdAt:new Date().toISOString(),pedido_id:e.numeroPedido,movimientosStock:{salidaEjecutada:!1,devolucionEjecutada:!1}},u=yD(c,e.items);if(!u.exitoso){const v=` Error al crear venta: ${u.error}`;if(n(v,"error"),o("Error",u.error||"Error al crear venta","error"),!r?.continuarSiError)return{exitoso:!1,error:v,mensaje:"No se pudo descontar stock. Verifique disponibilidad."}}const d={...e,estado:"Completada",venta_id:s},h=JSON.parse(localStorage.getItem(VA)||"[]").map(v=>v.id===e.id?d:v);localStorage.setItem(VA,JSON.stringify(h)),window.dispatchEvent(new CustomEvent("pedidoConvertidoAVenta",{detail:{pedido:d}})),window.dispatchEvent(new Event("ventaFinalizada")),window.dispatchEvent(new Event("salesUpdated"));const p=` Pedido ${e.numeroPedido} completado. Venta ${s} creada.`;return n(p,"log"),o("xito",p,"success"),r?.onVentaCreada&&r.onVentaCreada(c),{exitoso:!0,mensaje:p,pedidoActualizado:d,ventaCreada:c}}return{exitoso:!1,error:` Transicin no implementada: ${e.estado}  ${t}`,mensaje:"Transicin de estado no soportada"}}catch(s){const c=s.message||"Error desconocido";return n(` [ERROR] ${c}`,"error"),o("Error",c,"error"),{exitoso:!1,error:c,mensaje:"Error al cambiar el estado del pedido"}}}const qA="damabella_pedidos",Ry="damabella_ventas",Ly="damabella_productos";function JY(e){try{const t=localStorage.getItem(Ly);if(!t)return{exitoso:!1,error:" Error crtico: No hay productos en localStorage"};const n=JSON.parse(t).map(o=>{const s=e.filter(u=>String(u.productoId)===String(o.id));if(s.length===0)return o;if(!o.variantes||o.variantes.length===0)throw new Error(` CRTICO: Producto "${o.nombre}" no tiene variantes. No se puede devolver stock.`);const c=o.variantes.map(u=>({...u,colores:u.colores.map(d=>{const m=s.reduce((h,p)=>p.talla===u.talla&&p.color===d.color?h+p.cantidad:h,0);if(m>0){const h=d.cantidad,p=h+m;return console.log(` [devolverStock] ${o.nombre} - ${u.talla} ${d.color}: ${h} + ${m} = ${p}`),{...d,cantidad:p}}return d})}));return{...o,variantes:c}});return localStorage.setItem(Ly,JSON.stringify(n)),window.dispatchEvent(new StorageEvent("storage",{key:Ly,newValue:JSON.stringify(n),oldValue:t,url:window.location.href})),{exitoso:!0,productosActualizados:n}}catch(t){return{exitoso:!1,error:t.message||"Error desconocido devolviendo stock"}}}function XY(e){try{const t=localStorage.getItem(Ry);if(!t)return!0;const r=JSON.parse(t),n=r.findIndex(o=>o.pedido_id===e);return n===-1?(console.log(` No hay venta asociada al pedido ${e}`),!0):(r[n]={...r[n],estado:"Anulada",anulada:!0,fechaAnulacion:new Date().toISOString()},localStorage.setItem(Ry,JSON.stringify(r)),window.dispatchEvent(new StorageEvent("storage",{key:Ry,newValue:JSON.stringify(r),oldValue:t,url:window.location.href})),!0)}catch(t){return console.error(" Error anulando venta:",t),!1}}function YY(e,t){const r=t?.onLog||console.log,n=t?.onNotificar||(()=>{});try{if(r(`
 [anularPedidoCentralizado] Iniciando anulacin del pedido ${e.numeroPedido}`,"log"),e.estado==="Anulado"){const m=` El pedido ${e.numeroPedido} ya est en estado ANULADO. No hay nada que hacer.`;return r(m,"warn"),{exitoso:!0,mensaje:m,pedidoAnulado:e}}let o=[];if(e.estado==="Completada"){r(`
 Pedido estaba COMPLETADA. Devolviendo stock...`,"log");const m=JY(e.items);if(!m.exitoso){const h=` Error al devolver stock: ${m.error}`;return r(h,"error"),n("Error",`No se pudo devolver el stock: ${m.error}`,"error"),{exitoso:!1,error:h,mensaje:"Error al devolver stock"}}e.items.forEach(h=>{o.push({productoId:h.productoId,nombreProducto:h.productoNombre,talla:h.talla,color:h.color,cantidad:h.cantidad})}),r(` Stock devuelto para ${o.length} items`,"log")}else e.estado==="Pendiente"&&r(" Pedido estaba PENDIENTE. Stock ya estaba en inventario (sin cambios).","log");const s={...e,estado:"Anulado"},u=JSON.parse(localStorage.getItem(qA)||"[]").map(m=>m.id===e.id?s:m);localStorage.setItem(qA,JSON.stringify(u)),r(" Pedido actualizado a estado ANULADO en mdulo Pedidos","log"),e.venta_id?(r(`
 [Sincronizacin Ventas] Marcando venta ${e.venta_id} como anulada...`,"log"),XY(e.numeroPedido)?r(" Venta marcada como anulada en mdulo Ventas","log"):r(" No se pudo actualizar la venta asociada. Continuando de todas formas...","warn")):r(" El pedido no tiene venta asociada. No hay ventas que anular.","log"),window.dispatchEvent(new CustomEvent("pedidoAnulado",{detail:{pedido:s,stockDevuelto:o}})),window.dispatchEvent(new Event("pedidosActualizados"));const d=` Pedido ${e.numeroPedido} anulado correctamente${o.length>0?` (Stock devuelto: ${o.length} productos)`:""}`;return r(d,"log"),n("xito",d,"success"),t?.onAnulado&&t.onAnulado(s),{exitoso:!0,mensaje:d,pedidoAnulado:s,stockDevuelto:o.length>0?o:void 0}}catch(o){const s=o.message||"Error desconocido";return r(` [ERROR] ${s}`,"error"),n("Error",s,"error"),{exitoso:!1,error:s,mensaje:"Error al anular el pedido"}}}function Ld(e){return e==="Pendiente"}function ac(e,t){return e==="Anulado"?!1:e==="Pendiente"?t==="Completada"||t==="Anulado":e==="Completada"?t==="Anulado":!1}function ZY(e,t){return t==="Completada"&&e==="Pendiente"?"completar":t==="Anulado"&&(e==="Pendiente"||e==="Completada")?"anular":null}function UA(e,t,r){const n=r?.onLog||console.log,o=r?.onNotificar||(()=>{});try{if(n(`
 [cambiarEstadoPedidoCentralizado] ${e.numeroPedido}: ${e.estado}  ${t}`,"log"),!ac(e.estado,t)){const d=` Transicin no permitida: ${e.estado}  ${t}`;return n(d,"error"),o("Error","No puedes hacer este cambio de estado","error"),{exitoso:!1,error:d,mensaje:`No se puede pasar de ${e.estado} a ${t}`,tipo:"cambiar-estado"}}const c=ZY(e.estado,t);if(!c){const d=" Tipo de transicin no identificado";return n(d,"error"),{exitoso:!1,error:d,mensaje:"Error al procesar el cambio de estado",tipo:"cambiar-estado"}}n(` Tipo de transicin: ${c}`,"log");let u;if(c==="completar"?(n(`
 Ejecutando: COMPLETAR PEDIDO`,"log"),u=KY(e,"Completada",{onNotificar:o,onLog:n})):c==="anular"&&(n(`
 Ejecutando: ANULAR PEDIDO`,"log"),u=YY(e,{onNotificar:o,onLog:n})),u.exitoso){const d={exitoso:!0,mensaje:u.mensaje,tipo:c,pedidoActualizado:u.pedidoActualizado||u.pedidoAnulado,ventaCreada:u.ventaCreada,stockDevuelto:u.stockDevuelto};return r?.onExitoso&&r.onExitoso(d),d}else{const d={exitoso:!1,error:u.error,mensaje:u.mensaje,tipo:c};return r?.onError&&r.onError(u.error),d}}catch(s){const c=s.message||"Error desconocido";return n(` [ERROR] ${c}`,"error"),o("Error",c,"error"),{exitoso:!1,error:c,mensaje:"Error al cambiar el estado del pedido",tipo:"cambiar-estado"}}}function WA(e){switch(e){case"Pendiente":return"Pendiente de procesamiento";case"Completada":return"Convertido a venta";case"Anulado":return"Anulado";default:return"Estado desconocido"}}function HA(e){switch(e){case"Pendiente":return"bg-yellow-100 text-yellow-800 border border-yellow-300";case"Completada":return"bg-green-100 text-green-800 border border-green-300";case"Anulado":return"bg-red-100 text-red-800 border border-red-300";default:return"bg-gray-100 text-gray-800 border border-gray-300"}}const GA="damabella_pedidos",zd="damabella_clientes",zy="damabella_productos";function QY(){const[e,t]=C.useState(()=>{const H=localStorage.getItem(GA);return H?JSON.parse(H):[]}),[r,n]=C.useState(()=>{const H=localStorage.getItem(zd);return H?JSON.parse(H):[]}),[o,s]=C.useState(()=>{const H=localStorage.getItem(zy);if(H)return JSON.parse(H);const he=[{id:"1",nombre:"Vestido Corto Casual",referencia:"VES-CORTA-001",codigoInterno:"VCC-001",precioVenta:65e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Rojo","Negro","Blanco","Azul","Rosa"]},{id:"2",nombre:"Vestido Largo Elegante",referencia:"VES-LARGO-002",codigoInterno:"VLE-002",precioVenta:95e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Rojo","Champagne","Azul Marino"]},{id:"3",nombre:"Enterizo Ejecutivo",referencia:"ENT-EJE-003",codigoInterno:"ENE-003",precioVenta:85e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Beige","Azul Marino","Gris"]},{id:"4",nombre:"Enterizo Casual Denim",referencia:"ENT-CAS-004",codigoInterno:"ECD-004",precioVenta:75e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Azul Claro","Azul Oscuro","Negro"]},{id:"5",nombre:"Vestido Corto de Fiesta",referencia:"VES-FIESTA-005",codigoInterno:"VCF-005",precioVenta:78e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Dorado","Plata","Negro","Rojo"]},{id:"6",nombre:"Vestido Largo de Gala",referencia:"VES-GALA-006",codigoInterno:"VLG-006",precioVenta:12e4,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Blanco","Negro","Azul Marino","Vino"]},{id:"7",nombre:"Enterizo Premium",referencia:"ENT-PREM-007",codigoInterno:"EPR-007",precioVenta:105e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Blanco","Rosa Palo","Azul Cielo"]}];return localStorage.setItem(zy,JSON.stringify(he)),he}),[c,u]=C.useState(!1),[d,m]=C.useState(!1),[h,p]=C.useState(!1),[v,b]=C.useState(!1),[w,y]=C.useState(!1),[x,N]=C.useState(null),[A,E]=C.useState(null),[_,P]=C.useState(null),[k,O]=C.useState(""),[L,T]=C.useState(""),[M,I]=C.useState(!1),[V,z]=C.useState(""),[B,D]=C.useState("info"),[G,te]=C.useState(!1),[R,Y]=C.useState(null),[U,F]=C.useState(""),[W,ce]=C.useState("Pendiente"),[ie,K]=C.useState(""),[pe,me]=C.useState(!1),[ne,se]=C.useState(""),[ue,Me]=C.useState(""),[ve,Ne]=C.useState(!1),[Se,ge]=C.useState({tipo:"Pedido",clienteId:"",fechaPedido:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[]}),[Ee,Ge]=C.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),[Q,$e]=C.useState({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),[Pe,ee]=C.useState(null),[ae,we]=C.useState({}),Ve=(H,he)=>{ge({...Se,[H]:he});const Oe={};H==="clienteId"&&(he||(Oe.clienteId="Debes seleccionar un cliente")),H==="fechaPedido"&&(he||(Oe.fechaPedido="La fecha del pedido es obligatoria")),we(He=>({...He,...Oe,[H]:Oe[H]}))},Fe=(H,he)=>{$e(at=>{let yt=at;if(H==="productoId")yt={...at,productoId:he,talla:"",color:"",cantidad:"1",precioUnitario:""},ee(null);else if(H==="talla")yt={...at,talla:he,color:""},ee(null);else if(H==="color"){yt={...at,color:he};const Et=o.find(xt=>xt.id.toString()===at.productoId);if(Et&&Et.variantes){const xt=Et.variantes.find(ur=>ur.talla===at.talla);if(xt){const ur=xt.colores?.find(Nr=>Nr.color===he);ee(ur?ur.cantidad:0)}else ee(0)}else ee(null)}else yt={...at,[H]:he};return yt});const Oe=`nuevoItem_${H}`;let He="";if((H==="productoId"||H==="talla"||H==="color")&&!he&&(He="Campo obligatorio"),H==="cantidad"){const at=parseInt(he);(isNaN(at)||at<1)&&(He="Cantidad invlida")}we(at=>({...at,[Oe]:He}))},gt=(H,he)=>{Ge({...Ee,[H]:he});let Oe="";if(H==="nombre"&&(Oe=Gn("nombre",he)||""),H==="numeroDoc"&&(Oe=Gn("documento",he)||""),H==="email"){if(!he)return"";/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(he)||(Oe="Correo electrnico invlido")}H==="telefono"&&(he?/^\d+$/.test(he)||(Oe="El telfono solo debe contener nmeros"):Oe="Telfono obligatorio"),we(He=>({...He,[`nuevoCliente_${H}`]:Oe}))};C.useEffect(()=>{localStorage.setItem(GA,JSON.stringify(e))},[e]),C.useEffect(()=>{const H=()=>{const he=localStorage.getItem(zy),Oe=localStorage.getItem(zd);he&&s(JSON.parse(he)),Oe&&n(JSON.parse(Oe))};return window.addEventListener("storage",H),window.addEventListener("salesUpdated",H),()=>window.removeEventListener("storage",H)},[]),C.useEffect(()=>{const H=()=>{me(!1),Ne(!1)};return window.addEventListener("click",H),()=>window.removeEventListener("click",H)},[]);const Pt=()=>`PED-${((e.length>0?Math.max(...e.map(Oe=>parseInt(Oe.numeroPedido.split("-")[1]))):0)+1).toString().padStart(3,"0")}`,At=H=>{const he=H.reduce((at,yt)=>at+yt.subtotal,0),Oe=he*.19,He=he+Oe;return{subtotal:he,iva:Oe,total:He}},ar=()=>{N(null),ge({tipo:"Pedido",clienteId:"",fechaPedido:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[]}),$e({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),K(""),Me(""),me(!1),Ne(!1),u(!0)},Jr=H=>{if(!Ld(H.estado)){z(`No puedes editar un pedido en estado "${H.estado}".`),D("error"),I(!0);return}N(H),ge({tipo:H.tipo,clienteId:H.clienteId,fechaPedido:H.fechaPedido,metodoPago:H.metodoPago,observaciones:H.observaciones,items:H.items});const he=r.find(He=>He.id.toString()===H.clienteId?.toString());K(he?`${he.nombre} - ${he.numeroDoc}`:H.clienteNombre||"");const Oe=he?`${he.nombre} - ${he.numeroDoc}`:H.clienteNombre||"";K(Oe),se(Oe),Me(""),me(!1),Ne(!1),u(!0)},$r=()=>o.find(H=>H.id.toString()===Q.productoId),Ua=()=>{const H=$r();return H?H.variantes?H.variantes.map(he=>he.talla):H.tallas?H.tallas:[]:[]},ha=()=>{const H=$r();if(!H)return[];if(H.variantes&&Q.talla){const he=H.variantes.find(Oe=>Oe.talla===Q.talla);return he?he.colores.map(Oe=>Oe.color):[]}return H.colores?H.colores:[]},Wa=()=>{const H={};Q.productoId||(H.nuevoItem_productoId="Selecciona un producto"),Q.talla||(H.nuevoItem_talla="Selecciona una talla"),Q.color||(H.nuevoItem_color="Selecciona un color");const he=parseInt(Q.cantidad);if((isNaN(he)||he<1)&&(H.nuevoItem_cantidad="Cantidad invlida"),Object.keys(H).length>0){we(xt=>({...xt,...H})),z("Completa todos los campos del producto"),D("error"),I(!0);return}const Oe=o.find(xt=>xt.id.toString()===Q.productoId);if(!Oe)return;const He=parseInt(Q.cantidad);if(Oe.variantes&&Oe.variantes.length>0){const xt=Oe.variantes.find(Nr=>Nr.talla===Q.talla);if(!xt){z(` Talla ${Q.talla} no tiene stock definido. Debe crearse desde Compras.`),D("error"),I(!0);return}const ur=xt.colores?.find(Nr=>Nr.color===Q.color);if(!ur){z(` Color ${Q.color} no tiene stock definido. Debe crearse desde Compras.`),D("error"),I(!0);return}if(ur.cantidad<He){z(` Stock insuficiente para ${Oe.nombre} (${Q.talla}, ${Q.color}).
Disponible: ${ur.cantidad} unidades
Solicitado: ${He} unidades`),D("error"),I(!0);return}console.log(` [PedidosManager] Stock validado: ${Oe.nombre} - ${Q.talla} - ${Q.color}: ${ur.cantidad} disponible`)}else{console.warn(` [PedidosManager] Producto sin variantes: ${Oe.nombre}. Stock no puede validarse.`),z(` El producto ${Oe.nombre} no tiene variantes definidas. Debe crearse desde Compras.`),D("error"),I(!0);return}const at=Oe.precioVenta,yt=He*at,Et={id:Date.now().toString(),productoId:Q.productoId,productoNombre:Oe.nombre,talla:Q.talla,color:Q.color,cantidad:He,precioUnitario:at,subtotal:yt};ge({...Se,items:[...Se.items,Et]}),$e({productoId:"",talla:"",color:"",cantidad:"1",precioUnitario:""}),Me(""),Ne(!1),we(xt=>({...xt,nuevoItem_productoId:"",nuevoItem_talla:"",nuevoItem_color:"",nuevoItem_cantidad:""})),we(xt=>({...xt,nuevoItem_productoId:"",nuevoItem_talla:"",nuevoItem_color:"",nuevoItem_cantidad:""}))},ga=H=>{ge({...Se,items:Se.items.filter(he=>he.id!==H)})},Xn=()=>{if(x&&(x.estado==="Completada"||x.estado==="Anulado")){z(`No puedes editar un pedido en estado "${x.estado}".`),D("error"),I(!0);return}const H={};if(Se.clienteId||(H.clienteId="Debes seleccionar un cliente"),Se.fechaPedido||(H.fechaPedido="La fecha del pedido es obligatoria"),Object.keys(H).length>0){we(H),z("Por favor completa todos los campos obligatorios"),D("error"),I(!0);return}if(Se.items.length===0){z("Agrega al menos un producto"),D("error"),I(!0);return}const he=r.find(at=>at.id.toString()===Se.clienteId);if(!he)return;const Oe=At(Se.items),He={id:x?.id||Date.now(),numeroPedido:x?.numeroPedido||Pt(),tipo:Se.tipo,clienteId:Se.clienteId,clienteNombre:he.nombre,fechaPedido:Se.fechaPedido,estado:x?.estado||"Pendiente",items:Se.items,subtotal:Oe.subtotal,iva:Oe.iva,total:Oe.total,metodoPago:Se.metodoPago,observaciones:Se.observaciones,createdAt:x?.createdAt||new Date().toISOString()};x?(t(e.map(at=>at.id===x.id?He:at)),z(`Pedido ${He.numeroPedido} actualizado correctamente`)):(t([...e,He]),z(`Pedido ${He.numeroPedido} creado correctamente`)),D("success"),I(!0),u(!1)},X=H=>{F(`Seguro que deseas ANULAR este pedido ${H.numeroPedido}? Esta accin no se puede deshacer.`),Y(()=>()=>{xe(H)}),te(!0)},xe=H=>{const he=UA(H,"Anulado",{onNotificar:(Oe,He,at)=>{z(He),D(at),I(!0)},onExitoso:Oe=>{console.log(" Anulacin completada:",Oe),Oe.stockDevuelto&&Oe.stockDevuelto.length>0&&console.log(` Stock devuelto: ${Oe.stockDevuelto.length} productos`)},onLog:(Oe,He)=>{He==="error"?console.error(Oe):He==="warn"?console.warn(Oe):console.log(Oe)}});he.exitoso&&he.pedidoActualizado&&t(e.map(Oe=>Oe.id===H.id?he.pedidoActualizado:Oe)),te(!1)},Ce=(H,he)=>{const Oe=UA(H,he,{onNotificar:(He,at,yt)=>{z(at),D(yt),I(!0)},onExitoso:He=>{console.log(` Transicin completada (${He.tipo}):`,He)},onLog:(He,at)=>{at==="error"?console.error(He):at==="warn"?console.warn(He):console.log(He)}});Oe.exitoso&&Oe.pedidoActualizado&&t(e.map(He=>He.id===H.id?Oe.pedidoActualizado:He))},ze=()=>{const H={},he=Gn("nombre",Ee.nombre);he&&(H.nuevoCliente_nombre=he);const Oe=Gn("documento",Ee.numeroDoc);Oe&&(H.nuevoCliente_numeroDoc=Oe);const He=Ee.telefono?"":"Telfono obligatorio";He&&(H.nuevoCliente_telefono=He);const at=Ee.email?Gn("email",Ee.email):"";if(at&&(H.nuevoCliente_email=at),Object.keys(H).length>0){we(xt=>({...xt,...H})),z("Completa los campos obligatorios correctamente"),D("error"),I(!0);return}const yt={id:Date.now(),...Ee,activo:!0,createdAt:new Date().toISOString()},Et=JSON.parse(localStorage.getItem(zd)||"[]");localStorage.setItem(zd,JSON.stringify([...Et,yt])),n([...r,yt]),ge({...Se,clienteId:yt.id.toString()}),se(`${yt.nombre} - ${yt.numeroDoc}`),K(`${yt.nombre} - ${yt.numeroDoc}`),me(!1),p(!1),Ge({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),z(`Cliente ${yt.nombre} creado correctamente`),D("success"),I(!0)},Ue=H=>{const he=`
=================================
${H.tipo.toUpperCase()}
${H.numeroPedido}
=================================

Fecha: ${new Date(H.fechaPedido).toLocaleDateString()}
Cliente: ${H.clienteNombre}
Estado: ${H.estado}

---------------------------------
PRODUCTOS
---------------------------------
${H.items.map(yt=>`
${yt.productoNombre}
Talla: ${yt.talla} | Color: ${yt.color}
Cantidad: ${yt.cantidad} x $${yt.precioUnitario.toLocaleString()}
Subtotal: $${yt.subtotal.toLocaleString()}
`).join(`
`)}

---------------------------------
TOTALES
---------------------------------
Subtotal: $${H.subtotal.toLocaleString()}
IVA (19%): $${H.iva.toLocaleString()}
TOTAL: $${H.total.toLocaleString()}

Mtodo de Pago: ${H.metodoPago}

${H.observaciones?`Observaciones:
${H.observaciones}`:""}

=================================
DAMABELLA - Moda Femenina
=================================
    `.trim(),Oe=new Blob([he],{type:"text/plain"}),He=URL.createObjectURL(Oe),at=document.createElement("a");at.href=He,at.download=`${H.numeroPedido}.txt`,at.click()},dt=e.filter(H=>{const he=k.toLowerCase(),Oe=(H.numeroPedido?.toLowerCase()??"").includes(he),He=(H.clienteNombre?.toLowerCase()??"").includes(he),at=(H.estado?.toLowerCase()??"").includes(he),yt=new Date(H.fechaPedido).toLocaleDateString().includes(k),Et=H.total.toString().includes(k),xt=H.items.some(ur=>{const Nr=o.find(Oi=>Oi.id.toString()===ur.productoId);return ur.productoNombre?.toLowerCase().includes(he)||ur.talla?.toLowerCase().includes(he)||ur.color?.toLowerCase().includes(he)||Nr?.referencia?.toLowerCase().includes(he)||Nr?.codigoInterno?.toLowerCase().includes(he)});return Oe||He||at||yt||Et||xt});r.filter(H=>(H.nombre?.toLowerCase()??"").includes(L.toLowerCase())||(H.numeroDoc??"").includes(L)||H.telefono&&H.telefono.includes(L));const ot=r.filter(H=>H.activo!==!1).filter(H=>{const he=ie.toLowerCase();return(H.nombre?.toLowerCase()??"").includes(he)||(H.numeroDoc??"").includes(ie)||(H.telefono??"").includes(ie)}),cr=o.filter(H=>H.activo).filter(H=>{const he=ue.toLowerCase(),Oe=H.nombre?.toLowerCase()??"",He=H.referencia?.toLowerCase()??"",at=H.codigoInterno?.toLowerCase()??"";return Oe.includes(he)||He.includes(he)||at.includes(he)}),Ft=H=>{switch(H){case"Pendiente":return"bg-yellow-100 text-yellow-700";case"Completada":return"bg-green-100 text-green-700";case"Anulado":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},kt=()=>{try{const H=dt.map(Et=>({"Nmero Pedido":Et.numeroPedido,Fecha:new Date(Et.fechaPedido).toLocaleDateString(),Cliente:Et.clienteNombre,Productos:Et.items.map(xt=>`${xt.productoNombre} (Talla: ${xt.talla}, Color: ${xt.color}, Cant: ${xt.cantidad})`).join("; "),Cantidades:Et.items.map(xt=>xt.cantidad).join("; "),"Valores Unitarios":Et.items.map(xt=>`$${xt.precioUnitario.toLocaleString()}`).join("; "),Subtotales:Et.items.map(xt=>`$${xt.subtotal.toLocaleString()}`).join("; "),Subtotal:`$${Et.subtotal.toLocaleString()}`,"IVA (19%)":`$${Et.iva.toLocaleString()}`,Total:`$${Et.total.toLocaleString()}`,Estado:Et.estado,"Mtodo Pago":Et.metodoPago})),he=Object.keys(H[0]||{}),Oe=[he.join(","),...H.map(Et=>he.map(xt=>{const ur=Et[xt],Nr=String(ur||"");return Nr.includes(",")?`"${Nr.replace(/"/g,'""')}"`:Nr}).join(","))].join(`
`),He=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),at=document.createElement("a"),yt=URL.createObjectURL(He);at.setAttribute("href",yt),at.setAttribute("download",`pedidos_${new Date().toLocaleDateString().replace(/\//g,"-")}.csv`),at.click(),URL.revokeObjectURL(yt),z("Pedidos exportados correctamente"),D("success"),I(!0)}catch{z("Error al exportar pedidos"),D("error"),I(!0)}},sr=At(Se.items),_r=r.find(H=>H.id?.toString()===Se.clienteId?.toString()),Xr=Number(_r?.saldoAFavor||0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-gray-600",children:"Administra pedidos y cotizaciones con IVA incluido"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Te,{onClick:kt,variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(Eo,{size:20}),"Descargar Pedidos"]}),a.jsxs(Te,{onClick:ar,variant:"primary",className:"flex items-center gap-2",children:[a.jsx(Kr,{size:20}),"Nuevo Pedido"]})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:"Buscar por nmero, cliente o estado...",value:k,onChange:H=>O(H.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Nmero"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Cliente"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Fecha"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Total"}),a.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:dt.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"py-12 text-center text-gray-500",children:[a.jsx(Zc,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{children:"No se encontraron pedidos"})]})}):dt.map(H=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"text-gray-900",children:H.numeroPedido})}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:H.clienteNombre}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:new Date(H.fechaPedido).toLocaleDateString()}),a.jsxs("td",{className:"py-4 px-6 text-right text-gray-900",children:["$",H.total.toLocaleString()]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm ${Ft(H.estado)}`,children:H.estado})})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>{E(H),m(!0)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver detalle",children:a.jsx(Ar,{size:18})}),a.jsx("button",{onClick:()=>Ue(H),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Descargar",children:a.jsx(Eo,{size:18})}),a.jsx("button",{onClick:()=>{P(H),ce(H.estado),y(!0)},className:"p-2 hover:bg-purple-50 rounded-lg transition-colors text-purple-600",title:"Cambiar estado",children:a.jsx(C3,{size:18})}),a.jsx("button",{onClick:()=>Jr(H),disabled:!Ld(H.estado)||!!H.venta_id,className:`p-2 rounded-lg transition-colors ${!Ld(H.estado)||H.venta_id?"text-gray-300 cursor-not-allowed":"hover:bg-gray-100 text-gray-600"}`,title:H.venta_id?"Este pedido tiene una venta asociada":Ld(H.estado)?"Editar":`No se puede editar en estado ${H.estado}`,children:a.jsx(v3,{size:18})}),a.jsx("button",{onClick:()=>X(H),disabled:!ac(H.estado,"Anulado")||!!H.venta_id,className:`p-2 rounded-lg transition-colors ${!ac(H.estado,"Anulado")||H.venta_id?"text-gray-300 cursor-not-allowed":"hover:bg-red-50 text-red-600"}`,title:H.venta_id?"Pedido bloqueado: tiene una venta asociada":ac(H.estado,"Anulado")?"Anular":`No se puede anular en estado ${H.estado}`,children:a.jsx(gb,{size:18})})]})})]},H.id))})]})})}),a.jsx(pt,{isOpen:c,onClose:()=>u(!1),title:x?"Editar Pedido":"Nuevo Pedido",children:a.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-gray-700",children:"Cliente *"}),a.jsxs("button",{onClick:()=>p(!0),className:"text-gray-600 hover:text-gray-900 flex items-center gap-1 text-sm",children:[a.jsx(uk,{size:14}),"Nuevo Cliente"]})]}),a.jsxs("div",{className:"relative",onClick:H=>H.stopPropagation(),children:[a.jsx(Le,{value:ie,onChange:H=>{const he=H.target.value;K(he),me(!0),he.trim()===ne.trim()||(Ve("clienteId",""),se("")),he.trim()===""&&(Ve("clienteId",""),se(""))},onFocus:()=>me(!0),placeholder:"Buscar cliente por nombre, documento o telfono..."}),pe&&a.jsx("div",{className:"absolute z-[9999] mt-2 w-full max-h-56 overflow-auto bg-white border border-gray-200 rounded-lg shadow-lg",children:ot.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No hay resultados"}):ot.map(H=>a.jsxs("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-gray-50",onClick:()=>{Ve("clienteId",H.id.toString());const he=`${H.nombre} - ${H.numeroDoc}`;K(he),se(he),me(!1)},children:[a.jsx("div",{className:"text-sm text-gray-900",children:H.nombre}),a.jsxs("div",{className:"text-xs text-gray-500",children:[H.numeroDoc," ",H.telefono?` ${H.telefono}`:""]})]},H.id))})]}),ae.clienteId&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:ae.clienteId})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Fecha *"}),a.jsx(Le,{type:"date",value:Se.fechaPedido,onChange:H=>Ve("fechaPedido",H.target.value),required:!0}),ae.fechaPedido&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:ae.fechaPedido})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Mtodo de Pago *"}),Xr>0&&Se.clienteId&&a.jsxs("div",{className:"mb-3 rounded-lg border border-green-300 bg-green-50 p-3",children:[a.jsxs("div",{className:"text-green-800 font-semibold",children:[" Este cliente tiene saldo a favor: $",Xr.toLocaleString()]}),a.jsx("div",{className:"text-sm text-green-900 mt-1",children:"(Se aplicar cuando conviertas este pedido en venta, si decides usarlo all)"})]}),a.jsxs("select",{value:Se.metodoPago,onChange:H=>ge({...Se,metodoPago:H.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"Efectivo",children:"Efectivo"}),a.jsx("option",{value:"Transferencia",children:"Transferencia"}),a.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),a.jsx("option",{value:"Nequi",children:"Nequi"}),a.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-gray-900 mb-3",children:"Agregar Productos"}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Producto"}),a.jsxs("div",{className:"relative",onClick:H=>H.stopPropagation(),children:[a.jsx(Le,{value:ue,onChange:H=>{const he=H.target.value;Me(he),Ne(!0),he===""&&Fe("productoId","")},onFocus:()=>Ne(!0),placeholder:"Buscar producto por nombre, ref o cdigo..."}),ve&&a.jsx("div",{className:"absolute z-[9999] mt-2 w-full max-h-56 overflow-auto bg-white border border-gray-200 rounded-lg shadow-lg",children:cr.length===0?a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No hay resultados"}):cr.map(H=>a.jsxs("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-gray-50",onClick:()=>{Fe("productoId",H.id.toString());const he=`${H.nombre}${H.referencia?` (REF: ${H.referencia})`:""}${H.codigoInterno?` [${H.codigoInterno}]`:""} - $${(H.precioVenta||0).toLocaleString()}`;Me(he),Ne(!1)},children:[a.jsx("div",{className:"text-sm text-gray-900",children:H.nombre}),a.jsxs("div",{className:"text-xs text-gray-500",children:[H.referencia?`REF: ${H.referencia}`:"REF: N/A",H.codigoInterno?`  ${H.codigoInterno}`:"",`  $${(H.precioVenta||0).toLocaleString()}`]})]},H.id))})]})]}),Q.productoId&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Talla"}),a.jsxs("select",{value:Q.talla,onChange:H=>Fe("talla",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),Ua().map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Color"}),a.jsxs("select",{value:Q.color,onChange:H=>Fe("color",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:!Q.talla,children:[a.jsx("option",{value:"",children:"Seleccionar..."}),ha().map(H=>a.jsx("option",{value:H,children:H},H))]})]})]})}),Q.color&&Pe!==null&&a.jsx("div",{className:`rounded-lg p-3 text-sm ${Pe>0?"bg-blue-50 border border-blue-200 text-blue-800":"bg-red-50 border border-red-200 text-red-800"}`,children:Pe>0?a.jsxs("div",{children:[a.jsx("strong",{children:" Stock disponible:"})," ",Pe," unidades"]}):a.jsxs("div",{children:[a.jsx("strong",{children:" Sin stock:"})," No hay disponibilidad para este producto"]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Cantidad"}),a.jsx(Le,{type:"number",min:"1",max:Pe||void 0,value:Q.cantidad,onChange:H=>Fe("cantidad",H.target.value),placeholder:"1",disabled:!Q.color||Pe===0}),ae.nuevoItem_cantidad&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:ae.nuevoItem_cantidad})]})]}),a.jsxs(Te,{onClick:Wa,variant:"secondary",className:"w-full",children:[a.jsx(Kr,{size:16}),"Agregar Producto"]})]}),Se.items.length>0&&a.jsx("div",{className:"space-y-2",children:Se.items.map(H=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-gray-900",children:H.productoNombre}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",H.talla," | Color: ",H.color," | Cant: ",H.cantidad," x $",H.precioUnitario.toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-gray-900",children:["$",H.subtotal.toLocaleString()]}),a.jsx("button",{onClick:()=>ga(H.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:a.jsx(da,{size:16})})]})]},H.id))})]}),Se.items.length>0&&a.jsx("div",{className:"border-t pt-4 bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",sr.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"IVA (19%):"}),a.jsxs("span",{children:["$",sr.iva.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-900 pt-2 border-t",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",sr.total.toLocaleString()]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Observaciones"}),a.jsx("textarea",{value:Se.observaciones,onChange:H=>ge({...Se,observaciones:H.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:3,placeholder:"Notas adicionales..."})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>u(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:Xn,variant:"primary",children:x?"Guardar Cambios":`Crear ${Se.tipo}`})]})]})}),A&&a.jsx(pt,{isOpen:d,onClose:()=>m(!1),title:`Detalle ${A.tipo} ${A.numeroPedido}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Cliente"}),a.jsx("div",{className:"text-gray-900",children:A.clienteNombre})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Fecha"}),a.jsx("div",{className:"text-gray-900",children:new Date(A.fechaPedido).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Estado"}),a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm ${Ft(A.estado)}`,children:A.estado})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Mtodo de Pago"}),a.jsx("div",{className:"text-gray-900",children:A.metodoPago})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 mb-3",children:"Productos"}),a.jsx("div",{className:"space-y-2",children:A.items.map((H,he)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("div",{className:"text-gray-900",children:H.productoNombre}),a.jsxs("div",{className:"text-gray-900",children:["$",H.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",H.talla," | Color: ",H.color," | Cantidad: ",H.cantidad," x $",H.precioUnitario.toLocaleString()]})]},he))})]}),a.jsx("div",{className:"border-t pt-4 bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",A.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"IVA (19%):"}),a.jsxs("span",{children:["$",A.iva.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-900 pt-2 border-t",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",A.total.toLocaleString()]})]})]})}),A.observaciones&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Observaciones"}),a.jsx("div",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:A.observaciones})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Estado Actual"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium ${HA(A.estado)}`,children:WA(A.estado)})})]})]})}),a.jsx(pt,{isOpen:h,onClose:()=>p(!1),title:"Nuevo Cliente",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo de Documento *"}),a.jsxs("select",{value:Ee.tipoDoc,onChange:H=>Ge({...Ee,tipoDoc:H.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),a.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),a.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),a.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero de Documento *"}),a.jsx(Le,{value:Ee.numeroDoc,onChange:H=>gt("numeroDoc",H.target.value),placeholder:"1234567890",required:!0}),ae.nuevoCliente_numeroDoc&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:ae.nuevoCliente_numeroDoc})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre Completo *"}),a.jsx(Le,{value:Ee.nombre,onChange:H=>gt("nombre",H.target.value),placeholder:"Nombre del cliente",required:!0}),ae.nuevoCliente_nombre&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:ae.nuevoCliente_nombre})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono *"}),a.jsx(Le,{value:Ee.telefono,onChange:H=>gt("telefono",H.target.value),placeholder:"3001234567",required:!0}),ae.nuevoCliente_telefono&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:ae.nuevoCliente_telefono})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Correo Electrnico"}),a.jsx(Le,{type:"email",value:Ee.email,onChange:H=>gt("email",H.target.value),placeholder:"correo@ejemplo.com"}),ae.nuevoCliente_email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:ae.nuevoCliente_email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin"}),a.jsx(Le,{value:Ee.direccion,onChange:H=>gt("direccion",H.target.value),placeholder:"Calle 123 # 45-67"})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>p(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:ze,variant:"primary",children:"Crear Cliente"})]})]})}),a.jsx(pt,{isOpen:M,onClose:()=>I(!1),title:B==="success"?"xito":B==="error"?"Error":"Informacin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[B==="success"&&a.jsx(Co,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),B==="error"&&a.jsx(Mt,{className:"text-red-600 flex-shrink-0 mt-1",size:24}),B==="info"&&a.jsx(Mt,{className:"text-blue-600 flex-shrink-0 mt-1",size:24}),a.jsx("p",{className:"text-gray-700 text-base",children:V})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t",children:a.jsx(Te,{onClick:()=>I(!1),variant:"primary",children:"Aceptar"})})]})}),a.jsx(pt,{isOpen:G,onClose:()=>te(!1),title:"Confirmar Accin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mt,{className:"text-yellow-600 flex-shrink-0 mt-1",size:24}),a.jsx("p",{className:"text-gray-700 text-base",children:U})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>te(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:()=>{R&&R()},variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Confirmar"})]})]})}),a.jsx(pt,{isOpen:w,onClose:()=>y(!1),title:"Cambiar Estado del Pedido",children:a.jsx("div",{className:"space-y-4",children:_&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-semibold",children:"Pedido:"})," ",_.numeroPedido]}),a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",_.clienteNombre]}),a.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[a.jsx("span",{className:"font-semibold",children:"Estado Actual:"})," ",a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${HA(_.estado)}`,children:WA(_.estado)})]})]}),(()=>{const H=_.estado?.toLowerCase?.()?.includes("convertido")||_.estado==="Convertido a venta"||_.venta_id!==null;return a.jsxs(a.Fragment,{children:[H&&a.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-300 space-y-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Mt,{className:"text-yellow-600 flex-shrink-0 mt-1",size:20}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"text-yellow-900 font-semibold mb-2",children:"Este pedido ya fue convertido en una venta"}),a.jsx("p",{className:"text-yellow-800",children:"Cualquier modificacin debe realizarse desde el mdulo de Ventas."})]})]})}),!H&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-3 font-semibold",children:"Nuevo Estado"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Pendiente","Completada","Anulado"].map(he=>{const Oe=ac(_.estado,he);return a.jsx("button",{onClick:()=>{Oe&&ce(he)},disabled:!Oe,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${Oe?W===he?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,title:Oe?void 0:`No puedes pasar de ${_.estado} a ${he}`,children:he},he)})})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>y(!1),variant:"secondary",children:H?"Cerrar":"Cancelar"}),!H&&a.jsx(Te,{onClick:()=>{_&&(Ce(_,W),y(!1))},variant:"primary",children:"Guardar Cambio"})]})]})})()]})})})]})}const KA="damabella_cambios";function eZ(e,t=!0,r=!0){try{const n=localStorage.getItem(KA),o=n?JSON.parse(n):[],s=o.findIndex(c=>c.id===e);return s===-1?(console.error(` Cambio ${e} no encontrado`),!1):(o[s]={...o[s],stockAplicado:t,devolverAplicada:r},localStorage.setItem(KA,JSON.stringify(o)),console.log(` Cambio ${e} marcado como aplicado`),!0)}catch(n){return console.error(" Error marcando cambio como aplicado:",n),!1}}const is="damabella_ventas",na="damabella_clientes",Aa="damabella_productos",Zl="damabella_devoluciones",go="damabella_cambios",tZ=["Defectuoso","Talla incorrecta","Color incorrecto","Producto equivocado","Otro"];function rZ(){const[e,t]=C.useState(()=>{const q=localStorage.getItem(is);return q?JSON.parse(q):[]}),[r,n]=C.useState(()=>{const q=localStorage.getItem(na);return q?JSON.parse(q):[]}),[o,s]=C.useState(()=>{const q=localStorage.getItem(Aa);if(q)return JSON.parse(q);const je=[{id:"1",nombre:"Vestido Corto Casual",referencia:"VES-CORTA-001",codigoInterno:"VCC-001",precioVenta:65e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Rojo","Negro","Blanco","Azul","Rosa"]},{id:"2",nombre:"Vestido Largo Elegante",referencia:"VES-LARGO-002",codigoInterno:"VLE-002",precioVenta:95e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Rojo","Champagne","Azul Marino"]},{id:"3",nombre:"Enterizo Ejecutivo",referencia:"ENT-EJE-003",codigoInterno:"ENE-003",precioVenta:85e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Beige","Azul Marino","Gris"]},{id:"4",nombre:"Enterizo Casual Denim",referencia:"ENT-CAS-004",codigoInterno:"ECD-004",precioVenta:75e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Azul Claro","Azul Oscuro","Negro"]},{id:"5",nombre:"Vestido Corto de Fiesta",referencia:"VES-FIESTA-005",codigoInterno:"VCF-005",precioVenta:78e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Dorado","Plata","Negro","Rojo"]},{id:"6",nombre:"Vestido Largo de Gala",referencia:"VES-GALA-006",codigoInterno:"VLG-006",precioVenta:12e4,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Blanco","Negro","Azul Marino","Vino"]},{id:"7",nombre:"Enterizo Premium",referencia:"ENT-PREM-007",codigoInterno:"EPR-007",precioVenta:105e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Blanco","Rosa Palo","Azul Cielo"]}];return localStorage.setItem(Aa,JSON.stringify(je)),je}),[c,u]=C.useState(!1),[d,m]=C.useState(!1),[h,p]=C.useState(!1),[v,b]=C.useState(!1),[w,y]=C.useState(!1),[x,N]=C.useState(!1),[A,E]=C.useState(""),[_,P]=C.useState("info"),[k,O]=C.useState(null),[L,T]=C.useState(null),[M,I]=C.useState(null),[V,z]=C.useState(""),[B,D]=C.useState(""),[G,te]=C.useState(""),[R,Y]=C.useState(!1),[U,F]=C.useState(""),[W,ce]=C.useState({clienteId:"",fechaVenta:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[]}),[ie,K]=C.useState(!1),[pe,me]=C.useState("Efectivo"),[ne,se]=C.useState({}),[ue,Me]=C.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),[ve,Ne]=C.useState({}),[Se,ge]=C.useState({productoId:"",varianteId:"",cantidad:"1"}),[Ee,Ge]=C.useState({motivo:"Defectuoso",itemsDevueltos:[],productoNuevoId:"",productoNuevoTalla:"",productoNuevoColor:"",medioPagoExcedente:"Efectivo"}),[Q,$e]=C.useState(!1),[Pe,ee]=C.useState(null),[ae,we]=C.useState({ventaOriginalId:"",productoOriginalId:"",tallaOriginal:"",colorOriginal:"",tallaDevuelta:"",colorDevuelta:"",tallaEntregada:"",colorEntregada:"",productoEntregadoId:"",motivoCambio:"",fechaCambio:new Date().toISOString(),precioDevuelto:0,precioEntregado:0,diferencia:0,medioPagoDiferencia:"Efectivo"}),[Ve,Fe]=C.useState([]),[gt,Pt]=C.useState(()=>{const q=localStorage.getItem("damabella_venta_counter");return q?parseInt(q,10):1});C.useEffect(()=>{localStorage.setItem(is,JSON.stringify(e))},[e]),C.useEffect(()=>{localStorage.setItem("damabella_venta_counter",gt.toString())},[gt]),C.useEffect(()=>{const q=()=>{const Ie=localStorage.getItem(Aa),Be=localStorage.getItem(na),rt=localStorage.getItem(is);Ie&&s(JSON.parse(Ie)),Be&&n(JSON.parse(Be)),rt&&t(JSON.parse(rt))},je=()=>{const Ie=localStorage.getItem(na);Ie&&n(JSON.parse(Ie))},ye=Ie=>{const{pedido:Be}=Ie.detail;!Be?.numeroPedido||!JSON.parse(localStorage.getItem(na)||"[]").find(Qe=>Qe.id.toString()===Be.clienteId?.toString())||(t(Qe=>{if(Qe.some(Rt=>Rt.pedido_id===Be.numeroPedido))return Qe;const Bt={id:Date.now(),clienteId:Be.clienteId,clienteNombre:Be.clienteNombre,fechaVenta:Be.fechaPedido,estado:"Completada",items:Be.items.map(Rt=>({id:Rt.id,productoId:Rt.productoId,productoNombre:Rt.productoNombre,talla:Rt.talla,color:Rt.color,cantidad:Rt.cantidad,precioUnitario:Rt.precioUnitario,subtotal:Rt.subtotal})),subtotal:Be.subtotal,iva:Be.iva,total:Be.total,metodoPago:Be.metodoPago||"Efectivo",observaciones:Be.observaciones||"",anulada:!1,createdAt:new Date().toISOString(),pedido_id:Be.numeroPedido,movimientosStock:{salidaEjecutada:!1,devolucionEjecutada:!1}},_t=parseInt(localStorage.getItem("damabella_venta_counter")||"1",10),$t=`VEN-${String(_t).padStart(3,"0")}`,bt={...Bt,numeroVenta:$t};localStorage.setItem("damabella_venta_counter",String(_t+1));const Ht=parseInt(localStorage.getItem("damabella_venta_counter")||"1",10);return Pt(Ht),[...Qe,bt]}),window.dispatchEvent(new Event("salesUpdated")))};return q(),window.addEventListener("storage",q),window.addEventListener("salesUpdated",q),window.addEventListener("clientsUpdated",je),window.addEventListener("pedidoConvertidoAVenta",ye),()=>{window.removeEventListener("storage",q),window.removeEventListener("salesUpdated",q),window.removeEventListener("clientsUpdated",je),window.removeEventListener("pedidoConvertidoAVenta",ye)}},[]);const At=q=>!!(e||[]).find(ye=>ye.id?.toString()===q?.toString())?.devolucionId,ar=q=>!!(JSON.parse(localStorage.getItem(go)||"[]")||[]).find(Ie=>Ie.ventaOriginalId?.toString()===q?.toString()&&Ie.stockDevuelto===!0&&Ie.stockEntregado===!0&&Ie.reversado!==!0),Jr=(q,je)=>{const Ie=e.find(_t=>_t.id===q)?.items?.find(_t=>_t.id===je);if(!Ie)return 0;const Be=Ie.cantidad||0,nt=(JSON.parse(localStorage.getItem(Zl)||"[]")||[]).reduce((_t,$t)=>{if($t.ventaId?.toString()===q?.toString()){const bt=($t.items||[]).find(Ht=>Ht.id===je);return _t+(bt?.cantidad||0)}return _t},0),ut=(JSON.parse(localStorage.getItem(go)||"[]")||[]).reduce((_t,$t)=>{if($t.ventaOriginalId?.toString()===q?.toString()){const bt=$t.productoOriginalId===Ie.productoId&&$t.tallaDevuelta===Ie.talla&&$t.colorDevuelta===Ie.color?1:0;return _t+bt}return _t},0),Bt=Be-nt-ut;return Math.max(0,Bt)};C.useEffect(()=>{if(!Q||!Pe){Fe([]);return}JSON.parse(localStorage.getItem(Zl)||"[]"),JSON.parse(localStorage.getItem(go)||"[]");const q=(Pe.items||[]).filter(je=>Jr(Pe.id,je.id)>0);Fe(q)},[Q,Pe,e]);const $r=q=>{const je=q.reduce((Be,rt)=>Be+rt.subtotal,0),ye=je*.19,Ie=je+ye;return{subtotal:je,iva:ye,total:Ie}},Ua=(q,je)=>{const ye={};return q==="clienteId"&&(je||(ye.clienteId="Debes seleccionar un cliente")),ye},ha=(q,je)=>{ce({...W,[q]:je});const ye=Ua(q,je);se({...ne,[q]:ye[q]})},Wa=(q,je)=>{const ye={};return q==="nombre"&&(je.trim()?/^[a-zA-Z\s]+$/.test(je)||(ye.nombre="Solo se permiten letras y espacios"):ye.nombre="Este campo es obligatorio"),q==="numeroDoc"&&(je.trim()?/^\d{6,12}$/.test(je)||(ye.numeroDoc="Debe tener entre 6 y 12 dgitos"):ye.numeroDoc="Este campo es obligatorio"),q==="telefono"&&(je.trim()?/^\d{10}$/.test(je)||(ye.telefono="Debe tener exactamente 10 dgitos"):ye.telefono="Este campo es obligatorio"),q==="email"&&je&&!/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(je)&&(ye.email="Email invlido (debe iniciar con letra)"),ye},ga=(q,je)=>{(q==="numeroDoc"||q==="telefono")&&(je=je.replace(/\D/g,"")),Me({...ue,[q]:je});const ye=Wa(q,je);Ne({...ve,[q]:ye[q]})},Xn=()=>{ce({clienteId:"",fechaVenta:new Date().toISOString().split("T")[0],metodoPago:"Efectivo",observaciones:"",items:[]}),K(!1),me("Efectivo"),ge({productoId:"",varianteId:"",cantidad:"1"}),D(""),se({}),u(!0)},X=(q,je)=>{ce(ye=>({...ye,clienteId:q})),D(je),te(je),Y(!1),se(ye=>({...ye,clienteId:void 0})),K(!1),me("Efectivo")},xe=(r||[]).filter(q=>(q.nombre?.toLowerCase()??"").includes(B.toLowerCase())||(q.numeroDoc??"").includes(B)),Ce=()=>(o||[]).filter(q=>!q.variantes||q.variantes.length===0?!1:q.variantes.some(je=>je.colores&&je.colores.some(ye=>(ye.cantidad||ye.stock||0)>0))),ze=q=>{const je=(o||[]).find(ye=>ye.id.toString()===q);return!je||!je.variantes?[]:je.variantes.filter(ye=>ye.colores&&ye.colores.some(Ie=>(Ie.cantidad||Ie.stock||0)>0)).map(ye=>ye.talla)},Ue=(q,je)=>{const ye=(o||[]).find(Be=>Be.id.toString()===q);if(!ye||!ye.variantes)return[];const Ie=ye.variantes.find(Be=>Be.talla===je);return!Ie||!Ie.colores?[]:Ie.colores.filter(Be=>(Be.cantidad||Be.stock||0)>0).map(Be=>({color:Be.color,stock:Be.cantidad||Be.stock||0}))},dt=(q,je,ye)=>{const Ie=(o||[]).find(nt=>nt.id.toString()===q);if(!Ie||!Ie.variantes)return!1;const Be=Ie.variantes.find(nt=>nt.talla===je);if(!Be||!Be.colores)return!1;const rt=Be.colores.find(nt=>nt.color===ye);return rt&&(rt.cantidad||rt.stock||0)>0},ot=()=>{if(!Se.productoId||!Se.varianteId||!Se.cantidad){E("Debes seleccionar producto, variante y cantidad"),P("error"),N(!0);return}const q=(o||[]).find(Bt=>Bt.id.toString()===Se.productoId);if(!q){E("Producto no encontrado"),P("error"),N(!0);return}if(!(q.variantes||!0)||q.variantes.length===0){E(" Este producto no tiene variantes definidas. Cree el stock desde Compras."),P("error"),N(!0);return}let je=null,ye=null,Ie="",Be="";for(const Bt of q.variantes||[]){for(const _t of Bt.colores||[])if(`${Bt.talla}-${_t.color}`===Se.varianteId){je=Bt,ye=_t,Ie=Bt.talla,Be=_t.color;break}if(ye)break}if(!je||!ye){E(" La variante seleccionada no existe. Las variantes solo se crean desde Compras."),P("error"),N(!0);return}const rt=parseInt(Se.cantidad,10);if(ye.cantidad<rt){E(` Stock insuficiente. Disponible: ${ye.cantidad} unidades, Solicitado: ${rt}`),P("error"),N(!0);return}const nt=q.precioVenta,Qe=rt*nt,ut={id:Date.now().toString(),productoId:Se.productoId,productoNombre:q.nombre,talla:Ie,color:Be,cantidad:rt,precioUnitario:nt,subtotal:Qe};ce({...W,items:[...W.items,ut]}),ge({productoId:Se.productoId,varianteId:"",cantidad:"1"})},cr=q=>{ce({...W,items:W.items.filter(je=>je.id!==q)})},Ft=()=>{const q=xD(),je={},ye=Ua("clienteId",W.clienteId);if(ye.clienteId&&(je.clienteId=ye.clienteId),Object.keys(je).length>0){se(je);return}if(W.items.length===0){E("Agrega al menos un producto"),P("error"),N(!0);return}const Ie=r.find(Rt=>Rt.id.toString()===W.clienteId);if(!Ie){E("Cliente no encontrado"),P("error"),N(!0);return}const Be=Ie,rt=$r(W.items),nt=Number(Be?.saldoAFavor||0),Qe=Number(rt.total||0),ut=ie?Math.min(nt,Qe):0,Bt=Math.max(Qe-ut,0);if(ie&&Bt>0&&!pe){E("Debes seleccionar el medio de pago del restante"),P("error"),N(!0);return}const _t={id:Date.now(),numeroVenta:q,clienteId:W.clienteId,clienteNombre:Be.nombre,fechaVenta:W.fechaVenta,estado:"Completada",items:W.items,subtotal:rt.subtotal,iva:rt.iva,total:rt.total,metodoPago:ie?Bt>0?`Saldo a favor + ${pe}`:"Saldo a favor":W.metodoPago,observaciones:W.observaciones,anulada:!1,createdAt:new Date().toISOString(),movimientosStock:{salidaEjecutada:!1,devolucionEjecutada:!1}},$t=yD(_t,W.items);if(!$t.exitoso){console.error(` [Ventas] ERROR: ${$t.error}`),E($t.error||"Error al finalizar venta"),P("error"),N(!0);return}const bt=JSON.parse(localStorage.getItem(is)||"[]");t(bt);const Ht=JSON.parse(localStorage.getItem(Aa)||"[]");if(s(Ht),ut>0){const Rt=r.map(Nt=>Nt.id.toString()===W.clienteId.toString()?{...Nt,saldoAFavor:Number(Nt.saldoAFavor||0)-ut}:Nt);localStorage.setItem(na,JSON.stringify(Rt)),window.dispatchEvent(new Event("clientsUpdated")),n(Rt)}Pt(gt+1),u(!1),E(" Venta creada exitosamente - Stock actualizado automticamente"),P("success"),N(!0),ce({clienteId:"",fechaVenta:new Date().toISOString().split("T")[0],items:[],metodoPago:"Efectivo",observaciones:""})},kt=()=>{if(!L||!U.trim()){E("Debes ingresar un motivo de anulacin"),P("error"),N(!0);return}const je=(JSON.parse(localStorage.getItem(go)||"[]")||[]).find(nt=>nt.ventaOriginalId?.toString()===L?.id?.toString()&&nt.stockDevuelto===!0&&nt.stockEntregado===!0&&nt.reversado!==!0);if(je){E(` No puedes anular esta venta porque tiene un cambio aplicado (${je.numeroCambio}).
Primero debes reversar el cambio antes de poder anular la venta.`),P("error"),N(!0);return}const ye=WY(L,U);if(!ye.exitoso){E(ye.error||"Error al anular venta"),P("error"),N(!0);return}if(t(nt=>(nt||[]).map(Qe=>Qe.id===L.id?{...Qe,estado:"Anulada",anulada:!0,motivoAnulacion:U,movimientosStock:{salidaEjecutada:!0,devolucionEjecutada:!0}}:Qe)),ye.stockDevuelto&&ye.stockDevuelto.length>0){const nt=localStorage.getItem(Aa);if(nt){const Qe=JSON.parse(nt);s(Qe)}}const Ie=(r||[]).map(nt=>nt.id.toString()===L.clienteId.toString()?{...nt,saldoAFavor:Number(nt.saldoAFavor||0)+Number(L.total||0)}:nt);localStorage.setItem(na,JSON.stringify(Ie)),n(Ie),b(!1),T(null),F("");const Be=ye.stockDevuelto?.length||0,rt=Be>0?` Venta ${L.numeroVenta} anulada. Stock devuelto: ${Be} items. Saldo a favor: $${(L.total||0).toLocaleString()}.`:` Venta ${L.numeroVenta} anulada (sin stock que devolver). Saldo a favor: $${(L.total||0).toLocaleString()}.`;E(rt),P("success"),N(!0),window.dispatchEvent(new Event("salesUpdated"))},sr=()=>{if(!ue.nombre||!ue.numeroDoc||!ue.telefono){E("Completa los campos obligatorios"),P("error"),N(!0);return}const q={id:Date.now(),...ue,saldoAFavor:0,activo:!0,createdAt:new Date().toISOString()},je=JSON.parse(localStorage.getItem(na)||"[]");localStorage.setItem(na,JSON.stringify([...je,q])),n([...r,q]),ce({...W,clienteId:q.id.toString()}),D(q.nombre),te(q.nombre),p(!1),Me({nombre:"",tipoDoc:"CC",numeroDoc:"",telefono:"",email:"",direccion:""}),E("Cliente creado exitosamente"),P("success"),N(!0)},_r=()=>{if(!M||!Ee.motivo){E("Debes seleccionar un motivo de devolucin"),P("error"),N(!0);return}if(M.devolucionId){E(` Esta venta ya tiene una devolucin aplicada (${M.devolucionId}).
Una venta solo puede tener UNA devolucin.`),P("error"),N(!0);return}const je=(JSON.parse(localStorage.getItem(go)||"[]")||[]).find(ye=>ye.ventaOriginalId?.toString()===M.id?.toString());if(je){E(` Esta venta ya tiene un cambio registrado (${je.numeroCambio}). No puedes hacer una devolucin en una venta que ya tiene un cambio.`),P("error"),N(!0);return}if(M.estado!=="Completada"){E(` No puedes procesar devolucion de una venta en estado "${M.estado}". Solo se permiten devoluciones de ventas COMPLETADAS.`),P("error"),N(!0);return}if((Ee.itemsDevueltos||[]).length===0){E("Debes seleccionar al menos un producto para devolver"),P("error"),N(!0);return}for(const ye of Ee.itemsDevueltos||[]){const Ie=Jr(M.id,ye.itemId);if(ye.cantidad>Ie){E(` El producto intenta devolver ${ye.cantidad} unidades pero solo hay ${Ie} disponibles (considerando devoluciones y cambios previos).`),P("error"),N(!0);return}}try{const ye=JSON.parse(localStorage.getItem(Zl)||"[]"),Ie=`DEV-${(ye.length+1).toString().padStart(3,"0")}`,Be=(Ee.itemsDevueltos||[]).map(bt=>{const Ht=(M.items||[]).find(Rt=>Rt.id===bt.itemId);return Ht?{id:Date.now().toString()+Math.random(),productoNombre:Ht.productoNombre,productoId:Ht.productoId,talla:Ht.talla,color:Ht.color,cantidad:bt.cantidad,precioUnitario:Ht.precioUnitario,subtotal:bt.cantidad*Ht.precioUnitario}:null}).filter(Boolean),rt=Be.reduce((bt,Ht)=>bt+Ht.subtotal,0),nt=(o||[]).map(bt=>{let Ht=!1;const Rt=(bt.variantes||[]).map(Nt=>{let Mr=!1;const Ha=(Nt.colores||[]).map(dr=>{const Lo=(Be||[]).find(Ga=>Ga.productoId?.toString()===bt.id?.toString()&&Ga.talla===Nt.talla&&Ga.color===dr.color);return Lo?(Mr=!0,Ht=!0,{...dr,cantidad:(dr.cantidad||0)+Lo.cantidad}):dr});return Mr?{...Nt,colores:Ha}:Nt});return Ht?{...bt,variantes:Rt}:bt}),Qe=rt,ut={id:Date.now(),numeroDevolucion:Ie,ventaId:M.id,numeroVenta:M.numeroVenta,clienteId:M.clienteId,clienteNombre:M.clienteNombre,fechaDevolucion:new Date().toISOString().split("T")[0],motivo:Ee.motivo,items:Be,total:rt,createdAt:new Date().toISOString(),estadoGestion:"Aplicada",productoNuevo:null,productoNuevoTalla:null,productoNuevoColor:null,saldoAFavor:Qe,diferenciaPagar:0,medioPagoExcedente:void 0},Bt=(r||[]).map(bt=>bt.id.toString()===M.clienteId.toString()?{...bt,saldoAFavor:Number(bt.saldoAFavor||0)+Number(Qe||0)}:bt);localStorage.setItem(Zl,JSON.stringify([...ye,ut])),localStorage.setItem(Aa,JSON.stringify(nt)),s(nt),localStorage.setItem(na,JSON.stringify(Bt)),n(Bt);const _t=(e||[]).map(bt=>bt.id===M.id?{...bt,devolucionId:Ie,estado:"Devuelta"}:bt);localStorage.setItem(is,JSON.stringify(_t)),t(_t),y(!1),I(null),Ge({motivo:"Defectuoso",itemsDevueltos:[],productoNuevoId:"",productoNuevoTalla:"",productoNuevoColor:"",medioPagoExcedente:"Efectivo"});const $t=` Devolucin ${Ie} aplicada exitosamente. Stock devuelto y saldo a favor: $${Qe.toLocaleString()}.`;E($t),P("success"),N(!0),window.dispatchEvent(new Event("salesUpdated"))}catch(ye){const Ie=ye instanceof Error?ye.message:"Error desconocido";E(` Error al procesar devolucin: ${Ie}
La operacin fue CANCELADA. Stock NO fue modificado.`),P("error"),N(!0),console.error("Error en handleCrearDevolucion:",ye)}},Xr=(q,je)=>{const ye=Ee.itemsDevueltos.findIndex(Ie=>Ie.itemId===q);if(ye>=0)if(je===0)Ge({...Ee,itemsDevueltos:Ee.itemsDevueltos.filter(Ie=>Ie.itemId!==q)});else{const Ie=[...Ee.itemsDevueltos];Ie[ye]={itemId:q,cantidad:je},Ge({...Ee,itemsDevueltos:Ie})}else je>0&&Ge({...Ee,itemsDevueltos:[...Ee.itemsDevueltos,{itemId:q,cantidad:je}]})},H=q=>q?q.anulada?{valido:!1,error:"No puedes cambiar una venta anulada"}:!q.items||q.items.length===0?{valido:!1,error:"La venta no tiene productos"}:{valido:!0,error:""}:{valido:!1,error:"La venta original no existe"},he=(q,je,ye)=>{if(!q)return{valido:!1,error:"Venta no vlida"};const Ie=(q.items||[]).find(Be=>Be.talla===je&&Be.color===ye);return Ie?{valido:!0,error:"",itemEncontrado:Ie}:{valido:!1,error:`Producto con talla ${je} y color ${ye} no existe en esta venta`}},Oe=(q,je,ye,Ie,Be)=>{if(!q)return{valido:!1,error:"Venta no vlida"};const nt=(JSON.parse(localStorage.getItem(go)||"[]")||[]).find(Nt=>Nt.ventaOriginalId?.toString()===q.id?.toString()&&Nt.stockDevuelto===!0&&Nt.stockEntregado===!0&&Nt.reversado!==!0);if(nt)return{valido:!1,error:` Esta venta ya tiene un cambio aplicado (${nt.numeroCambio}). No puedes hacer ms de un cambio por venta. Si necesitas reversarlo, primero debes anular el cambio.`};const Qe=JSON.parse(localStorage.getItem(Aa)||"[]");if(!(Qe||[]).find(Nt=>Nt.id.toString()===je))return{valido:!1,error:"Producto original no encontrado en inventario"};const Bt=(Qe||[]).find(Nt=>Nt.id.toString()===ye);if(!Bt)return{valido:!1,error:"Producto a entregar no encontrado en inventario"};const $t=(JSON.parse(JSON.stringify(Qe))||[]).find(Nt=>Nt.id.toString()===je);if($t&&$t.variantes,!Bt.variantes||Bt.variantes.length===0)return{valido:!1,error:"Producto a entregar no tiene variantes definidas"};const bt=(Bt.variantes||[]).find(Nt=>Nt.talla===Ie);if(!bt)return{valido:!1,error:`Talla ${Ie} no disponible en producto a entregar`};const Ht=(bt.colores||[]).find(Nt=>Nt.color===Be);if(!Ht)return{valido:!1,error:`Color ${Be} no disponible en talla ${Ie}`};const Rt=Ht.cantidad||0;return Rt<1?{valido:!1,error:` Stock insuficiente para ${Bt.nombre} (${Ie}-${Be}). Disponible: ${Rt}`}:{valido:!0,error:""}},He=()=>{const q=H(Pe);if(!q.valido){E(q.error),P("error"),N(!0);return}const ye=(JSON.parse(localStorage.getItem(Zl)||"[]")||[]).find(rt=>rt.ventaId?.toString()===Pe?.id?.toString());if(ye){E(` Esta venta ya tiene una devolucin registrada (${ye.numeroDevolucion}). No puedes hacer un cambio en una venta que ya tiene una devolucin.`),P("error"),N(!0);return}if(Pe?.estado!=="Completada"){E(` No puedes hacer cambio de una venta en estado "${Pe?.estado}". Solo se permiten cambios de ventas COMPLETADAS.`),P("error"),N(!0);return}if(!ae.tallaDevuelta||!ae.colorDevuelta){E("Debes seleccionar la talla y color a devolver"),P("error"),N(!0);return}const Ie=he(Pe,ae.tallaDevuelta,ae.colorDevuelta);if(!Ie.valido){E(Ie.error),P("error"),N(!0);return}if(!ae.productoEntregadoId){E("Debes seleccionar el producto a entregar"),P("error"),N(!0);return}if(!ae.tallaEntregada||!ae.colorEntregada){E("Debes seleccionar la talla y color a entregar"),P("error"),N(!0);return}if(!ae.motivoCambio||ae.motivoCambio.trim()===""){E("Debes especificar el motivo del cambio"),P("error"),N(!0);return}const Be=Oe(Pe,ae.productoOriginalId,ae.productoEntregadoId,ae.tallaEntregada,ae.colorEntregada);if(!Be.valido){E(Be.error),P("error"),N(!0);return}try{const rt=JSON.parse(localStorage.getItem(Aa)||"[]"),nt=JSON.parse(JSON.stringify(rt)),Qe=rt.find(St=>St.id.toString()===ae.productoOriginalId);if(!Qe)throw new Error("Producto original no encontrado en inventario");const ut=Qe.precioVenta||0,Bt=rt.find(St=>St.id.toString()===ae.productoEntregadoId);if(!Bt)throw new Error("Producto a entregar no encontrado en inventario");const _t=Bt.precioVenta||0,$t=_t-ut,bt=(nt||[]).find(St=>St.id.toString()===ae.productoOriginalId);if(!bt)throw new Error("Producto original no encontrado en stock");const Ht=(bt.variantes||[]).find(St=>St.talla===ae.tallaDevuelta);if(!Ht)throw new Error(`Variante ${ae.tallaDevuelta} no encontrada`);const Rt=(Ht.colores||[]).find(St=>St.color===ae.colorDevuelta);if(!Rt)throw new Error(`Color ${ae.colorDevuelta} no encontrado`);Rt.cantidad=(Rt.cantidad||0)+1,console.log(` [Cambio] DEVOLUCIN: +1 ${bt.nombre} (${ae.tallaDevuelta}-${ae.colorDevuelta}), Stock ahora: ${Rt.cantidad}`);const Nt=(nt||[]).find(St=>St.id.toString()===ae.productoEntregadoId);if(!Nt)throw new Error("Producto a entregar no encontrado en stock");const Mr=(Nt.variantes||[]).find(St=>St.talla===ae.tallaEntregada);if(!Mr)throw new Error(`Variante ${ae.tallaEntregada} no disponible en producto a entregar`);const Ha=(Mr.colores||[]).find(St=>St.color===ae.colorEntregada);if(!Ha)throw new Error(`Color ${ae.colorEntregada} no disponible en talla ${ae.tallaEntregada}`);const dr=Ha.cantidad||0;if(dr<1)throw new Error(` Stock insuficiente. Disponible: ${dr}`);Ha.cantidad=dr-1,console.log(` [Cambio] SALIDA: -1 ${Nt.nombre} (${ae.tallaEntregada}-${ae.colorEntregada}), Stock ahora: ${Ha.cantidad}`);const Lo=JSON.parse(localStorage.getItem(go)||"[]"),Ga=`CAM-${(Lo.length+1).toString().padStart(3,"0")}`,uu={id:Date.now().toString(),numeroCambio:Ga,clienteId:Pe?.clienteId||"",clienteNombre:Pe?.clienteNombre||"",ventaOriginalId:Pe?.id.toString()||"",productoOriginalId:ae.productoOriginalId,tallaOriginal:ae.tallaOriginal,colorOriginal:ae.colorOriginal,tallaDevuelta:ae.tallaDevuelta,colorDevuelta:ae.colorDevuelta,tallaEntregada:ae.tallaEntregada,colorEntregada:ae.colorEntregada,productoEntregadoId:ae.productoEntregadoId,motivoCambio:ae.motivoCambio,fechaCambio:new Date().toISOString(),createdAt:new Date().toISOString(),precioDevuelto:ut,precioEntregado:_t,diferencia:$t,medioPagoDiferencia:ae.medioPagoDiferencia||"Efectivo",stockDevuelto:!0,stockEntregado:!0,reversado:!1};localStorage.setItem(go,JSON.stringify([...Lo,uu])),localStorage.setItem(Aa,JSON.stringify(nt)),s(nt),eZ(uu.id,!0,!0);let va=r||[];$t!==0&&(va=va.map(St=>{if(St.id.toString()===Pe?.clienteId?.toString()){const Ka=$t<0?Math.abs($t):0;return{...St,saldoAFavor:Number(St.saldoAFavor||0)+Ka}}return St}),localStorage.setItem(na,JSON.stringify(va)),n(va));const Yn={...Pe,items:Pe.items.map(St=>St.productoId?.toString()===ae.productoOriginalId&&St.talla===ae.tallaDevuelta&&St.color===ae.colorDevuelta?{...St,estado:"Cambiado"}:St).concat([{id:`item-${Date.now()}`,productoId:ae.productoEntregadoId,productoNombre:Nt?.nombre||"Producto",talla:ae.tallaEntregada,color:ae.colorEntregada,cantidad:1,precioUnitario:_t,subtotal:_t,estado:"Activo"}])},ya=(Yn.items||[]).reduce((St,Ka)=>Ka.estado!=="Cambiado"?St+Ka.subtotal:St,0),zo=ya*.19,Tm=ya+zo;Yn.subtotal=ya,Yn.iva=zo,Yn.total=Tm;const du=(e||[]).map(St=>St.id===Pe.id?Yn:St);localStorage.setItem(is,JSON.stringify(du)),t(du),$e(!1),ee(null),we({ventaOriginalId:"",productoOriginalId:"",tallaOriginal:"",colorOriginal:"",tallaDevuelta:"",colorDevuelta:"",tallaEntregada:"",colorEntregada:"",productoEntregadoId:"",motivoCambio:"",fechaCambio:new Date().toISOString(),precioDevuelto:0,precioEntregado:0,diferencia:0,medioPagoDiferencia:"Efectivo"});let Yr=` Cambio ${Ga} procesado exitosamente.
`;Yr+=` Devuelto: +1 ${bt.nombre} ($${ut.toLocaleString()})
`,Yr+=` Entregado: -1 ${Nt.nombre} ($${_t.toLocaleString()})
`,Yr+=`
`,$t===0?Yr+=` Mismo precio - Sin cobro adicional
`:$t>0?(Yr+=` Diferencia: $${$t.toLocaleString()} A COBRAR
`,Yr+=`   Mtodo pago: ${ae.medioPagoDiferencia||"Efectivo"}
`):Yr+=` Diferencia: $${Math.abs($t).toLocaleString()} SALDO A FAVOR
`,Yr+=` Cambio NO REPETIBLE - Stock validado y persistido
`,Yr+=" Totales venta recalculados",E(Yr),P("success"),N(!0),window.dispatchEvent(new Event("salesUpdated"))}catch(rt){const nt=rt instanceof Error?rt.message:"Error desconocido";E(` Error al procesar cambio: ${nt}
La operacin fue CANCELADA. Stock NO fue modificado.`),P("error"),N(!0),console.error("Error en handleCrearCambio:",rt)}},at=q=>{const je=`
=================================
COMPROBANTE DE VENTA
${q.numeroVenta}
=================================

Fecha: ${new Date(q.fechaVenta).toLocaleDateString()}
Cliente: ${q.clienteNombre}
Estado: ${q.estado}

---------------------------------
PRODUCTOS
---------------------------------
${(q.items||[]).map(rt=>`
${rt.productoNombre}
Talla: ${rt.talla} | Color: ${rt.color}
Cantidad: ${rt.cantidad} x $${rt.precioUnitario.toLocaleString()}
Subtotal: $${rt.subtotal.toLocaleString()}
`).join(`
`)}

---------------------------------
TOTALES
---------------------------------
Subtotal: $${q.subtotal.toLocaleString()}
IVA (19%): $${q.iva.toLocaleString()}
TOTAL: $${q.total.toLocaleString()}

Mtodo de Pago: ${q.metodoPago}

${q.observaciones?`Observaciones:
${q.observaciones}`:""}
${q.anulada?`
*** VENTA ANULADA ***
Motivo: ${q.motivoAnulacion}`:""}

=================================
DAMABELLA - Moda Femenina
Gracias por su compra
=================================
    `.trim(),ye=new Blob([je],{type:"text/plain"}),Ie=URL.createObjectURL(ye),Be=document.createElement("a");Be.href=Ie,Be.download=`${q.numeroVenta}.txt`,Be.click()},yt=()=>{if(e.length===0){E("No hay ventas para descargar"),P("info"),N(!0);return}try{const q=[];e.forEach(Qe=>{if(!Qe.items||Qe.items.length===0){q.push({"ID Venta":Qe.numeroVenta,"ID Pedido":Qe.pedido_id||"N/A",Cliente:Qe.clienteNombre,Fecha:new Date(Qe.fechaVenta).toLocaleDateString(),Estado:Qe.estado,"Mtodo Pago":Qe.metodoPago,Observaciones:Qe.observaciones||"N/A",Producto:"N/A",Talla:"N/A",Color:"N/A",Cantidad:0,"Precio Unitario":0,"Subtotal tem":0,"Subtotal Venta":Qe.subtotal,"IVA Venta":Qe.iva,"Total Venta":Qe.total});return}Qe.items.forEach(ut=>{q.push({"ID Venta":Qe.numeroVenta,"ID Pedido":Qe.pedido_id||"N/A",Cliente:Qe.clienteNombre,Fecha:new Date(Qe.fechaVenta).toLocaleDateString(),Estado:Qe.estado,"Mtodo Pago":Qe.metodoPago,Observaciones:Qe.observaciones||"N/A",Producto:ut.productoNombre,Talla:ut.talla,Color:ut.color,Cantidad:ut.cantidad,"Precio Unitario":ut.precioUnitario,"Subtotal tem":ut.subtotal,"Subtotal Venta":Qe.subtotal,"IVA Venta":Qe.iva,"Total Venta":Qe.total})})});const je=Object.keys(q[0]||{}),ye=Qe=>Qe==null?"":`"${Qe.toString().replace(/"/g,'""')}"`,Ie=[je.join(","),...q.map(Qe=>je.map(ut=>ye(Qe[ut])).join(","))].join(`
`),Be=new Blob([Ie],{type:"text/csv;charset=utf-8;"}),rt=URL.createObjectURL(Be),nt=document.createElement("a");nt.setAttribute("href",rt),nt.setAttribute("download",`Ventas_Detalladas_${new Date().toISOString().split("T")[0]}.csv`),nt.style.visibility="hidden",document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(rt),E("Ventas descargadas exitosamente"),P("success"),N(!0)}catch{E("Error al descargar las ventas"),P("error"),N(!0)}},Et=(e||[]).filter(q=>{const je=V.toLowerCase(),ye=(q.numeroVenta?.toLowerCase()??"").includes(je),Ie=(q.clienteNombre?.toLowerCase()??"").includes(je),Be=(q.estado?.toLowerCase()??"").includes(je),rt=new Date(q.fechaVenta).toLocaleDateString().includes(V),nt=q.total.toString().includes(V),Qe=q.pedido_id?(q.pedido_id?.toLowerCase()??"").includes(je):!1,ut=(q.items||[]).some(Bt=>(Bt.productoNombre?.toLowerCase()??"").includes(je));return ye||Ie||Be||rt||nt||Qe||ut}),xt=$r(W.items),ur=(r||[]).find(q=>q.id?.toString()===W.clienteId?.toString()),Nr=Number(ur?.saldoAFavor||0),Oi=Number(xt.total||0),Mn=ie?Math.min(Nr,Oi):0,sl=Math.max(Oi-Mn,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Gestin de Ventas"}),a.jsx("p",{className:"text-gray-600",children:"Registra y administra las ventas con IVA incluido"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Te,{onClick:yt,variant:"secondary",children:[a.jsx(Eo,{size:20}),"Descargar Excel"]}),a.jsxs(Te,{onClick:Xn,variant:"primary",children:[a.jsx(Kr,{size:20}),"Nueva Venta"]})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:"Buscar por nmero, cliente o estado...",value:V,onChange:q=>z(q.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Nmero"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Pedido"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Cliente"}),a.jsx("th",{className:"text-left py-4 px-6 text-gray-600",children:"Fecha"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Total"}),a.jsx("th",{className:"text-center py-4 px-6 text-gray-600",children:"Estado"}),a.jsx("th",{className:"text-right py-4 px-6 text-gray-600",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:Et.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:[a.jsx(xb,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{children:"No se encontraron ventas"})]})}):Et.map(q=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"text-gray-900 font-medium",children:q.numeroVenta})}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:q.pedido_id?a.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-sm font-medium",children:q.pedido_id}):a.jsx("span",{className:"text-gray-400",children:"N/A"})}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:q.clienteNombre}),a.jsx("td",{className:"py-4 px-6 text-gray-600",children:new Date(q.fechaVenta).toLocaleDateString()}),a.jsxs("td",{className:"py-4 px-6 text-right text-gray-900 font-semibold",children:["$",q.total.toLocaleString()]}),a.jsx("td",{className:"py-4 px-6",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm ${q.estado==="Completada"?"bg-green-100 text-green-700":q.estado==="Devuelta"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:q.estado})})}),a.jsx("td",{className:"py-4 px-6",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx("button",{onClick:()=>{O(q),m(!0)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors text-gray-600",title:"Ver detalle",children:a.jsx(Ar,{size:18})}),a.jsx("button",{onClick:()=>at(q),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors text-blue-600",title:"Descargar",children:a.jsx(Eo,{size:18})}),!q.anulada&&q.estado!=="Devuelta"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{I(q),Ge({motivo:"Defectuoso",itemsDevueltos:[],productoNuevoId:"",productoNuevoTalla:"",productoNuevoColor:"",medioPagoExcedente:"Efectivo"}),y(!0)},disabled:ar(q.id)||At(q.id),className:`p-2 rounded-lg transition-colors ${ar(q.id)||At(q.id)?"hover:bg-gray-100 rounded-lg transition-colors text-gray-300 cursor-not-allowed":"hover:bg-purple-50 rounded-lg transition-colors text-purple-600"}`,title:At(q.id)?"Esta venta ya tiene devolucin aplicada":ar(q.id)?"No puedes devolver si hay cambio aplicado":"Generar devolucin",children:a.jsx(ws,{size:18})}),a.jsx("button",{onClick:()=>{ee(q),we({ventaOriginalId:q.id.toString(),productoOriginalId:"",tallaOriginal:"",colorOriginal:"",tallaDevuelta:"",colorDevuelta:"",tallaEntregada:"",colorEntregada:"",productoEntregadoId:"",motivoCambio:"",fechaCambio:new Date().toISOString(),precioDevuelto:0,precioEntregado:0,diferencia:0,medioPagoDiferencia:"Efectivo"}),$e(!0)},disabled:ar(q.id)||At(q.id),className:`p-2 rounded-lg transition-colors ${ar(q.id)||At(q.id)?"hover:bg-gray-100 rounded-lg transition-colors text-gray-300 cursor-not-allowed":"hover:bg-green-50 rounded-lg transition-colors text-green-600"}`,title:At(q.id)?"No puedes cambiar si hay devolucin aplicada":ar(q.id)?"Cambio ya aplicado - Revrsalo primero":"Hacer cambio",children:a.jsx(N3,{size:18})}),a.jsx("button",{onClick:()=>{T(q),b(!0)},disabled:ar(q.id)||At(q.id),className:`p-2 rounded-lg transition-colors ${ar(q.id)||At(q.id)?"hover:bg-gray-100 rounded-lg transition-colors text-gray-300 cursor-not-allowed":"hover:bg-red-50 rounded-lg transition-colors text-red-600"}`,title:At(q.id)?"No puedes anular si hay devolucin aplicada":ar(q.id)?"No puedes anular si hay cambio aplicado":"Anular",children:a.jsx(gb,{size:18})})]})]})})]},q.id))})]})})}),a.jsx(pt,{isOpen:c,onClose:()=>u(!1),title:"Nueva Venta",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-gray-700",children:"Cliente *"}),a.jsxs("button",{onClick:()=>p(!0),className:"text-gray-600 hover:text-gray-900 flex items-center gap-1 text-sm",children:[a.jsx(uk,{size:14}),"Nuevo Cliente"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{value:B,onChange:q=>{const je=q.target.value;D(je),Y(!0),ce(ye=>je.trim()===G.trim()?ye:{...ye,clienteId:""}),je.trim()!==G.trim()&&(te(""),K(!1),me("Efectivo"))},onFocus:()=>Y(!0),placeholder:"Buscar cliente...",className:ne.clienteId?"border-red-500":""}),R&&xe.length>0&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:xe.map(q=>a.jsxs("button",{type:"button",onClick:()=>X(q.id.toString(),q.nombre),className:"w-full text-left px-4 py-2 hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"font-medium text-gray-900",children:q.nombre}),a.jsxs("div",{className:"text-sm text-gray-600",children:[q.numeroDoc," - ",q.telefono]})]},q.id))})]}),ne.clienteId&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:ne.clienteId})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Fecha *"}),a.jsx(Le,{type:"date",value:W.fechaVenta,onChange:q=>ha("fechaVenta",q.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Mtodo de Pago *"}),Nr>0&&W.clienteId&&a.jsxs("div",{className:"mb-3 rounded-lg border border-green-300 bg-green-50 p-3",children:[a.jsxs("div",{className:"text-green-800 font-semibold",children:[" Este cliente tiene saldo a favor: $",Nr.toLocaleString()]}),a.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm text-green-900",children:[a.jsx("input",{type:"checkbox",checked:ie,onChange:q=>{const je=q.target.checked;K(je),je&&me("Efectivo")}}),"Usar saldo a favor en esta venta"]}),ie&&a.jsxs("div",{className:"mt-2 text-sm text-green-900 space-y-1",children:[a.jsxs("div",{children:["Saldo aplicado: ",a.jsxs("b",{children:["$",Mn.toLocaleString()]})]}),a.jsxs("div",{children:["Restante por pagar: ",a.jsxs("b",{children:["$",sl.toLocaleString()]})]})]})]}),(!ie||Mn<=0)&&a.jsxs("select",{value:W.metodoPago,onChange:q=>ce({...W,metodoPago:q.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"Efectivo",children:"Efectivo"}),a.jsx("option",{value:"Transferencia",children:"Transferencia"}),a.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),a.jsx("option",{value:"Nequi",children:"Nequi"}),a.jsx("option",{value:"Daviplata",children:"Daviplata"})]}),ie&&sl>0&&a.jsxs("div",{className:"mt-3",children:[a.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Medio de pago del restante *"}),a.jsxs("select",{value:pe,onChange:q=>me(q.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:[a.jsx("option",{value:"Efectivo",children:"Efectivo"}),a.jsx("option",{value:"Transferencia",children:"Transferencia"}),a.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),a.jsx("option",{value:"Nequi",children:"Nequi"}),a.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-gray-900 mb-3",children:"Agregar Productos"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 text-sm text-blue-700",children:[a.jsx("strong",{children:" Variantes:"})," Solo puedes vender combinaciones de Talla-Color que existan en el catlogo. Las nuevas variantes se crean desde el mdulo ",a.jsx("strong",{children:"Compras"}),"."]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Producto"}),a.jsxs("select",{value:Se.productoId,onChange:q=>ge({...Se,productoId:q.target.value,varianteId:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"",children:"Seleccionar producto..."}),o.filter(q=>q.activo).map(q=>a.jsxs("option",{value:q.id,children:[q.nombre," - $",(q.precioVenta||0).toLocaleString()]},q.id))]})]}),Se.productoId&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:a.jsx("strong",{children:"Variante (Talla - Color - Stock) *"})}),a.jsxs("select",{value:Se.varianteId,onChange:q=>ge({...Se,varianteId:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"",children:"Seleccionar variante..."}),o.find(q=>q.id.toString()===Se.productoId)?.variantes?.flatMap(q=>q.colores.map(je=>{const ye=`${q.talla}-${je.color}`,Ie=je.cantidad||0,Be=Ie>0?` ${Ie}`:" Sin stock";return a.jsxs("option",{value:ye,disabled:Ie===0,children:[q.talla," - ",je.color," [",Be,"]"]},ye)}))||a.jsx("option",{disabled:!0,children:"Sin variantes disponibles"})]}),!Se.varianteId&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Solo se muestran variantes creadas desde Compras"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2 text-sm",children:"Cantidad *"}),a.jsx(Le,{type:"number",min:"1",value:Se.cantidad,onChange:q=>ge({...Se,cantidad:q.target.value}),placeholder:"1"})]})]}),a.jsxs(Te,{onClick:ot,variant:"secondary",className:"w-full",children:[a.jsx(Kr,{size:16}),"Agregar Producto"]})]}),W.items.length>0&&a.jsx("div",{className:"space-y-2",children:W.items.map(q=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:q.productoNombre}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",q.talla," | Color: ",q.color," | Cant: ",q.cantidad," x $",q.precioUnitario.toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-gray-900 font-semibold",children:["$",q.subtotal.toLocaleString()]}),a.jsx("button",{onClick:()=>cr(q.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:a.jsx(da,{size:16})})]})]},q.id))})]}),W.items.length>0&&a.jsx("div",{className:"border-t pt-4 bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",xt.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"IVA (19%):"}),a.jsxs("span",{children:["$",xt.iva.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-900 text-lg font-semibold pt-2 border-t",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",xt.total.toLocaleString()]})]})]})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Observaciones"}),a.jsx("textarea",{value:W.observaciones,onChange:q=>ce({...W,observaciones:q.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:2,placeholder:"Notas adicionales..."})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>u(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:Ft,variant:"primary",children:"Crear Venta"})]})]})}),a.jsx(pt,{isOpen:d,onClose:()=>m(!1),title:`Detalle de Venta ${k?.numeroVenta}`,children:k&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Cliente"}),a.jsx("div",{className:"text-gray-900 font-medium",children:k.clienteNombre})]}),(()=>{const q=r.find(ye=>ye.id.toString()===k.clienteId.toString()),je=Number(q?.saldoAFavor||0);return je<=0?null:a.jsxs("div",{className:"mt-2 bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-green-700 font-semibold",children:"Saldo a favor"}),a.jsxs("div",{className:"text-green-800 text-lg font-bold",children:["$",je.toLocaleString()]})]})})(),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Estado"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm ${k.estado==="Completada"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.estado})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Fecha"}),a.jsx("div",{className:"text-gray-900",children:new Date(k.fechaVenta).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Mtodo de Pago"}),a.jsx("div",{className:"text-gray-900",children:k.metodoPago})]})]}),k.observaciones&&a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-1",children:"Observaciones"}),a.jsx("div",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:k.observaciones})]}),k.anulada&&k.motivoAnulacion&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[a.jsx("div",{className:"text-red-700 font-semibold mb-1",children:"Motivo de Anulacin"}),a.jsx("div",{className:"text-red-600",children:k.motivoAnulacion})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-gray-900 font-semibold mb-3",children:"Productos"}),a.jsx("div",{className:"space-y-2",children:(k.items||[]).map(q=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:q.productoNombre}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",q.talla," | Color: ",q.color]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[q.cantidad," x $",q.precioUnitario.toLocaleString()]})]}),a.jsxs("div",{className:"text-gray-900 font-semibold",children:["$",q.subtotal.toLocaleString()]})]})},q.id))})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",k.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"IVA (19%):"}),a.jsxs("span",{children:["$",k.iva.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-900 text-lg font-semibold pt-2 border-t border-gray-300",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{children:["$",k.total.toLocaleString()]})]})]})]})}),a.jsx(pt,{isOpen:v,onClose:()=>b(!1),title:"Anular Venta",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-600",children:["Ests seguro de anular la venta ",a.jsx("strong",{children:L?.numeroVenta}),"? Esta accin no se puede deshacer."]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Motivo de Anulacin *"}),a.jsx("textarea",{value:U,onChange:q=>F(q.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",rows:3,placeholder:"Describe el motivo de la anulacin...",required:!0})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>b(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:kt,variant:"primary",className:"bg-red-600 hover:bg-red-700",children:"Anular Venta"})]})]})}),a.jsx(pt,{isOpen:w,onClose:()=>{y(!1),I(null),Ge({motivo:"Defectuoso",itemsDevueltos:[],productoNuevoId:"",productoNuevoTalla:"",productoNuevoColor:"",medioPagoExcedente:"Efectivo"})},title:`Generar Devolucin - ${M?.numeroVenta}`,size:"lg",children:M&&(()=>{const q=Ee.itemsDevueltos.reduce((ye,Ie)=>{const Be=M.items.find(rt=>rt.id===Ie.itemId);return ye+(Be?Ie.cantidad*Be.precioUnitario:0)},0),je=o.find(ye=>ye.id.toString()===Ee.productoNuevoId);return je&&je.precioVenta,a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Cliente:"," ",a.jsx("span",{className:"text-gray-900 font-medium",children:M.clienteNombre})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Fecha Venta:"," ",a.jsx("span",{className:"text-gray-900 font-medium",children:new Date(M.fechaVenta).toLocaleDateString()})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Motivo de Devolucin *"}),a.jsx("select",{value:Ee.motivo,onChange:ye=>Ge({...Ee,motivo:ye.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",required:!0,children:tZ.map(ye=>a.jsx("option",{value:ye,children:ye},ye))})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-gray-900 font-semibold mb-3",children:"Seleccionar Productos a Devolver"}),a.jsx("div",{className:"space-y-2",children:(M.items||[]).map(ye=>{const Ie=Jr(M.id,ye.id);if(Ie<=0)return null;const rt=(Ee.itemsDevueltos||[]).find(nt=>nt.itemId===ye.id)?.cantidad||0;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:ye.productoNombre}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",ye.talla," | Color: ",ye.color]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Precio: $",ye.precioUnitario.toLocaleString()]})]}),a.jsxs("div",{className:"text-gray-900 font-semibold",children:["$",ye.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[a.jsx("label",{className:"text-sm text-gray-700",children:"Cantidad a devolver:"}),a.jsx("input",{type:"number",min:"0",max:Ie,value:rt,onChange:nt=>Xr(ye.id,parseInt(nt.target.value,10)||0),className:"w-20 px-3 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["de ",Ie]}),rt>0&&a.jsxs("span",{className:"ml-auto text-sm text-green-600 font-medium",children:["Devolucin: $",(rt*ye.precioUnitario).toLocaleString()]})]})]},ye.id)})})]}),q>0&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"font-semibold text-green-900 mb-2",children:" Resumen de Devolucin"}),a.jsxs("div",{className:"flex justify-between text-sm text-green-800",children:[a.jsx("span",{children:"Total a devolver (saldo a favor):"}),a.jsxs("span",{className:"font-medium",children:["$",q.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>y(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:_r,variant:"primary",className:"bg-purple-600 hover:bg-purple-700",children:"Generar Devolucin"})]})]})})()}),a.jsx(pt,{isOpen:Q,onClose:()=>{$e(!1),ee(null),we({ventaOriginalId:"",productoOriginalId:"",tallaOriginal:"",colorOriginal:"",tallaDevuelta:"",colorDevuelta:"",tallaEntregada:"",colorEntregada:"",productoEntregadoId:"",motivoCambio:"",fechaCambio:new Date().toISOString(),precioDevuelto:0,precioEntregado:0,diferencia:0,medioPagoDiferencia:"Efectivo"})},title:`Cambio de Producto - ${Pe?.numeroVenta}`,size:"lg",children:Pe&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:" Operacin de Cambio:"})," Devuelve un producto y recibe otro en su lugar."]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wide font-semibold",children:"Cliente"}),a.jsx("div",{className:"text-gray-900 font-medium mt-1",children:Pe.clienteNombre})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wide font-semibold",children:"Venta Original"}),a.jsx("div",{className:"text-gray-900 font-medium mt-1",children:Pe.numeroVenta})]})]}),a.jsxs("div",{className:"border-l-4 border-red-500 bg-red-50 p-4 rounded",children:[a.jsx("h4",{className:"text-red-900 font-semibold mb-3",children:" Producto a Devolver"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Seleccionar producto devuelto de esta venta *"}),a.jsxs("select",{value:Ve.find(q=>q.talla===ae.tallaDevuelta&&q.color===ae.colorDevuelta)?.id||"",onChange:q=>{const je=Ve.find(ye=>ye.id===q.target.value);je&&we({...ae,tallaDevuelta:je.talla,colorDevuelta:je.color,productoOriginalId:je.productoId?.toString()||"",tallaOriginal:je.talla,colorOriginal:je.color})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),Ve.map(q=>a.jsxs("option",{value:q.id,children:[q.productoNombre," - Talla: ",q.talla,", Color: ",q.color," (Disponible: ",Jr(Pe.id,q.id),")"]},q.id))]})]})]}),a.jsxs("div",{className:"border-l-4 border-green-500 bg-green-50 p-4 rounded",children:[a.jsx("h4",{className:"text-green-900 font-semibold mb-3",children:" Producto a Entregar"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Producto a entregar *"}),a.jsxs("select",{value:ae.productoEntregadoId,onChange:q=>we({...ae,productoEntregadoId:q.target.value,tallaEntregada:"",colorEntregada:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"Seleccionar producto..."}),Ce().map(q=>a.jsx("option",{value:q.id.toString(),children:q.nombre},q.id))]})]}),ae.productoEntregadoId&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Talla *"}),a.jsxs("select",{value:ae.tallaEntregada,onChange:q=>we({...ae,tallaEntregada:q.target.value,colorEntregada:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"Seleccionar talla..."}),ze(ae.productoEntregadoId).map(q=>a.jsx("option",{value:q,children:q},q))]})]}),ae.tallaEntregada&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Color *"}),a.jsxs("select",{value:ae.colorEntregada,onChange:q=>we({...ae,colorEntregada:q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[a.jsx("option",{value:"",children:"Seleccionar color..."}),Ue(ae.productoEntregadoId,ae.tallaEntregada).map(q=>a.jsxs("option",{value:q.color,children:[q.color," (Stock: ",q.stock,")"]},q.color))]})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Motivo del Cambio *"}),a.jsx("textarea",{value:ae.motivoCambio,onChange:q=>we({...ae,motivoCambio:q.target.value}),placeholder:"Ej: Cliente quiere diferente talla, color incorrecto, producto defectuoso...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3})]}),ae.tallaDevuelta&&ae.colorDevuelta&&ae.tallaEntregada&&ae.colorEntregada&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-300",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:" Informacin de Precios:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-700",children:[" Devuelve: ",Pe.items.find(q=>q.talla===ae.tallaDevuelta&&q.color===ae.colorDevuelta)?.productoNombre]}),a.jsxs("span",{className:"font-semibold text-red-600",children:["$",(o.find(je=>je.id.toString()===ae.productoOriginalId)?.precioVenta||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-700",children:[" Recibe: ",o.find(q=>q.id.toString()===ae.productoEntregadoId)?.nombre]}),a.jsxs("span",{className:"font-semibold text-green-600",children:["$",(o.find(je=>je.id.toString()===ae.productoEntregadoId)?.precioVenta||0).toLocaleString()]})]}),a.jsx("div",{className:"border-t border-gray-300 pt-2 mt-2"}),(()=>{const q=o.find(Ie=>Ie.id.toString()===ae.productoOriginalId)?.precioVenta||0,ye=(o.find(Ie=>Ie.id.toString()===ae.productoEntregadoId)?.precioVenta||0)-q;return ye===0?a.jsxs("div",{className:"flex justify-between items-center bg-blue-50 p-2 rounded",children:[a.jsx("span",{className:"text-blue-800 font-semibold",children:"Diferencia:"}),a.jsx("span",{className:"text-blue-800 font-bold",children:"$0 - Mismo precio"})]}):ye>0?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center bg-orange-50 p-2 rounded border border-orange-200",children:[a.jsx("span",{className:"text-orange-800 font-semibold",children:"A COBRAR:"}),a.jsxs("span",{className:"text-orange-800 font-bold",children:["$",ye.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-700 mb-1",children:"Mtodo de pago del excedente *"}),a.jsxs("select",{value:ae.medioPagoDiferencia||"Efectivo",onChange:Ie=>we({...ae,medioPagoDiferencia:Ie.target.value}),className:"w-full px-2 py-1 border border-orange-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[a.jsx("option",{value:"Efectivo",children:"Efectivo"}),a.jsx("option",{value:"Transferencia",children:"Transferencia"}),a.jsx("option",{value:"Tarjeta",children:"Tarjeta"}),a.jsx("option",{value:"Nequi",children:"Nequi"}),a.jsx("option",{value:"Daviplata",children:"Daviplata"})]})]})]}):a.jsxs("div",{className:"flex justify-between items-center bg-green-50 p-2 rounded border border-green-200",children:[a.jsx("span",{className:"text-green-800 font-semibold",children:"SALDO A FAVOR:"}),a.jsxs("span",{className:"text-green-800 font-bold",children:["$",Math.abs(ye).toLocaleString()]})]})})()]})]}),a.jsxs("div",{className:"bg-gray-100 rounded-lg p-3 border border-gray-300",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Detalles del Cambio:"}),a.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[a.jsxs("div",{children:[" Devuelve: ",Pe.items.find(q=>q.talla===ae.tallaDevuelta&&q.color===ae.colorDevuelta)?.productoNombre," (",ae.tallaDevuelta,"/",ae.colorDevuelta,")"]}),a.jsxs("div",{children:[" Recibe: ",o.find(q=>q.id.toString()===ae.productoEntregadoId)?.nombre," (",ae.tallaEntregada,"/",ae.colorEntregada,")"]})]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>{$e(!1),ee(null),we({ventaOriginalId:"",productoOriginalId:"",tallaOriginal:"",colorOriginal:"",tallaDevuelta:"",colorDevuelta:"",tallaEntregada:"",colorEntregada:"",productoEntregadoId:"",motivoCambio:"",fechaCambio:new Date().toISOString(),precioDevuelto:0,precioEntregado:0,diferencia:0,medioPagoDiferencia:"Efectivo"})},variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:He,variant:"primary",className:"bg-green-600 hover:bg-green-700",disabled:!ae.tallaDevuelta||!ae.colorDevuelta||!ae.tallaEntregada||!ae.colorEntregada||!dt(ae.productoEntregadoId,ae.tallaEntregada,ae.colorEntregada),children:" Confirmar Cambio"})]})]})}),a.jsx(pt,{isOpen:h,onClose:()=>p(!1),title:"Nuevo Cliente",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre *"}),a.jsx(Le,{value:ue.nombre,onChange:q=>Me({...ue,nombre:q.target.value}),placeholder:"Nombre completo",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Tipo Doc *"}),a.jsxs("select",{value:ue.tipoDoc,onChange:q=>Me({...ue,tipoDoc:q.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"CC",children:"CC"}),a.jsx("option",{value:"CE",children:"CE"}),a.jsx("option",{value:"TI",children:"TI"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nmero Doc *"}),a.jsx(Le,{value:ue.numeroDoc,onChange:q=>ga("numeroDoc",q.target.value),placeholder:"123456789",required:!0}),ve.numeroDoc&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:ve.numeroDoc})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono *"}),a.jsx(Le,{value:ue.telefono,onChange:q=>ga("telefono",q.target.value),placeholder:"3001234567",required:!0}),ve.telefono&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:ve.telefono})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),a.jsx(Le,{type:"email",value:ue.email,onChange:q=>ga("email",q.target.value),placeholder:"cliente@ejemplo.com"}),ve.email&&a.jsx("p",{className:"text-red-600 text-xs mt-1",children:ve.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Direccin"}),a.jsx(Le,{value:ue.direccion,onChange:q=>Me({...ue,direccion:q.target.value}),placeholder:"Calle 123 # 45-67"})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>p(!1),variant:"secondary",children:"Cancelar"}),a.jsx(Te,{onClick:sr,variant:"primary",children:"Crear Cliente"})]})]})}),a.jsx(pt,{isOpen:x,onClose:()=>N(!1),title:_==="success"?"xito":_==="error"?"Error":"Informacin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[_==="success"&&a.jsx(Co,{className:"text-green-600 flex-shrink-0 mt-1",size:24}),_==="error"&&a.jsx(Mt,{className:"text-red-600 flex-shrink-0 mt-1",size:24}),_==="info"&&a.jsx(Mt,{className:"text-blue-600 flex-shrink-0 mt-1",size:24}),a.jsx("p",{className:"text-gray-700 text-base",children:A})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t",children:a.jsx(Te,{onClick:()=>N(!1),variant:"primary",children:"Aceptar"})})]})})]})}const JA="damabella_devoluciones",XA="damabella_ventas",Fy="damabella_productos";function nZ(){const[e,t]=C.useState(()=>{const D=localStorage.getItem(JA);return D?JSON.parse(D):[]}),[r,n]=C.useState(()=>{const D=localStorage.getItem(XA);return D?JSON.parse(D):[]}),[o,s]=C.useState(()=>{const D=localStorage.getItem(Fy);if(D)return JSON.parse(D);const G=[{id:"1",nombre:"Vestido Corto Casual",referencia:"VES-CORTA-001",codigoInterno:"VCC-001",precioVenta:65e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Rojo","Negro","Blanco","Azul","Rosa"]},{id:"2",nombre:"Vestido Largo Elegante",referencia:"VES-LARGO-002",codigoInterno:"VLE-002",precioVenta:95e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Rojo","Champagne","Azul Marino"]},{id:"3",nombre:"Enterizo Ejecutivo",referencia:"ENT-EJE-003",codigoInterno:"ENE-003",precioVenta:85e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Beige","Azul Marino","Gris"]},{id:"4",nombre:"Enterizo Casual Denim",referencia:"ENT-CAS-004",codigoInterno:"ECD-004",precioVenta:75e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Azul Claro","Azul Oscuro","Negro"]},{id:"5",nombre:"Vestido Corto de Fiesta",referencia:"VES-FIESTA-005",codigoInterno:"VCF-005",precioVenta:78e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Dorado","Plata","Negro","Rojo"]},{id:"6",nombre:"Vestido Largo de Gala",referencia:"VES-GALA-006",codigoInterno:"VLG-006",precioVenta:12e4,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Blanco","Negro","Azul Marino","Vino"]},{id:"7",nombre:"Enterizo Premium",referencia:"ENT-PREM-007",codigoInterno:"EPR-007",precioVenta:105e3,activo:!0,tallas:["XS","S","M","L","XL"],colores:["Negro","Blanco","Rosa Palo","Azul Cielo"]}];return localStorage.setItem(Fy,JSON.stringify(G)),G}),[c,u]=C.useState(!1),[d,m]=C.useState(!1),[h,p]=C.useState(""),[v,b]=C.useState("info"),[w,y]=C.useState(!1),[x,N]=C.useState(""),[A,E]=C.useState(null),[_,P]=C.useState(null),[k,O]=C.useState("");C.useEffect(()=>{const D=()=>{const G=localStorage.getItem(JA),te=localStorage.getItem(XA),R=localStorage.getItem(Fy);G&&t(JSON.parse(G)),te&&n(JSON.parse(te)),R&&s(JSON.parse(R))};return D(),window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[]);const L=D=>{const G=`
=================================
COMPROBANTE DE DEVOLUCIN
${D.numeroDevolucion}
=================================

Fecha de Devolucin: ${new Date(D.fechaDevolucion).toLocaleDateString()}
Venta Original: ${D.numeroVenta}
Cliente: ${D.clienteNombre}

---------------------------------
MOTIVO DE DEVOLUCIN
---------------------------------
${D.motivo}

---------------------------------
PRODUCTOS DEVUELTOS
---------------------------------
${D.items.map(U=>`
${U.productoNombre}
Talla: ${U.talla} | Color: ${U.color}
Cantidad: ${U.cantidad} x $${U.precioUnitario.toLocaleString()}
Subtotal: $${U.subtotal.toLocaleString()}
`).join(`
`)}

---------------------------------
TOTAL A DEVOLVER
---------------------------------
$${D.total.toLocaleString()}

=================================
DAMABELLA - Moda Femenina
=================================
    `.trim(),te=new Blob([G],{type:"text/plain"}),R=URL.createObjectURL(te),Y=document.createElement("a");Y.href=R,Y.download=`${D.numeroDevolucion}.txt`,Y.click()},T=()=>{const D=[];return e.forEach(G=>{D.push({id:G.id,tipo:"DEVOLUCIN",numero:G.numeroDevolucion,numeroVenta:G.numeroVenta,clienteNombre:G.clienteNombre,fecha:G.fechaDevolucion||G.createdAt,estado:G.estadoGestion,total:G.total,motivo:G.motivo,items:G.items,datos:G})}),D.sort((G,te)=>new Date(te.fecha).getTime()-new Date(G.fecha).getTime())},M=D=>String(D??"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),I=D=>String(D??"").replace(/[^\d]/g,""),z=T().filter(D=>{const G=M(k),te=I(k),R=M(D.numero).includes(G),Y=M(D.numeroVenta).includes(G),U=M(D.clienteNombre).includes(G),F=M(D.estado).includes(G),W=M(D.tipo).includes(G),ce=D.motivo?M(D.motivo).includes(G):!1,ie=D.fecha?new Date(D.fecha).toLocaleDateString().includes(k):!1,K=D.items?.some(ne=>M(ne.productoNombre).includes(G)||M(ne.talla).includes(G)||M(ne.color).includes(G))||!1,pe=I(D.total),me=te.length>0?pe.includes(te):!1;return R||Y||U||F||W||ce||ie||K||me}),B=()=>{if(z.length===0){m(!0),p("No hay registros para descargar"),b("info");return}const D=z.map(F=>({Tipo:F.tipo,Nmero:F.numero,"Venta Original":F.numeroVenta,Cliente:F.clienteNombre,Descripcin:F.motivo||"Cambio de producto",Estado:F.estado,Monto:`$${F.total?.toLocaleString()||"0"}`,Fecha:new Date(F.fecha).toLocaleDateString()})),G=Object.keys(D[0]||{}),te=[G.join(","),...D.map(F=>G.map(W=>{const ce=F[W],ie=String(ce||"");return ie.includes(",")?`"${ie}"`:ie}).join(","))].join(`
`),R=new Blob([te],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL(R),U=document.createElement("a");U.href=Y,U.download=`devoluciones_${new Date().toISOString().split("T")[0]}.csv`,U.click(),m(!0),p("Reporte de devoluciones descargado correctamente"),b("success")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900 mb-2",children:"Historial de Devoluciones y Cambios"}),a.jsx("p",{className:"text-gray-600",children:"Visualiza todas tus devoluciones y cambios (creados desde Ventas)"})]}),a.jsx("div",{className:"flex gap-2",children:e.length>0&&a.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(Eo,{size:16}),"Excel"]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx(Le,{placeholder:"Buscar por nmero de devolucin, venta o cliente...",value:k,onChange:D=>O(D.target.value),className:"pl-10"})]})}),e.length===0&&a.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ws,{className:"text-purple-600 mt-1",size:24}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-purple-900 mb-1",children:"Cmo crear devoluciones?"}),a.jsxs("p",{className:"text-purple-700 text-sm",children:["Haz clic en el botn ",a.jsx("strong",{children:'"Nueva Devolucin"'})," en la esquina superior derecha para crear una nueva devolucin. Selecciona una venta, los productos y el motivo."]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-gray-600 text-sm",children:"Tipo"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600 text-sm",children:"Nmero"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600 text-sm",children:"Venta Original"}),a.jsx("th",{className:"text-left py-3 px-4 text-gray-600 text-sm",children:"Cliente"}),a.jsx("th",{className:"text-center py-3 px-4 text-gray-600 text-sm",children:"Estado"}),a.jsx("th",{className:"text-right py-3 px-4 text-gray-600 text-sm",children:"Monto"}),a.jsx("th",{className:"text-center py-3 px-4 text-gray-600 text-sm",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:z.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"py-12 text-center text-gray-500",children:[a.jsx(ws,{className:"mx-auto mb-4 text-gray-300",size:48}),a.jsx("p",{children:"No se encontraron devoluciones ni cambios"}),a.jsx("p",{className:"text-sm mt-2",children:"Crea devoluciones y cambios desde el mdulo de Ventas"})]})}):z.map(D=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D.tipo==="DEVOLUCIN"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:D.tipo})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-100 text-gray-700 rounded text-xs font-medium",children:D.tipo==="DEVOLUCIN"?"":""}),a.jsx("div",{className:"text-gray-900 font-medium text-sm",children:D.numero})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-gray-600 text-sm",children:D.numeroVenta})}),a.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:D.clienteNombre}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${D.estado==="Anulado"?"bg-red-100 text-red-700":D.estado==="Reparado"?"bg-blue-100 text-blue-700":D.estado==="Cambiado"?"bg-green-100 text-green-700":D.estado==="Enviado a reparacin"?"bg-yellow-100 text-yellow-700":D.estado==="Aplicada"||D.estado==="Aplicado"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-700"}`,children:D.estado})})}),a.jsxs("td",{className:"text-right py-3 px-4 text-gray-900 font-medium text-sm",children:["$",D.total?.toLocaleString()||"0"]}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("button",{onClick:()=>{D.tipo,P(D.datos),u(!0)},className:"text-blue-600 hover:text-blue-700 transition-colors",title:"Ver detalles completos",children:a.jsx(Ar,{size:18})})})]},`${D.tipo}-${D.id}`))})]})})}),_&&a.jsx(pt,{isOpen:c,onClose:()=>u(!1),title:`Detalle Devolucin ${_.numeroDevolucion}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Nmero de Devolucin"}),a.jsx("div",{className:"text-purple-900 font-medium",children:_.numeroDevolucion})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Venta Original"}),a.jsx("div",{className:"text-purple-900 font-medium",children:_.numeroVenta})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Cliente"}),a.jsx("div",{className:"text-purple-900 font-medium",children:_.clienteNombre})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Fecha de Devolucin"}),a.jsx("div",{className:"text-purple-900 font-medium",children:new Date(_.fechaDevolucion).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Estado de Gestin"}),a.jsx("div",{className:`px-2 py-1 rounded font-medium text-xs inline-block ${_.estadoGestion==="Anulado"?"bg-red-100 text-red-700":_.estadoGestion==="Reparado"?"bg-blue-100 text-blue-700":_.estadoGestion==="Cambiado"?"bg-green-100 text-green-700":_.estadoGestion==="Enviado a reparacin"?"bg-yellow-100 text-yellow-700":_.estadoGestion==="Aplicada"?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-700"}`,children:_.estadoGestion})]}),_.fechaAnulacion&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-purple-600 mb-1",children:"Fecha de Anulacin"}),a.jsx("div",{className:"text-purple-900 font-medium",children:new Date(_.fechaAnulacion).toLocaleDateString()})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Motivo de la Devolucin"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-gray-900 font-medium",children:_.motivo})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-gray-900 font-medium mb-3",children:"Productos Devueltos"}),a.jsx("div",{className:"space-y-2",children:_.items.map((D,G)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-white",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:D.productoNombre}),a.jsxs("div",{className:"text-gray-900 font-medium",children:["$",D.subtotal.toLocaleString()]})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Talla: ",D.talla," | Color: ",D.color," | Cantidad: ",D.cantidad," x $",D.precioUnitario.toLocaleString()]})]},G))})]}),_.productoNuevo&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("div",{className:"text-sm text-green-600 mb-2 font-medium",children:"Producto de Cambio"}),a.jsx("div",{className:"text-green-900 font-medium mb-2",children:_.productoNuevo.nombre}),a.jsxs("div",{className:"text-sm text-green-700",children:["Precio: $",_.productoNuevo.precio.toLocaleString()]})]}),(()=>{const D=Number(_.saldoAFavor??0),G=Number(_.diferenciaPagar??0);return D<=0&&G<=0?null:a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:[a.jsx("div",{className:"font-medium text-blue-900",children:"Balance Financiero"}),D>0&&a.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[a.jsx("span",{children:"Saldo a Favor:"}),a.jsxs("span",{className:"font-medium text-green-600",children:["$",D.toLocaleString()]})]}),G>0&&a.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[a.jsx("span",{children:"Diferencia a Pagar:"}),a.jsxs("span",{className:"font-medium text-red-600",children:["$",G.toLocaleString()]})]}),G>0&&_.medioPagoExcedente&&a.jsxs("div",{className:"flex justify-between text-sm text-blue-700",children:[a.jsx("span",{children:"Medio pago excedente:"}),a.jsx("span",{className:"font-medium",children:_.medioPagoExcedente})]})]})})(),a.jsx("div",{className:"border-t pt-4 bg-purple-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex justify-between text-purple-900 font-medium",children:[a.jsx("span",{children:"Total a Devolver:"}),a.jsxs("span",{children:["$",_.total.toLocaleString()]})]})}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cerrar"}),a.jsxs("button",{onClick:()=>L(_),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx(Eo,{size:16}),"Descargar Comprobante"]})]})]})}),d&&a.jsx(pt,{isOpen:d,onClose:()=>m(!1),title:"",children:a.jsxs("div",{className:"space-y-4 text-center py-6",children:[a.jsxs("div",{className:"flex justify-center",children:[v==="success"&&a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(Co,{className:"text-green-600",size:32})}),v==="error"&&a.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center",children:a.jsx(Mt,{className:"text-red-600",size:32})}),v==="info"&&a.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(Mt,{className:"text-blue-600",size:32})})]}),a.jsx("p",{className:"text-gray-900 font-medium text-lg",children:h}),a.jsx("button",{onClick:()=>m(!1),className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Aceptar"})]})}),w&&a.jsx(pt,{isOpen:w,onClose:()=>y(!1),title:"Confirmar accin",children:a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("p",{className:"text-gray-700",children:x}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:()=>{A&&A()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar"})]})]})})]})}function aZ({currentUser:e,onSave:t,onCancel:r}){console.log(" [EditarPerfilPage] currentUser:",e);const{showToast:n}=$o(),o=()=>{const z=localStorage.getItem("damabella_current_user");if(z)try{const B=JSON.parse(z);if(B?.id||B?.email)return console.log(" [getUserData] Datos cargados desde localStorage:",B),B}catch{console.log(" Error parsing localStorage")}if(e?.email){const D=JSON.parse(localStorage.getItem("damabella_users")||"[]").find(G=>G.email===e.email);if(D)return console.log(" [getUserData] Usuario encontrado en damabella_users:",D),D}return console.log(" [getUserData] Usando currentUser:",e),e},s=o(),[c,u]=C.useState(()=>({nombre:s?.nombre||s?.name||"",email:s?.email||"",celular:s?.celular||s?.phone||"",direccion:s?.direccion||s?.address||"",tipoDoc:s?.tipoDoc||"CC",numeroDoc:s?.numeroDoc||"",avatar:s?.avatar||null})),[d,m]=C.useState({}),[h,p]=C.useState(!1),[v,b]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[w,y]=C.useState({}),[x,N]=C.useState(!1),[A,E]=C.useState(!1),[_,P]=C.useState(!1),k=C.useRef(null);C.useEffect(()=>{const z=o();console.log(" [useEffect] Sincronizando con usuario:",z),u({nombre:z?.nombre||z?.name||"",email:z?.email||"",celular:z?.celular||z?.phone||"",direccion:z?.direccion||z?.address||"",tipoDoc:z?.tipoDoc||"CC",numeroDoc:z?.numeroDoc||"",avatar:z?.avatar||null}),m({})},[e]);const O=()=>k.current?.click(),L=z=>{const B=z.target.files?.[0];if(B){if(!["image/png","image/jpeg","image/jpg"].includes(B.type)){n("Solo se permiten imgenes PNG o JPG","error");return}if(B.size>2*1024*1024){n("El tamao mximo permitido es 2MB","error");return}const D=new FileReader;D.onloadend=()=>{u({...c,avatar:D.result})},D.readAsDataURL(B)}},T=z=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z),M=z=>/^\d{7,15}$/.test(z.replace(/\D/g,""));C.useEffect(()=>{const z={};c.nombre.trim()||(z.nombre="El nombre es obligatorio"),c.email.trim()?T(c.email)||(z.email="Email invlido"):z.email="El email es obligatorio",c.celular&&c.celular.trim()&&!M(c.celular)&&(z.celular="Celular invlido (7-15 dgitos)"),c.direccion&&c.direccion.trim()&&c.direccion.trim().length<3&&(z.direccion="Direccin muy corta"),c.numeroDoc&&c.numeroDoc.trim()&&c.numeroDoc.trim().length<5&&(z.numeroDoc="Nmero de documento invlido"),m(z)},[c]),C.useEffect(()=>{const z={};v.newPassword&&v.newPassword.length<6&&(z.newPassword="Mnimo 6 caracteres"),v.newPassword||(z.newPassword="La nueva contrasea es obligatoria"),v.confirmPassword?v.newPassword&&v.confirmPassword!==v.newPassword&&(z.confirmPassword="Las contraseas no coinciden"):z.confirmPassword="Debe confirmar la contrasea",v.currentPassword&&v.currentPassword.length<6&&(z.currentPassword="Mnimo 6 caracteres"),y(z)},[v]);const I=z=>{if(z.preventDefault(),console.log(" [handleSubmit] GUARDANDO CAMBIOS DEL PERFIL"),console.log("   Datos del formulario:",JSON.stringify(c,null,2)),console.log("   Usuario actual:",JSON.stringify(e,null,2)),console.log("   Errores encontrados:",d),!c.nombre.trim()){n("El nombre es obligatorio","error");return}if(!c.email.trim()){n("El email es obligatorio","error");return}if(!T(c.email)){n("Email invlido","error");return}if(c.celular&&c.celular.trim()&&!M(c.celular)){n("Celular invlido","error");return}const B=JSON.parse(localStorage.getItem("damabella_users")||"[]");console.log("   Total de usuarios en BD:",B.length),console.log("   Buscando usuario con ID:",e?.id,"o email:",e?.email);let D=B.findIndex(te=>te.id===e?.id);D===-1&&(console.log("   ID no encontrado, buscando por email..."),D=B.findIndex(te=>te.email===e?.email)),console.log("   Usuario encontrado en ndice:",D);const G={id:e?.id||`user_${Date.now()}`,nombre:c.nombre.trim()||"Sin nombre",name:c.nombre.trim()||"Sin nombre",email:c.email.trim(),celular:c.celular.trim()||"",phone:c.celular.trim()||"",direccion:c.direccion.trim()||"",address:c.direccion.trim()||"",tipoDoc:c.tipoDoc||"CC",numeroDoc:c.numeroDoc.trim()||"",avatar:c.avatar||e?.avatar||null,role:e?.role||e?.rol||"Cliente",rol:e?.rol||e?.role||"Cliente",password:D!==-1?B[D].password:void 0,estado:D!==-1?B[D].estado:"Activo"};console.log("   Usuario actualizado completo:",JSON.stringify(G,null,2)),D!==-1?(B[D]=G,console.log("   Usuario actualizado en ndice:",D)):(console.log("   Creando nuevo usuario..."),B.push(G),console.log("   Nuevo usuario creado y aadido")),localStorage.setItem("damabella_users",JSON.stringify(B)),localStorage.setItem("damabella_current_user",JSON.stringify(G)),console.log("   Cambios guardados en localStorage"),n("Perfil actualizado correctamente","success"),setTimeout(()=>{t(G)},100)},V=()=>{if(console.log(" [handleChangePassword] INICIANDO CAMBIO DE CONTRASEA"),Object.keys(w).length>0){n("Por favor, completa los campos correctamente","error");return}try{const z=o();console.log("   Usuario actual:",JSON.stringify(z,null,2));const B=JSON.parse(localStorage.getItem("damabella_users")||"[]"),D=B.findIndex(G=>G.email===z?.email);if(console.log("   Usuario encontrado en ndice:",D),console.log("   Buscando por email:",z?.email),D!==-1){const G={...B[D],password:v.newPassword};B[D]=G,localStorage.setItem("damabella_users",JSON.stringify(B)),localStorage.setItem("damabella_current_user",JSON.stringify(G)),console.log("   Contrasea actualizada exitosamente"),p(!1),b({currentPassword:"",newPassword:"",confirmPassword:""}),y({}),n("Contrasea actualizada correctamente","success")}else console.log("   Usuario no encontrado. Emails en BD:",B.map(G=>G.email)),n("Usuario no encontrado en la base de datos","error")}catch(z){console.error(" Error al cambiar contrasea:",z),n("Error al actualizar contrasea","error")}};return a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center text-gray-700 text-xl overflow-hidden",children:c.avatar?a.jsx("img",{src:c.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):(c.nombre||e?.nombre)?.[0]?.toUpperCase()||"U"}),a.jsx("button",{type:"button",onClick:O,className:"absolute bottom-0 right-0 bg-gray-700 text-white p-1.5 rounded-full hover:bg-gray-600 transition-colors",title:"Cambiar foto",children:a.jsx(w4,{size:14})}),a.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:L,className:"hidden"})]}),a.jsxs("div",{className:"text-white",children:[a.jsx("h2",{className:"text-white mb-1",children:"Editar Perfil"}),a.jsx("p",{className:"text-gray-200 text-sm",children:"Actualiza tu informacin personal"})]})]})}),a.jsxs("form",{onSubmit:I,className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[a.jsx(Qc,{size:14})," Nombre Completo"]}),a.jsx(Le,{type:"text",placeholder:"Ingresa tu nombre completo",value:c.nombre,onChange:z=>{const B=z.target.value.split("").filter(D=>/^[a-zA-Z0-9\s]$/.test(D)).join("");u({...c,nombre:B})},className:d.nombre?"border-red-500 focus:ring-red-500":""}),d.nombre&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",d.nombre]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[a.jsx(Hf,{size:14})," Correo Electrnico"]}),a.jsx(Le,{type:"email",placeholder:"correo@ejemplo.com",value:c.email,onChange:z=>u({...c,email:z.target.value}),className:d.email?"border-red-500 focus:ring-red-500":""}),d.email&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",d.email]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[a.jsx(By,{size:14})," Tipo de Documento"]}),a.jsxs("select",{value:c.tipoDoc,onChange:z=>u({...c,tipoDoc:z.target.value}),className:"w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:[a.jsx("option",{value:"CC",children:"Cdula de Ciudadana"}),a.jsx("option",{value:"CE",children:"Cdula de Extranjera"}),a.jsx("option",{value:"TI",children:"Tarjeta de Identidad"}),a.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[a.jsx(By,{size:14})," Nmero de Documento"]}),a.jsx(Le,{type:"text",placeholder:"1234567890",value:c.numeroDoc,onChange:z=>{const B=z.target.value.split("").filter(D=>/^\d$/.test(D)).join("");u({...c,numeroDoc:B})},className:d.numeroDoc?"border-red-500 focus:ring-red-500":""}),d.numeroDoc&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",d.numeroDoc]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[a.jsx(Gf,{size:14})," Celular"]}),a.jsx(Le,{type:"tel",placeholder:"3001234567",value:c.celular,onChange:z=>{const B=z.target.value.split("").filter(D=>/^\d$/.test(D)).join("");u({...c,celular:B})},className:d.celular?"border-red-500 focus:ring-red-500":""}),d.celular&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",d.celular]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-gray-700 mb-1.5 flex items-center gap-2 text-sm",children:[a.jsx(yb,{size:14})," Direccin"]}),a.jsx(Le,{type:"text",placeholder:"Calle 123 # 45-67",value:c.direccion,onChange:z=>{const B=z.target.value.split("").filter(D=>/^[a-zA-Z0-9\s#\-.,]$/.test(D)).join("");u({...c,direccion:B})},className:d.direccion?"border-red-500 focus:ring-red-500":""}),d.direccion&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",d.direccion]})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("h3",{className:"text-gray-900 mb-2 flex items-center gap-2 text-sm font-semibold",children:[a.jsx(gs,{size:16})," Seguridad"]}),a.jsxs(Te,{type:"button",variant:"secondary",onClick:()=>{console.log(" [SEGURIDAD] ABRIENDO MODAL DE CAMBIO DE CONTRASEA"),p(!0)},className:"flex items-center gap-2",size:"sm",children:[a.jsx(gs,{size:16})," Cambiar Contrasea"]})]}),a.jsxs("div",{className:"mt-4 flex gap-3 justify-end",children:[a.jsxs(Te,{type:"button",variant:"secondary",onClick:r,className:"flex items-center gap-2",children:[a.jsx(da,{size:16})," Cancelar"]}),a.jsxs(Te,{type:"submit",variant:"primary",className:"flex items-center gap-2",children:[a.jsx(ok,{size:16})," Guardar Cambios"]})]})]})]}),a.jsx(pt,{isOpen:h,onClose:()=>{console.log(" [MODAL CONTRASEA] CERRANDO MODAL DE CAMBIO DE CONTRASEA"),p(!1)},title:"Cambiar Contrasea",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Contrasea Actual (opcional si es la primera vez)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{type:x?"text":"password",value:v.currentPassword,onChange:z=>b({...v,currentPassword:z.target.value}),placeholder:"Ingresa tu contrasea actual",className:w.currentPassword?"border-red-500 focus:ring-red-500":""}),a.jsx("button",{type:"button",onClick:()=>N(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:x?a.jsx(jo,{size:20}):a.jsx(Ar,{size:20})})]}),w.currentPassword&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",w.currentPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nueva Contrasea *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{type:A?"text":"password",value:v.newPassword,onChange:z=>b({...v,newPassword:z.target.value}),placeholder:"Ingresa tu nueva contrasea",className:w.newPassword?"border-red-500 focus:ring-red-500":""}),a.jsx("button",{type:"button",onClick:()=>E(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:A?a.jsx(jo,{size:20}):a.jsx(Ar,{size:20})})]}),w.newPassword?a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",w.newPassword]}):a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Mnimo 6 caracteres"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Confirmar Nueva Contrasea *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{type:_?"text":"password",value:v.confirmPassword,onChange:z=>b({...v,confirmPassword:z.target.value}),placeholder:"Confirma tu nueva contrasea",className:w.confirmPassword?"border-red-500 focus:ring-red-500":""}),a.jsx("button",{type:"button",onClick:()=>P(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:_?a.jsx(jo,{size:20}):a.jsx(Ar,{size:20})})]}),w.confirmPassword&&a.jsxs("p",{className:"text-red-600 text-sm mt-1 flex items-center gap-1",children:[a.jsx(Mt,{size:14})," ",w.confirmPassword]}),!w.confirmPassword&&v.newPassword&&v.confirmPassword&&a.jsx("p",{className:"text-green-600 text-sm mt-1",children:" Las contraseas coinciden"})]}),a.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[a.jsx(Te,{onClick:()=>{p(!1),y({})},variant:"secondary",children:"Cancelar"}),a.jsxs(Te,{onClick:V,variant:"primary",disabled:Object.keys(w).length>0,className:Object.keys(w).length>0?"opacity-50 cursor-not-allowed":"",children:[a.jsx(gs,{size:18})," Cambiar Contrasea"]})]})]})})]})}function oZ(){const[e,t]=C.useState([{id:1,tipo:"venta",titulo:"Nueva venta realizada",mensaje:"Se ha registrado una venta por $250.000",fecha:"2025-11-19 10:30",leida:!1},{id:2,tipo:"inventario",titulo:"Stock bajo",mensaje:'El producto "Vestido Largo Rojo" tiene solo 3 unidades disponibles',fecha:"2025-11-19 09:15",leida:!1},{id:3,tipo:"pedido",titulo:"Nuevo pedido",mensaje:"Pedido #1234 recibido de Mara Garca",fecha:"2025-11-19 08:45",leida:!0},{id:4,tipo:"usuario",titulo:"Nuevo usuario registrado",mensaje:"Ana Lpez se ha registrado en el sistema",fecha:"2025-11-18 16:20",leida:!0},{id:5,tipo:"inventario",titulo:"Reposicin necesaria",mensaje:'El producto "Set Elegante" est agotado',fecha:"2025-11-18 14:30",leida:!0}]),r=u=>{console.log(" [marcarComoLeida] MARCANDO NOTIFICACIN COMO LEDA"),console.log("   Notificacin ID:",u),t(d=>{const m=d.map(h=>h.id===u?{...h,leida:!0}:h);return console.log("   Estado actualizado. Notificaciones ahora:",JSON.stringify(m,null,2)),m})},n=()=>{console.log(" [marcarTodasLeidas] MARCANDO TODAS LAS NOTIFICACIONES COMO LEDAS"),t(u=>{const d=u.map(m=>({...m,leida:!0}));return console.log("   Todas marcadas. Total de notificaciones:",d.length),d})},o=u=>{console.log(" [eliminarNotificacion] ELIMINANDO NOTIFICACIN"),console.log("   Notificacin ID a eliminar:",u),t(d=>{const m=d.filter(h=>h.id!==u);return console.log("   Notificacin eliminada. Quedan:",m.length,"notificaciones"),m})},s=u=>{switch(u){case"venta":return a.jsx(vb,{className:"text-green-600",size:20});case"inventario":return a.jsx(Kf,{className:"text-orange-600",size:20});case"pedido":return a.jsx(an,{className:"text-blue-600",size:20});case"usuario":return a.jsx(Qc,{className:"text-purple-600",size:20});default:return a.jsx(oc,{className:"text-gray-600",size:20})}},c=e.filter(u=>!u.leida).length;return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center",children:a.jsx(oc,{className:"text-gray-700",size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-gray-900",children:"Notificaciones"}),a.jsx("p",{className:"text-gray-600",children:c>0?`${c} notificaciones sin leer`:"No hay notificaciones nuevas"})]})]}),c>0&&a.jsxs(Te,{onClick:n,variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(cN,{size:18}),"Marcar todas como ledas"]})]})}),a.jsx("div",{className:"divide-y divide-gray-200",children:e.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(oc,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"No tienes notificaciones"})]}):e.map(u=>a.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${u.leida?"":"bg-blue-50/30"}`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${u.leida?"bg-gray-100":"bg-white"}`,children:s(u.tipo)}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{className:`${u.leida?"text-gray-700":"text-gray-900"}`,children:u.titulo}),!u.leida&&a.jsx("span",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),a.jsx("p",{className:"text-gray-600 mb-2",children:u.mensaje}),a.jsx("p",{className:"text-gray-400",children:u.fecha})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!u.leida&&a.jsx("button",{onClick:()=>r(u.id),className:"p-2 hover:bg-white rounded-lg transition-colors text-gray-600 hover:text-gray-900",title:"Marcar como leda",children:a.jsx(cN,{size:18})}),a.jsx("button",{onClick:()=>o(u.id),className:"p-2 hover:bg-white rounded-lg transition-colors text-gray-600 hover:text-red-600",title:"Eliminar",children:a.jsx(Ao,{size:18})})]})]})})]})},u.id))})]})})}function iZ({currentUser:e,onLogout:t}){const[r,n]=C.useState(!0),[o,s]=C.useState("dashboard"),[c,u]=C.useState(["dashboard"]),[d,m]=C.useState(!1),[h,p]=C.useState(!1),[v,b]=C.useState(e),[w,y]=C.useState(""),[x,N]=C.useState(!1),E=(()=>{const D=JSON.parse(localStorage.getItem("damabella_roles")||"[]").find(G=>G.id===v.roleId||G.nombre===v.role||G.name===v.role);if(D&&(D.permissions||D.permisos)&&Array.isArray(D.permissions||D.permisos)){const G=D.permissions||D.permisos,te={};return G.forEach(R=>{const Y=(R.module||R.modulo||"").toLowerCase();te[Y]={ver:R.canView??R.ver??!1,crear:R.canCreate??R.crear??!1,editar:R.canEdit??R.editar??!1,eliminar:R.canDelete??R.eliminar??!1}}),console.log(` [getUserPermissions] Permisos dinmicos encontrados para ${v.role}:`,te),te}return!D||!D.permissions&&!D.permisos?(console.log(` [getUserPermissions] No se encontraron permisos dinmicos para ${v.role}, usando fallback`),v.role==="Administrador"?{dashboard:{ver:!0},roles:{ver:!0,crear:!0,editar:!0,eliminar:!0},permisos:{ver:!0,crear:!0,editar:!0,eliminar:!0},usuarios:{ver:!0,crear:!0,editar:!0,eliminar:!0},categoras:{ver:!0,crear:!0,editar:!0,eliminar:!0},productos:{ver:!0,crear:!0,editar:!0,eliminar:!0},proveedores:{ver:!0,crear:!0,editar:!0,eliminar:!0},compras:{ver:!0,crear:!0,editar:!0,eliminar:!0},clientes:{ver:!0,crear:!0,editar:!0,eliminar:!0},pedidos:{ver:!0,crear:!0,editar:!0,eliminar:!0},ventas:{ver:!0,crear:!0,editar:!0,eliminar:!0},devoluciones:{ver:!0,crear:!0,editar:!0,eliminar:!0}}:v.role==="Empleado"?{dashboard:{ver:!0},productos:{ver:!0,crear:!1,editar:!1,eliminar:!1},clientes:{ver:!0,crear:!0,editar:!0,eliminar:!1},pedidos:{ver:!0,crear:!0,editar:!0,eliminar:!1},ventas:{ver:!0,crear:!0,editar:!1,eliminar:!1},devoluciones:{ver:!0,crear:!0,editar:!1,eliminar:!1}}:{}):D.permisos})(),_=B=>B.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),P=(B,D="ver")=>{const G=_(B);let te=!1;for(const[R,Y]of Object.entries(E))if(_(R)===G){te=Y?.[D]===!0;break}return console.log(` [hasPermission] Mdulo: "${B}" (${G}), Accin: ${D}, Acceso: ${te}`),te},k=B=>{u(D=>D.includes(B)?D.filter(G=>G!==B):[...D,B])},O=B=>{b(B),localStorage.setItem("damabella_current_user",JSON.stringify(B)),s("dashboard")},L=B=>{y(B.target.value),N(B.target.value.length>0)},M=[{id:"dashboard",label:"Dashboard",categoria:"General"},{id:"roles",label:"Gestin de Roles",categoria:"Configuracin"},{id:"permisos",label:"Gestin de Permisos",categoria:"Configuracin"},{id:"usuarios",label:"Gestin de Usuarios",categoria:"Usuarios"},{id:"categorias",label:"Categoras de Productos",categoria:"Compras"},{id:"productos",label:"Productos",categoria:"Compras"},{id:"proveedores",label:"Proveedores",categoria:"Compras"},{id:"compras",label:"Compras",categoria:"Compras"},{id:"clientes",label:"Clientes",categoria:"Ventas"},{id:"pedidos",label:"Pedidos",categoria:"Ventas"},{id:"ventas",label:"Ventas",categoria:"Ventas"},{id:"devoluciones",label:"Devoluciones",categoria:"Ventas"}].filter(B=>B.label.toLowerCase().includes(w.toLowerCase())||B.categoria.toLowerCase().includes(w.toLowerCase())),I=[{id:"dashboard",label:"Dashboard",icon:r3,page:"dashboard",modulo:"dashboard"},{id:"configuracion",label:"Configuracin",icon:I3,submenu:[{id:"roles",label:"Gestin de Roles y Permisos",icon:Oo,modulo:"roles"}]},{id:"usuarios",label:"Usuarios",icon:Ns,submenu:[{id:"usuarios",label:"Gestin de Usuarios",icon:Q3,modulo:"usuarios"}]},{id:"compras",label:"Compras",icon:Zc,submenu:[{id:"categorias",label:"Categoras de Productos",icon:an,modulo:"categorias"},{id:"productos",label:"Productos",icon:xb,modulo:"productos"},{id:"proveedores",label:"Proveedores",icon:Vy,modulo:"proveedores"},{id:"compras",label:"Compras",icon:ic,modulo:"compras"}]},{id:"ventas",label:"Ventas",icon:lk,submenu:[{id:"clientes",label:"Clientes",icon:Ns,modulo:"clientes"},{id:"pedidos",label:"Pedidos",icon:By,modulo:"pedidos"},{id:"ventas",label:"Ventas",icon:vb,modulo:"ventas"},{id:"devoluciones",label:"Devoluciones",icon:ws,modulo:"devoluciones"}]}],V=v.role==="Administrador"?I:I.map(B=>B.page?P(B.modulo||B.id)?B:null:{...B,submenu:B.submenu?.filter(D=>P(D.modulo||D.id))}).filter(B=>B&&(B.page||B.submenu&&B.submenu.length>0)),z=()=>{switch(o){case"dashboard":return a.jsx(uA,{});case"roles":return a.jsx(JK,{});case"permisos":return a.jsx(YK,{});case"usuarios":return a.jsx(ZK,{});case"categorias":return a.jsx(DY,{});case"productos":return a.jsx($Y,{});case"proveedores":return a.jsx(MY,{});case"compras":return a.jsx(LY,{});case"clientes":return a.jsx(BY,{});case"pedidos":return a.jsx(QY,{});case"ventas":return a.jsx(rZ,{});case"devoluciones":return a.jsx(nZ,{});case"perfil":return a.jsx(aZ,{currentUser:v,onSave:O,onCancel:()=>s("dashboard")});case"configuracion-general":return a.jsx(XK,{});case"notificaciones":return a.jsx(oZ,{});default:return a.jsx(uA,{})}};return a.jsx(KK,{children:a.jsx(TT,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b border-gray-200 fixed top-0 left-0 right-0 z-40",children:a.jsxs("div",{className:"flex items-center justify-between px-4 h-16",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>n(!r),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r?a.jsx(da,{size:20}):a.jsx(u3,{size:20})}),a.jsx("h1",{className:"text-zinc-900",children:"DAMABELLA"})]}),a.jsxs("div",{className:"flex-1 max-w-2xl mx-8 hidden md:block relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Buscar productos, clientes, pedidos...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent",value:w,onChange:L,onBlur:()=>setTimeout(()=>N(!1),200)})]}),x&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-y-auto",children:M.length>0?M.map(B=>a.jsxs("button",{onClick:()=>{s(B.id),y(""),N(!1)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center justify-between transition-colors",children:[a.jsx("span",{className:"text-gray-900",children:B.label}),a.jsx("span",{className:"text-gray-500 text-sm",children:B.categoria})]},B.id)):a.jsx("div",{className:"px-4 py-3 text-gray-500",children:"No se encontraron resultados"})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>s("notificaciones"),className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx(oc,{size:20}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-700 to-gray-900 rounded-full flex items-center justify-center text-white overflow-hidden",children:v?.avatar?a.jsx("img",{src:v.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):v?.name?.[0]||"A"}),a.jsxs("div",{className:"hidden md:block text-left",children:[a.jsx("div",{className:"text-gray-900",children:v?.name}),a.jsx("div",{className:"text-gray-500",children:v?.role})]}),a.jsx(uN,{size:16})]}),d&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>m(!1)}),a.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[a.jsx("div",{className:"text-gray-900",children:v?.name}),a.jsx("div",{className:"text-gray-500",children:v?.email})]}),a.jsxs("button",{onClick:()=>{s("perfil"),m(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3",children:[a.jsx(Qc,{size:16}),"Mi Perfil"]}),a.jsx("hr",{className:"my-2"}),a.jsxs("button",{onClick:()=>{m(!1),p(!0)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-red-600",children:[a.jsx(nk,{size:16}),"Cerrar Sesin"]})]})]})]})]})]})}),a.jsx("aside",{className:`fixed top-16 left-0 bottom-0 bg-white border-r border-gray-200 transition-all duration-300 z-30 ${r?"w-64":"w-0"} overflow-hidden`,children:a.jsx("nav",{className:"p-4 h-full overflow-y-auto",children:V.map(B=>{if(!B)return null;const D=B.page??"",G=B.submenu??[];return a.jsxs("div",{className:"mb-2",children:[B.page?a.jsx("button",{onClick:()=>s(D),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors text-gray-700 hover:text-gray-900",children:a.jsxs("div",{className:"flex items-center gap-3",children:[B.icon&&a.jsx(B.icon,{size:20}),a.jsx("span",{children:B.label})]})}):a.jsxs("button",{onClick:()=>k(B.id),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors text-gray-700 hover:text-gray-900",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[B.icon&&a.jsx(B.icon,{size:20}),a.jsx("span",{children:B.label})]}),a.jsx(uN,{size:16,className:`transition-transform ${c.includes(B.id)?"rotate-180":""}`})]}),c.includes(B.id)&&G.length>0&&a.jsx("div",{className:"ml-4 mt-1 space-y-1",children:G.map(te=>a.jsxs("button",{onClick:()=>s(te.id),className:`w-full flex items-center gap-3 p-2 pl-8 rounded-lg transition-colors ${o===te.id?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[te.icon&&a.jsx(te.icon,{size:18}),a.jsx("span",{children:te.label})]},te.id))})]},B.id)})})}),a.jsx("main",{className:`pt-16 transition-all duration-300 ${r?"ml-64":"ml-0"}`,children:a.jsx("div",{className:"p-6",children:z()})}),a.jsx(pt,{isOpen:h,onClose:()=>p(!1),title:"Cerrar Sesin",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-600",children:"Ests seguro que deseas cerrar sesin?"}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cerrar Sesin"})]})]})})]})})})}function ko({onNavigate:e,isAuthenticated:t,currentUser:r}){const{cart:n,favorites:o,categories:s}=Ro(),c=n.reduce((d,m)=>d+m.quantity,0),u=o.length;return a.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e("home"),className:"text-3xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent hover:from-pink-500 hover:to-purple-500 transition-all",children:"DAMABELLA"}),a.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[a.jsx("button",{onClick:()=>e("search"),className:"text-gray-700 hover:text-pink-400 transition-colors",children:"Productos"}),s.map(d=>a.jsx("button",{onClick:()=>e("search",d.name),className:"text-gray-700 hover:text-pink-400 transition-colors",children:d.name},d.id))]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>e("search"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Buscar",children:a.jsx(Dn,{size:22,className:"text-gray-700"})}),a.jsxs("button",{onClick:()=>e("favorites"),className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Favoritos",children:[a.jsx(Po,{size:22,className:"text-gray-700"}),u>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-pink-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u})]}),a.jsxs("button",{onClick:()=>e("cart"),className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Carrito",children:[a.jsx(Zc,{size:22,className:"text-gray-700"}),c>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-pink-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c})]}),a.jsx("button",{onClick:()=>e("profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Perfil",children:t&&r?a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center text-white text-sm font-bold",children:r?.name?.charAt(0)?.toUpperCase()||"U"}):a.jsx(Qc,{size:22,className:"text-gray-700"})})]})]})})})}function Pi({onNavigate:e}){return a.jsx("footer",{className:"bg-gray-900 text-white py-16 mt-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-4",children:"DAMABELLA"}),a.jsx("p",{className:"text-gray-400",children:"Elegancia y sofisticacin en cada prenda."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg mb-4",children:"Comprar"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>e("search","Vestidos Largos"),className:"hover:text-white transition-colors",children:"Vestidos Largos"})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>e("search","Vestidos Cortos"),className:"hover:text-white transition-colors",children:"Vestidos Cortos"})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>e("search","Sets"),className:"hover:text-white transition-colors",children:"Sets"})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>e("search","Enterizos"),className:"hover:text-white transition-colors",children:"Enterizos"})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>e("search"),className:"hover:text-white transition-colors",children:"Todos los Productos"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg mb-4",children:"Ayuda"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("button",{onClick:()=>e("contact"),className:"hover:text-white transition-colors",children:"Contacto"})}),a.jsx("li",{children:a.jsx("button",{onClick:()=>e("orders"),className:"hover:text-white transition-colors",children:"Mis Pedidos"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Envos"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Devoluciones"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg mb-4",children:"Sguenos"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors",children:a.jsx(rk,{size:20})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors",children:a.jsx(tk,{size:20})}),a.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-white/20 transition-colors",children:a.jsx(ck,{size:20})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:a.jsxs("p",{children:[" ",new Date().getFullYear()," DAMABELLA. Todos los derechos reservados."]})})]})})}const sZ="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function lZ(e){const[t,r]=C.useState(!1),n=()=>{r(!0)},{src:o,alt:s,style:c,className:u,...d}=e;return t?a.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${u??""}`,style:c,children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:a.jsx("img",{src:sZ,alt:"Error loading image",...d,"data-original-url":o})})}):a.jsx("img",{src:o,alt:s,className:u,style:c,...d,onError:n})}function Ql({onNavigate:e,onLoginRequired:t,isAuthenticated:r,currentUser:n}){const{products:o,categoriesForHome:s,favorites:c,toggleFavorite:u,addToCart:d,getProductStock:m}=Ro(),[h,p]=C.useState(""),v=o.slice(0,8),b=y=>{y.preventDefault(),alert("Gracias por suscribirte! Pronto recibirs nuestras novedades."),p("")},w=y=>{if(!y){alert("Producto no vlido");return}if(!y.id){console.error("Producto sin ID:",y),alert("Error: Producto sin identificador");return}if(!y.variants||y.variants.length===0){alert("Este producto no tiene variantes disponibles");return}const x=y.variants[0];if(!x?.color){alert("Variante sin color");return}if(!x?.sizes||x.sizes.length===0){alert("Este producto no tiene tallas disponibles");return}const N=x.sizes.find(E=>E&&E.stock>0);if(!N||!N.size){alert("Este producto no tiene stock disponible");return}if(m(y.id,x.color,N.size)===0){alert(" Este producto no tiene stock disponible");return}try{d({productId:y.id,productName:y.name||"Producto sin nombre",price:y.price||0,image:y.image||"",color:x.color,colorHex:x.colorHex||"#000000",size:N.size,quantity:1})||console.warn("[PremiumHomePage] addToCart retorn false para:",y.name)}catch(E){console.error("[PremiumHomePage] Error al agregar al carrito:",E)}};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(ko,{onNavigate:e,isAuthenticated:r,currentUser:n}),a.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-100 via-purple-50 to-pink-50"}),a.jsx("div",{className:"absolute inset-0 opacity-40",children:a.jsx(lZ,{src:"https://images.unsplash.com/photo-1720005398225-4ea01c9d2b8f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxlbGVnYW50JTIwZmFzaGlvbiUyMHdvbWFuJTIwZHJlc3N8ZW58MXx8fHwxNzYzOTE0ODA3fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Fashion",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 text-center",children:[a.jsx("h1",{className:"text-7xl lg:text-8xl mb-6 text-gray-900 tracking-tight",children:"DAMABELLA"}),a.jsx("p",{className:"text-2xl lg:text-3xl mb-4 text-gray-700 max-w-3xl mx-auto",children:"Elegancia Redefinida"}),a.jsx("p",{className:"text-lg text-gray-600 mb-12 max-w-2xl mx-auto",children:"Descubre nuestra coleccin exclusiva de moda femenina. Diseos nicos que resaltan tu belleza natural."}),a.jsx("div",{className:"flex gap-4 justify-center",children:a.jsxs("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg flex items-center gap-2",children:["Explorar Coleccin",a.jsx(ls,{size:20})]})})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce",children:a.jsx("div",{className:"w-6 h-10 border-2 border-gray-400 rounded-full flex items-start justify-center p-2",children:a.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"})})})]}),s.length>0&&a.jsx("section",{className:"py-20 bg-gradient-to-br from-pink-50 to-purple-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-5xl text-gray-900 mb-4",children:"Explora Nuestras Categoras"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Encuentra el estilo perfecto para cada ocasin"})]}),a.jsx("div",{className:`grid ${s.length===1?"grid-cols-1":s.length===2?"grid-cols-1 md:grid-cols-2":s.length===3?"grid-cols-1 md:grid-cols-3":"grid-cols-1 md:grid-cols-2"} gap-8`,children:s.map((y,x)=>{const N=["https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=800","https://images.unsplash.com/photo-1612336307429-8a898d10e223?w=800","https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=800","https://images.unsplash.com/photo-1585487000160-6ebcfceb0d03?w=800"],A=["Elegancia para cada ocasin","Frescura y versatilidad","Conjuntos perfectamente coordinados","Sofisticacin en una sola pieza"];return a.jsxs("div",{className:"relative overflow-hidden rounded-3xl h-[400px] group cursor-pointer",onClick:()=>e("search",y.name),children:[a.jsx("img",{src:N[x%N.length],alt:y.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),a.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[a.jsx("h3",{className:"text-4xl mb-2",children:y.name}),a.jsx("p",{className:"text-lg mb-4",children:A[x%A.length]}),a.jsxs("button",{className:"inline-flex items-center gap-2 text-white hover:gap-3 transition-all",children:["Explorar",a.jsx(y4,{size:20})]})]})]},y.id)})})]})}),v.length>0?a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-5xl text-gray-900 mb-4",children:"Nuevos Ingresos"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Lo ltimo en moda femenina"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:v.map(y=>a.jsxs("div",{className:"group cursor-pointer",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl mb-4 aspect-[3/4] bg-gray-100",children:[a.jsx("span",{className:"absolute top-4 left-4 bg-pink-400 text-white text-sm px-4 py-1.5 rounded-full z-10",children:"NUEVO"}),a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 cursor-pointer",onClick:()=>e("detail",y.id)}),a.jsx("button",{onClick:()=>u(y.id),className:"absolute top-4 right-4 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center hover:bg-white transition-colors",children:a.jsx(Po,{size:20,className:c.includes(y.id)?"fill-pink-400 text-pink-400":"text-gray-600"})})]}),a.jsx("h3",{className:"text-lg text-gray-900 mb-2 line-clamp-2",onClick:()=>e("detail",y.id),children:y.name}),a.jsxs("p",{className:"text-2xl text-gray-900 mb-4",children:["$",y.price.toLocaleString()]}),a.jsx("button",{onClick:()=>w(y),className:"w-full bg-gray-900 text-white py-3 rounded-full hover:bg-gray-800 transition-colors",children:"Agregar al Carrito"})]},y.id))})]})}):a.jsx("section",{className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[a.jsx("p",{className:"text-2xl text-gray-400 mb-4",children:"No hay productos disponibles en este momento"}),a.jsx("p",{className:"text-lg text-gray-500 mb-8",children:"Verifica nuevamente en unos momentos para ver nuestros nuevos ingresos"}),a.jsx("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-3 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all",children:"Explorar Coleccin"})]})}),a.jsx("section",{className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsx("div",{className:"text-center mb-16",children:a.jsx("h2",{className:"text-5xl text-gray-900 mb-4",children:"Lo Que Dicen Nuestras Clientas"})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Mara Gonzlez",review:"La calidad de las prendas es excepcional. Me encanta cada pieza que he comprado.",rating:5},{name:"Laura Rodrguez",review:"Excelente atencin al cliente y los diseos son hermosos. Totalmente recomendado.",rating:5},{name:"Ana Martnez",review:"Las mejores prendas de moda femenina. Siempre encuentro algo perfecto para cada ocasin.",rating:5}].map((y,x)=>a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm",children:[a.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(y.rating)].map((N,A)=>a.jsx(sk,{size:20,className:"fill-pink-400 text-pink-400"},A))}),a.jsxs("p",{className:"text-gray-700 mb-6 text-lg",children:['"',y.review,'"']}),a.jsx("p",{className:"text-gray-900",children:y.name})]},x))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-pink-400 to-purple-400",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[a.jsx("h2",{className:"text-5xl text-white mb-4",children:"nete a Nuestra Comunidad"}),a.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Suscrbete y recibe descuentos exclusivos y las ltimas novedades"}),a.jsxs("form",{onSubmit:b,className:"flex gap-4 max-w-md mx-auto",children:[a.jsx("input",{type:"email",value:h,onChange:y=>p(y.target.value),placeholder:"Tu correo electrnico",required:!0,className:"flex-1 px-6 py-4 rounded-full focus:outline-none focus:ring-2 focus:ring-white"}),a.jsx("button",{type:"submit",className:"bg-gray-900 text-white px-8 py-4 rounded-full hover:bg-gray-800 transition-colors whitespace-nowrap",children:"Suscribirse"})]})]})}),a.jsx(Pi,{onNavigate:e})]})}function cZ({onNavigate:e,initialCategory:t,isAuthenticated:r=!1,currentUser:n=null}){const{products:o,favorites:s,toggleFavorite:c,addToCart:u,getProductStock:d}=Ro(),{showToast:m}=$o(),[h,p]=C.useState(""),[v,b]=C.useState(t||"Todas"),[w,y]=C.useState([]),[x,N]=C.useState([]),[A,E]=C.useState({min:0,max:3e5}),[_,P]=C.useState("popular"),[k,O]=C.useState(!1),[L,T]=C.useState(["Todas"]),M=C.useRef("");C.useEffect(()=>{const U=()=>{const W=localStorage.getItem("damabella_categorias");if(W!==M.current)if(M.current=W||"",console.log("[SearchPage] Leyendo categoras desde localStorage...",W?JSON.parse(W).length+" categoras":"ninguna"),W)try{const ie=["Todas",...JSON.parse(W).map(K=>K.name)];T(ie),console.log("[SearchPage]  Categoras actualizadas:",ie.join(", "))}catch(ce){console.error("[SearchPage] Error cargando categoras:",ce),T(["Todas"])}else console.log("[SearchPage]  No hay categoras en localStorage"),T(["Todas"])};U();const F=setInterval(U,500);return()=>clearInterval(F)},[]),C.useEffect(()=>{t&&b(t)},[t]);const I=C.useMemo(()=>{const U=new Set;return o.forEach(F=>F.variants.forEach(W=>U.add(W.color))),Array.from(U)},[o]),V=["S","M","L","XL"],z=C.useMemo(()=>{let U=o;switch(h&&(U=U.filter(F=>F.name.toLowerCase().includes(h.toLowerCase())||F.category.toLowerCase().includes(h.toLowerCase()))),v!=="Todas"&&(U=U.filter(F=>F.category===v)),w.length>0&&(U=U.filter(F=>F.variants.some(W=>w.includes(W.color)))),x.length>0&&(U=U.filter(F=>F.variants.some(W=>W.sizes.some(ce=>x.includes(ce.size)&&ce.stock>0)))),U=U.filter(F=>F.price>=A.min&&F.price<=A.max),_){case"price-asc":U.sort((F,W)=>F.price-W.price);break;case"price-desc":U.sort((F,W)=>W.price-F.price);break;case"new":U.sort((F,W)=>(W.new?1:0)-(F.new?1:0));break;default:U.sort((F,W)=>W.rating-F.rating)}return U},[o,h,v,w,x,A,_]),B=U=>{y(F=>F.includes(U)?F.filter(W=>W!==U):[...F,U])},D=U=>{N(F=>F.includes(U)?F.filter(W=>W!==U):[...F,U])},G=()=>{b("Todas"),y([]),N([]),E({min:0,max:3e5}),P("popular")},te=U=>{if(!U){m("Producto no vlido","error");return}if(!U.id){m("Error: Producto sin identificador","error");return}if(!U.variants||U.variants.length===0){m("Este producto no tiene variantes disponibles","error");return}const F=U.variants[0];if(!F||!F.color){m("Error: Variante sin datos","error");return}if(!F.sizes||F.sizes.length===0){m("Este producto no tiene tallas disponibles","error");return}const W=F.sizes.find(ie=>ie&&ie.stock>0);if(!W||!W.size){m(" Este producto no tiene stock disponible","error");return}if(d(U.id,F.color,W.size)===0){m(" Este producto no tiene stock disponible","error");return}try{u({productId:U.id,productName:U.name||"Producto sin nombre",price:U.price||0,image:U.image||"",color:F.color,colorHex:F.colorHex||"#000000",size:W.size,quantity:1})||console.warn("[SearchPage] addToCart retorn false para:",U.name)}catch(ie){console.error("[SearchPage] Error al agregar al carrito:",ie),m("Error al agregar al carrito. Intenta de nuevo.","error")}},R=U=>{c(U),s.includes(U)?m(" Removido de favoritos","info"):m(" Agregado a favoritos","success")},Y=(v!=="Todas"?1:0)+w.length+x.length+(A.min>0||A.max<3e5?1:0);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ko,{onNavigate:e,isAuthenticated:r,currentUser:n}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl text-gray-900 mb-2",children:v!=="Todas"?v:"Todos los Productos"}),a.jsxs("p",{className:"text-gray-600",children:[z.length," producto",z.length!==1?"s":""," encontrado",z.length!==1?"s":""]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Buscar productos...",value:h,onChange:U=>p(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400"})}),a.jsx("div",{className:"w-full md:w-48",children:a.jsxs("select",{value:_,onChange:U=>P(U.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",children:[a.jsx("option",{value:"popular",children:"Ms Popular"}),a.jsx("option",{value:"new",children:"Ms Nuevo"}),a.jsx("option",{value:"price-asc",children:"Menor Precio"}),a.jsx("option",{value:"price-desc",children:"Mayor Precio"})]})}),a.jsxs("button",{onClick:()=>O(!k),className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[a.jsx(R3,{size:20}),"Filtros",Y>0&&a.jsx("span",{className:"bg-pink-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:Y})]})]})}),k&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl text-gray-900",children:"Filtros"}),a.jsx("button",{onClick:G,className:"text-sm text-pink-400 hover:text-pink-500 transition-colors",children:"Limpiar todo"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Categora"}),a.jsx("div",{className:"space-y-2",children:L.map(U=>a.jsx("button",{onClick:()=>b(U),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${v===U?"bg-pink-50 text-pink-400":"hover:bg-gray-50 text-gray-600"}`,children:U},U))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Colores"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(U=>{const F=o.find(W=>W.variants.some(ce=>ce.color===U))?.variants.find(W=>W.color===U);return a.jsx("button",{onClick:()=>B(U),className:`w-10 h-10 rounded-full border-2 transition-all ${w.includes(U)?"border-pink-400 ring-2 ring-pink-200":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:F?.colorHex},title:U},U)})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Tallas"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(U=>a.jsx("button",{onClick:()=>D(U),className:`px-4 py-2 rounded-lg border-2 transition-all ${x.includes(U)?"bg-pink-50 border-pink-400 text-pink-400":"border-gray-300 text-gray-600 hover:border-gray-400"}`,children:U},U))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Rango de Precio"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"range",min:"0",max:"300000",step:"10000",value:A.max,onChange:U=>E({...A,max:parseInt(U.target.value)}),className:"w-full accent-pink-400"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Hasta: $",A.max.toLocaleString()]})]})]})]})]}),z.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:z.map(U=>a.jsxs("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all hover:-translate-y-1",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-gray-100 overflow-hidden",children:[a.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover cursor-pointer group-hover:scale-110 transition-transform duration-700",onClick:()=>e("detail",U.id)}),U.new&&a.jsx("span",{className:"absolute top-3 left-3 bg-pink-400 text-white text-xs font-bold px-3 py-1 rounded-full",children:"NUEVO"}),a.jsx("button",{onClick:()=>R(U.id),className:"absolute top-3 right-3 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center hover:bg-white transition-colors shadow-md",children:a.jsx(Po,{size:20,className:s.includes(U.id)?"fill-pink-400 text-pink-400":"text-gray-600"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-gray-900 mb-2 line-clamp-2 cursor-pointer hover:text-pink-400 transition-colors min-h-[3rem]",onClick:()=>e("detail",U.id),children:U.name}),a.jsxs("p",{className:"text-2xl text-gray-900 mb-3",children:["$",U.price.toLocaleString()]}),a.jsx("div",{className:"flex gap-1 mb-3",children:Array.from(new Set(U.variants.map(F=>F.colorHex))).slice(0,4).map((F,W)=>a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:F}},W))}),a.jsx("button",{onClick:()=>te(U),className:"w-full bg-gray-900 text-white py-3 rounded-full hover:bg-gray-800 transition-colors",children:"Agregar"})]})]},U.id))}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx("p",{className:"text-2xl text-gray-400 mb-4",children:"No se encontraron productos"}),a.jsx("button",{onClick:G,className:"text-pink-400 hover:text-pink-500 transition-colors",children:"Limpiar filtros"})]})]}),a.jsx(Pi,{onNavigate:e})]})}function uZ({productId:e,onNavigate:t,isAuthenticated:r=!1,currentUser:n=null}){const{products:o,favorites:s,toggleFavorite:c,addToCart:u,addToRecentlyViewed:d,getProductStock:m}=Ro(),{showToast:h}=$o(),[p,v]=C.useState(""),[b,w]=C.useState(""),[y,x]=C.useState(1),[N,A]=C.useState(0),[E,_]=C.useState(0),[P,k]=C.useState(0),O=o.find(D=>D.id===e);if(C.useEffect(()=>{if(O&&p&&b){const D=localStorage.getItem("damabella_productos");if(D){const te=JSON.parse(D).find(R=>R.id.toString()===O.id);if(te){const R=te.variantes?.find(Y=>Y.talla===b);if(R){const Y=R.colores?.find(U=>U.color===p);if(Y){A(Y.cantidad||0);return}}}}A(0)}},[O,p,b]),C.useEffect(()=>{if(O&&(d(O.id),O.variants.length>0)){v(O.variants[0].color);const D=O.variants[0].sizes.find(G=>G.stock>0);D&&w(D.size)}},[O]),!O)return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ko,{onNavigate:t,isAuthenticated:r,currentUser:n}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-20 text-center",children:[a.jsx("p",{className:"text-2xl text-gray-400",children:"Producto no encontrado"}),a.jsx("button",{onClick:()=>t("search"),className:"mt-6 text-pink-400 hover:text-pink-500 transition-colors",children:"Ver todos los productos"})]})]});const L=O.variants.find(D=>D.color===p),T=Array.from(new Set(O.variants.flatMap(D=>D.sizes.map(G=>G.size)))).sort();L?.sizes.filter(D=>D.stock>0);const M=L?.sizes.find(D=>D.size===b)?.stock||0,I=s.includes(O.id),V=()=>{if(!p||!b){h("Selecciona color y talla","error");return}if(!O||!O.id){h("Producto no vlido","error");return}if(!L){h("Variante no encontrada","error");return}const D=m(O.id,p,b);if(D===0){h(" Este producto no tiene stock disponible","error");return}if(y>D){h(` Solo disponibles ${D} unidades de este producto`,"error");return}try{u({productId:O.id,productName:O.name||"Producto sin nombre",price:O.price||0,image:O.image||"",color:p,colorHex:L?.colorHex||"#000000",size:b,quantity:y})||console.warn("[ProductDetailPage] addToCart retorn false para:",O.name)}catch(G){console.error("[ProductDetailPage] Error al agregar al carrito:",G),h("Error al agregar al carrito. Intenta de nuevo.","error")}},z=()=>{c(O.id),I?h(" Removido de favoritos","info"):h(" Agregado a favoritos","success")},B=o.filter(D=>D.category===O.category&&D.id!==O.id).slice(0,4);return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ko,{onNavigate:t,isAuthenticated:r,currentUser:n}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-8",children:[a.jsx("button",{onClick:()=>t("home"),className:"hover:text-pink-400 transition-colors",children:"Inicio"}),a.jsx("span",{children:"/"}),a.jsx("button",{onClick:()=>t("search"),className:"hover:text-pink-400 transition-colors",children:"Productos"}),a.jsx("span",{children:"/"}),a.jsx("button",{onClick:()=>t("search",O.category),className:"hover:text-pink-400 transition-colors",children:O.category}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-gray-900",children:O.name})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20",children:[a.jsx("div",{children:a.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm mb-4 aspect-[3/4]",children:a.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover"})})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-4xl text-gray-900 mb-4",children:O.name}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs("p",{className:"text-4xl text-gray-900",children:["$",O.price.toLocaleString()]}),a.jsx("button",{onClick:z,className:"p-3 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Po,{size:28,className:I?"fill-pink-400 text-pink-400":"text-gray-600"})})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((D,G)=>a.jsx("button",{onClick:()=>{k(G+1),h(` Calificacin de ${G+1} estrella${G+1!==1?"s":""} registrada`,"success")},className:"cursor-pointer hover:scale-110 transition-transform",title:`Calificar con ${G+1} estrella${G+1!==1?"s":""}`,children:a.jsx(sk,{size:18,className:G<Math.max(P,O.rating)?G<P?"fill-orange-400 text-orange-400":"fill-yellow-400 text-yellow-400":"text-gray-300"})},G))}),a.jsxs("span",{className:"text-gray-600",children:["(",Math.max(P,O.rating),".0)"]})]})]}),a.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:a.jsx("p",{className:"text-gray-700 leading-relaxed",children:O.description})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg text-gray-900 mb-3",children:["Color: ",a.jsx("span",{className:"font-normal text-gray-600",children:p})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:Array.from(new Map(O.variants.map(D=>[D.color,D])).values()).map(D=>a.jsx("button",{onClick:()=>v(D.color),className:`w-12 h-12 rounded-full border-2 transition-all ${p===D.color?"border-pink-400 ring-2 ring-pink-200 scale-110":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:D.colorHex},title:D.color},D.color))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg text-gray-900 mb-3",children:["Talla: ",a.jsx("span",{className:"font-normal text-gray-600",children:b||"Seleccionar"})]}),a.jsx("div",{className:"flex flex-wrap gap-3",children:T.map(D=>{const G=L?L.sizes.some(te=>te.size===D&&te.stock>0):!1;return a.jsx("button",{onClick:()=>w(D),className:`px-6 py-3 rounded-lg border-2 transition-all cursor-pointer ${b===D?"bg-pink-50 border-pink-400 text-pink-400":G?"border-gray-300 text-gray-700 hover:border-gray-400":"border-gray-200 text-gray-400 opacity-50"}`,children:D},D)})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg text-gray-900 mb-3",children:"Cantidad"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center border-2 border-gray-300 rounded-lg",children:[a.jsx("button",{onClick:()=>x(Math.max(1,y-1)),className:"p-3 hover:bg-gray-100 transition-colors",children:a.jsx(ak,{size:20})}),a.jsx("span",{className:"px-6 text-xl",children:y}),a.jsx("button",{onClick:()=>x(Math.min(M||99,y+1)),className:"p-3 hover:bg-gray-100 transition-colors",children:a.jsx(Kr,{size:20})})]}),N>0&&a.jsxs("p",{className:"text-sm text-gray-600",children:[N," unidades disponibles"]})]})]}),a.jsxs("button",{onClick:V,className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 text-lg mb-6",children:[a.jsx(Zc,{size:24}),"Agregar al Carrito"]}),a.jsxs("div",{className:"space-y-3 pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(ic,{size:20,className:"text-pink-400"}),a.jsx("span",{children:"Envo gratis en compras mayores a $150.000"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(Oo,{size:20,className:"text-pink-400"}),a.jsx("span",{children:"Garanta de calidad"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(ws,{size:20,className:"text-pink-400"}),a.jsx("span",{children:"30 das para cambios y devoluciones"})]})]})]})]}),B.length>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl text-gray-900 mb-8",children:"Productos Relacionados"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:B.map(D=>a.jsxs("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all hover:-translate-y-1 cursor-pointer",onClick:()=>t("detail",D.id),children:[a.jsx("div",{className:"aspect-[3/4] bg-gray-100 overflow-hidden",children:a.jsx("img",{src:D.image,alt:D.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-gray-900 mb-2 line-clamp-2",children:D.name}),a.jsxs("p",{className:"text-xl text-gray-900",children:["$",D.price.toLocaleString()]})]})]},D.id))})]})]}),a.jsx(Pi,{onNavigate:t})]})}function dZ({onNavigate:e,isAuthenticated:t=!1,currentUser:r=null}){const{cart:n,updateCartQuantity:o,removeFromCart:s}=Ro(),{showToast:c}=$o(),[u,d]=C.useState(null),m=n.reduce((y,x)=>y+x.price*x.quantity,0),h=m>=15e4?0:15e3,p=m+h,v=(y,x,N)=>{d({productId:y,color:x,size:N})},b=()=>{u&&(s(u.productId,u.color,u.size),c(" Producto eliminado del carrito","info")),d(null)},w=()=>{d(null)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ko,{onNavigate:e,isAuthenticated:t,currentUser:r}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsx("h1",{className:"text-4xl text-gray-900 mb-8",children:"Carrito de Compras"}),n.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-16 text-center",children:[a.jsx(xb,{size:64,className:"text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-2xl text-gray-400 mb-6",children:"Tu carrito est vaco"}),a.jsx("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg",children:"Explorar Productos"})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:n.map(y=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx("img",{src:y.image,alt:y.productName,className:"w-32 h-32 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl text-gray-900 mb-2",children:y.productName}),a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Color:"}),a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:y.colorHex}}),a.jsx("span",{className:"text-sm text-gray-900",children:y.color})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Talla:"}),a.jsx("span",{className:"text-sm text-gray-900 font-medium",children:y.size})]})]}),a.jsxs("p",{className:"text-2xl text-gray-900 mb-4",children:["$",y.price.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center border-2 border-gray-300 rounded-lg",children:[a.jsx("button",{onClick:()=>o(y.productId,y.color,y.size,y.quantity-1),className:"p-2 hover:bg-gray-100 transition-colors",children:a.jsx(ak,{size:18})}),a.jsx("span",{className:"px-4 font-medium",children:y.quantity}),a.jsx("button",{onClick:()=>o(y.productId,y.color,y.size,y.quantity+1),className:"p-2 hover:bg-gray-100 transition-colors",children:a.jsx(Kr,{size:18})})]}),u?.productId===y.productId&&u?.color===y.color&&u?.size===y.size?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-700",children:"Eliminar?"}),a.jsx("button",{onClick:b,className:"px-3 py-1 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition-colors",children:"S"}),a.jsx("button",{onClick:w,className:"px-3 py-1 border border-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-50 transition-colors",children:"No"})]}):a.jsx("button",{onClick:()=>v(y.productId,y.color,y.size),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Ao,{size:20})})]})]})]})},`${y.productId}-${y.color}-${y.size}`))}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-24",children:[a.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Resumen del Pedido"}),a.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",m.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Envo"}),a.jsx("span",{children:h===0?"Gratis":`$${h.toLocaleString()}`})]}),m<15e4&&h>0&&a.jsxs("p",{className:"text-sm text-pink-400",children:["Agrega $",(15e4-m).toLocaleString()," ms para envo gratis!"]})]}),a.jsxs("div",{className:"flex justify-between text-2xl text-gray-900 mb-6",children:[a.jsx("span",{children:"Total"}),a.jsxs("span",{children:["$",p.toLocaleString()]})]}),a.jsx("button",{onClick:()=>e("checkout"),className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg mb-3",children:"Proceder al Pago"}),a.jsx("button",{onClick:()=>e("search"),className:"w-full text-gray-700 py-4 rounded-full hover:bg-gray-100 transition-colors",children:"Continuar Comprando"})]})})]})]}),a.jsx(Pi,{onNavigate:e})]})}function fZ({onNavigate:e,isAuthenticated:t=!1,currentUser:r=null}){const{products:n,favorites:o,toggleFavorite:s,addToCart:c,getProductStock:u}=Ro(),d=n.filter(h=>o.includes(h.id)),m=h=>{if(!h){alert("Producto no vlido");return}if(!h.id){console.error("Producto sin ID:",h),alert("Error: Producto sin identificador");return}if(!h.variants||h.variants.length===0){alert("Este producto no tiene variantes disponibles");return}const p=h.variants[0];if(!p||!p.color){alert("Error: Variante sin datos");return}if(!p.sizes||p.sizes.length===0){alert("Este producto no tiene tallas disponibles");return}const v=p.sizes.find(w=>w&&w.stock>0);if(!v||!v.size){alert("Este producto no tiene stock disponible");return}if(u(h.id,p.color,v.size)===0){alert(" Este producto no tiene stock disponible");return}try{c({productId:h.id,productName:h.name||"Producto sin nombre",price:h.price||0,image:h.image||"",color:p.color,colorHex:p.colorHex||"#000000",size:v.size,quantity:1})||console.warn("[FavoritesPage] addToCart retorn false para:",h.name)}catch(w){console.error("[FavoritesPage] Error al agregar al carrito:",w),alert("Error al agregar al carrito. Intenta de nuevo.")}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ko,{onNavigate:e,isAuthenticated:t,currentUser:r}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsx("h1",{className:"text-4xl text-gray-900 mb-8",children:"Mis Favoritos"}),d.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-16 text-center",children:[a.jsx(Po,{size:64,className:"text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-2xl text-gray-400 mb-6",children:"An no tienes favoritos"}),a.jsx("button",{onClick:()=>e("search"),className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-8 py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg",children:"Explorar Productos"})]}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d.map(h=>a.jsxs("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-xl transition-all hover:-translate-y-1",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-gray-100 overflow-hidden",children:[a.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover cursor-pointer group-hover:scale-110 transition-transform duration-700",onClick:()=>e("detail",h.id)}),a.jsx("button",{onClick:()=>s(h.id),className:"absolute top-3 right-3 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center hover:bg-white transition-colors shadow-md",children:a.jsx(Po,{size:20,className:"fill-pink-400 text-pink-400"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-gray-900 mb-2 line-clamp-2 cursor-pointer hover:text-pink-400 transition-colors min-h-[3rem]",onClick:()=>e("detail",h.id),children:h.name}),a.jsxs("p",{className:"text-2xl text-gray-900 mb-3",children:["$",h.price.toLocaleString()]}),a.jsx("div",{className:"flex gap-1 mb-3",children:Array.from(new Set(h.variants.map(p=>p.colorHex))).slice(0,4).map((p,v)=>a.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300",style:{backgroundColor:p}},v))}),a.jsxs("button",{onClick:()=>m(h),className:"w-full bg-gray-900 text-white py-3 rounded-full hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Zc,{size:18}),"Agregar"]})]})]},h.id))})]}),a.jsx(Pi,{onNavigate:e})]})}const ec=5e4,mZ=8e3,pZ=({onNavigate:e,currentUser:t})=>{const r=C.useContext(kj);if(!r)return a.jsx("div",{className:"text-center py-8",children:"Error al cargar contexto"});const{cart:n,clearCart:o}=r,[s,c]=C.useState({fullName:t?.nombre||"",phone:"",address:"",city:"",department:"",postalCode:""}),[u,d]=C.useState({}),[m,h]=C.useState("card"),[p,v]=C.useState({cardName:"",cardNumber:"",cardExpiry:"",cardCVC:""}),[b,w]=C.useState(!1),y=(I,V="general")=>V==="address"?I.replace(/[^a-zA-Z0-9\s\-.,#]/g,""):V==="phone"?I.replace(/\D/g,""):I.replace(/[^a-zA-Z\s\-']/g,""),x=(I,V="general")=>V==="address"?/^[a-zA-Z0-9\s\-.,#@]*$/.test(I):/^[a-zA-Z0-9\s\-']*$/.test(I),N=(I,V)=>{switch(I){case"fullName":return V.trim().length<3?"El nombre debe tener al menos 3 caracteres":x(V)?void 0:"El nombre contiene caracteres no permitidos";case"phone":return/^\d{7,10}$/.test(V)?void 0:"Telfono invlido (7-10 dgitos)";case"address":return V.trim().length<5?"La direccin debe tener al menos 5 caracteres":x(V,"address")?void 0:"La direccin contiene caracteres no permitidos";case"city":return V.trim().length<2?"La ciudad es requerida":x(V)?void 0:"La ciudad contiene caracteres no permitidos";case"department":return V.trim().length<2?"El departamento es requerido":x(V)?void 0:"El departamento contiene caracteres no permitidos";case"postalCode":return/^\d{4,6}$/.test(V)?void 0:"Cdigo postal invlido (4-6 dgitos)";default:return}},A=(I,V)=>{c(B=>({...B,[I]:V}));const z=N(I,V);d(B=>{if(z)return{...B,[I]:z};{const{[I]:D,...G}=B;return G}})},E=(I,V)=>{let z=V;I==="cardName"?z=V.replace(/[^a-zA-Z\s\-']/g,"").toUpperCase():I==="cardNumber"?z=V.replace(/\D/g,"").slice(0,16):I==="cardExpiry"?(z=V.replace(/\D/g,"").slice(0,4),z.length>=2&&(z=z.slice(0,2)+"/"+z.slice(2))):I==="cardCVC"&&(z=V.replace(/\D/g,"").slice(0,3)),v(B=>({...B,[I]:z}))},_=C.useMemo(()=>n.reduce((I,V)=>I+V.price*V.quantity,0),[n]),P=_>ec?0:mZ,k=(_+P)*.19,O=_+P+k,L=Object.keys(u).length>0,T=s.fullName&&s.phone&&s.address&&s.city&&s.department&&s.postalCode&&!L,M=()=>{if(!T){alert("Por favor completa todos los campos correctamente");return}const I={id:`ORD-${Date.now()}`,items:n,subtotal:Number(_.toFixed(2)),shipping:P,iva:Number(k.toFixed(2)),total:Number(O.toFixed(2)),shippingInfo:s,paymentMethod:m,cardInfo:m==="card"?{lastFourDigits:p.cardNumber.slice(-4),name:p.cardName}:null,date:new Date().toLocaleDateString("es-CO"),timestamp:Date.now()};localStorage.setItem("lastPurchase",JSON.stringify(I));const V=JSON.parse(localStorage.getItem("purchaseHistory")||"[]");V.push(I),localStorage.setItem("purchaseHistory",JSON.stringify(V)),console.log(" Compra creada:",I),o(),e("purchase-success")};return n.length===0?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-white py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(an,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Tu carrito est vaco"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Agrega productos antes de proceder al checkout"}),a.jsx("button",{onClick:()=>e("home"),className:"px-6 py-2 bg-pink-400 text-white rounded-lg hover:bg-pink-500 transition",children:"Volver a la tienda"})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-white py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informacin de envo"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),a.jsx("input",{type:"text",value:s.fullName,onChange:I=>A("fullName",y(I.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${u.fullName?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Juan Prez"}),u.fullName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.fullName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),a.jsx("input",{type:"tel",value:s.phone,onChange:I=>A("phone",y(I.target.value,"phone")),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${u.phone?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"3001234567"}),u.phone&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),a.jsx("input",{type:"text",value:s.address,onChange:I=>A("address",y(I.target.value,"address")),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${u.address?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Calle 50 #10-20 Apt 301"}),u.address&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.address})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),a.jsx("input",{type:"text",value:s.city,onChange:I=>A("city",y(I.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${u.city?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Medelln"}),u.city&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.city})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),a.jsx("input",{type:"text",value:s.department,onChange:I=>A("department",y(I.target.value)),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${u.department?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"Antioquia"}),u.department&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.department})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo postal"}),a.jsx("input",{type:"text",value:s.postalCode,onChange:I=>A("postalCode",I.target.value),className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 ${u.postalCode?"border-red-400 bg-red-50":"border-gray-300"}`,placeholder:"050010"}),u.postalCode&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:u.postalCode})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Mtodo de pago"}),a.jsx("div",{className:"space-y-3",children:[{id:"card",label:" Tarjeta de crdito"},{id:"nequi",label:" Nequi"},{id:"bancolombia",label:" Bancolombia"},{id:"delivery",label:" Contra entrega"}].map(I=>a.jsxs("label",{className:"flex items-center cursor-pointer p-3 border rounded-lg hover:bg-pink-50 transition",style:{borderColor:m===I.id?"#ec4899":"#d1d5db"},children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:I.id,checked:m===I.id,onChange:V=>{h(V.target.value),V.target.value==="card"?w(!0):w(!1)},className:"w-4 h-4 text-pink-400"}),a.jsx("span",{className:"ml-3 text-gray-700",children:I.label})]},I.id))}),m==="card"&&a.jsxs("div",{className:"mt-6 space-y-4 pt-6 border-t",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre en la tarjeta"}),a.jsx("input",{type:"text",value:p.cardName,onChange:I=>E("cardName",I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"JUAN PEREZ"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero de tarjeta"}),a.jsx("input",{type:"text",value:p.cardNumber,onChange:I=>E("cardNumber",I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"4532 1234 5678 9010",maxLength:19})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vencimiento"}),a.jsx("input",{type:"text",value:p.cardExpiry,onChange:I=>E("cardExpiry",I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"MM/YY",maxLength:5})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVC"}),a.jsx("input",{type:"text",value:p.cardCVC,onChange:I=>E("cardCVC",I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"123",maxLength:3})]})]})]}),m==="nequi"&&a.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-700",children:' Recibirs un cdigo en tu app Nequi para confirmar la compra despus de hacer clic en "Confirmar Compra"'})}),m==="bancolombia"&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-700",children:" Sers redirigido a Bancolombia para completar tu transaccin de manera segura"})}),m==="delivery"&&a.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-gray-700",children:" Pagars el total al recibir tu pedido en la direccin indicada"})})]})]}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resumen del pedido"}),a.jsx("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:n.map(I=>a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-gray-700",children:I.productName}),a.jsxs("span",{className:"text-gray-700 font-medium",children:["x",I.quantity]})]}),a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsxs("span",{children:["$",I.price.toLocaleString("es-CO")]}),a.jsxs("span",{children:["$",(I.price*I.quantity).toLocaleString("es-CO")]})]})]},`${I.productId}-${I.color}-${I.size}`))}),a.jsx("hr",{className:"my-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",_.toLocaleString("es-CO",{maximumFractionDigits:0})]})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Envo:"}),a.jsx("span",{className:P===0?"text-green-600 font-medium":"",children:P===0?"Gratis!":`$${P.toLocaleString("es-CO")}`})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"IVA (19%):"}),a.jsxs("span",{children:["$",k.toLocaleString("es-CO",{maximumFractionDigits:0})]})]}),a.jsx("hr",{className:"my-3"}),a.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{className:"text-pink-600",children:["$",O.toLocaleString("es-CO",{maximumFractionDigits:0})]})]})]}),P===0&&_>0&&a.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("div",{className:"text-sm text-green-700 font-medium",children:" Envo GRATIS! Tu compra califica para envo sin costo."})}),_>0&&_<=ec&&P>0&&a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"text-xs text-gray-700 mb-2",children:[" Envo gratis en compras mayores a $",ec.toLocaleString("es-CO")]}),a.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${_/ec*100}%`}})}),a.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Te faltan $",(ec-_).toLocaleString("es-CO")," para envo gratis"]})]}),a.jsx("button",{onClick:M,disabled:!T,className:`w-full mt-6 py-3 rounded-lg font-semibold transition ${T?"bg-pink-400 text-white hover:bg-pink-500":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:T?"Confirmar Compra":"Completa el formulario"}),a.jsx("button",{onClick:()=>e("cart"),className:"w-full mt-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"Volver al carrito"})]})})]})]})})},hZ=({onNavigate:e})=>{const[t,r]=C.useState(null),[n,o]=C.useState(!0);return C.useEffect(()=>{const s=localStorage.getItem("lastPurchase");if(s)try{r(JSON.parse(s))}catch(c){console.error("Error loading purchase:",c)}o(!1)},[]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Cargando..."}):t?a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white py-8",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Co,{className:"w-20 h-20 text-green-500"})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Compra Confirmada!"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Gracias por tu compra"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8 text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Nmero de orden"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 break-all",children:t.id}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:t.date})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Informacin de envo"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nombre"}),a.jsx("p",{className:"text-lg text-gray-900 font-medium",children:t.shippingInfo.fullName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Telfono"}),a.jsx("p",{className:"text-lg text-gray-900 font-medium",children:t.shippingInfo.phone})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Direccin"}),a.jsx("p",{className:"text-lg text-gray-900 font-medium",children:t.shippingInfo.address})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Ciudad"}),a.jsx("p",{className:"text-lg text-gray-900 font-medium",children:t.shippingInfo.city})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Departamento"}),a.jsx("p",{className:"text-lg text-gray-900 font-medium",children:t.shippingInfo.department})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Cdigo postal"}),a.jsx("p",{className:"text-lg text-gray-900 font-medium",children:t.shippingInfo.postalCode})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Productos"}),a.jsx("div",{className:"space-y-4",children:t.items.map((s,c)=>a.jsxs("div",{className:"flex items-start justify-between pb-4 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.image&&a.jsx("img",{src:s.image,alt:s.productName,className:"w-20 h-20 object-cover rounded-lg"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:s.productName}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Cantidad: ",a.jsx("span",{className:"font-medium",children:s.quantity})]}),s.color&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Color: ",a.jsx("span",{className:"font-medium",children:s.color})]}),s.size&&a.jsxs("p",{className:"text-sm text-gray-600",children:["Talla: ",a.jsx("span",{className:"font-medium",children:s.size})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["$",s.price.toLocaleString("es-CO")]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["$",(s.price*s.quantity).toLocaleString("es-CO")]})]})]},c))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Mtodo de pago"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[a.jsx("span",{className:"text-gray-700",children:"Mtodo de pago:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[t.paymentMethod==="card"&&" Tarjeta de crdito",t.paymentMethod==="nequi"&&" Nequi",t.paymentMethod==="bancolombia"&&" Bancolombia",t.paymentMethod==="delivery"&&" Contra entrega"]})]}),t.paymentMethod==="card"&&t.cardInfo&&a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:"Tarjeta:"}),a.jsxs("span",{className:"font-medium text-gray-900",children:[t.cardInfo.name," (",t.cardInfo.lastFourDigits,")"]})]})})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-pink-100 rounded-lg p-6 mb-6",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Subtotal:"}),a.jsxs("span",{children:["$",t.subtotal.toLocaleString("es-CO")]})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"Envo:"}),a.jsx("span",{className:t.shipping===0?"text-green-600 font-medium":"",children:t.shipping===0?"Gratis!":`$${t.shipping.toLocaleString("es-CO")}`})]}),a.jsxs("div",{className:"flex justify-between text-gray-700",children:[a.jsx("span",{children:"IVA (19%):"}),a.jsxs("span",{children:["$",t.iva.toLocaleString("es-CO")]})]}),a.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold text-gray-900",children:[a.jsx("span",{children:"Total:"}),a.jsxs("span",{className:"text-pink-600",children:["$",t.total.toLocaleString("es-CO")]})]})]})}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:" Prximos pasos"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("li",{children:" Recibirs un email de confirmacin con los detalles de tu compra"}),a.jsx("li",{children:" El estado del pedido ser actualizado a medida que se procese"}),a.jsx("li",{children:" Puedes rastrear tu envo desde tu panel de compras"}),a.jsx("li",{children:" Contacta al servicio al cliente si tienes preguntas"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:()=>e("orders"),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium flex items-center justify-center gap-2",children:[a.jsx(an,{className:"w-5 h-5"}),"Ver mis compras"]}),a.jsx("button",{onClick:()=>e("home"),className:"flex-1 px-6 py-3 bg-pink-400 text-white rounded-lg hover:bg-pink-500 transition font-medium",children:"Volver a la tienda"})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 text-center",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Tienes preguntas?"}),a.jsx("button",{onClick:()=>e("contact"),className:"text-pink-600 hover:text-pink-700 font-medium",children:"Contctanos "})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-white py-8",children:a.jsx("div",{className:"max-w-2xl mx-auto px-4",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(an,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No hay compra registrada"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Parece que no hay datos de compra disponibles"}),a.jsx("button",{onClick:()=>e("home"),className:"px-6 py-2 bg-pink-400 text-white rounded-lg hover:bg-pink-500 transition",children:"Volver a la tienda"})]})})})};function gZ({onNavigate:e,currentUser:t,onLogout:r,onLogin:n}){const{orders:o,favorites:s}=Ro(),[c,u]=C.useState(!1),[d,m]=C.useState(null);console.log(" [ProfilePage] currentUser:",t);const[h,p]=C.useState({name:t?.name||"",email:t?.email||"",celular:t?.celular||"",direccion:t?.direccion||""}),[v,b]=C.useState({}),[w,y]=C.useState(""),x=(K,pe="general")=>pe==="address"?K.replace(/[^a-zA-Z0-9\s\-.,#]/g,""):pe==="phone"?K.replace(/\D/g,""):K.replace(/[^a-zA-Z\s\-']/g,""),[N,A]=C.useState({current:"",newPass:"",confirm:""}),[E,_]=C.useState({}),[P,k]=C.useState(""),[O,L]=C.useState({hasLength:!1,hasUppercase:!1,hasNumber:!1,hasSpecial:!1,matchesConfirm:!1}),[T,M]=C.useState(!1),[I,V]=C.useState(!1);C.useEffect(()=>{const K=localStorage.getItem("damabella_settings_2fa");K!==null&&M(JSON.parse(K))},[]);const z=K=>/^[a-zA-Z0-9][^\s@]*@[^\s@]+\.[^\s@]+$/.test(K),B=K=>/^\d{7,}$/.test(K.replace(/\D/g,"")),D=K=>/^[a-zA-Z\s\-']+$/.test(K)&&K.trim().length>0,G=K=>/^[a-zA-Z0-9\s\-.,#@]*$/.test(K),te=(K,pe="general")=>pe==="address"?/^[a-zA-Z0-9\s\-.,#@]*$/.test(K):/^[a-zA-Z0-9\s\-']*$/.test(K),R=(K,pe)=>{p({...h,[K]:pe});const me={...v};K==="name"&&(pe.trim()?te(pe)?D(pe)?delete me.name:me.name="Solo letras, espacios y acentos permitidos":me.name="El nombre contiene caracteres no permitidos":me.name="El nombre no puede estar vaco"),K==="email"&&(pe.trim()?z(pe)?delete me.email:me.email="Formato de email invlido (ej: usuario@dominio.com)":me.email="El email no puede estar vaco"),K==="celular"&&(pe&&!B(pe)?me.celular="Solo nmeros, mnimo 7 dgitos":delete me.celular),K==="direccion"&&(pe&&!G(pe)?me.direccion="La direccin contiene caracteres no permitidos":delete me.direccion),b(me)},Y=()=>Object.keys(v).length>0||!h.name.trim()||!h.email.trim(),U=()=>{const K={};if(te(h.name)?D(h.name)||(K.name="Solo letras y espacios"):K.name="El nombre contiene caracteres no permitidos",z(h.email)||(K.email="Email invlido"),h.celular&&!B(h.celular)&&(K.celular="Mnimo 7 dgitos"),h.direccion&&!G(h.direccion)&&(K.direccion="Caracteres no permitidos en la direccin"),Object.keys(K).length>0){b(K);return}const pe={...t,...h};localStorage.setItem("damabella_user",JSON.stringify(pe)),n(pe);const me=JSON.parse(localStorage.getItem("damabella_users")||"[]"),ne=me.findIndex(se=>se.email===t.email);ne!==-1&&(me[ne]=pe,localStorage.setItem("damabella_users",JSON.stringify(me))),u(!1),b({}),y(" Informacin guardada correctamente"),console.log(" [ProfilePage] Informacin personal guardada"),setTimeout(()=>y(""),3e3)},F=async()=>{const K={};if(k(""),N.current||(K.current="Ingresa tu contrasea actual"),!N.newPass)K.newPass="Ingresa una nueva contrasea";else{const pe={hasLength:N.newPass.length>=8,hasUppercase:/[A-Z]/.test(N.newPass),hasNumber:/[0-9]/.test(N.newPass),hasSpecial:/[@$!%*?&]/.test(N.newPass),matchesConfirm:N.newPass===N.confirm};L(pe),(!pe.hasLength||!pe.hasUppercase||!pe.hasNumber||!pe.hasSpecial)&&(K.newPass="La contrasea no cumple los requisitos")}if(N.confirm?N.newPass!==N.confirm&&(K.confirm="Las contraseas no coinciden"):K.confirm="Confirma tu nueva contrasea",_(K),!(Object.keys(K).length>0))try{const pe={...t,password:N.newPass};localStorage.setItem("damabella_user",JSON.stringify(pe)),n(pe);const me=JSON.parse(localStorage.getItem("damabella_users")||"[]"),ne=me.findIndex(se=>se.email===t.email);ne!==-1&&(me[ne]=pe,localStorage.setItem("damabella_users",JSON.stringify(me))),localStorage.setItem("damabella_password_updated",new Date().toISOString()),A({current:"",newPass:"",confirm:""}),V(!1),_({}),L({hasLength:!1,hasUppercase:!1,hasNumber:!1,hasSpecial:!1,matchesConfirm:!1}),k(" Contrasea actualizada correctamente"),console.log(" [ProfilePage] Contrasea actualizada"),setTimeout(()=>k(""),3e3)}catch(pe){console.error("Error al actualizar contrasea:",pe),_({newPass:"Error al actualizar. Intenta de nuevo."})}},W=()=>{const K=!T;M(K),localStorage.setItem("damabella_settings_2fa",JSON.stringify(K)),console.log(" [ProfilePage] 2FA actualizado:",K)};if(!t)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 max-w-md w-full text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Qc,{size:48,className:"text-white"})}),a.jsx("h2",{className:"text-3xl text-gray-900 mb-3",children:"Inicia Sesin"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Accede a tu cuenta para ver tu perfil"}),a.jsx("button",{onClick:()=>e("home"),className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all shadow-lg",children:"Volver al Inicio"})]})});const ce=JSON.parse(localStorage.getItem("purchaseHistory")||"[]"),ie=o.filter(K=>K.clientEmail===t?.email).length+ce.length;return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ko,{onNavigate:e,isAuthenticated:!0,currentUser:t}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsx("div",{className:"bg-gradient-to-r from-pink-400 to-purple-400 rounded-3xl overflow-hidden mb-8 shadow-lg",children:a.jsx("div",{className:"p-12 text-white",children:a.jsxs("div",{className:"flex items-end gap-6",children:[a.jsx("div",{className:"w-32 h-32 bg-white rounded-full flex items-center justify-center text-pink-400 text-5xl shadow-xl ring-4 ring-white",children:t.name?.[0]?.toUpperCase()||"U"}),a.jsxs("div",{className:"pb-2 flex-1",children:[a.jsx("h1",{className:"text-4xl mb-2",children:t.name}),a.jsx("p",{className:"text-pink-100 text-lg",children:t.email})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl text-gray-900",children:"Informacin Personal"}),a.jsx("button",{onClick:()=>{c||(p({name:t?.name||"",email:t?.email||"",celular:t?.celular||"",direccion:t?.direccion||""}),b({})),u(!c)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(fi,{size:18,className:"text-gray-600"})})]}),c?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Nombre"}),a.jsx("input",{type:"text",value:h.name,onChange:K=>R("name",x(K.target.value)),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${v.name?"border-red-400 bg-red-50":"border-gray-300"}`}),v.name&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),a.jsx("input",{type:"email",value:h.email,onChange:K=>R("email",K.target.value),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${v.email?"border-red-400 bg-red-50":"border-gray-300"}`}),v.email&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Telfono"}),a.jsx("input",{type:"tel",value:h.celular,onChange:K=>R("celular",x(K.target.value,"phone")),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${v.celular?"border-red-400 bg-red-50":"border-gray-300"}`}),v.celular&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.celular})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Direccin"}),a.jsx("input",{type:"text",value:h.direccion,onChange:K=>R("direccion",x(K.target.value,"address")),className:`w-full border rounded-lg px-3 py-2 mt-1 transition-colors ${v.direccion?"border-red-400 bg-red-50":"border-gray-300"}`}),v.direccion&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:v.direccion})]}),w&&a.jsx("p",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:w}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:U,disabled:Y(),className:`flex-1 py-2 rounded-lg transition-colors text-sm font-medium ${Y()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-pink-400 text-white hover:bg-pink-500"}`,children:"Guardar"}),a.jsx("button",{onClick:()=>{u(!1),b({})},className:"flex-1 bg-gray-200 text-gray-900 py-2 rounded-lg hover:bg-gray-300 transition-colors text-sm",children:"Cancelar"})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Hf,{size:20,className:"text-pink-400 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Correo"}),a.jsx("p",{className:"text-gray-900",children:t.email})]})]}),t.celular&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Gf,{size:20,className:"text-pink-400 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Telfono"}),a.jsx("p",{className:"text-gray-900",children:t.celular})]})]}),t.direccion&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(yb,{size:20,className:"text-pink-400 mt-1"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Direccin"}),a.jsx("p",{className:"text-gray-900",children:t.direccion})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-xl text-gray-900 mb-6",children:"Resumen de Cuenta"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(an,{size:20,className:"text-pink-400"}),a.jsx("span",{className:"text-gray-700",children:"Pedidos"})]}),a.jsx("span",{className:"text-2xl text-gray-900 font-bold",children:ie})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Po,{size:20,className:"text-purple-400"}),a.jsx("span",{className:"text-gray-700",children:"Favoritos"})]}),a.jsx("span",{className:"text-2xl text-gray-900 font-bold",children:s.length})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Mi Cuenta"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>e("orders"),className:"group bg-gradient-to-br from-pink-50 to-purple-50 p-6 rounded-xl hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(an,{size:24,className:"text-pink-400"}),a.jsx(ls,{size:20,className:"text-gray-400 group-hover:text-pink-400"})]}),a.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Mis Pedidos"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ver historial"})]}),a.jsxs("button",{onClick:()=>e("favorites"),className:"group bg-gradient-to-br from-pink-50 to-purple-50 p-6 rounded-xl hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx(Po,{size:24,className:"text-purple-400"}),a.jsx(ls,{size:20,className:"text-gray-400 group-hover:text-pink-400"})]}),a.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Mis Favoritos"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Productos guardados"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Configuracin"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>{console.log(" Privacidad y seguridad  abierto"),m("privacy")},className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 rounded-xl transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:20,className:"text-gray-600"}),a.jsx("span",{className:"text-gray-900",children:"Privacidad y Seguridad"})]}),a.jsx(ls,{size:20,className:"text-gray-400"})]}),a.jsxs("button",{onClick:r,className:"w-full flex items-center justify-between p-4 hover:bg-red-50 rounded-xl transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nk,{size:20,className:"text-red-600"}),a.jsx("span",{className:"text-red-600",children:"Cerrar Sesin"})]}),a.jsx(ls,{size:20,className:"text-red-400"})]})]})]})]})]})]}),a.jsx(Pi,{onNavigate:e}),d==="privacy"&&a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oo,{size:24,className:"text-gray-600"}),a.jsx("h2",{className:"text-2xl text-gray-900",children:"Privacidad y Seguridad"})]}),a.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(_4,{size:24,className:"text-gray-600"})})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"border-b pb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gs,{size:20,className:"text-gray-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cambiar Contrasea"})]}),I?a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea actual"}),a.jsx("input",{type:"password",placeholder:"Ingresa tu contrasea actual",value:N.current,onChange:K=>{A({...N,current:K.target.value}),_(pe=>({...pe,current:""}))},className:`w-full border rounded-lg px-3 py-2 transition-colors ${E.current?"border-red-500 bg-red-50":"border-gray-300"}`}),E.current&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.current})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva contrasea"}),a.jsx("input",{type:"password",placeholder:"Mnimo 8 caracteres",value:N.newPass,onChange:K=>{const pe=K.target.value;A(me=>({...me,newPass:pe})),_(me=>({...me,newPass:""})),L(me=>({...me,hasLength:pe.length>=8,hasUppercase:/[A-Z]/.test(pe),hasNumber:/[0-9]/.test(pe),hasSpecial:/[@$!%*?&]/.test(pe),matchesConfirm:pe===N.confirm||!N.confirm}))},className:`w-full border rounded-lg px-3 py-2 transition-colors ${E.newPass?"border-red-500 bg-red-50":"border-gray-300"}`}),E.newPass&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.newPass}),N.newPass&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${O.hasLength?"bg-green-500":"bg-gray-300"}`,children:O.hasLength&&a.jsx("span",{className:"text-white",children:""})}),a.jsx("span",{className:`text-sm ${O.hasLength?"text-green-700":"text-gray-600"}`,children:"Mnimo 8 caracteres"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${O.hasUppercase?"bg-green-500":"bg-gray-300"}`,children:O.hasUppercase&&a.jsx("span",{className:"text-white",children:""})}),a.jsx("span",{className:`text-sm ${O.hasUppercase?"text-green-700":"text-gray-600"}`,children:"Al menos una mayscula"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${O.hasNumber?"bg-green-500":"bg-gray-300"}`,children:O.hasNumber&&a.jsx("span",{className:"text-white",children:""})}),a.jsx("span",{className:`text-sm ${O.hasNumber?"text-green-700":"text-gray-600"}`,children:"Al menos un nmero"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center text-xs ${O.hasSpecial?"bg-green-500":"bg-gray-300"}`,children:O.hasSpecial&&a.jsx("span",{className:"text-white",children:""})}),a.jsx("span",{className:`text-sm ${O.hasSpecial?"text-green-700":"text-gray-600"}`,children:"Al menos un carcter especial (@$!%*?&)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar nueva contrasea"}),a.jsx("input",{type:"password",placeholder:"Confirma tu nueva contrasea",value:N.confirm,onChange:K=>{const pe=K.target.value;A(ne=>({...ne,confirm:pe})),_(ne=>({...ne,confirm:""}));const me=pe===N.newPass;L(ne=>({...ne,matchesConfirm:me}))},className:`w-full border rounded-lg px-3 py-2 transition-colors ${E.confirm?"border-red-500 bg-red-50":N.confirm&&N.newPass&&O.matchesConfirm?"border-green-500 bg-green-50":N.confirm&&!O.matchesConfirm?"border-orange-500 bg-orange-50":"border-gray-300"}`}),E.confirm&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.confirm}),N.confirm&&N.newPass&&O.matchesConfirm&&!E.confirm&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Las contraseas coinciden"}),N.confirm&&!O.matchesConfirm&&!E.confirm&&a.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Las contraseas no coinciden"})]}),P&&a.jsx("p",{className:"text-sm text-green-600 bg-green-50 p-3 rounded-lg",children:P}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{onClick:F,disabled:!N.current||!N.newPass||!N.confirm||!O.matchesConfirm||!O.hasLength||!O.hasUppercase||!O.hasNumber||!O.hasSpecial,className:`flex-1 py-2 rounded-lg transition-colors text-sm font-medium ${N.current&&N.newPass&&N.confirm&&O.matchesConfirm&&O.hasLength&&O.hasUppercase&&O.hasNumber&&O.hasSpecial?"bg-pink-400 text-white hover:bg-pink-500":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Guardar Cambios"}),a.jsx("button",{onClick:()=>{V(!1),A({current:"",newPass:"",confirm:""}),_({}),L({hasLength:!1,hasUppercase:!1,hasNumber:!1,hasSpecial:!1,matchesConfirm:!1}),k("")},className:"flex-1 bg-gray-200 text-gray-900 py-2 rounded-lg hover:bg-gray-300 transition-colors text-sm font-medium",children:"Cancelar"})]})]}):a.jsx("button",{onClick:()=>V(!0),className:"text-pink-400 hover:text-pink-500 text-sm font-medium",children:"Cambiar contrasea"})]}),a.jsxs("div",{className:"border-b pb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Autenticacin de Dos Factores"}),a.jsx("button",{onClick:W,className:`px-4 py-2 rounded-lg text-white transition-colors ${T?"bg-green-500 hover:bg-green-600":"bg-gray-400 hover:bg-gray-500"}`,children:T?" Habilitado":" Deshabilitado"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trminos y Condiciones"}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-4 mb-6",children:[a.jsx("p",{children:"Al usar esta plataforma, aceptas nuestros trminos y condiciones. Nos reservamos el derecho de modificar estos trminos en cualquier momento."}),a.jsx("p",{children:"Recopilamos informacin personal para procesar pedidos y mejorar tu experiencia. Nunca compartiremos tu informacin sin tu consentimiento."}),a.jsx("p",{children:"Utilizamos tecnologa SSL/TLS para proteger tus transacciones. Mantn tu contrasea confidencial y cambia regularmente."})]}),a.jsx("button",{className:"text-pink-400 hover:text-pink-500 text-sm font-medium",children:"Ver PDF completo"})]})]})]})})]})}function vZ({onNavigate:e,isAuthenticated:t=!1,currentUser:r=null}){const[n,o]=C.useState({name:"",email:"",phone:"",message:""}),s=c=>{c.preventDefault(),alert("Gracias por tu mensaje! Nos pondremos en contacto contigo pronto."),o({name:"",email:"",phone:"",message:""})};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(ko,{onNavigate:e,isAuthenticated:t,currentUser:r}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-5xl text-gray-900 mb-4",children:"Contctanos"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Estamos aqu para ayudarte. Envanos tu mensaje y te responderemos pronto."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Envanos un Mensaje"}),a.jsxs("form",{onSubmit:s,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Nombre Completo"}),a.jsx("input",{type:"text",required:!0,value:n.name,onChange:c=>o({...n,name:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"Tu nombre"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Correo Electrnico"}),a.jsx("input",{type:"email",required:!0,value:n.email,onChange:c=>o({...n,email:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"tu@email.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Telfono (Opcional)"}),a.jsx("input",{type:"tel",value:n.phone,onChange:c=>o({...n,phone:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400",placeholder:"+57 300 123 4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 mb-2",children:"Mensaje"}),a.jsx("textarea",{required:!0,rows:6,value:n.message,onChange:c=>o({...n,message:c.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 resize-none",placeholder:"En qu podemos ayudarte?"})]}),a.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-pink-400 to-purple-400 text-white py-4 rounded-full hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2",children:[a.jsx(k3,{size:20}),"Enviar Mensaje"]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Informacin de Contacto"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Hf,{className:"text-white",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:"contacto@damabella.com"}),a.jsx("p",{className:"text-gray-600",children:"ventas@damabella.com"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Gf,{className:"text-white",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Telfono"}),a.jsx("p",{className:"text-gray-600",children:"+57 300 123 4567"}),a.jsx("p",{className:"text-gray-600",children:"+57 310 987 6543"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(yb,{className:"text-white",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg text-gray-900 mb-1",children:"Direccin"}),a.jsx("p",{className:"text-gray-600",children:"Calle 123 #45-67"}),a.jsx("p",{className:"text-gray-600",children:"Bogot, Colombia"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Horarios de Atencin"}),a.jsxs("div",{className:"space-y-3 text-gray-700",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Lunes - Viernes"}),a.jsx("span",{className:"font-medium",children:"9:00 AM - 7:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sbado"}),a.jsx("span",{className:"font-medium",children:"10:00 AM - 6:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Domingo"}),a.jsx("span",{className:"font-medium",children:"Cerrado"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8",children:[a.jsx("h2",{className:"text-2xl text-gray-900 mb-6",children:"Sguenos"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:"#",className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-110",children:a.jsx(rk,{className:"text-white",size:24})}),a.jsx("a",{href:"#",className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-110",children:a.jsx(tk,{className:"text-white",size:24})}),a.jsx("a",{href:"#",className:"w-12 h-12 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-110",children:a.jsx(ck,{className:"text-white",size:24})})]})]})]})]})]}),a.jsx(Pi,{onNavigate:e})]})}function yZ(){console.log(" [initializeStorage] Iniciando inicializacin del storage..."),console.log(`
 [initializeStorage] PASO 1: Verificando integridad de datos...`);const e=localStorage.getItem("damabella_users");let t=[];if(e)try{const s=JSON.parse(e);t=s.filter(c=>c.email&&(c.role||c.rol)&&(c.nombre||c.name)),s.length!==t.length&&console.log(`  [initializeStorage] Se filtraron ${s.length-t.length} usuarios corruptos`)}catch{console.log(" [initializeStorage] Error parseando usuarios existentes, comenzando desde cero")}console.log(`
 [initializeStorage] PASO 2: Verificando cuenta de administrador...`),t.some(s=>s.email==="admin@damabella.com")?console.log(" [initializeStorage] Admin ya existe en el sistema"):(console.log("     Admin no existe, creando..."),t.push({id:"1",nombre:"Administrador",email:"admin@damabella.com",password:"Admin123#",rol:"Administrador",status:"Activo",createdAt:new Date().toISOString()}),console.log(" [initializeStorage] Cuenta de administrador creada"),console.log(" [initializeStorage] - Email: admin@damabella.com"),console.log(" [initializeStorage] - Password: Admin123#"),console.log(" [initializeStorage] - Rol: Administrador")),console.log(`
 [initializeStorage] Total de usuarios a guardar: ${t.length}`),console.log(`
 [initializeStorage] PASO 3: Normalizando usuarios...`);const n=t.map(s=>{const c=s.rol||s.role||"Cliente";return{...s,rol:c,role:c,estado:s.estado||s.status||"Activo"}});console.log(`
 [initializeStorage] PASO 4: Guardando usuarios normalizados...`),localStorage.setItem("damabella_users",JSON.stringify(n)),console.log(" [initializeStorage] Usuarios guardados en localStorage"),console.log(`
 [initializeStorage] PASO 5: Listando usuarios almacenados:`),n.forEach((s,c)=>{console.log(`  [${c}] ${s.email}`),console.log(`        Nombre: ${s.nombre||s.name}`),console.log(`        Rol: ${s.rol||s.role}`),console.log(`        Estado: ${s.estado||s.status}`)}),console.log(`
 [initializeStorage] PASO 6: Inicializando claves administrativas...`),["damabella_productos","damabella_categorias","damabella_tallas","damabella_colores","damabella_ventas","damabella_pedidos","damabella_proveedores","damabella_clientes"].forEach(s=>{localStorage.getItem(s)||(localStorage.setItem(s,JSON.stringify([])),console.log(`   ${s}`))}),console.log(`
 [initializeStorage] PASO 7: CONTENIDO COMPLETO DE LOCALSTORAGE:`),console.log("".repeat(60));for(let s=0;s<localStorage.length;s++){const c=localStorage.key(s);if(c){const u=localStorage.getItem(c);console.log(`
 ${c}:`);try{const d=JSON.parse(u||"");Array.isArray(d)&&d.length===0?console.log("   [] (vaco)"):console.log(d)}catch{console.log(`   ${u}`)}}}console.log(`
`+"".repeat(60)),console.log(` [initializeStorage] INICIALIZACIN COMPLETADA
`)}function Wf(){const e=localStorage.getItem("damabella_users"),t=e?JSON.parse(e):[];return console.log(" [getAllUsers] Total de usuarios:",t.length),t.forEach((r,n)=>{const o=r.role||r.rol;console.log(`  [${n}] ${r.email}`),console.log(`        Nombre: ${r.nombre||r.name}`),console.log(`        Rol: "${o||"SIN ROLE"}"`),console.log(`        Password: ${r.password?"(guardada)":"undefined"}`),console.log(`        Documento: ${r.documento||"N/A"}`),console.log(`        Status: ${r.status||r.estado||"undefined"}`)}),t}function xZ(e){console.log(`
 [findUserByEmail] Buscando usuario: ${e}`);const r=Wf().find(n=>n.email===e);if(r){const n=r.role||r.rol;console.log(" [findUserByEmail] Usuario encontrado:"),console.log(`   - Email: ${r.email}`),console.log(`   - Nombre: ${r.nombre||r.name}`),console.log(`   - Rol: "${n||"SIN ROLE"}"`),console.log(`   - Password: ${r.password?"(guardada)":"undefined"}`),console.log(`   - Documento: ${r.documento||"N/A"}`),console.log(`   - Status: ${r.status||r.estado||"undefined"}`),console.log("   - Objeto COMPLETO:",JSON.stringify(r,null,2))}else console.log(` [findUserByEmail] Usuario NO encontrado: ${e}`);return r}function bZ(e,t){console.log(`
${"=".repeat(60)}`),console.log(" [validateCredentials] VALIDANDO CREDENCIALES"),console.log(`${"=".repeat(60)}`),console.log(` Email: ${e}`),console.log(` Password: ${t?"(ingresada)":"VACA"}`);const r=xZ(e);if(!r)return console.log(` [validateCredentials] Usuario no existe
`),null;if(r.email==="admin@damabella.com"&&!r.password){console.log("  [validateCredentials] Admin sin contrasea, asignando..."),r.password="Admin123#";const n=Wf(),o=n.findIndex(s=>s.email===e);o!==-1&&(n[o].password="Admin123#",localStorage.setItem("damabella_users",JSON.stringify(n)))}if(console.log(`
 [validateCredentials] COMPARANDO CONTRASEAS:`),console.log(`   - Almacenada: "${r.password}"`),console.log(`   - Ingresada:  "${t}"`),console.log(`   - Coinciden? ${r.password===t?" S":" NO"}`),r.password===t){const n=r.rol||r.role;console.log(`
 [validateCredentials] ROL DETECTADO:`),console.log(`   - user.role: "${r.role}"`),console.log(`   - user.rol: "${r.rol}"`),console.log(`   - rolField final: "${n}"`);const{password:o,...s}=r,c={...s,rol:n||"Cliente",role:n||"Cliente",isAuthenticated:!0};return console.log(`
 [validateCredentials] LOGIN EXITOSO`),console.log(`   - Nombre: ${c.nombre||c.name}`),console.log(`   - Rol EN RESULTADO: "${c.rol||"UNDEFINED"}" (rol field)`),console.log(`   - Email: ${c.email}`),console.log(`
 [validateCredentials] OBJETO COMPLETO DEL USUARIO:`,JSON.stringify(c,null,2)),console.log(`${"=".repeat(60)}
`),c}return console.log(`
 [validateCredentials] CONTRASEA INCORRECTA`),console.log(`${"=".repeat(60)}
`),null}function jZ(){console.log(`
 [addSuperAdmin] Verificando si el super admin ya existe...`);const e=Wf();if(e.some(n=>n.email==="superadmin@damabella.com")){console.log(" [addSuperAdmin] Super admin ya existe en el sistema");return}console.log(" [addSuperAdmin] Agregando nuevo super admin...");const r={id:"99",nombre:"Super Administrador",email:"superadmin@damabella.com",password:"AdminMaster#2024",rol:"Administrador",estado:"Activo",creadoPor:"Sistema",fechaCreacion:"2024-01-15"};e.push(r),localStorage.setItem("damabella_users",JSON.stringify(e)),console.log(" [addSuperAdmin] Super admin agregado exitosamente"),console.log(`   - Email: ${r.email}`),console.log(`   - Rol: ${r.rol}`),console.log(`   - Password: ${r.password}`),console.log(`
 [addSuperAdmin] TODOS LOS USUARIOS DESPUS DE AGREGAR:`),Wf()}function bD(){try{const e=localStorage.getItem("damabella_users");return e?JSON.parse(e):[]}catch(e){return console.error("Error leyendo usuarios:",e),[]}}function jD(){try{const e=localStorage.getItem("damabella_clientes");return e?JSON.parse(e):[]}catch(e){return console.error("Error leyendo clientes:",e),[]}}function wZ(e){try{localStorage.setItem("damabella_users",JSON.stringify(e))}catch(t){console.error("Error guardando usuarios:",t)}}function NZ(e){try{localStorage.setItem("damabella_clientes",JSON.stringify(e))}catch(t){console.error("Error guardando clientes:",t)}}function wD(e){return!bD().some(r=>r.email.toLowerCase()===e.toLowerCase())}function ND(e,t){return!jD().some(n=>n.numeroDocumento===e&&n.tipoDocumento===t)}function SZ(e){return/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}function CZ(e){if(console.log(`
 [registrarClienteDesdeEcommerce] Iniciando registro...`),console.log(" Datos recibidos:",e),!e.nombre||!e.email||!e.password||!e.numeroDocumento)return{success:!1,error:"Faltan datos requeridos"};if(!wD(e.email))return{success:!1,error:"Este correo ya est registrado"};if(!ND(e.numeroDocumento,e.tipoDocumento))return{success:!1,error:"Este documento ya est registrado"};if(!SZ(e.email))return{success:!1,error:"Email invlido"};const t="usr_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),r="cli_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),n=new Date().toISOString(),o={id:t,nombre:e.nombre,email:e.email,password:e.password,tipoDoc:e.tipoDocumento,numeroDoc:e.numeroDocumento,celular:e.telefono,direccion:e.direccion,role:"Cliente",status:"Activo",clienteId:r,createdAt:n},s={id:r,nombre:e.nombre,email:e.email,telefono:e.telefono,documento:e.numeroDocumento,tipoDocumento:e.tipoDocumento,numeroDocumento:e.numeroDocumento,direccion:e.direccion,ciudad:e.ciudad,userId:t,estado:"Activo",totalCompras:0,pedidos:0,createdAt:n};try{const c=bD();c.push(o),wZ(c),console.log(" Usuario creado:",o.id);const u=jD();return u.push(s),NZ(u),console.log(" Cliente creado:",s.id),console.log(` [registrarClienteDesdeEcommerce] Registro exitoso
`),{success:!0,usuario:o,cliente:s}}catch(c){return console.error(" Error al guardar:",c),{success:!1,error:"Error al guardar los datos"}}}const EZ=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]{8,}$/.test(e),PZ=e=>/^[a-zA-Z][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e),OZ=e=>/^[a-zA-Z\s]+$/.test(e),AZ=(e,t)=>{switch(e){case"TI":case"CC":return/^\d+$/.test(t)&&t.length>=6&&t.length<=12;case"CE":return/^\d{10,11}$/.test(t);case"PAS":return/^[A-Z0-9]{6,9}$/.test(t);default:return!1}},kZ=e=>/^\d{10}$/.test(e);function YA({onClose:e,onLogin:t}){const[r,n]=C.useState("login"),{showToast:o}=$o(),[s,c]=C.useState(""),[u,d]=C.useState(""),[m,h]=C.useState(!1),[p,v]=C.useState({nombre:"",tipoDoc:"CC",numeroDoc:"",celular:"",ciudad:"",direccion:"",email:"",password:"",confirmPassword:""}),[b,w]=C.useState(!1),[y,x]=C.useState(!1),[N,A]=C.useState({}),[E,_]=C.useState(new Set),[P,k]=C.useState(!1),[O,L]=C.useState(1),[T,M]=C.useState(""),[I,V]=C.useState(""),[z,B]=C.useState(""),[D,G]=C.useState(""),te=ie=>{ie.preventDefault(),console.log(`
 [LoginModal.handleLogin] ========== INICIANDO LOGIN ==========`),console.log(` Email: ${s}`),console.log(` Password: ${u?"(ingresada)":"(vaca)"}`);const K=bZ(s,u);if(K){if(console.log(`
 [LoginModal.handleLogin] Credenciales vlidas`),K.status==="Inactivo"){console.log(" [LoginModal.handleLogin] Cuenta inactiva"),o("Tu cuenta est inactiva. Contacta al administrador.","error");return}const pe={id:K.id,name:K.nombre,email:K.email,role:K.role,roleId:K.roleId,avatar:null,tipoDoc:K.tipoDoc,numeroDoc:K.numeroDoc,celular:K.celular,direccion:K.direccion,status:K.status};console.log(`
 [LoginModal.handleLogin] Preparando usuario para login:`),console.log(`  - name: ${pe.name}`),console.log(`  - email: ${pe.email}`),console.log(`  - role: ${pe.role}`),console.log(`  - status: ${pe.status}`),console.log("  - OBJETO COMPLETO:",JSON.stringify(pe,null,2)),console.log(`
 [LoginModal.handleLogin] Llamando onLogin()...`),t(pe),o("Bienvenido!","success"),console.log(` [LoginModal.handleLogin] ===========================================
`),e()}else console.log(" [LoginModal.handleLogin] Credenciales invlidas"),console.log(` [LoginModal.handleLogin] ===========================================
`),o("Correo o contrasea incorrectos","error")},R=(ie,K)=>{switch(ie){case"nombre":return K.trim()?OZ(K)?null:"Solo letras, espacios, tildes y ":"El nombre es obligatorio";case"tipoDoc":return K?null:"Selecciona un tipo de documento";case"numeroDoc":return K.trim()?AZ(p.tipoDoc,K)?ND(K,p.tipoDoc)?null:"Este documento ya est registrado":"Documento invlido para el tipo seleccionado":"El nmero de documento es obligatorio";case"celular":return K.trim()?kZ(K)?null:"Debe tener 10 dgitos":"El celular es obligatorio";case"ciudad":return K.trim()?K.trim().length<2?"La ciudad debe tener al menos 2 caracteres":null:"La ciudad es obligatoria";case"direccion":return K.trim()?K.trim().length<10?"Ingresa una direccin completa":null:"La direccin es obligatoria";case"email":return K.trim()?PZ(K)?wD(K)?null:"Este correo ya est registrado":"Email invlido (debe comenzar con letra)":"El email es obligatorio";case"password":return K?K.length<8?`${8-K.length} caracteres faltantes`:/[A-Z]/.test(K)?/[a-z]/.test(K)?/\d/.test(K)?/[@$!%*?&#]/.test(K)?null:"Agrega un carcter especial (@$!%*?&#)":"Agrega un nmero (0-9)":"Agrega una minscula":"Agrega una MAYSCULA":"La contrasea es obligatoria";case"confirmPassword":return K?K!==p.password?"Las contraseas no coinciden":null:"Confirma tu contrasea";default:return null}},Y=(ie,K)=>{if(v({...p,[ie]:K}),E.has(ie)){const pe=R(ie,K);if(pe)A({...N,[ie]:pe});else{const me={...N};delete me[ie],A(me)}}},U=ie=>{_(new Set([...E,ie]));const K=p[ie]||"",pe=R(ie,K);if(pe)A({...N,[ie]:pe});else{const me={...N};delete me[ie],A(me)}},F=()=>{const ie={};let K=!1;return["nombre","tipoDoc","numeroDoc","celular","ciudad","direccion","email","password","confirmPassword"].forEach(me=>{const ne=p[me]||"",se=R(me,ne);se&&(ie[me]=se,K=!0)}),A(ie),_(new Set(["nombre","tipoDoc","numeroDoc","celular","ciudad","direccion","email","password","confirmPassword"])),!K},W=async ie=>{if(ie.preventDefault(),console.log(`
 [LoginModal.handleRegister] ========== INICIANDO REGISTRO ==========`),console.log(" Datos del formulario:",p),!F()){console.log(" [LoginModal.handleRegister] Validaciones fallaron"),o("Por favor corrige los errores","error");return}k(!0);try{console.log(" [LoginModal.handleRegister] Validaciones pasadas"),console.log(" [LoginModal.handleRegister] Llamando registrarClienteDesdeEcommerce...");const K=CZ({nombre:p.nombre,tipoDocumento:p.tipoDoc,numeroDocumento:p.numeroDoc,telefono:p.celular,ciudad:p.ciudad,email:p.email,direccion:p.direccion,password:p.password});if(!K.success){console.log(" [LoginModal.handleRegister] Error:",K.error),o(K.error||"Error al registrar","error");return}console.log(" [LoginModal.handleRegister] Registro exitoso"),console.log("   - Usuario ID:",K.usuario?.id),console.log("   - Cliente ID:",K.cliente?.id),console.log("   - Usuario objeto:",JSON.stringify(K.usuario,null,2)),console.log("   - Cliente objeto:",JSON.stringify(K.cliente,null,2)),o("Registro exitoso! Ahora puedes iniciar sesin","success"),n("login"),v({nombre:"",tipoDoc:"CC",numeroDoc:"",celular:"",ciudad:"",direccion:"",email:"",password:"",confirmPassword:""}),A({}),_(new Set),console.log(` [LoginModal.handleRegister] Formulario reseteado
`),e()}catch(K){console.error(" [LoginModal.handleRegister] Error inesperado:",K),o("Error al registrar. Intenta de nuevo.","error")}finally{k(!1)}},ce=()=>{if(!EZ(z)){o("La contrasea debe tener 8+ caracteres, mayscula, minscula, nmero y especial","error");return}k(!0);try{const ie=localStorage.getItem("damabella_users")?JSON.parse(localStorage.getItem("damabella_users")||"[]"):[],K=ie.findIndex(pe=>pe.email===T);K!==-1&&(ie[K].password=z,localStorage.setItem("damabella_users",JSON.stringify(ie)),o("Contrasea actualizada! Ahora puedes iniciar sesin","success"),n("login"),L(1),M(""),V(""),B(""),G(""))}finally{k(!1)}};return a.jsx("div",{onClick:e,className:"fixed inset-0 bg-black/50 z-[999999] flex items-center justify-center p-4",children:a.jsxs("div",{onClick:ie=>ie.stopPropagation(),className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsxs("div",{className:"sticky top-0 bg-gray-600 px-4 py-4 flex items-center justify-center rounded-t-2xl z-10",children:[a.jsx("div",{className:"flex-1 text-center",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"DAMABELLA"})}),a.jsx("button",{onClick:e,className:"absolute right-4 text-white hover:bg-white/30 p-2 rounded-full transition",children:a.jsx(da,{size:24})})]}),a.jsx("div",{className:"bg-gray-600 px-4 py-3",children:a.jsxs("button",{onClick:e,className:"w-full bg-white text-gray-600 hover:bg-gray-100 px-4 py-2 rounded-lg transition flex items-center justify-center gap-2 font-semibold text-sm",children:[a.jsx("span",{children:""}),a.jsx("span",{children:"Volver a Inicio"})]})}),r!=="recovery"&&a.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[a.jsx("button",{onClick:()=>n("login"),className:`flex-1 py-2 px-3 text-xs font-bold transition-all ${r==="login"?"text-[#FFB6C1] border-b-2 border-[#FFB6C1] bg-white":"text-gray-600 hover:text-gray-900"}`,children:" Iniciar"}),a.jsx("button",{onClick:()=>n("register"),className:`flex-1 py-2 px-3 text-xs font-bold transition-all ${r==="register"?"text-[#FFB6C1] border-b-2 border-[#FFB6C1] bg-white":"text-gray-600 hover:text-gray-900"}`,children:" Registro"})]}),a.jsxs("div",{className:"p-4",children:[r==="login"&&a.jsxs("form",{onSubmit:te,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"login-email",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Correo"}),a.jsx(Le,{id:"login-email",type:"email",placeholder:"tu@correo.com",value:s,onChange:ie=>c(ie.target.value),required:!0,autoFocus:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"})]}),a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"login-password",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{id:"login-password",type:m?"text":"password",placeholder:"",value:u,onChange:ie=>d(ie.target.value),required:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}),a.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-2 text-gray-400 hover:text-gray-600",children:m?a.jsx(jo,{size:16}):a.jsx(Ar,{size:16})})]})]}),a.jsx("button",{type:"button",onClick:()=>n("recovery"),className:"text-xs text-[#FFB6C1] hover:text-[#FF9EB1] font-semibold",children:"Olvidaste contrasea?"}),a.jsx(Te,{type:"submit",className:"w-full bg-[#FFB6C1] hover:bg-[#FF9EB1] text-white font-bold py-2 rounded text-sm transition",children:"Entrar"})]}),r==="register"&&a.jsxs("form",{onSubmit:W,className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx(Ct,{htmlFor:"reg-nombre",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Nombre"}),a.jsx(Le,{id:"reg-nombre",placeholder:"Andrea Prez",value:p.nombre,onChange:ie=>{const K=ie.target.value.replace(/[^a-zA-Z\s]/g,"");Y("nombre",K)},onBlur:()=>U("nombre"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${E.has("nombre")&&p.nombre?N.nombre?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),N.nombre&&E.has("nombre")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.nombre})]}),a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"reg-tipodoc",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Tipo Doc"}),a.jsxs("select",{id:"reg-tipodoc",value:p.tipoDoc,onChange:ie=>Y("tipoDoc",ie.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1] text-xs",children:[a.jsx("option",{value:"CC",children:"Cdula"}),a.jsx("option",{value:"TI",children:"TI"}),a.jsx("option",{value:"CE",children:"CE"}),a.jsx("option",{value:"PAS",children:"Pasaporte"})]})]}),a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"reg-numdoc",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Nmero"}),a.jsx(Le,{id:"reg-numdoc",placeholder:"123456",value:p.numeroDoc,onChange:ie=>{let K=ie.target.value;p.tipoDoc==="PAS"?K=ie.target.value.replace(/[^A-Z0-9]/g,"").toUpperCase():K=ie.target.value.replace(/\D/g,""),Y("numeroDoc",K)},onBlur:()=>U("numeroDoc"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${E.has("numeroDoc")&&p.numeroDoc?N.numeroDoc?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),N.numeroDoc&&E.has("numeroDoc")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.numeroDoc})]}),a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"reg-celular",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Celular"}),a.jsx(Le,{id:"reg-celular",type:"tel",maxLength:10,placeholder:"3001234567",value:p.celular,onChange:ie=>{const K=ie.target.value.replace(/\D/g,"");Y("celular",K)},onBlur:()=>U("celular"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${E.has("celular")&&p.celular?N.celular?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),N.celular&&E.has("celular")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.celular})]}),a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"reg-ciudad",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Ciudad"}),a.jsx(Le,{id:"reg-ciudad",placeholder:"Bogot",value:p.ciudad,onChange:ie=>Y("ciudad",ie.target.value),onBlur:()=>U("ciudad"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${E.has("ciudad")&&p.ciudad?N.ciudad?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),N.ciudad&&E.has("ciudad")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.ciudad})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Ct,{htmlFor:"reg-direccion",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Direccin"}),a.jsx(Le,{id:"reg-direccion",placeholder:"Calle 123",value:p.direccion,onChange:ie=>Y("direccion",ie.target.value),onBlur:()=>U("direccion"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${E.has("direccion")&&p.direccion?N.direccion?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),N.direccion&&E.has("direccion")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.direccion})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Ct,{htmlFor:"reg-email",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Email"}),a.jsx(Le,{id:"reg-email",type:"email",placeholder:"tu@email.com",value:p.email,onChange:ie=>{const K=ie.target.value.toLowerCase();Y("email",K)},onBlur:()=>U("email"),className:`w-full border rounded px-2 py-1.5 text-sm transition ${E.has("email")&&p.email?N.email?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),N.email&&E.has("email")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.email})]}),a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"reg-password",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{id:"reg-password",type:b?"text":"password",value:p.password,onChange:ie=>Y("password",ie.target.value),onBlur:()=>U("password"),placeholder:"Min 8 caracteres",className:`w-full border rounded px-2 py-1.5 pr-8 text-sm transition ${E.has("password")&&p.password?N.password?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),a.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?a.jsx(jo,{size:14}):a.jsx(Ar,{size:14})})]}),p.password&&a.jsxs("div",{className:"mt-1 p-1.5 bg-gray-50 rounded border border-gray-200 space-y-0.5",children:[a.jsxs("div",{className:`flex items-center gap-1 text-xs ${p.password.length>=8?"text-green-600":"text-gray-400"}`,children:[a.jsx("span",{className:"w-3",children:p.password.length>=8?"":""}),a.jsx("span",{children:"8+ caracteres"})]}),a.jsxs("div",{className:`flex items-center gap-1 text-xs ${/[A-Z]/.test(p.password)?"text-green-600":"text-gray-400"}`,children:[a.jsx("span",{className:"w-3",children:/[A-Z]/.test(p.password)?"":""}),a.jsx("span",{children:"Mayscula"})]}),a.jsxs("div",{className:`flex items-center gap-1 text-xs ${/[a-z]/.test(p.password)?"text-green-600":"text-gray-400"}`,children:[a.jsx("span",{className:"w-3",children:/[a-z]/.test(p.password)?"":""}),a.jsx("span",{children:"Minscula"})]}),a.jsxs("div",{className:`flex items-center gap-1 text-xs ${/\d/.test(p.password)?"text-green-600":"text-gray-400"}`,children:[a.jsx("span",{className:"w-3",children:/\d/.test(p.password)?"":""}),a.jsx("span",{children:"Nmero"})]}),a.jsxs("div",{className:`flex items-center gap-1 text-xs ${/[@$!%*?&#]/.test(p.password)?"text-green-600":"text-gray-400"}`,children:[a.jsx("span",{className:"w-3",children:/[@$!%*?&#]/.test(p.password)?"":""}),a.jsx("span",{children:"Especial"})]})]}),N.password&&E.has("password")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.password})]}),a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"reg-confirm",className:"text-sm font-semibold text-gray-700 block mb-1",children:"Confirmar"}),a.jsxs("div",{className:"relative",children:[a.jsx(Le,{id:"reg-confirm",type:y?"text":"password",value:p.confirmPassword,onChange:ie=>Y("confirmPassword",ie.target.value),onBlur:()=>U("confirmPassword"),placeholder:"Repite contrasea",className:`w-full border rounded px-2 py-1.5 text-sm pr-8 transition ${E.has("confirmPassword")&&p.confirmPassword?N.confirmPassword?"border-red-400 bg-red-50":"border-green-400 bg-green-50":"border-gray-300 focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}`}),a.jsx("button",{type:"button",onClick:()=>x(!y),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:y?a.jsx(jo,{size:14}):a.jsx(Ar,{size:14})})]}),N.confirmPassword&&E.has("confirmPassword")&&a.jsx("p",{className:"text-red-500 text-xs mt-0.5",children:N.confirmPassword})]})]}),a.jsx(Te,{type:"submit",disabled:Object.keys(N).length>0||P,className:"w-full bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition mt-3",children:P?"Registrando...":"Crear Cuenta"})]}),r==="recovery"&&a.jsxs("div",{className:"space-y-3",children:[O===1&&a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"recovery-email",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Ingresa tu correo"}),a.jsx(Le,{id:"recovery-email",type:"email",placeholder:"tu@email.com",value:T,onChange:ie=>M(ie.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}),a.jsx(Te,{onClick:()=>L(2),disabled:!T.trim(),className:"w-full mt-3 bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition",children:"Continuar"})]}),O===2&&a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"recovery-code",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Ingresa el cdigo"}),a.jsx(Le,{id:"recovery-code",placeholder:"123456",value:I,onChange:ie=>V(ie.target.value.replace(/\D/g,"")),maxLength:6,className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1] text-center tracking-widest"}),a.jsx(Te,{onClick:()=>L(3),disabled:I.length!==6,className:"w-full mt-3 bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition",children:"Verificar"})]}),O===3&&a.jsxs("div",{children:[a.jsx(Ct,{htmlFor:"recovery-new-password",className:"text-sm font-semibold text-gray-700 block mb-1.5",children:"Nueva contrasea"}),a.jsx(Le,{id:"recovery-new-password",type:"password",placeholder:"Nueva contrasea",value:z,onChange:ie=>B(ie.target.value),className:"w-full border border-gray-300 rounded px-2 py-1.5 text-sm focus:border-[#FFB6C1] focus:ring-1 focus:ring-[#FFB6C1]"}),a.jsx(Te,{onClick:ce,disabled:!z.trim()||P,className:"w-full mt-3 bg-[#FFB6C1] hover:bg-[#FF9EB1] disabled:bg-gray-400 text-white font-bold py-2 rounded text-sm transition",children:P?"Recuperando...":"Recuperar"})]}),a.jsx("button",{type:"button",onClick:()=>{L(1),M(""),V(""),B(""),n("login")},className:"text-xs text-[#FFB6C1] hover:text-[#FF9EB1] font-semibold text-center w-full mt-2",children:"Volver"})]})]})]})})}function _Z({currentUser:e,isAuthenticated:t,onLogin:r,onLogout:n}){const[o,s]=C.useState("home"),[c,u]=C.useState(null),[d,m]=C.useState(void 0),h=(b,w)=>{if(["checkout","profile","orders"].includes(b)&&!t){s("login");return}b==="detail"?(u(w||null),s("detail")):b==="search"?(m(w),s("search")):(s(b),u(null)),window.scrollTo(0,0)},p=b=>{r(b),s("home")},v=()=>{switch(o){case"login":return a.jsx(YA,{onClose:()=>s("home"),onLogin:p});case"home":return a.jsx(Ql,{onNavigate:h,onLoginRequired:()=>s("login"),isAuthenticated:t,currentUser:e});case"search":return a.jsx(cZ,{onNavigate:h,initialCategory:d,isAuthenticated:t,currentUser:e});case"detail":return c?a.jsx(uZ,{productId:c,onNavigate:h,isAuthenticated:t,currentUser:e}):a.jsx(Ql,{onNavigate:h,onLoginRequired:()=>s("login"),isAuthenticated:t,currentUser:e});case"cart":return a.jsx(dZ,{onNavigate:h,isAuthenticated:t,currentUser:e});case"favorites":return a.jsx(fZ,{onNavigate:h,isAuthenticated:t,currentUser:e});case"checkout":return t?a.jsx(pZ,{onNavigate:h,currentUser:e}):a.jsx(YA,{onClose:()=>s("home"),onLogin:p});case"purchase-success":return a.jsx(hZ,{onNavigate:h});case"profile":return t?a.jsx(gZ,{onNavigate:h,currentUser:e,onLogout:n,onLogin:p}):a.jsx(Ql,{onNavigate:h,onLoginRequired:()=>s("login"),isAuthenticated:t,currentUser:e});case"orders":return t?a.jsx(UY,{onNavigate:h,currentUser:e}):a.jsx(Ql,{onNavigate:h,onLoginRequired:()=>s("login"),isAuthenticated:t,currentUser:e});case"contact":return a.jsx(vZ,{onNavigate:h,isAuthenticated:t,currentUser:e});default:return a.jsx(Ql,{onNavigate:h,onLoginRequired:()=>s("login"),isAuthenticated:t,currentUser:e})}};return a.jsx(TT,{children:a.jsx(qY,{children:v()})})}class ZA extends Z.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("[ErrorBoundary] Error capturado:",t),console.error("[ErrorBoundary] Error Info:",r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 flex items-center justify-center px-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx("div",{className:"bg-red-100 rounded-full p-4",children:a.jsx(Mt,{size:48,className:"text-red-500"})})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Algo sali mal"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Ocurri un error inesperado. No te preocupes, nuestro equipo ya est trabajando en ello."}),!1,a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("button",{onClick:this.handleReset,className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white py-3 rounded-lg hover:from-pink-500 hover:to-purple-500 transition-all transform hover:scale-105 font-semibold flex items-center justify-center gap-2",children:[a.jsx(j3,{size:18}),"Reintentar"]}),a.jsx("button",{onClick:()=>{window.location.href="/"},className:"bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 transition-all font-semibold",children:"Ir a inicio"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-6",children:"Si el problema persiste, intenta recargar la pgina o contacta al soporte."})]})}):this.props.children}}function IZ(e){if(!e)return"PENDIENTE";const t=String(e).toLowerCase().trim();return["completada","completed","finalizada","finish"].includes(t)?"COMPLETADA":["anulada","cancelled","cancelada","anulado"].includes(t)?"ANULADA":["devuelta","returned","devuelto","devolucion"].includes(t)?"DEVUELTA":String(e).toUpperCase()||"COMPLETADA"}function TZ(e){if(!e)return"PENDIENTE";const t=String(e).toLowerCase().trim();return["pendiente","pending","en espera"].includes(t)?"PENDIENTE":["convertido a venta","convertido_a_venta","converted","venta","completada"].includes(t)?"CONVERTIDO_A_VENTA":["anulada","anulado","cancelled","cancelada"].includes(t)?"ANULADO":"PENDIENTE"}function DZ(e){if(typeof e=="boolean")return e?"ACTIVO":"INACTIVO";const t=String(e).toLowerCase().trim();return["activo","active","true","1"].includes(t)?"ACTIVO":["inactivo","inactive","false","0"].includes(t)?"INACTIVO":"ACTIVO"}function Yc(e){if(!e)return new Date().toISOString();try{return(typeof e=="string"?new Date(e):e).toISOString()}catch{return console.warn(` [MIGRACIN] Fecha invlida: ${e}, usando hoy`),new Date().toISOString()}}function hn(e,t=0){const r=Number(e);return isNaN(r)?t:r}function $Z(){const e="damabella_clientes";try{const t=localStorage.getItem(e);if(!t)return!0;const r=JSON.parse(t);if(!Array.isArray(r)||r.length===0)return!0;console.log(` [MIGRACIN] Normalizando ${r.length} clientes...`);const n=r.map(o=>({...o,activo:typeof o.activo=="string"?DZ(o.activo)==="ACTIVO":!!(o.activo??!0),createdAt:Yc(o.createdAt),id:String(o.id||"")}));return localStorage.setItem(e,JSON.stringify(n)),console.log(` [MIGRACIN] ${n.length} clientes normalizados`),!0}catch(t){return console.error(" [MIGRACIN] Error normalizando clientes:",t),!1}}function MZ(){const e="damabella_ventas";try{const t=localStorage.getItem(e);if(!t)return!0;const r=JSON.parse(t);if(!Array.isArray(r)||r.length===0)return!0;console.log(` [MIGRACIN] Normalizando ${r.length} ventas...`);const n=r.map(o=>({...o,estado:IZ(o.estado),clienteId:String(o.clienteId||""),fechaVenta:Yc(o.fechaVenta),createdAt:Yc(o.createdAt),subtotal:hn(o.subtotal,0),iva:hn(o.iva,0),total:hn(o.total,0),items:(o.items||[]).map(s=>({...s,cantidad:hn(s.cantidad,0),precioVenta:hn(s.precioVenta||s.precioUnitario,0),subtotal:hn(s.subtotal,0)})),id:String(o.id||"")}));return localStorage.setItem(e,JSON.stringify(n)),console.log(` [MIGRACIN] ${n.length} ventas normalizadas`),!0}catch(t){return console.error(" [MIGRACIN] Error normalizando ventas:",t),!1}}function RZ(){const e="damabella_pedidos";try{const t=localStorage.getItem(e);if(!t)return!0;const r=JSON.parse(t);if(!Array.isArray(r)||r.length===0)return!0;console.log(` [MIGRACIN] Normalizando ${r.length} pedidos...`);const n=r.map(o=>({...o,estado:TZ(o.estado),clienteId:String(o.clienteId||""),fechaPedido:Yc(o.fechaPedido),createdAt:Yc(o.createdAt),subtotal:hn(o.subtotal,0),iva:hn(o.iva,0),total:hn(o.total,0),productos:(o.productos||o.items||[]).map(s=>({...s,cantidad:hn(s.cantidad,0),precioVenta:hn(s.precioVenta||s.precioUnitario,0)})),items:(o.productos||o.items||[]).map(s=>({...s,cantidad:hn(s.cantidad,0),precioVenta:hn(s.precioVenta||s.precioUnitario,0)})),id:String(o.id||"")}));return localStorage.setItem(e,JSON.stringify(n)),console.log(` [MIGRACIN] ${n.length} pedidos normalizados`),!0}catch(t){return console.error(" [MIGRACIN] Error normalizando pedidos:",t),!1}}function LZ(){const e="v1_dashboard_normalization",t="damabella_migrations";try{const r=localStorage.getItem(t),n=r?JSON.parse(r):{};if(n[e]){console.log(` [MIGRACIN] ${e} ya fue ejecutada, saltando...`);return}console.log(`
${"=".repeat(60)}`),console.log(` INICIANDO MIGRACIN: ${e}`),console.log(`${"=".repeat(60)}
`);const o={clientes:$Z(),ventas:MZ(),pedidos:RZ()};Object.values(o).every(c=>c===!0)?(n[e]={timestamp:new Date().toISOString(),status:"SUCCESS"},localStorage.setItem(t,JSON.stringify(n)),console.log(`
${"=".repeat(60)}`),console.log(` MIGRACIN COMPLETADA: ${e}`),console.log(` Timestamp: ${n[e].timestamp}`),console.log(`${"=".repeat(60)}
`)):(console.error(`
 [MIGRACIN] Error en migracin, NO se guarda versin`),console.error("Resultados:",o),console.error(`Los datos NO fueron modificados
`))}catch(r){console.error(`
 [MIGRACIN] Error fatal:`,r),console.error(`Los datos NO fueron modificados
`)}}function zZ(){const[e,t]=C.useState(!1),[r,n]=C.useState(null),[o,s]=C.useState(!1);C.useEffect(()=>{console.log(`
 [App] ========== INICIANDO APLICACIN ==========`),localStorage.getItem("damabella_users")?console.log(" [App] Storage ya inicializado, sin reset"):(console.log(" [App] Primera inicializacin, creando usuario admin..."),yZ()),jZ(),console.log(`
 [App] Ejecutando migraciones de datos...`),LZ(),s(!0)},[]),C.useEffect(()=>{if(!o)return;console.log(`
 [App] Verificando sesin guardada...`);const d=localStorage.getItem("damabella_current_user");if(d)try{const m=JSON.parse(d);console.log(` [App] Sesin encontrada: ${m.email} (Rol: ${m.role})`),t(!0),n(m)}catch(m){console.error(" [App] Error cargando sesin guardada:",m),localStorage.removeItem("damabella_current_user")}else console.log(" [App] No hay sesin guardada. Usuario no autenticado.")},[o]);const c=d=>{console.log(`
 [App.handleLogin] Login exitoso`),console.log(` [App.handleLogin] Usuario: ${d.nombre}`),console.log(` [App.handleLogin] Email: ${d.email}`),console.log(` [App.handleLogin] Rol: ${d.role}`),t(!0),n(d),localStorage.setItem("damabella_current_user",JSON.stringify(d)),console.log(` [App.handleLogin] Sesin guardada en localStorage
`)},u=()=>{console.log(`
 [App.handleLogout] Cerrando sesin...`),console.log(` [App.handleLogout] Usuario: ${r?.email}`),t(!1),n(null),localStorage.removeItem("damabella_current_user"),console.log(` [App.handleLogout] Sesin cerrada
`)};return o?(console.log(`
 [App.render] Estado actual:`),console.log(`  - isAuthenticated: ${e}`),console.log(`  - currentUser: ${r?r.email:"null"}`),console.log(`  - role: ${r?r.role:"null"}`),e&&(r?.role==="Administrador"||r?.role==="Empleado")?(console.log(` [App.render] Renderizando: DASHBOARD ADMINISTRATIVO
`),a.jsx(ZA,{children:a.jsx(iZ,{currentUser:r,onLogout:u})})):(console.log(` [App.render] Renderizando: MDULO DE CLIENTE
`),a.jsx(ZA,{children:a.jsx(_Z,{currentUser:r,isAuthenticated:e,onLogin:c,onLogout:u})}))):a.jsx("div",{children:"Cargando..."})}u4.createRoot(document.getElementById("root")).render(a.jsx(zZ,{}));
