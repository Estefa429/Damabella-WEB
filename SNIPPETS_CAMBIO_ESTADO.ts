/**\n * üî• SNIPPETS R√ÅPIDOS: Copiar y Pegar\n * \n * Patrones de c√≥digo listos para usar en tu proyecto.\n * Solo copia la secci√≥n que necesites.\n */\n\n// ============================================================================\n// SNIPPET 1: Bot√≥n Simple en Tabla\n// ============================================================================\n\n/*\n<button\n  onClick={async () => {\n    const { cambiarEstado } = useCambioEstadoPedido();\n    await cambiarEstado(pedido.id, 'Completada');\n  }}\n  className=\"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700\"\n>\n  ‚úì Completar\n</button>\n*/\n\n// ============================================================================\n// SNIPPET 2: Validar antes de Renderizar\n// ============================================================================\n\n/*\nimport { puedeCompletarse, puedeAnularse, puedeEditarse } from './services/cambioEstadoCentralizado';\n\n// En tu componente:\n{puedeCompletarse(pedido.estado) && (\n  <button>Completar Pedido</button>\n)}\n\n{puedeAnularse(pedido.estado) && (\n  <button>Anular Pedido</button>\n)}\n\n{!puedeEditarse(pedido.estado) && (\n  <p className=\"text-red-600\">Este pedido no puede ser editado</p>\n)}\n*/\n\n// ============================================================================\n// SNIPPET 3: Badge de Estado con Color\n// ============================================================================\n\n/*\nimport { obtenerClaseEstado, obtenerDescripcionEstado } from './services/cambioEstadoCentralizado';\n\n<span className={`px-3 py-1 rounded text-sm font-medium ${obtenerClaseEstado(pedido.estado)}`}>\n  {obtenerDescripcionEstado(pedido.estado)}\n</span>\n*/\n\n// ============================================================================\n// SNIPPET 4: Hook B√°sico\n// ============================================================================\n\n/*\nimport { useCambioEstadoPedido } from './hooks/useCambioEstadoPedido';\n\nconst { \n  cambiarEstado, \n  cargando, \n  error, \n  exito,\n  puedeCompletarse,\n  puedeAnularse \n} = useCambioEstadoPedido({\n  onNotificar: (tipo, msg) => console.log(`[${tipo}] ${msg}`)\n});\n\nconst handleCompletarPedido = async () => {\n  await cambiarEstado(pedido.id, 'Completada');\n};\n\n<button \n  onClick={handleCompletarPedido}\n  disabled={cargando || !puedeCompletarse(pedido.estado)}\n>\n  {cargando ? '‚è≥ Procesando...' : '‚úì Completar'}\n</button>\n\n{error && <p className=\"text-red-600\">{error}</p>}\n{exito && <p className=\"text-green-600\">‚úì Operaci√≥n exitosa</p>}\n*/\n\n// ============================================================================\n// SNIPPET 5: Hook con Sincronizaci√≥n a Ventas\n// ============================================================================\n\n/*\nimport { useCambioEstadoPedido } from './hooks/useCambioEstadoPedido';\n\nconst { cambiarEstado } = useCambioEstadoPedido({\n  // Esta funci√≥n se ejecuta autom√°ticamente al completar\n  onSincronizarVentas: (pedido) => {\n    const ventasJson = localStorage.getItem('damabella_ventas') || '[]';\n    const ventas = JSON.parse(ventasJson);\n    \n    ventas.push({\n      id: `vta_${Date.now()}`,\n      pedidoId: pedido.id,\n      clienteId: pedido.clienteId,\n      productos: pedido.productos,\n      total: pedido.productos.reduce((sum, p) => sum + (p.precioVenta * p.cantidad), 0),\n      fecha: new Date().toISOString()\n    });\n    \n    localStorage.setItem('damabella_ventas', JSON.stringify(ventas));\n    console.log('‚úì Venta creada autom√°ticamente');\n  },\n  \n  // Notificaciones\n  onNotificar: (tipo, msg) => {\n    if (tipo === 'exito') showSuccessToast(msg);\n    if (tipo === 'error') showErrorToast(msg);\n  }\n});\n*/\n\n// ============================================================================\n// SNIPPET 6: Deshabilitar Formulario si no es Editable\n// ============================================================================\n\n/*\nimport { puedeEditarse } from './services/cambioEstadoCentralizado';\n\nfunction FormularioPedido({ pedido }: Props) {\n  const permitido = puedeEditarse(pedido.estado);\n\n  return (\n    <form disabled={!permitido}>\n      <input name=\"cliente\" defaultValue={pedido.clienteId} />\n      <input name=\"descripcion\" defaultValue={pedido.descripcion} />\n      <button type=\"submit\" disabled={!permitido}>\n        Guardar\n      </button>\n    </form>\n  );\n}\n*/\n\n// ============================================================================\n// SNIPPET 7: Desplegable para Cambiar Estado\n// ============================================================================\n\n/*\nimport { useCambioEstadoPedido } from './hooks/useCambioEstadoPedido';\n\nconst { \n  cambiarEstado, \n  cargando,\n  puedeCompletarse,\n  puedeAnularse \n} = useCambioEstadoPedido();\n\nconst handleSelectEstado = async (e: React.ChangeEvent<HTMLSelectElement>) => {\n  const nuevoEstado = e.target.value as any;\n  await cambiarEstado(pedido.id, nuevoEstado);\n};\n\n<select onChange={handleSelectEstado} value={pedido.estado} disabled={cargando}>\n  <option value={pedido.estado} disabled>\n    {pedido.estado} (actual)\n  </option>\n  {puedeCompletarse(pedido.estado) && (\n    <option value=\"Completada\">‚Üí Completada</option>\n  )}\n  {puedeAnularse(pedido.estado) && (\n    <option value=\"Anulado\">‚Üí Anulado</option>\n  )}\n</select>\n*/\n\n// ============================================================================\n// SNIPPET 8: Cambiar Estado sin React (en servicios)\n// ============================================================================\n\n/*\nimport { cambiarEstadoPedidoCentralizado } from './services/cambioEstadoCentralizado';\n\n// En una funci√≥n de servicio:\nasync function completarPedidoEnServidor(pedidoId: string) {\n  const resultado = await cambiarEstadoPedidoCentralizado(\n    pedidoId,\n    'Completada',\n    {\n      onSincronizarVentas: (pedido) => {\n        // Crear venta\n      },\n      onNotificar: (tipo, msg) => {\n        console.log(`[${tipo}] ${msg}`);\n      },\n      onLog: (nivel, msg) => {\n        console.log(`[${nivel}] ${msg}`);\n      }\n    }\n  );\n\n  if (resultado.success) {\n    console.log('‚úì Pedido completado:', resultado.pedido);\n    return resultado;\n  } else {\n    throw new Error(resultado.error?.detalle || resultado.mensaje);\n  }\n}\n*/\n\n// ============================================================================\n// SNIPPET 9: Actualizar Lista despu√©s de Cambio de Estado\n// ============================================================================\n\n/*\nimport { useCambioEstadoPedido } from './hooks/useCambioEstadoPedido';\n\nfunction ListaPedidos({ pedidosInicial }: Props) {\n  const [pedidos, setPedidos] = useState(pedidosInicial);\n  const { cambiarEstado, ultimoPedidoActualizado } = useCambioEstadoPedido();\n\n  const handleCompletarPedido = async (pedidoId: string) => {\n    await cambiarEstado(pedidoId, 'Completada');\n  };\n\n  // Actualizar lista cuando un pedido se actualiza\n  useEffect(() => {\n    if (ultimoPedidoActualizado) {\n      setPedidos(prev =>\n        prev.map(p => p.id === ultimoPedidoActualizado.id ? ultimoPedidoActualizado : p)\n      );\n    }\n  }, [ultimoPedidoActualizado]);\n\n  return (\n    <table>\n      <tbody>\n        {pedidos.map(pedido => (\n          <tr key={pedido.id}>\n            <td>{pedido.id}</td>\n            <td>{pedido.estado}</td>\n            <td>\n              <button onClick={() => handleCompletarPedido(pedido.id)}>\n                Completar\n              </button>\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n*/\n\n// ============================================================================\n// SNIPPET 10: Hook Personalizado Reutilizable\n// ============================================================================\n\n/*\nimport { useCambioEstadoPedido } from './hooks/useCambioEstadoPedido';\nimport type { Pedido } from './services/pedidoService';\n\n// Crear tu propio hook personalizado\nexport function usePedidosConTransiciones() {\n  const [pedidos, setPedidos] = useState<Pedido[]>([]);\n  \n  const {\n    cambiarEstado,\n    cargando,\n    error,\n    ultimoPedidoActualizado\n  } = useCambioEstadoPedido({\n    onSincronizarVentas: (pedido) => {\n      // Tu l√≥gica de sincronizaci√≥n\n      console.log('üì§ Sincronizando venta:', pedido.id);\n    },\n    onNotificar: (tipo, msg) => {\n      // Tu l√≥gica de notificaci√≥n\n      console.log(`[${tipo}] ${msg}`);\n    }\n  });\n\n  const completarPedido = async (pedidoId: string) => {\n    await cambiarEstado(pedidoId, 'Completada');\n    if (ultimoPedidoActualizado) {\n      setPedidos(prev =>\n        prev.map(p => p.id === ultimoPedidoActualizado.id ? ultimoPedidoActualizado : p)\n      );\n    }\n  };\n\n  const anularPedido = async (pedidoId: string) => {\n    await cambiarEstado(pedidoId, 'Anulado');\n    if (ultimoPedidoActualizado) {\n      setPedidos(prev =>\n        prev.map(p => p.id === ultimoPedidoActualizado.id ? ultimoPedidoActualizado : p)\n      );\n    }\n  };\n\n  return {\n    pedidos,\n    cargando,\n    error,\n    completarPedido,\n    anularPedido\n  };\n}\n\n// Uso:\nconst { completarPedido, anularPedido, cargando } = usePedidosConTransiciones();\n*/\n\n// ============================================================================\n// SNIPPET 11: Componente Reutilizable de Botones de Estado\n// ============================================================================\n\n/*\nimport { useCambioEstadoPedido } from './hooks/useCambioEstadoPedido';\nimport type { Pedido } from './services/pedidoService';\n\ninterface BotonesEstadoPedidoProps {\n  pedido: Pedido;\n  onActualizar?: (pedido: Pedido) => void;\n}\n\nexport function BotonesEstadoPedido({ pedido, onActualizar }: BotonesEstadoPedidoProps) {\n  const {\n    cambiarEstado,\n    cargando,\n    error,\n    ultimoPedidoActualizado,\n    puedeCompletarse,\n    puedeAnularse\n  } = useCambioEstadoPedido();\n\n  const handleCambio = async (nuevoEstado: Pedido['estado']) => {\n    await cambiarEstado(pedido.id, nuevoEstado);\n    if (ultimoPedidoActualizado) {\n      onActualizar?.(ultimoPedidoActualizado);\n    }\n  };\n\n  return (\n    <>\n      {puedeCompletarse(pedido.estado) && (\n        <button\n          onClick={() => handleCambio('Completada')}\n          disabled={cargando}\n          className=\"px-4 py-2 bg-green-600 text-white rounded\"\n        >\n          ‚úì Completar\n        </button>\n      )}\n      {puedeAnularse(pedido.estado) && (\n        <button\n          onClick={() => handleCambio('Anulado')}\n          disabled={cargando}\n          className=\"px-4 py-2 bg-red-600 text-white rounded\"\n        >\n          ‚úï Anular\n        </button>\n      )}\n      {error && <p className=\"text-red-600 mt-2\">{error}</p>}\n    </>\n  );\n}\n*/\n\n// ============================================================================\n// SNIPPET 12: Acciones Masivas\n// ============================================================================\n\n/*\nimport { cambiarEstadoPedidoCentralizado } from './services/cambioEstadoCentralizado';\n\nasync function completarVariosPedidos(pedidosIds: string[]) {\n  const resultados = [];\n  \n  for (const pedidoId of pedidosIds) {\n    try {\n      const resultado = await cambiarEstadoPedidoCentralizado(\n        pedidoId,\n        'Completada',\n        { continuarSiError: true }\n      );\n      resultados.push({\n        pedidoId,\n        exito: resultado.success,\n        mensaje: resultado.mensaje\n      });\n    } catch (error) {\n      resultados.push({\n        pedidoId,\n        exito: false,\n        mensaje: error instanceof Error ? error.message : 'Error desconocido'\n      });\n    }\n  }\n  \n  console.log('‚úì Operaci√≥n masiva completada:', resultados);\n  return resultados;\n}\n*/\n\n// ============================================================================\n// SNIPPET 13: Validaci√≥n en Formulario\n// ============================================================================\n\n/*\nimport { puedeEditarse } from './services/cambioEstadoCentralizado';\n\nfunction GuardarCambiosPedido({ pedido }: Props) {\n  const [datos, setDatos] = useState(pedido);\n  const puedeGuardar = puedeEditarse(pedido.estado);\n\n  if (!puedeGuardar) {\n    return (\n      <div className=\"p-4 bg-yellow-100 border border-yellow-400 rounded\">\n        <p className=\"text-yellow-800\">\n          ‚ö†Ô∏è No se puede editar un pedido {pedido.estado.toLowerCase()}\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {/* Formulario aqu√≠ */}\n      <button type=\"submit\" disabled={!puedeGuardar}>\n        Guardar Cambios\n      </button>\n    </form>\n  );\n}\n*/\n\n// ============================================================================\n// SNIPPET 14: Logging para Debugging\n// ============================================================================\n\n/*\nimport { cambiarEstadoPedidoCentralizado } from './services/cambioEstadoCentralizado';\n\nawait cambiarEstadoPedidoCentralizado(\n  pedidoId,\n  'Completada',\n  {\n    onLog: (nivel, msg) => {\n      const timestamp = new Date().toISOString();\n      const color = nivel === 'error' ? 'color: red' : nivel === 'warn' ? 'color: orange' : 'color: blue';\n      console.log(`%c[${timestamp}] [${nivel.toUpperCase()}] ${msg}`, color);\n    }\n  }\n);\n*/\n\n// ============================================================================\n// SNIPPET 15: Tipo Seguro para Estados\n// ============================================================================\n\n/*\nimport type { Pedido } from './services/pedidoService';\n\ntype EstadoPedido = Pedido['estado'];\n\nfunction cambiarA(estado: EstadoPedido) {\n  // TypeScript valida que solo sean estados v√°lidos\n  // cambiarA('Invalido'); // ‚ùå Error de compilaci√≥n\n  // cambiarA('Completada'); // ‚úì V√°lido\n}\n*/\n\nexport {};\n"